var Z9=Object.defineProperty;var Q9=(e,t,n)=>t in e?Z9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kr=(e,t,n)=>Q9(e,typeof t!="symbol"?t+"":t,n);function sM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var py={exports:{}},Mh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function ej(){if(l4)return Mh;l4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Mh.Fragment=t,Mh.jsx=n,Mh.jsxs=n,Mh}var c4;function tj(){return c4||(c4=1,py.exports=ej()),py.exports}var b=tj(),gy={exports:{}},jn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4;function nj(){if(u4)return jn;u4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(ye){return ye===null||typeof ye!="object"?null:(ye=E&&ye[E]||ye["@@iterator"],typeof ye=="function"?ye:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function L(ye,V,le){this.props=ye,this.context=V,this.refs=R,this.updater=le||k}L.prototype.isReactComponent={},L.prototype.setState=function(ye,V){if(typeof ye!="object"&&typeof ye!="function"&&ye!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ye,V,"setState")},L.prototype.forceUpdate=function(ye){this.updater.enqueueForceUpdate(this,ye,"forceUpdate")};function q(){}q.prototype=L.prototype;function U(ye,V,le){this.props=ye,this.context=V,this.refs=R,this.updater=le||k}var H=U.prototype=new q;H.constructor=U,I(H,L.prototype),H.isPureReactComponent=!0;var W=Array.isArray;function Q(){}var G={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function Y(ye,V,le){var ce=le.ref;return{$$typeof:e,type:ye,key:V,ref:ce!==void 0?ce:null,props:le}}function me(ye,V){return Y(ye.type,V,ye.props)}function X(ye){return typeof ye=="object"&&ye!==null&&ye.$$typeof===e}function J(ye){var V={"=":"=0",":":"=2"};return"$"+ye.replace(/[=:]/g,function(le){return V[le]})}var ie=/\/+/g;function se(ye,V){return typeof ye=="object"&&ye!==null&&ye.key!=null?J(""+ye.key):V.toString(36)}function ae(ye){switch(ye.status){case"fulfilled":return ye.value;case"rejected":throw ye.reason;default:switch(typeof ye.status=="string"?ye.then(Q,Q):(ye.status="pending",ye.then(function(V){ye.status==="pending"&&(ye.status="fulfilled",ye.value=V)},function(V){ye.status==="pending"&&(ye.status="rejected",ye.reason=V)})),ye.status){case"fulfilled":return ye.value;case"rejected":throw ye.reason}}throw ye}function he(ye,V,le,ce,pe){var xe=typeof ye;(xe==="undefined"||xe==="boolean")&&(ye=null);var ke=!1;if(ye===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(ye.$$typeof){case e:case t:ke=!0;break;case p:return ke=ye._init,he(ke(ye._payload),V,le,ce,pe)}}if(ke)return pe=pe(ye),ke=ce===""?"."+se(ye,0):ce,W(pe)?(le="",ke!=null&&(le=ke.replace(ie,"$&/")+"/"),he(pe,V,le,"",function(He){return He})):pe!=null&&(X(pe)&&(pe=me(pe,le+(pe.key==null||ye&&ye.key===pe.key?"":(""+pe.key).replace(ie,"$&/")+"/")+ke)),V.push(pe)),1;ke=0;var Fe=ce===""?".":ce+":";if(W(ye))for(var Ie=0;Ie<ye.length;Ie++)ce=ye[Ie],xe=Fe+se(ce,Ie),ke+=he(ce,V,le,xe,pe);else if(Ie=A(ye),typeof Ie=="function")for(ye=Ie.call(ye),Ie=0;!(ce=ye.next()).done;)ce=ce.value,xe=Fe+se(ce,Ie++),ke+=he(ce,V,le,xe,pe);else if(xe==="object"){if(typeof ye.then=="function")return he(ae(ye),V,le,ce,pe);throw V=String(ye),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(ye).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ke}function Ae(ye,V,le){if(ye==null)return ye;var ce=[],pe=0;return he(ye,ce,"","",function(xe){return V.call(le,xe,pe++)}),ce}function Te(ye){if(ye._status===-1){var V=ye._result;V=V(),V.then(function(le){(ye._status===0||ye._status===-1)&&(ye._status=1,ye._result=le)},function(le){(ye._status===0||ye._status===-1)&&(ye._status=2,ye._result=le)}),ye._status===-1&&(ye._status=0,ye._result=V)}if(ye._status===1)return ye._result.default;throw ye._result}var Me=typeof reportError=="function"?reportError:function(ye){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ye=="object"&&ye!==null&&typeof ye.message=="string"?String(ye.message):String(ye),error:ye});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ye);return}console.error(ye)},Qe={map:Ae,forEach:function(ye,V,le){Ae(ye,function(){V.apply(this,arguments)},le)},count:function(ye){var V=0;return Ae(ye,function(){V++}),V},toArray:function(ye){return Ae(ye,function(V){return V})||[]},only:function(ye){if(!X(ye))throw Error("React.Children.only expected to receive a single React element child.");return ye}};return jn.Activity=v,jn.Children=Qe,jn.Component=L,jn.Fragment=n,jn.Profiler=i,jn.PureComponent=U,jn.StrictMode=r,jn.Suspense=h,jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,jn.__COMPILER_RUNTIME={__proto__:null,c:function(ye){return G.H.useMemoCache(ye)}},jn.cache=function(ye){return function(){return ye.apply(null,arguments)}},jn.cacheSignal=function(){return null},jn.cloneElement=function(ye,V,le){if(ye==null)throw Error("The argument must be a React element, but you passed "+ye+".");var ce=I({},ye.props),pe=ye.key;if(V!=null)for(xe in V.key!==void 0&&(pe=""+V.key),V)!ee.call(V,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&V.ref===void 0||(ce[xe]=V[xe]);var xe=arguments.length-2;if(xe===1)ce.children=le;else if(1<xe){for(var ke=Array(xe),Fe=0;Fe<xe;Fe++)ke[Fe]=arguments[Fe+2];ce.children=ke}return Y(ye.type,pe,ce)},jn.createContext=function(ye){return ye={$$typeof:s,_currentValue:ye,_currentValue2:ye,_threadCount:0,Provider:null,Consumer:null},ye.Provider=ye,ye.Consumer={$$typeof:a,_context:ye},ye},jn.createElement=function(ye,V,le){var ce,pe={},xe=null;if(V!=null)for(ce in V.key!==void 0&&(xe=""+V.key),V)ee.call(V,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(pe[ce]=V[ce]);var ke=arguments.length-2;if(ke===1)pe.children=le;else if(1<ke){for(var Fe=Array(ke),Ie=0;Ie<ke;Ie++)Fe[Ie]=arguments[Ie+2];pe.children=Fe}if(ye&&ye.defaultProps)for(ce in ke=ye.defaultProps,ke)pe[ce]===void 0&&(pe[ce]=ke[ce]);return Y(ye,xe,pe)},jn.createRef=function(){return{current:null}},jn.forwardRef=function(ye){return{$$typeof:c,render:ye}},jn.isValidElement=X,jn.lazy=function(ye){return{$$typeof:p,_payload:{_status:-1,_result:ye},_init:Te}},jn.memo=function(ye,V){return{$$typeof:f,type:ye,compare:V===void 0?null:V}},jn.startTransition=function(ye){var V=G.T,le={};G.T=le;try{var ce=ye(),pe=G.S;pe!==null&&pe(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Q,Me)}catch(xe){Me(xe)}finally{V!==null&&le.types!==null&&(V.types=le.types),G.T=V}},jn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},jn.use=function(ye){return G.H.use(ye)},jn.useActionState=function(ye,V,le){return G.H.useActionState(ye,V,le)},jn.useCallback=function(ye,V){return G.H.useCallback(ye,V)},jn.useContext=function(ye){return G.H.useContext(ye)},jn.useDebugValue=function(){},jn.useDeferredValue=function(ye,V){return G.H.useDeferredValue(ye,V)},jn.useEffect=function(ye,V){return G.H.useEffect(ye,V)},jn.useEffectEvent=function(ye){return G.H.useEffectEvent(ye)},jn.useId=function(){return G.H.useId()},jn.useImperativeHandle=function(ye,V,le){return G.H.useImperativeHandle(ye,V,le)},jn.useInsertionEffect=function(ye,V){return G.H.useInsertionEffect(ye,V)},jn.useLayoutEffect=function(ye,V){return G.H.useLayoutEffect(ye,V)},jn.useMemo=function(ye,V){return G.H.useMemo(ye,V)},jn.useOptimistic=function(ye,V){return G.H.useOptimistic(ye,V)},jn.useReducer=function(ye,V,le){return G.H.useReducer(ye,V,le)},jn.useRef=function(ye){return G.H.useRef(ye)},jn.useState=function(ye){return G.H.useState(ye)},jn.useSyncExternalStore=function(ye,V,le){return G.H.useSyncExternalStore(ye,V,le)},jn.useTransition=function(){return G.H.useTransition()},jn.version="19.2.3",jn}var f4;function P0(){return f4||(f4=1,gy.exports=nj()),gy.exports}var j=P0();const m5=Jl(j),rj=sM({__proto__:null,default:m5},[j]);var my={exports:{}},kh={},vy={exports:{}},yy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d4;function ij(){return d4||(d4=1,(function(e){function t(he,Ae){var Te=he.length;he.push(Ae);e:for(;0<Te;){var Me=Te-1>>>1,Qe=he[Me];if(0<i(Qe,Ae))he[Me]=Ae,he[Te]=Qe,Te=Me;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var Ae=he[0],Te=he.pop();if(Te!==Ae){he[0]=Te;e:for(var Me=0,Qe=he.length,ye=Qe>>>1;Me<ye;){var V=2*(Me+1)-1,le=he[V],ce=V+1,pe=he[ce];if(0>i(le,Te))ce<Qe&&0>i(pe,le)?(he[Me]=pe,he[ce]=Te,Me=ce):(he[Me]=le,he[V]=Te,Me=V);else if(ce<Qe&&0>i(pe,Te))he[Me]=pe,he[ce]=Te,Me=ce;else break e}}return Ae}function i(he,Ae){var Te=he.sortIndex-Ae.sortIndex;return Te!==0?Te:he.id-Ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var h=[],f=[],p=1,v=null,E=3,A=!1,k=!1,I=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(he){for(var Ae=n(f);Ae!==null;){if(Ae.callback===null)r(f);else if(Ae.startTime<=he)r(f),Ae.sortIndex=Ae.expirationTime,t(h,Ae);else break;Ae=n(f)}}function W(he){if(I=!1,H(he),!k)if(n(h)!==null)k=!0,Q||(Q=!0,J());else{var Ae=n(f);Ae!==null&&ae(W,Ae.startTime-he)}}var Q=!1,G=-1,ee=5,Y=-1;function me(){return R?!0:!(e.unstable_now()-Y<ee)}function X(){if(R=!1,Q){var he=e.unstable_now();Y=he;var Ae=!0;try{e:{k=!1,I&&(I=!1,q(G),G=-1),A=!0;var Te=E;try{t:{for(H(he),v=n(h);v!==null&&!(v.expirationTime>he&&me());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,E=v.priorityLevel;var Qe=Me(v.expirationTime<=he);if(he=e.unstable_now(),typeof Qe=="function"){v.callback=Qe,H(he),Ae=!0;break t}v===n(h)&&r(h),H(he)}else r(h);v=n(h)}if(v!==null)Ae=!0;else{var ye=n(f);ye!==null&&ae(W,ye.startTime-he),Ae=!1}}break e}finally{v=null,E=Te,A=!1}Ae=void 0}}finally{Ae?J():Q=!1}}}var J;if(typeof U=="function")J=function(){U(X)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=X,J=function(){se.postMessage(null)}}else J=function(){L(X,0)};function ae(he,Ae){G=L(function(){he(e.unstable_now())},Ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(he){switch(E){case 1:case 2:case 3:var Ae=3;break;default:Ae=E}var Te=E;E=Ae;try{return he()}finally{E=Te}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(he,Ae){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Te=E;E=he;try{return Ae()}finally{E=Te}},e.unstable_scheduleCallback=function(he,Ae,Te){var Me=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Me+Te:Me):Te=Me,he){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Te+Qe,he={id:p++,callback:Ae,priorityLevel:he,startTime:Te,expirationTime:Qe,sortIndex:-1},Te>Me?(he.sortIndex=Te,t(f,he),n(h)===null&&he===n(f)&&(I?(q(G),G=-1):I=!0,ae(W,Te-Me))):(he.sortIndex=Qe,t(h,he),k||A||(k=!0,Q||(Q=!0,J()))),he},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(he){var Ae=E;return function(){var Te=E;E=Ae;try{return he.apply(this,arguments)}finally{E=Te}}}})(yy)),yy}var h4;function aj(){return h4||(h4=1,vy.exports=ij()),vy.exports}var xy={exports:{}},_o={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4;function oj(){if(p4)return _o;p4=1;var e=P0();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:h,containerInfo:f,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_o.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,p)},_o.flushSync=function(h){var f=s.T,p=r.p;try{if(s.T=null,r.p=2,h)return h()}finally{s.T=f,r.p=p,r.d.f()}},_o.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},_o.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},_o.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin),E=typeof f.integrity=="string"?f.integrity:void 0,A=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):p==="script"&&r.d.X(h,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_o.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},_o.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_o.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},_o.requestFormReset=function(h){r.d.r(h)},_o.unstable_batchedUpdates=function(h,f){return h(f)},_o.useFormState=function(h,f,p){return s.H.useFormState(h,f,p)},_o.useFormStatus=function(){return s.H.useHostTransitionStatus()},_o.version="19.2.3",_o}var g4;function lM(){if(g4)return xy.exports;g4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xy.exports=oj(),xy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4;function sj(){if(m4)return kh;m4=1;var e=aj(),t=P0(),n=lM();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function h(o){if(a(o)!==o)throw Error(r(188))}function f(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var m=o,w=u;;){var M=m.return;if(M===null)break;var D=M.alternate;if(D===null){if(w=M.return,w!==null){m=w;continue}break}if(M.child===D.child){for(D=M.child;D;){if(D===m)return h(M),o;if(D===w)return h(M),u;D=D.sibling}throw Error(r(188))}if(m.return!==w.return)m=M,w=D;else{for(var Z=!1,ge=M.child;ge;){if(ge===m){Z=!0,m=M,w=D;break}if(ge===w){Z=!0,w=M,m=D;break}ge=ge.sibling}if(!Z){for(ge=D.child;ge;){if(ge===m){Z=!0,m=D,w=M;break}if(ge===w){Z=!0,w=D,m=M;break}ge=ge.sibling}if(!Z)throw Error(r(189))}}if(m.alternate!==w)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:u}function p(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=p(o),u!==null)return u;o=o.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case I:return"Fragment";case L:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList";case Y:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case k:return"Portal";case U:return o.displayName||"Context";case q:return(o._context.displayName||"Context")+".Consumer";case H:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case G:return u=o.displayName||null,u!==null?u:se(o.type)||"Memo";case ee:u=o._payload,o=o._init;try{return se(o(u))}catch{}}return null}var ae=Array.isArray,he=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Me=[],Qe=-1;function ye(o){return{current:o}}function V(o){0>Qe||(o.current=Me[Qe],Me[Qe]=null,Qe--)}function le(o,u){Qe++,Me[Qe]=o.current,o.current=u}var ce=ye(null),pe=ye(null),xe=ye(null),ke=ye(null);function Fe(o,u){switch(le(xe,u),le(pe,o),le(ce,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?kE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=kE(u),o=OE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}V(ce),le(ce,o)}function Ie(){V(ce),V(pe),V(xe)}function He(o){o.memoizedState!==null&&le(ke,o);var u=ce.current,m=OE(u,o.type);u!==m&&(le(pe,o),le(ce,m))}function nt(o){pe.current===o&&(V(ce),V(pe)),ke.current===o&&(V(ke),Nh._currentValue=Te)}var Ve,gt;function St(o){if(Ve===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Ve=u&&u[1]||"",gt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+o+gt}var be=!1;function At(o,u){if(!o||be)return"";be=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(u){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(it){var et=it}Reflect.construct(o,[],yt)}else{try{yt.call()}catch(it){et=it}o.call(yt.prototype)}}else{try{throw Error()}catch(it){et=it}(yt=o())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=w.DetermineComponentFrameRoot(),Z=D[0],ge=D[1];if(Z&&ge){var Re=Z.split(`
`),Je=ge.split(`
`);for(M=w=0;w<Re.length&&!Re[w].includes("DetermineComponentFrameRoot");)w++;for(;M<Je.length&&!Je[M].includes("DetermineComponentFrameRoot");)M++;if(w===Re.length||M===Je.length)for(w=Re.length-1,M=Je.length-1;1<=w&&0<=M&&Re[w]!==Je[M];)M--;for(;1<=w&&0<=M;w--,M--)if(Re[w]!==Je[M]){if(w!==1||M!==1)do if(w--,M--,0>M||Re[w]!==Je[M]){var ht=`
`+Re[w].replace(" at new "," at ");return o.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",o.displayName)),ht}while(1<=w&&0<=M);break}}}finally{be=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?St(m):""}function Dt(o,u){switch(o.tag){case 26:case 27:case 5:return St(o.type);case 16:return St("Lazy");case 13:return o.child!==u&&u!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return At(o.type,!1);case 11:return At(o.type.render,!1);case 1:return At(o.type,!0);case 31:return St("Activity");default:return""}}function Tt(o){try{var u="",m=null;do u+=Dt(o,m),m=o,o=o.return;while(o);return u}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var rt=Object.prototype.hasOwnProperty,Zt=e.unstable_scheduleCallback,st=e.unstable_cancelCallback,rn=e.unstable_shouldYield,an=e.unstable_requestPaint,dn=e.unstable_now,Dn=e.unstable_getCurrentPriorityLevel,sn=e.unstable_ImmediatePriority,Fn=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Rt=e.unstable_LowPriority,Tn=e.unstable_IdlePriority,Kt=e.log,Jr=e.unstable_setDisableYieldValue,tn=null,ot=null;function jt(o){if(typeof Kt=="function"&&Jr(o),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(tn,o)}catch{}}var Ft=Math.clz32?Math.clz32:hn,kt=Math.log,ir=Math.LN2;function hn(o){return o>>>=0,o===0?32:31-(kt(o)/ir|0)|0}var wn=256,at=262144,Ct=4194304;function Nt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Vt(o,u,m){var w=o.pendingLanes;if(w===0)return 0;var M=0,D=o.suspendedLanes,Z=o.pingedLanes;o=o.warmLanes;var ge=w&134217727;return ge!==0?(w=ge&~D,w!==0?M=Nt(w):(Z&=ge,Z!==0?M=Nt(Z):m||(m=ge&~o,m!==0&&(M=Nt(m))))):(ge=w&~D,ge!==0?M=Nt(ge):Z!==0?M=Nt(Z):m||(m=w&~o,m!==0&&(M=Nt(m)))),M===0?0:u!==0&&u!==M&&(u&D)===0&&(D=M&-M,m=u&-u,D>=m||D===32&&(m&4194048)!==0)?u:M}function hr(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function pr(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var o=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),o}function Nr(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function nn(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Bi(o,u,m,w,M,D){var Z=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var ge=o.entanglements,Re=o.expirationTimes,Je=o.hiddenUpdates;for(m=Z&~m;0<m;){var ht=31-Ft(m),yt=1<<ht;ge[ht]=0,Re[ht]=-1;var et=Je[ht];if(et!==null)for(Je[ht]=null,ht=0;ht<et.length;ht++){var it=et[ht];it!==null&&(it.lane&=-536870913)}m&=~yt}w!==0&&is(o,w,0),D!==0&&M===0&&o.tag!==0&&(o.suspendedLanes|=D&~(Z&~u))}function is(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var w=31-Ft(u);o.entangledLanes|=u,o.entanglements[w]=o.entanglements[w]|1073741824|m&261930}function Ri(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var w=31-Ft(m),M=1<<w;M&u|o[w]&u&&(o[w]|=u),m&=~M}}function Sa(o,u){var m=u&-u;return m=(m&42)!==0?1:Vn(m),(m&(o.suspendedLanes|u))!==0?0:m}function Vn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Or(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function gr(){var o=Ae.p;return o!==0?o:(o=window.event,o===void 0?32:t4(o.type))}function Pt(o,u){var m=Ae.p;try{return Ae.p=o,u()}finally{Ae.p=m}}var Ei=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ei,Yn="__reactProps$"+Ei,hi="__reactContainer$"+Ei,da="__reactEvents$"+Ei,Ea="__reactListeners$"+Ei,ha="__reactHandles$"+Ei,jo="__reactResources$"+Ei,Bo="__reactMarker$"+Ei;function Qi(o){delete o[mr],delete o[Yn],delete o[da],delete o[Ea],delete o[ha]}function Pr(o){var u=o[mr];if(u)return u;for(var m=o.parentNode;m;){if(u=m[hi]||m[mr]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=FE(o);o!==null;){if(m=o[mr])return m;o=FE(o)}return u}o=m,m=o.parentNode}return null}function Xn(o){if(o=o[mr]||o[hi]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function el(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function ea(o){var u=o[jo];return u||(u=o[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Zr(o){o[Bo]=!0}var xt=new Set,lo={};function ar(o,u){Ua(o,u),Ua(o+"Capture",u)}function Ua(o,u){for(lo[o]=u,o=0;o<u.length;o++)xt.add(u[o])}var Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jn={},$n={};function qn(o){return rt.call($n,o)?!0:rt.call(Jn,o)?!1:Pc.test(o)?$n[o]=!0:(Jn[o]=!0,!1)}function Ca(o,u,m){if(qn(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var w=u.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function Fo(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function co(o,u,m,w){if(w===null)o.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+w)}}function An(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function yo(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function as(o,u,m){var w=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var M=w.get,D=w.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return M.call(this)},set:function(Z){m=""+Z,D.call(this,Z)}}),Object.defineProperty(o,u,{enumerable:w.enumerable}),{getValue:function(){return m},setValue:function(Z){m=""+Z},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function wr(o){if(!o._valueTracker){var u=yo(o)?"checked":"value";o._valueTracker=as(o,u,""+o[u])}}function xo(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),w="";return o&&(w=yo(o)?o.checked?"true":"false":o.value),o=w,o!==m?(u.setValue(o),!0):!1}function Na(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Vr=/[\n"\\]/g;function In(o){return o.replace(Vr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function pi(o,u,m,w,M,D,Z,ge){o.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?o.type=Z:o.removeAttribute("type"),u!=null?Z==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+An(u)):o.value!==""+An(u)&&(o.value=""+An(u)):Z!=="submit"&&Z!=="reset"||o.removeAttribute("value"),u!=null?Se(o,Z,An(u)):m!=null?Se(o,Z,An(m)):w!=null&&o.removeAttribute("value"),M==null&&D!=null&&(o.defaultChecked=!!D),M!=null&&(o.checked=M&&typeof M!="function"&&typeof M!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?o.name=""+An(ge):o.removeAttribute("name")}function Ye(o,u,m,w,M,D,Z,ge){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.type=D),u!=null||m!=null){if(!(D!=="submit"&&D!=="reset"||u!=null)){wr(o);return}m=m!=null?""+An(m):"",u=u!=null?""+An(u):m,ge||u===o.value||(o.value=u),o.defaultValue=u}w=w??M,w=typeof w!="function"&&typeof w!="symbol"&&!!w,o.checked=ge?o.checked:!!w,o.defaultChecked=!!w,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(o.name=Z),wr(o)}function Se(o,u,m){u==="number"&&Na(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Lt(o,u,m,w){if(o=o.options,u){u={};for(var M=0;M<m.length;M++)u["$"+m[M]]=!0;for(m=0;m<o.length;m++)M=u.hasOwnProperty("$"+o[m].value),o[m].selected!==M&&(o[m].selected=M),M&&w&&(o[m].defaultSelected=!0)}else{for(m=""+An(m),u=null,M=0;M<o.length;M++){if(o[M].value===m){o[M].selected=!0,w&&(o[M].defaultSelected=!0);return}u!==null||o[M].disabled||(u=o[M])}u!==null&&(u.selected=!0)}}function si(o,u,m){if(u!=null&&(u=""+An(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+An(m):""}function pa(o,u,m,w){if(u==null){if(w!=null){if(m!=null)throw Error(r(92));if(ae(w)){if(1<w.length)throw Error(r(93));w=w[0]}m=w}m==null&&(m=""),u=m}m=An(u),o.defaultValue=m,w=o.textContent,w===m&&w!==""&&w!==null&&(o.value=w),wr(o)}function Uo(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var ks=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _a(o,u,m){var w=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?w?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":w?o.setProperty(u,m):typeof m!="number"||m===0||ks.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function ln(o,u,m){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,m!=null){for(var w in m)!m.hasOwnProperty(w)||u!=null&&u.hasOwnProperty(w)||(w.indexOf("--")===0?o.setProperty(w,""):w==="float"?o.cssFloat="":o[w]="");for(var M in u)w=u[M],u.hasOwnProperty(M)&&m[M]!==w&&_a(o,M,w)}else for(var D in u)u.hasOwnProperty(D)&&_a(o,D,u[D])}function _r(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(o){return Tu.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function za(){}var zo=null;function Cl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Dr=null,un=null;function qo(o){var u=Xn(o);if(u&&(o=u.stateNode)){var m=o[Yn]||null;e:switch(o=u.stateNode,u.type){case"input":if(pi(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+In(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var w=m[u];if(w!==o&&w.form===o.form){var M=w[Yn]||null;if(!M)throw Error(r(90));pi(w,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(u=0;u<m.length;u++)w=m[u],w.form===o.form&&xo(w)}break e;case"textarea":si(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&Lt(o,!!m.multiple,u,!1)}}}var pn=!1;function Iu(o,u,m){if(pn)return o(u,m);pn=!0;try{var w=o(u);return w}finally{if(pn=!1,(Dr!==null||un!==null)&&(gp(),Dr&&(u=Dr,o=un,un=Dr=null,qo(u),o)))for(u=0;u<o.length;u++)qo(o[u])}}function gn(o,u){var m=o.stateNode;if(m===null)return null;var w=m[Yn]||null;if(w===null)return null;m=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(Qn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Dc=!1}var qa=null,uo=null,os=null;function tl(){if(os)return os;var o,u=uo,m=u.length,w,M="value"in qa?qa.value:qa.textContent,D=M.length;for(o=0;o<m&&u[o]===M[o];o++);var Z=m-o;for(w=1;w<=Z&&u[m-w]===M[D-w];w++);return os=M.slice(o,1<w?1-w:void 0)}function ma(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ss(){return!0}function Nl(){return!1}function li(o){function u(m,w,M,D,Z){this._reactName=m,this._targetInst=M,this.type=w,this.nativeEvent=D,this.target=Z,this.currentTarget=null;for(var ge in o)o.hasOwnProperty(ge)&&(m=o[ge],this[ge]=m?m(D):D[ge]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ss:Nl,this.isPropagationStopped=Nl,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),u}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=li(Ha),ls=v({},Ha,{view:0,detail:0}),_l=li(ls),nl,Rs,Ps,Tl=v({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ps&&(Ps&&o.type==="mousemove"?(nl=o.screenX-Ps.screenX,Rs=o.screenY-Ps.screenY):Rs=nl=0,Ps=o),nl)},movementY:function(o){return"movementY"in o?o.movementY:Rs}}),or=li(Tl),cs=v({},Tl,{dataTransfer:0}),bo=li(cs),Ho=v({},ls,{relatedTarget:0}),Ds=li(Ho),tt=v({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),B=li(tt),re=v({},Ha,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ce=li(re),Pe=v({},Ha,{data:0}),ze=li(Pe),pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=qt[o])?!!u[o]:!1}function bn(){return Mt}var Gt=v({},ls,{key:function(o){if(o.key){var u=pt[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ma(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?wt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(o){return o.type==="keypress"?ma(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ma(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Wn=li(Gt),vr=v({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=li(vr),Ot=v({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),Pi=li(Ot),Mn=v({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qr=li(Mn),Va=v({},Tl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Vo=li(Va),Fi=v({},Ha,{newState:0,oldState:0}),Il=li(Fi),Ml=[9,13,27,32],wo=Qn&&"CompositionEvent"in window,Ao=null;Qn&&"documentMode"in document&&(Ao=document.documentMode);var rl=Qn&&"TextEvent"in window&&!Ao,Ls=Qn&&(!wo||Ao&&8<Ao&&11>=Ao),ei=" ",us=!1;function il(o,u){switch(o){case"keyup":return Ml.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fs(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ds=!1;function ci(o,u){switch(o){case"compositionend":return fs(u);case"keypress":return u.which!==32?null:(us=!0,ei);case"textInput":return o=u.data,o===ei&&us?null:o;default:return null}}function So(o,u){if(ds)return o==="compositionend"||!wo&&il(o,u)?(o=tl(),os=uo=qa=null,ds=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ls&&u.locale!=="ko"?null:u.data;default:return null}}var ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!ta[o.type]:u==="textarea"}function ui(o,u,m,w){Dr?un?un.push(w):un=[w]:Dr=w,u=Ap(u,"onChange"),0<u.length&&(m=new Lr("onChange","change",null,m,w),o.push({event:m,listeners:u}))}var Go=null,Yo=null;function Lc(o){CE(o,0)}function Eo(o){var u=el(o);if(xo(u))return o}function na(o,u){if(o==="change")return u}var Ga=!1;if(Qn){var ra;if(Qn){var Ya="oninput"in document;if(!Ya){var Rn=document.createElement("div");Rn.setAttribute("oninput","return;"),Ya=typeof Rn.oninput=="function"}ra=Ya}else ra=!1;Ga=ra&&(!document.documentMode||9<document.documentMode)}function Co(){Go&&(Go.detachEvent("onpropertychange",te),Yo=Go=null)}function te(o){if(o.propertyName==="value"&&Eo(Yo)){var u=[];ui(u,Yo,o,Cl(o)),Iu(Lc,u)}}function l(o,u,m){o==="focusin"?(Co(),Go=u,Yo=m,Go.attachEvent("onpropertychange",te)):o==="focusout"&&Co()}function d(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Eo(Yo)}function g(o,u){if(o==="click")return Eo(u)}function y(o,u){if(o==="input"||o==="change")return Eo(u)}function x(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var S=typeof Object.is=="function"?Object.is:x;function _(o,u){if(S(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),w=Object.keys(u);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var M=m[w];if(!rt.call(u,M)||!S(o[M],u[M]))return!1}return!0}function P(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function F(o,u){var m=P(o);o=0;for(var w;m;){if(m.nodeType===3){if(w=o+m.textContent.length,o<=u&&w>=u)return{node:m,offset:u-o};o=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=P(m)}}function K(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?K(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function ne(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Na(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=Na(o.document)}return u}function ue(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Ee=Qn&&"documentMode"in document&&11>=document.documentMode,Oe=null,De=null,Ue=null,Ze=!1;function ft(o,u,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ze||Oe==null||Oe!==Na(w)||(w=Oe,"selectionStart"in w&&ue(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Ue&&_(Ue,w)||(Ue=w,w=Ap(De,"onSelect"),0<w.length&&(u=new Lr("onSelect","select",null,u,m),o.push({event:u,listeners:w}),u.target=Oe)))}function dt(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var ut={animationend:dt("Animation","AnimationEnd"),animationiteration:dt("Animation","AnimationIteration"),animationstart:dt("Animation","AnimationStart"),transitionrun:dt("Transition","TransitionRun"),transitionstart:dt("Transition","TransitionStart"),transitioncancel:dt("Transition","TransitionCancel"),transitionend:dt("Transition","TransitionEnd")},cn={},vn={};Qn&&(vn=document.createElement("div").style,"AnimationEvent"in window||(delete ut.animationend.animation,delete ut.animationiteration.animation,delete ut.animationstart.animation),"TransitionEvent"in window||delete ut.transitionend.transition);function Gr(o){if(cn[o])return cn[o];if(!ut[o])return o;var u=ut[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in vn)return cn[o]=u[m];return o}var ia=Gr("animationend"),Ui=Gr("animationiteration"),yr=Gr("animationstart"),zi=Gr("transitionrun"),Wa=Gr("transitionstart"),kl=Gr("transitioncancel"),al=Gr("transitionend"),Af=new Map,Ol="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ol.push("scrollEnd");function hs(o,u){Af.set(o,u),ar(u,[o])}var Sf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Wo=[],jc=0,vd=0;function Ef(){for(var o=jc,u=vd=jc=0;u<o;){var m=Wo[u];Wo[u++]=null;var w=Wo[u];Wo[u++]=null;var M=Wo[u];Wo[u++]=null;var D=Wo[u];if(Wo[u++]=null,w!==null&&M!==null){var Z=w.pending;Z===null?M.next=M:(M.next=Z.next,Z.next=M),w.pending=M}D!==0&&Nf(m,M,D)}}function Cf(o,u,m,w){Wo[jc++]=o,Wo[jc++]=u,Wo[jc++]=m,Wo[jc++]=w,vd|=w,o.lanes|=w,o=o.alternate,o!==null&&(o.lanes|=w)}function yd(o,u,m,w){return Cf(o,u,m,w),Ka(o)}function Rl(o,u){return Cf(o,null,null,u),Ka(o)}function Nf(o,u,m){o.lanes|=m;var w=o.alternate;w!==null&&(w.lanes|=m);for(var M=!1,D=o.return;D!==null;)D.childLanes|=m,w=D.alternate,w!==null&&(w.childLanes|=m),D.tag===22&&(o=D.stateNode,o===null||o._visibility&1||(M=!0)),o=D,D=D.return;return o.tag===3?(D=o.stateNode,M&&u!==null&&(M=31-Ft(m),o=D.hiddenUpdates,w=o[M],w===null?o[M]=[u]:w.push(u),u.lane=m|536870912),D):null}function Ka(o){if(50<xh)throw xh=0,B2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ta={};function xd(o,u,m,w){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $a(o,u,m,w){return new xd(o,u,m,w)}function bd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ps(o,u){var m=o.alternate;return m===null?(m=$a(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function _f(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Mu(o,u,m,w,M,D){var Z=0;if(w=o,typeof o=="function")bd(o)&&(Z=1);else if(typeof o=="string")Z=U9(o,m,ce.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Y:return o=$a(31,m,u,M),o.elementType=Y,o.lanes=D,o;case I:return ic(m.children,M,D,u);case R:Z=8,M|=24;break;case L:return o=$a(12,m,u,M|2),o.elementType=L,o.lanes=D,o;case W:return o=$a(13,m,u,M),o.elementType=W,o.lanes=D,o;case Q:return o=$a(19,m,u,M),o.elementType=Q,o.lanes=D,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:Z=10;break e;case q:Z=9;break e;case H:Z=11;break e;case G:Z=14;break e;case ee:Z=16,w=null;break e}Z=29,m=Error(r(130,o===null?"null":typeof o,"")),w=null}return u=$a(Z,m,u,M),u.elementType=o,u.type=w,u.lanes=D,u}function ic(o,u,m,w){return o=$a(7,o,w,u),o.lanes=m,o}function Tf(o,u,m){return o=$a(6,o,null,u),o.lanes=m,o}function wd(o){var u=$a(18,null,null,0);return u.stateNode=o,u}function ku(o,u,m){return u=$a(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Ad=new WeakMap;function gs(o,u){if(typeof o=="object"&&o!==null){var m=Ad.get(o);return m!==void 0?m:(u={value:o,source:u,stack:Tt(u)},Ad.set(o,u),u)}return{value:o,source:u,stack:Tt(u)}}var Ou=[],Bc=0,Sd=null,If=0,ms=[],vs=0,ac=null,ys=1,xs="";function Ko(o,u){Ou[Bc++]=If,Ou[Bc++]=Sd,Sd=o,If=u}function K1(o,u,m){ms[vs++]=ys,ms[vs++]=xs,ms[vs++]=ac,ac=o;var w=ys;o=xs;var M=32-Ft(w)-1;w&=~(1<<M),m+=1;var D=32-Ft(u)+M;if(30<D){var Z=M-M%5;D=(w&(1<<Z)-1).toString(32),w>>=Z,M-=Z,ys=1<<32-Ft(u)+M|m<<M|w,xs=D+o}else ys=1<<D|m<<M|w,xs=o}function Z0(o){o.return!==null&&(Ko(o,1),K1(o,1,0))}function Ed(o){for(;o===Sd;)Sd=Ou[--Bc],Ou[Bc]=null,If=Ou[--Bc],Ou[Bc]=null;for(;o===ac;)ac=ms[--vs],ms[vs]=null,xs=ms[--vs],ms[vs]=null,ys=ms[--vs],ms[vs]=null}function $1(o,u){ms[vs++]=ys,ms[vs++]=xs,ms[vs++]=ac,ys=u.id,xs=u.overflow,ac=o}var Ia=null,ti=null,er=!1,fo=null,Ci=!1,js=Error(r(519));function oc(o){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ru(gs(u,o)),js}function Q0(o){var u=o.stateNode,m=o.type,w=o.memoizedProps;switch(u[mr]=o,u[Yn]=w,m){case"dialog":nr("cancel",u),nr("close",u);break;case"iframe":case"object":case"embed":nr("load",u);break;case"video":case"audio":for(m=0;m<wh.length;m++)nr(wh[m],u);break;case"source":nr("error",u);break;case"img":case"image":case"link":nr("error",u),nr("load",u);break;case"details":nr("toggle",u);break;case"input":nr("invalid",u),Ye(u,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":nr("invalid",u);break;case"textarea":nr("invalid",u),pa(u,w.value,w.defaultValue,w.children)}m=w.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||w.suppressHydrationWarning===!0||IE(u.textContent,m)?(w.popover!=null&&(nr("beforetoggle",u),nr("toggle",u)),w.onScroll!=null&&nr("scroll",u),w.onScrollEnd!=null&&nr("scrollend",u),w.onClick!=null&&(u.onclick=za),u=!0):u=!1,u||oc(o,!0)}function Pl(o){for(Ia=o.return;Ia;)switch(Ia.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Ia=Ia.return}}function Ma(o){if(o!==Ia)return!1;if(!er)return Pl(o),er=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||Q2(o.type,o.memoizedProps)),m=!m),m&&ti&&oc(o),Pl(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ti=BE(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));ti=BE(o)}else u===27?(u=ti,Wu(o.type)?(o=iy,iy=null,ti=o):ti=u):ti=Ia?cl(o.stateNode.nextSibling):null;return!0}function Fc(){ti=Ia=null,er=!1}function eh(){var o=fo;return o!==null&&(Cs===null?Cs=o:Cs.push.apply(Cs,o),fo=null),o}function Ru(o){fo===null?fo=[o]:fo.push(o)}var Cd=ye(null),sc=null,ol=null;function lc(o,u,m){le(Cd,u._currentValue),u._currentValue=m}function bs(o){o._currentValue=Cd.current,V(Cd)}function Pu(o,u,m){for(;o!==null;){var w=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),o===m)break;o=o.return}}function Uc(o,u,m,w){var M=o.child;for(M!==null&&(M.return=o);M!==null;){var D=M.dependencies;if(D!==null){var Z=M.child;D=D.firstContext;e:for(;D!==null;){var ge=D;D=M;for(var Re=0;Re<u.length;Re++)if(ge.context===u[Re]){D.lanes|=m,ge=D.alternate,ge!==null&&(ge.lanes|=m),Pu(D.return,m,o),w||(Z=null);break e}D=ge.next}}else if(M.tag===18){if(Z=M.return,Z===null)throw Error(r(341));Z.lanes|=m,D=Z.alternate,D!==null&&(D.lanes|=m),Pu(Z,m,o),Z=null}else Z=M.child;if(Z!==null)Z.return=M;else for(Z=M;Z!==null;){if(Z===o){Z=null;break}if(M=Z.sibling,M!==null){M.return=Z.return,Z=M;break}Z=Z.return}M=Z}}function cc(o,u,m,w){o=null;for(var M=u,D=!1;M!==null;){if(!D){if((M.flags&524288)!==0)D=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var Z=M.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var ge=M.type;S(M.pendingProps.value,Z.value)||(o!==null?o.push(ge):o=[ge])}}else if(M===ke.current){if(Z=M.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(o!==null?o.push(Nh):o=[Nh])}M=M.return}o!==null&&Uc(u,o,m,w),u.flags|=262144}function Nd(o){for(o=o.firstContext;o!==null;){if(!S(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function uc(o){sc=o,ol=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ka(o){return X1(sc,o)}function _d(o,u){return sc===null&&uc(o),X1(o,u)}function X1(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},ol===null){if(o===null)throw Error(r(308));ol=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ol=ol.next=u;return m}var r2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,w){o.push(w)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},i2=e.unstable_scheduleCallback,a2=e.unstable_NormalPriority,Di={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new r2,data:new Map,refCount:0}}function Mf(o){o.refCount--,o.refCount===0&&i2(a2,function(){o.controller.abort()})}var kf=null,Td=0,N=0,O=null;function z(o,u){if(kf===null){var m=kf=[];Td=0,N=V2(),O={status:"pending",value:void 0,then:function(w){m.push(w)}}}return Td++,u.then($,$),u}function $(){if(--Td===0&&kf!==null){O!==null&&(O.status="fulfilled");var o=kf;kf=null,N=0,O=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function oe(o,u){var m=[],w={status:"pending",value:null,reason:null,then:function(M){m.push(M)}};return o.then(function(){w.status="fulfilled",w.value=u;for(var M=0;M<m.length;M++)(0,m[M])(u)},function(M){for(w.status="rejected",w.reason=M,M=0;M<m.length;M++)(0,m[M])(void 0)}),w}var fe=he.S;he.S=function(o,u){Q3=dn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&z(o,u),fe!==null&&fe(o,u)};var de=ye(null);function ve(){var o=de.current;return o!==null?o:ri.pooledCache}function we(o,u){u===null?le(de,de.current):le(de,u.pool)}function _e(){var o=ve();return o===null?null:{parent:Di._currentValue,pool:o}}var Le=Error(r(460)),Ke=Error(r(474)),Ne=Error(r(542)),Be={then:function(){}};function Ge(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ct(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(za,za),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Et(o),o;default:if(typeof u.status=="string")u.then(za,za);else{if(o=ri,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(w){if(u.status==="pending"){var M=u;M.status="fulfilled",M.value=w}},function(w){if(u.status==="pending"){var M=u;M.status="rejected",M.reason=w}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Et(o),o}throw lt=u,Le}}function We(o){try{var u=o._init;return u(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(lt=m,Le):m}}var lt=null;function mt(){if(lt===null)throw Error(r(459));var o=lt;return lt=null,o}function Et(o){if(o===Le||o===Ne)throw Error(r(483))}var bt=null,Qt=0;function Ut(o){var u=Qt;return Qt+=1,bt===null&&(bt=[]),ct(bt,o,u)}function kn(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function $t(o,u){throw u.$$typeof===E?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function Zn(o){function u(qe,je){if(o){var Xe=qe.deletions;Xe===null?(qe.deletions=[je],qe.flags|=16):Xe.push(je)}}function m(qe,je){if(!o)return null;for(;je!==null;)u(qe,je),je=je.sibling;return null}function w(qe){for(var je=new Map;qe!==null;)qe.key!==null?je.set(qe.key,qe):je.set(qe.index,qe),qe=qe.sibling;return je}function M(qe,je){return qe=ps(qe,je),qe.index=0,qe.sibling=null,qe}function D(qe,je,Xe){return qe.index=Xe,o?(Xe=qe.alternate,Xe!==null?(Xe=Xe.index,Xe<je?(qe.flags|=67108866,je):Xe):(qe.flags|=67108866,je)):(qe.flags|=1048576,je)}function Z(qe){return o&&qe.alternate===null&&(qe.flags|=67108866),qe}function ge(qe,je,Xe,vt){return je===null||je.tag!==6?(je=Tf(Xe,qe.mode,vt),je.return=qe,je):(je=M(je,Xe),je.return=qe,je)}function Re(qe,je,Xe,vt){var xn=Xe.type;return xn===I?ht(qe,je,Xe.props.children,vt,Xe.key):je!==null&&(je.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===ee&&We(xn)===je.type)?(je=M(je,Xe.props),kn(je,Xe),je.return=qe,je):(je=Mu(Xe.type,Xe.key,Xe.props,null,qe.mode,vt),kn(je,Xe),je.return=qe,je)}function Je(qe,je,Xe,vt){return je===null||je.tag!==4||je.stateNode.containerInfo!==Xe.containerInfo||je.stateNode.implementation!==Xe.implementation?(je=ku(Xe,qe.mode,vt),je.return=qe,je):(je=M(je,Xe.children||[]),je.return=qe,je)}function ht(qe,je,Xe,vt,xn){return je===null||je.tag!==7?(je=ic(Xe,qe.mode,vt,xn),je.return=qe,je):(je=M(je,Xe),je.return=qe,je)}function yt(qe,je,Xe){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Tf(""+je,qe.mode,Xe),je.return=qe,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case A:return Xe=Mu(je.type,je.key,je.props,null,qe.mode,Xe),kn(Xe,je),Xe.return=qe,Xe;case k:return je=ku(je,qe.mode,Xe),je.return=qe,je;case ee:return je=We(je),yt(qe,je,Xe)}if(ae(je)||J(je))return je=ic(je,qe.mode,Xe,null),je.return=qe,je;if(typeof je.then=="function")return yt(qe,Ut(je),Xe);if(je.$$typeof===U)return yt(qe,_d(qe,je),Xe);$t(qe,je)}return null}function et(qe,je,Xe,vt){var xn=je!==null?je.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return xn!==null?null:ge(qe,je,""+Xe,vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case A:return Xe.key===xn?Re(qe,je,Xe,vt):null;case k:return Xe.key===xn?Je(qe,je,Xe,vt):null;case ee:return Xe=We(Xe),et(qe,je,Xe,vt)}if(ae(Xe)||J(Xe))return xn!==null?null:ht(qe,je,Xe,vt,null);if(typeof Xe.then=="function")return et(qe,je,Ut(Xe),vt);if(Xe.$$typeof===U)return et(qe,je,_d(qe,Xe),vt);$t(qe,Xe)}return null}function it(qe,je,Xe,vt,xn){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return qe=qe.get(Xe)||null,ge(je,qe,""+vt,xn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case A:return qe=qe.get(vt.key===null?Xe:vt.key)||null,Re(je,qe,vt,xn);case k:return qe=qe.get(vt.key===null?Xe:vt.key)||null,Je(je,qe,vt,xn);case ee:return vt=We(vt),it(qe,je,Xe,vt,xn)}if(ae(vt)||J(vt))return qe=qe.get(Xe)||null,ht(je,qe,vt,xn,null);if(typeof vt.then=="function")return it(qe,je,Xe,Ut(vt),xn);if(vt.$$typeof===U)return it(qe,je,Xe,_d(je,vt),xn);$t(je,vt)}return null}function Jt(qe,je,Xe,vt){for(var xn=null,Ar=null,on=je,Gn=je=0,lr=null;on!==null&&Gn<Xe.length;Gn++){on.index>Gn?(lr=on,on=null):lr=on.sibling;var Sr=et(qe,on,Xe[Gn],vt);if(Sr===null){on===null&&(on=lr);break}o&&on&&Sr.alternate===null&&u(qe,on),je=D(Sr,je,Gn),Ar===null?xn=Sr:Ar.sibling=Sr,Ar=Sr,on=lr}if(Gn===Xe.length)return m(qe,on),er&&Ko(qe,Gn),xn;if(on===null){for(;Gn<Xe.length;Gn++)on=yt(qe,Xe[Gn],vt),on!==null&&(je=D(on,je,Gn),Ar===null?xn=on:Ar.sibling=on,Ar=on);return er&&Ko(qe,Gn),xn}for(on=w(on);Gn<Xe.length;Gn++)lr=it(on,qe,Gn,Xe[Gn],vt),lr!==null&&(o&&lr.alternate!==null&&on.delete(lr.key===null?Gn:lr.key),je=D(lr,je,Gn),Ar===null?xn=lr:Ar.sibling=lr,Ar=lr);return o&&on.forEach(function(Zu){return u(qe,Zu)}),er&&Ko(qe,Gn),xn}function _n(qe,je,Xe,vt){if(Xe==null)throw Error(r(151));for(var xn=null,Ar=null,on=je,Gn=je=0,lr=null,Sr=Xe.next();on!==null&&!Sr.done;Gn++,Sr=Xe.next()){on.index>Gn?(lr=on,on=null):lr=on.sibling;var Zu=et(qe,on,Sr.value,vt);if(Zu===null){on===null&&(on=lr);break}o&&on&&Zu.alternate===null&&u(qe,on),je=D(Zu,je,Gn),Ar===null?xn=Zu:Ar.sibling=Zu,Ar=Zu,on=lr}if(Sr.done)return m(qe,on),er&&Ko(qe,Gn),xn;if(on===null){for(;!Sr.done;Gn++,Sr=Xe.next())Sr=yt(qe,Sr.value,vt),Sr!==null&&(je=D(Sr,je,Gn),Ar===null?xn=Sr:Ar.sibling=Sr,Ar=Sr);return er&&Ko(qe,Gn),xn}for(on=w(on);!Sr.done;Gn++,Sr=Xe.next())Sr=it(on,qe,Gn,Sr.value,vt),Sr!==null&&(o&&Sr.alternate!==null&&on.delete(Sr.key===null?Gn:Sr.key),je=D(Sr,je,Gn),Ar===null?xn=Sr:Ar.sibling=Sr,Ar=Sr);return o&&on.forEach(function(J9){return u(qe,J9)}),er&&Ko(qe,Gn),xn}function $r(qe,je,Xe,vt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===I&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case A:e:{for(var xn=Xe.key;je!==null;){if(je.key===xn){if(xn=Xe.type,xn===I){if(je.tag===7){m(qe,je.sibling),vt=M(je,Xe.props.children),vt.return=qe,qe=vt;break e}}else if(je.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===ee&&We(xn)===je.type){m(qe,je.sibling),vt=M(je,Xe.props),kn(vt,Xe),vt.return=qe,qe=vt;break e}m(qe,je);break}else u(qe,je);je=je.sibling}Xe.type===I?(vt=ic(Xe.props.children,qe.mode,vt,Xe.key),vt.return=qe,qe=vt):(vt=Mu(Xe.type,Xe.key,Xe.props,null,qe.mode,vt),kn(vt,Xe),vt.return=qe,qe=vt)}return Z(qe);case k:e:{for(xn=Xe.key;je!==null;){if(je.key===xn)if(je.tag===4&&je.stateNode.containerInfo===Xe.containerInfo&&je.stateNode.implementation===Xe.implementation){m(qe,je.sibling),vt=M(je,Xe.children||[]),vt.return=qe,qe=vt;break e}else{m(qe,je);break}else u(qe,je);je=je.sibling}vt=ku(Xe,qe.mode,vt),vt.return=qe,qe=vt}return Z(qe);case ee:return Xe=We(Xe),$r(qe,je,Xe,vt)}if(ae(Xe))return Jt(qe,je,Xe,vt);if(J(Xe)){if(xn=J(Xe),typeof xn!="function")throw Error(r(150));return Xe=xn.call(Xe),_n(qe,je,Xe,vt)}if(typeof Xe.then=="function")return $r(qe,je,Ut(Xe),vt);if(Xe.$$typeof===U)return $r(qe,je,_d(qe,Xe),vt);$t(qe,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,je!==null&&je.tag===6?(m(qe,je.sibling),vt=M(je,Xe),vt.return=qe,qe=vt):(m(qe,je),vt=Tf(Xe,qe.mode,vt),vt.return=qe,qe=vt),Z(qe)):m(qe,je)}return function(qe,je,Xe,vt){try{Qt=0;var xn=$r(qe,je,Xe,vt);return bt=null,xn}catch(on){if(on===Le||on===Ne)throw on;var Ar=$a(29,on,null,qe.mode);return Ar.lanes=vt,Ar.return=qe,Ar}finally{}}}var ni=Zn(!0),Ln=Zn(!1),zt=!1;function It(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gi(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function En(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Un(o,u,m){var w=o.updateQueue;if(w===null)return null;if(w=w.shared,(Mr&2)!==0){var M=w.pending;return M===null?u.next=u:(u.next=M.next,M.next=u),w.pending=u,u=Ka(o),Nf(o,null,m),u}return Cf(o,w,u,m),Ka(o)}function Tr(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var w=u.lanes;w&=o.pendingLanes,m|=w,u.lanes=m,Ri(o,m)}}function aa(o,u){var m=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var M=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var Z={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};D===null?M=D=Z:D=D.next=Z,m=m.next}while(m!==null);D===null?M=D=u:D=D.next=u}else M=D=u;m={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:D,shared:w.shared,callbacks:w.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Oa=!1;function Yr(){if(Oa){var o=O;if(o!==null)throw o}}function qi(o,u,m,w){Oa=!1;var M=o.updateQueue;zt=!1;var D=M.firstBaseUpdate,Z=M.lastBaseUpdate,ge=M.shared.pending;if(ge!==null){M.shared.pending=null;var Re=ge,Je=Re.next;Re.next=null,Z===null?D=Je:Z.next=Je,Z=Re;var ht=o.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==Z&&(ge===null?ht.firstBaseUpdate=Je:ge.next=Je,ht.lastBaseUpdate=Re))}if(D!==null){var yt=M.baseState;Z=0,ht=Je=Re=null,ge=D;do{var et=ge.lane&-536870913,it=et!==ge.lane;if(it?(sr&et)===et:(w&et)===et){et!==0&&et===N&&(Oa=!0),ht!==null&&(ht=ht.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Jt=o,_n=ge;et=u;var $r=m;switch(_n.tag){case 1:if(Jt=_n.payload,typeof Jt=="function"){yt=Jt.call($r,yt,et);break e}yt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=_n.payload,et=typeof Jt=="function"?Jt.call($r,yt,et):Jt,et==null)break e;yt=v({},yt,et);break e;case 2:zt=!0}}et=ge.callback,et!==null&&(o.flags|=64,it&&(o.flags|=8192),it=M.callbacks,it===null?M.callbacks=[et]:it.push(et))}else it={lane:et,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(Je=ht=it,Re=yt):ht=ht.next=it,Z|=et;if(ge=ge.next,ge===null){if(ge=M.shared.pending,ge===null)break;it=ge,ge=it.next,it.next=null,M.lastBaseUpdate=it,M.shared.pending=null}}while(!0);ht===null&&(Re=yt),M.baseState=Re,M.firstBaseUpdate=Je,M.lastBaseUpdate=ht,D===null&&(M.shared.lanes=0),qu|=Z,o.lanes=Z,o.memoizedState=yt}}function Xa(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function Hi(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Xa(m[o],u)}var Kn=ye(null),ur=ye(0);function mi(o,u){o=Xc,le(ur,o),le(Kn,u),Xc=o|u.baseLanes}function xr(){le(ur,Xc),le(Kn,Kn.current)}function oa(){Xc=ur.current,V(Kn),V(ur)}var vi=ye(null),fr=null;function Li(o){var u=o.alternate;le(cr,cr.current&1),le(vi,o),fr===null&&(u===null||Kn.current!==null||u.memoizedState!==null)&&(fr=o)}function Ir(o){le(cr,cr.current),le(vi,o),fr===null&&(fr=o)}function Vi(o){o.tag===22?(le(cr,cr.current),le(vi,o),fr===null&&(fr=o)):Gi()}function Gi(){le(cr,cr.current),le(vi,vi.current)}function jr(o){V(vi),fr===o&&(fr=null),V(cr)}var cr=ye(0);function Ja(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||ny(m)||ry(m)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ni=0,mn=null,yn=null,dr=null,No=!1,ws=!1,ho=!1,Yi=0,fc=0,dc=null,Id=0;function Wr(){throw Error(r(321))}function th(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!S(o[m],u[m]))return!1;return!0}function nh(o,u,m,w,M,D){return Ni=D,mn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,he.H=o===null||o.memoizedState===null?u3:h2,ho=!1,D=m(w,M),ho=!1,ws&&(D=Dl(u,m,w,M)),Md(o),D}function Md(o){he.H=uh;var u=yn!==null&&yn.next!==null;if(Ni=0,dr=yn=mn=null,No=!1,fc=0,dc=null,u)throw Error(r(300));o===null||ya||(o=o.dependencies,o!==null&&Nd(o)&&(ya=!0))}function Dl(o,u,m,w){mn=o;var M=0;do{if(ws&&(dc=null),fc=0,ws=!1,25<=M)throw Error(r(301));if(M+=1,dr=yn=null,o.updateQueue!=null){var D=o.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}he.H=f3,D=u(m,w)}while(ws);return D}function o2(){var o=he.H,u=o.useState()[0];return u=typeof u.then=="function"?hc(u):u,o=o.useState()[0],(yn!==null?yn.memoizedState:null)!==o&&(mn.flags|=1024),u}function rh(){var o=Yi!==0;return Yi=0,o}function ih(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function kd(o){if(No){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}No=!1}Ni=0,dr=yn=mn=null,ws=!1,fc=Yi=0,dc=null}function va(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?mn.memoizedState=dr=o:dr=dr.next=o,dr}function _i(){if(yn===null){var o=mn.alternate;o=o!==null?o.memoizedState:null}else o=yn.next;var u=dr===null?mn.memoizedState:dr.next;if(u!==null)dr=u,yn=o;else{if(o===null)throw mn.alternate===null?Error(r(467)):Error(r(310));yn=o,o={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},dr===null?mn.memoizedState=dr=o:dr=dr.next=o}return dr}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(o){var u=fc;return fc+=1,dc===null&&(dc=[]),o=ct(dc,o,u),u=mn,(dr===null?u.memoizedState:dr.next)===null&&(u=u.alternate,he.H=u===null||u.memoizedState===null?u3:h2),o}function Lu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return hc(o);if(o.$$typeof===U)return ka(o)}throw Error(r(438,String(o)))}function zc(o){var u=null,m=mn.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var w=mn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(u={data:w.data.map(function(M){return M.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Of(),mn.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),w=0;w<o;w++)m[w]=me;return u.index++,m}function sl(o,u){return typeof u=="function"?u(o):u}function Od(o){var u=_i();return ju(u,yn,o)}function ju(o,u,m){var w=o.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=m;var M=o.baseQueue,D=w.pending;if(D!==null){if(M!==null){var Z=M.next;M.next=D.next,D.next=Z}u.baseQueue=M=D,w.pending=null}if(D=o.baseState,M===null)o.memoizedState=D;else{u=M.next;var ge=Z=null,Re=null,Je=u,ht=!1;do{var yt=Je.lane&-536870913;if(yt!==Je.lane?(sr&yt)===yt:(Ni&yt)===yt){var et=Je.revertLane;if(et===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),yt===N&&(ht=!0);else if((Ni&et)===et){Je=Je.next,et===N&&(ht=!0);continue}else yt={lane:0,revertLane:Je.revertLane,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Re===null?(ge=Re=yt,Z=D):Re=Re.next=yt,mn.lanes|=et,qu|=et;yt=Je.action,ho&&m(D,yt),D=Je.hasEagerState?Je.eagerState:m(D,yt)}else et={lane:yt,revertLane:Je.revertLane,gesture:Je.gesture,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Re===null?(ge=Re=et,Z=D):Re=Re.next=et,mn.lanes|=yt,qu|=yt;Je=Je.next}while(Je!==null&&Je!==u);if(Re===null?Z=D:Re.next=ge,!S(D,o.memoizedState)&&(ya=!0,ht&&(m=O,m!==null)))throw m;o.memoizedState=D,o.baseState=Z,o.baseQueue=Re,w.lastRenderedState=D}return M===null&&(w.lanes=0),[o.memoizedState,w.dispatch]}function Rd(o){var u=_i(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var w=m.dispatch,M=m.pending,D=u.memoizedState;if(M!==null){m.pending=null;var Z=M=M.next;do D=o(D,Z.action),Z=Z.next;while(Z!==M);S(D,u.memoizedState)||(ya=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),m.lastRenderedState=D}return[D,w]}function Pd(o,u,m){var w=mn,M=_i(),D=er;if(D){if(m===void 0)throw Error(r(407));m=m()}else m=u();var Z=!S((yn||M).memoizedState,m);if(Z&&(M.memoizedState=m,ya=!0),M=M.queue,s2(oh.bind(null,w,M,o),[o]),M.getSnapshot!==u||Z||dr!==null&&dr.memoizedState.tag&1){if(w.flags|=2048,Hc(9,{destroy:void 0},ah.bind(null,w,M,m,u),null),ri===null)throw Error(r(349));D||(Ni&127)!==0||Ll(w,u,m)}return m}function Ll(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=mn.updateQueue,u===null?(u=Of(),mn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function ah(o,u,m,w){u.value=m,u.getSnapshot=w,J1(u)&&sh(o)}function oh(o,u,m){return m(function(){J1(u)&&sh(o)})}function J1(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!S(o,m)}catch{return!0}}function sh(o){var u=Rl(o,2);u!==null&&Ns(u,o,2)}function pc(o){var u=va();if(typeof o=="function"){var m=o;if(o=m(),ho){jt(!0);try{m()}finally{jt(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:o},u}function Z1(o,u,m,w){return o.baseState=m,ju(o,yn,typeof w=="function"?w:sl)}function Q1(o,u,m,w,M){if(rp(o))throw Error(r(485));if(o=u.action,o!==null){var D={payload:M,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){D.listeners.push(Z)}};he.T!==null?m(!0):D.isTransition=!1,w(D),m=u.pending,m===null?(D.next=u.pending=D,ep(u,D)):(D.next=m.next,u.pending=m.next=D)}}function ep(o,u){var m=u.action,w=u.payload,M=o.state;if(u.isTransition){var D=he.T,Z={};he.T=Z;try{var ge=m(M,w),Re=he.S;Re!==null&&Re(Z,ge),lh(o,u,ge)}catch(Je){qc(o,u,Je)}finally{D!==null&&Z.types!==null&&(D.types=Z.types),he.T=D}}else try{D=m(M,w),lh(o,u,D)}catch(Je){qc(o,u,Je)}}function lh(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(w){tp(o,u,w)},function(w){return qc(o,u,w)}):tp(o,u,m)}function tp(o,u,m){u.status="fulfilled",u.value=m,Dd(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,ep(o,m)))}function qc(o,u,m){var w=o.pending;if(o.pending=null,w!==null){w=w.next;do u.status="rejected",u.reason=m,Dd(u),u=u.next;while(u!==w)}o.action=null}function Dd(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Rf(o,u){return u}function ll(o,u){if(er){var m=ri.formState;if(m!==null){e:{var w=mn;if(er){if(ti){t:{for(var M=ti,D=Ci;M.nodeType!==8;){if(!D){M=null;break t}if(M=cl(M.nextSibling),M===null){M=null;break t}}D=M.data,M=D==="F!"||D==="F"?M:null}if(M){ti=cl(M.nextSibling),w=M.data==="F!";break e}}oc(w)}w=!1}w&&(u=m[0])}}return m=va(),m.memoizedState=m.baseState=u,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:u},m.queue=w,m=s3.bind(null,mn,w),w.dispatch=m,w=pc(!1),D=d2.bind(null,mn,!1,w.queue),w=va(),M={state:u,dispatch:null,action:o,pending:null},w.queue=M,m=Q1.bind(null,mn,M,D,m),M.dispatch=m,w.memoizedState=o,[u,m,!1]}function jl(o){var u=_i();return Bl(u,yn,o)}function Bl(o,u,m){if(u=ju(o,u,Rf)[0],o=Od(sl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var w=hc(u)}catch(Z){throw Z===Le?Ne:Z}else w=u;u=_i();var M=u.queue,D=M.dispatch;return m!==u.memoizedState&&(mn.flags|=2048,Hc(9,{destroy:void 0},Ld.bind(null,M,m),null)),[w,D,o]}function Ld(o,u){o.action=u}function jd(o){var u=_i(),m=yn;if(m!==null)return Bl(u,m,o);_i(),u=u.memoizedState,m=_i();var w=m.queue.dispatch;return m.memoizedState=o,[u,w,!1]}function Hc(o,u,m,w){return o={tag:o,create:m,deps:w,inst:u,next:null},u=mn.updateQueue,u===null&&(u=Of(),mn.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(w=m.next,m.next=o,o.next=w,u.lastEffect=o),o}function np(){return _i().memoizedState}function Bu(o,u,m,w){var M=va();mn.flags|=o,M.memoizedState=Hc(1|u,{destroy:void 0},m,w===void 0?null:w)}function Fu(o,u,m,w){var M=_i();w=w===void 0?null:w;var D=M.memoizedState.inst;yn!==null&&w!==null&&th(w,yn.memoizedState.deps)?M.memoizedState=Hc(u,D,m,w):(mn.flags|=o,M.memoizedState=Hc(1|u,D,m,w))}function WS(o,u){Bu(8390656,8,o,u)}function s2(o,u){Fu(2048,8,o,u)}function GL(o){mn.flags|=4;var u=mn.updateQueue;if(u===null)u=Of(),mn.updateQueue=u,u.events=[o];else{var m=u.events;m===null?u.events=[o]:m.push(o)}}function KS(o){var u=_i().memoizedState;return GL({ref:u,nextImpl:o}),function(){if((Mr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function $S(o,u){return Fu(4,2,o,u)}function XS(o,u){return Fu(4,4,o,u)}function JS(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function ZS(o,u,m){m=m!=null?m.concat([o]):null,Fu(4,4,JS.bind(null,u,o),m)}function l2(){}function QS(o,u){var m=_i();u=u===void 0?null:u;var w=m.memoizedState;return u!==null&&th(u,w[1])?w[0]:(m.memoizedState=[o,u],o)}function e3(o,u){var m=_i();u=u===void 0?null:u;var w=m.memoizedState;if(u!==null&&th(u,w[1]))return w[0];if(w=o(),ho){jt(!0);try{o()}finally{jt(!1)}}return m.memoizedState=[w,u],w}function c2(o,u,m){return m===void 0||(Ni&1073741824)!==0&&(sr&261930)===0?o.memoizedState=u:(o.memoizedState=m,o=tE(),mn.lanes|=o,qu|=o,m)}function t3(o,u,m,w){return S(m,u)?m:Kn.current!==null?(o=c2(o,m,w),S(o,u)||(ya=!0),o):(Ni&42)===0||(Ni&1073741824)!==0&&(sr&261930)===0?(ya=!0,o.memoizedState=m):(o=tE(),mn.lanes|=o,qu|=o,u)}function n3(o,u,m,w,M){var D=Ae.p;Ae.p=D!==0&&8>D?D:8;var Z=he.T,ge={};he.T=ge,d2(o,!1,u,m);try{var Re=M(),Je=he.S;if(Je!==null&&Je(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var ht=oe(Re,w);ch(o,u,ht,Us(o))}else ch(o,u,w,Us(o))}catch(yt){ch(o,u,{then:function(){},status:"rejected",reason:yt},Us())}finally{Ae.p=D,Z!==null&&ge.types!==null&&(Z.types=ge.types),he.T=Z}}function YL(){}function u2(o,u,m,w){if(o.tag!==5)throw Error(r(476));var M=r3(o).queue;n3(o,M,u,Te,m===null?YL:function(){return i3(o),m(w)})}function r3(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:Te},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function i3(o){var u=r3(o);u.next===null&&(u=o.alternate.memoizedState),ch(o,u.next.queue,{},Us())}function f2(){return ka(Nh)}function a3(){return _i().memoizedState}function o3(){return _i().memoizedState}function WL(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=Us();o=En(m);var w=Un(u,o,m);w!==null&&(Ns(w,u,m),Tr(w,u,m)),u={cache:Du()},o.payload=u;return}u=u.return}}function KL(o,u,m){var w=Us();m={lane:w,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},rp(o)?l3(u,m):(m=yd(o,u,m,w),m!==null&&(Ns(m,o,w),c3(m,u,w)))}function s3(o,u,m){var w=Us();ch(o,u,m,w)}function ch(o,u,m,w){var M={lane:w,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(rp(o))l3(u,M);else{var D=o.alternate;if(o.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var Z=u.lastRenderedState,ge=D(Z,m);if(M.hasEagerState=!0,M.eagerState=ge,S(ge,Z))return Cf(o,u,M,0),ri===null&&Ef(),!1}catch{}finally{}if(m=yd(o,u,M,w),m!==null)return Ns(m,o,w),c3(m,u,w),!0}return!1}function d2(o,u,m,w){if(w={lane:2,revertLane:V2(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},rp(o)){if(u)throw Error(r(479))}else u=yd(o,m,w,2),u!==null&&Ns(u,o,2)}function rp(o){var u=o.alternate;return o===mn||u!==null&&u===mn}function l3(o,u){ws=No=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function c3(o,u,m){if((m&4194048)!==0){var w=u.lanes;w&=o.pendingLanes,m|=w,u.lanes=m,Ri(o,m)}}var uh={readContext:ka,use:Lu,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useLayoutEffect:Wr,useInsertionEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useSyncExternalStore:Wr,useId:Wr,useHostTransitionStatus:Wr,useFormState:Wr,useActionState:Wr,useOptimistic:Wr,useMemoCache:Wr,useCacheRefresh:Wr};uh.useEffectEvent=Wr;var u3={readContext:ka,use:Lu,useCallback:function(o,u){return va().memoizedState=[o,u===void 0?null:u],o},useContext:ka,useEffect:WS,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,Bu(4194308,4,JS.bind(null,u,o),m)},useLayoutEffect:function(o,u){return Bu(4194308,4,o,u)},useInsertionEffect:function(o,u){Bu(4,2,o,u)},useMemo:function(o,u){var m=va();u=u===void 0?null:u;var w=o();if(ho){jt(!0);try{o()}finally{jt(!1)}}return m.memoizedState=[w,u],w},useReducer:function(o,u,m){var w=va();if(m!==void 0){var M=m(u);if(ho){jt(!0);try{m(u)}finally{jt(!1)}}}else M=u;return w.memoizedState=w.baseState=M,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:M},w.queue=o,o=o.dispatch=KL.bind(null,mn,o),[w.memoizedState,o]},useRef:function(o){var u=va();return o={current:o},u.memoizedState=o},useState:function(o){o=pc(o);var u=o.queue,m=s3.bind(null,mn,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:l2,useDeferredValue:function(o,u){var m=va();return c2(m,o,u)},useTransition:function(){var o=pc(!1);return o=n3.bind(null,mn,o.queue,!0,!1),va().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var w=mn,M=va();if(er){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),ri===null)throw Error(r(349));(sr&127)!==0||Ll(w,u,m)}M.memoizedState=m;var D={value:m,getSnapshot:u};return M.queue=D,WS(oh.bind(null,w,D,o),[o]),w.flags|=2048,Hc(9,{destroy:void 0},ah.bind(null,w,D,m,u),null),m},useId:function(){var o=va(),u=ri.identifierPrefix;if(er){var m=xs,w=ys;m=(w&~(1<<32-Ft(w)-1)).toString(32)+m,u="_"+u+"R_"+m,m=Yi++,0<m&&(u+="H"+m.toString(32)),u+="_"}else m=Id++,u="_"+u+"r_"+m.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:f2,useFormState:ll,useActionState:ll,useOptimistic:function(o){var u=va();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=d2.bind(null,mn,!0,m),m.dispatch=u,[o,u]},useMemoCache:zc,useCacheRefresh:function(){return va().memoizedState=WL.bind(null,mn)},useEffectEvent:function(o){var u=va(),m={impl:o};return u.memoizedState=m,function(){if((Mr&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},h2={readContext:ka,use:Lu,useCallback:QS,useContext:ka,useEffect:s2,useImperativeHandle:ZS,useInsertionEffect:$S,useLayoutEffect:XS,useMemo:e3,useReducer:Od,useRef:np,useState:function(){return Od(sl)},useDebugValue:l2,useDeferredValue:function(o,u){var m=_i();return t3(m,yn.memoizedState,o,u)},useTransition:function(){var o=Od(sl)[0],u=_i().memoizedState;return[typeof o=="boolean"?o:hc(o),u]},useSyncExternalStore:Pd,useId:a3,useHostTransitionStatus:f2,useFormState:jl,useActionState:jl,useOptimistic:function(o,u){var m=_i();return Z1(m,yn,o,u)},useMemoCache:zc,useCacheRefresh:o3};h2.useEffectEvent=KS;var f3={readContext:ka,use:Lu,useCallback:QS,useContext:ka,useEffect:s2,useImperativeHandle:ZS,useInsertionEffect:$S,useLayoutEffect:XS,useMemo:e3,useReducer:Rd,useRef:np,useState:function(){return Rd(sl)},useDebugValue:l2,useDeferredValue:function(o,u){var m=_i();return yn===null?c2(m,o,u):t3(m,yn.memoizedState,o,u)},useTransition:function(){var o=Rd(sl)[0],u=_i().memoizedState;return[typeof o=="boolean"?o:hc(o),u]},useSyncExternalStore:Pd,useId:a3,useHostTransitionStatus:f2,useFormState:jd,useActionState:jd,useOptimistic:function(o,u){var m=_i();return yn!==null?Z1(m,yn,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:zc,useCacheRefresh:o3};f3.useEffectEvent=KS;function p2(o,u,m,w){u=o.memoizedState,m=m(w,u),m=m==null?u:v({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var g2={enqueueSetState:function(o,u,m){o=o._reactInternals;var w=Us(),M=En(w);M.payload=u,m!=null&&(M.callback=m),u=Un(o,M,w),u!==null&&(Ns(u,o,w),Tr(u,o,w))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var w=Us(),M=En(w);M.tag=1,M.payload=u,m!=null&&(M.callback=m),u=Un(o,M,w),u!==null&&(Ns(u,o,w),Tr(u,o,w))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Us(),w=En(m);w.tag=2,u!=null&&(w.callback=u),u=Un(o,w,m),u!==null&&(Ns(u,o,m),Tr(u,o,m))}};function d3(o,u,m,w,M,D,Z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,D,Z):u.prototype&&u.prototype.isPureReactComponent?!_(m,w)||!_(M,D):!0}function h3(o,u,m,w){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,w),u.state!==o&&g2.enqueueReplaceState(u,u.state,null)}function Pf(o,u){var m=u;if("ref"in u){m={};for(var w in u)w!=="ref"&&(m[w]=u[w])}if(o=o.defaultProps){m===u&&(m=v({},m));for(var M in o)m[M]===void 0&&(m[M]=o[M])}return m}function p3(o){Sf(o)}function g3(o){console.error(o)}function m3(o){Sf(o)}function ip(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(w){setTimeout(function(){throw w})}}function v3(o,u,m){try{var w=o.onCaughtError;w(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function m2(o,u,m){return m=En(m),m.tag=3,m.payload={element:null},m.callback=function(){ip(o,u)},m}function y3(o){return o=En(o),o.tag=3,o}function x3(o,u,m,w){var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var D=w.value;o.payload=function(){return M(D)},o.callback=function(){v3(u,m,w)}}var Z=m.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(o.callback=function(){v3(u,m,w),typeof M!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var ge=w.stack;this.componentDidCatch(w.value,{componentStack:ge!==null?ge:""})})}function $L(o,u,m,w,M){if(m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(u=m.alternate,u!==null&&cc(u,m,M,!0),m=vi.current,m!==null){switch(m.tag){case 31:case 13:return fr===null?mp():m.alternate===null&&Wi===0&&(Wi=3),m.flags&=-257,m.flags|=65536,m.lanes=M,w===Be?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([w]):u.add(w),z2(o,w,M)),!1;case 22:return m.flags|=65536,w===Be?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([w])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([w]):m.add(w)),z2(o,w,M)),!1}throw Error(r(435,m.tag))}return z2(o,w,M),mp(),!1}if(er)return u=vi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=M,w!==js&&(o=Error(r(422),{cause:w}),Ru(gs(o,m)))):(w!==js&&(u=Error(r(423),{cause:w}),Ru(gs(u,m))),o=o.current.alternate,o.flags|=65536,M&=-M,o.lanes|=M,w=gs(w,m),M=m2(o.stateNode,w,M),aa(o,M),Wi!==4&&(Wi=2)),!1;var D=Error(r(520),{cause:w});if(D=gs(D,m),yh===null?yh=[D]:yh.push(D),Wi!==4&&(Wi=2),u===null)return!0;w=gs(w,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=M&-M,m.lanes|=o,o=m2(m.stateNode,w,o),aa(m,o),!1;case 1:if(u=m.type,D=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Hu===null||!Hu.has(D))))return m.flags|=65536,M&=-M,m.lanes|=M,M=y3(M),x3(M,o,m,w),aa(m,M),!1}m=m.return}while(m!==null);return!1}var v2=Error(r(461)),ya=!1;function po(o,u,m,w){u.child=o===null?Ln(u,null,m,w):ni(u,o.child,m,w)}function b3(o,u,m,w,M){m=m.render;var D=u.ref;if("ref"in w){var Z={};for(var ge in w)ge!=="ref"&&(Z[ge]=w[ge])}else Z=w;return uc(u),w=nh(o,u,m,Z,D,M),ge=rh(),o!==null&&!ya?(ih(o,u,M),Vc(o,u,M)):(er&&ge&&Z0(u),u.flags|=1,po(o,u,w,M),u.child)}function w3(o,u,m,w,M){if(o===null){var D=m.type;return typeof D=="function"&&!bd(D)&&D.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=D,A3(o,u,D,w,M)):(o=Mu(m.type,null,w,u,u.mode,M),o.ref=u.ref,o.return=u,u.child=o)}if(D=o.child,!C2(o,M)){var Z=D.memoizedProps;if(m=m.compare,m=m!==null?m:_,m(Z,w)&&o.ref===u.ref)return Vc(o,u,M)}return u.flags|=1,o=ps(D,w),o.ref=u.ref,o.return=u,u.child=o}function A3(o,u,m,w,M){if(o!==null){var D=o.memoizedProps;if(_(D,w)&&o.ref===u.ref)if(ya=!1,u.pendingProps=w=D,C2(o,M))(o.flags&131072)!==0&&(ya=!0);else return u.lanes=o.lanes,Vc(o,u,M)}return y2(o,u,m,w,M)}function S3(o,u,m,w){var M=w.children,D=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((u.flags&128)!==0){if(D=D!==null?D.baseLanes|m:m,o!==null){for(w=u.child=o.child,M=0;w!==null;)M=M|w.lanes|w.childLanes,w=w.sibling;w=M&~D}else w=0,u.child=null;return E3(o,u,D,m,w)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&we(u,D!==null?D.cachePool:null),D!==null?mi(u,D):xr(),Vi(u);else return w=u.lanes=536870912,E3(o,u,D!==null?D.baseLanes|m:m,m,w)}else D!==null?(we(u,D.cachePool),mi(u,D),Gi(),u.memoizedState=null):(o!==null&&we(u,null),xr(),Gi());return po(o,u,M,m),u.child}function fh(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function E3(o,u,m,w,M){var D=ve();return D=D===null?null:{parent:Di._currentValue,pool:D},u.memoizedState={baseLanes:m,cachePool:D},o!==null&&we(u,null),xr(),Vi(u),o!==null&&cc(o,u,w,!0),u.childLanes=M,null}function ap(o,u){return u=sp({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function C3(o,u,m){return ni(u,o.child,null,m),o=ap(u,u.pendingProps),o.flags|=2,jr(u),u.memoizedState=null,o}function XL(o,u,m){var w=u.pendingProps,M=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(er){if(w.mode==="hidden")return o=ap(u,w),u.lanes=536870912,fh(null,o);if(Ir(u),(o=ti)?(o=jE(o,Ci),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ac!==null?{id:ys,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},m=wd(o),m.return=u,u.child=m,Ia=u,ti=null)):o=null,o===null)throw oc(u);return u.lanes=536870912,null}return ap(u,w)}var D=o.memoizedState;if(D!==null){var Z=D.dehydrated;if(Ir(u),M)if(u.flags&256)u.flags&=-257,u=C3(o,u,m);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(r(558));else if(ya||cc(o,u,m,!1),M=(m&o.childLanes)!==0,ya||M){if(w=ri,w!==null&&(Z=Sa(w,m),Z!==0&&Z!==D.retryLane))throw D.retryLane=Z,Rl(o,Z),Ns(w,o,Z),v2;mp(),u=C3(o,u,m)}else o=D.treeContext,ti=cl(Z.nextSibling),Ia=u,er=!0,fo=null,Ci=!1,o!==null&&$1(u,o),u=ap(u,w),u.flags|=4096;return u}return o=ps(o.child,{mode:w.mode,children:w.children}),o.ref=u.ref,u.child=o,o.return=u,o}function op(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function y2(o,u,m,w,M){return uc(u),m=nh(o,u,m,w,void 0,M),w=rh(),o!==null&&!ya?(ih(o,u,M),Vc(o,u,M)):(er&&w&&Z0(u),u.flags|=1,po(o,u,m,M),u.child)}function N3(o,u,m,w,M,D){return uc(u),u.updateQueue=null,m=Dl(u,w,m,M),Md(o),w=rh(),o!==null&&!ya?(ih(o,u,D),Vc(o,u,D)):(er&&w&&Z0(u),u.flags|=1,po(o,u,m,D),u.child)}function _3(o,u,m,w,M){if(uc(u),u.stateNode===null){var D=Ta,Z=m.contextType;typeof Z=="object"&&Z!==null&&(D=ka(Z)),D=new m(w,D),u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=g2,u.stateNode=D,D._reactInternals=u,D=u.stateNode,D.props=w,D.state=u.memoizedState,D.refs={},It(u),Z=m.contextType,D.context=typeof Z=="object"&&Z!==null?ka(Z):Ta,D.state=u.memoizedState,Z=m.getDerivedStateFromProps,typeof Z=="function"&&(p2(u,m,Z,w),D.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(Z=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),Z!==D.state&&g2.enqueueReplaceState(D,D.state,null),qi(u,w,D,M),Yr(),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308),w=!0}else if(o===null){D=u.stateNode;var ge=u.memoizedProps,Re=Pf(m,ge);D.props=Re;var Je=D.context,ht=m.contextType;Z=Ta,typeof ht=="object"&&ht!==null&&(Z=ka(ht));var yt=m.getDerivedStateFromProps;ht=typeof yt=="function"||typeof D.getSnapshotBeforeUpdate=="function",ge=u.pendingProps!==ge,ht||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ge||Je!==Z)&&h3(u,D,w,Z),zt=!1;var et=u.memoizedState;D.state=et,qi(u,w,D,M),Yr(),Je=u.memoizedState,ge||et!==Je||zt?(typeof yt=="function"&&(p2(u,m,yt,w),Je=u.memoizedState),(Re=zt||d3(u,m,Re,w,et,Je,Z))?(ht||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Je),D.props=w,D.state=Je,D.context=Z,w=Re):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{D=u.stateNode,gi(o,u),Z=u.memoizedProps,ht=Pf(m,Z),D.props=ht,yt=u.pendingProps,et=D.context,Je=m.contextType,Re=Ta,typeof Je=="object"&&Je!==null&&(Re=ka(Je)),ge=m.getDerivedStateFromProps,(Je=typeof ge=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Z!==yt||et!==Re)&&h3(u,D,w,Re),zt=!1,et=u.memoizedState,D.state=et,qi(u,w,D,M),Yr();var it=u.memoizedState;Z!==yt||et!==it||zt||o!==null&&o.dependencies!==null&&Nd(o.dependencies)?(typeof ge=="function"&&(p2(u,m,ge,w),it=u.memoizedState),(ht=zt||d3(u,m,ht,w,et,it,Re)||o!==null&&o.dependencies!==null&&Nd(o.dependencies))?(Je||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(w,it,Re),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(w,it,Re)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||Z===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=it),D.props=w,D.state=it,D.context=Re,w=ht):(typeof D.componentDidUpdate!="function"||Z===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Z===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),w=!1)}return D=w,op(o,u),w=(u.flags&128)!==0,D||w?(D=u.stateNode,m=w&&typeof m.getDerivedStateFromError!="function"?null:D.render(),u.flags|=1,o!==null&&w?(u.child=ni(u,o.child,null,M),u.child=ni(u,null,m,M)):po(o,u,m,M),u.memoizedState=D.state,o=u.child):o=Vc(o,u,M),o}function T3(o,u,m,w){return Fc(),u.flags|=256,po(o,u,m,w),u.child}var x2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b2(o){return{baseLanes:o,cachePool:_e()}}function w2(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=Fs),o}function I3(o,u,m){var w=u.pendingProps,M=!1,D=(u.flags&128)!==0,Z;if((Z=D)||(Z=o!==null&&o.memoizedState===null?!1:(cr.current&2)!==0),Z&&(M=!0,u.flags&=-129),Z=(u.flags&32)!==0,u.flags&=-33,o===null){if(er){if(M?Li(u):Gi(),(o=ti)?(o=jE(o,Ci),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:ac!==null?{id:ys,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},m=wd(o),m.return=u,u.child=m,Ia=u,ti=null)):o=null,o===null)throw oc(u);return ry(o)?u.lanes=32:u.lanes=536870912,null}var ge=w.children;return w=w.fallback,M?(Gi(),M=u.mode,ge=sp({mode:"hidden",children:ge},M),w=ic(w,M,m,null),ge.return=u,w.return=u,ge.sibling=w,u.child=ge,w=u.child,w.memoizedState=b2(m),w.childLanes=w2(o,Z,m),u.memoizedState=x2,fh(null,w)):(Li(u),A2(u,ge))}var Re=o.memoizedState;if(Re!==null&&(ge=Re.dehydrated,ge!==null)){if(D)u.flags&256?(Li(u),u.flags&=-257,u=S2(o,u,m)):u.memoizedState!==null?(Gi(),u.child=o.child,u.flags|=128,u=null):(Gi(),ge=w.fallback,M=u.mode,w=sp({mode:"visible",children:w.children},M),ge=ic(ge,M,m,null),ge.flags|=2,w.return=u,ge.return=u,w.sibling=ge,u.child=w,ni(u,o.child,null,m),w=u.child,w.memoizedState=b2(m),w.childLanes=w2(o,Z,m),u.memoizedState=x2,u=fh(null,w));else if(Li(u),ry(ge)){if(Z=ge.nextSibling&&ge.nextSibling.dataset,Z)var Je=Z.dgst;Z=Je,w=Error(r(419)),w.stack="",w.digest=Z,Ru({value:w,source:null,stack:null}),u=S2(o,u,m)}else if(ya||cc(o,u,m,!1),Z=(m&o.childLanes)!==0,ya||Z){if(Z=ri,Z!==null&&(w=Sa(Z,m),w!==0&&w!==Re.retryLane))throw Re.retryLane=w,Rl(o,w),Ns(Z,o,w),v2;ny(ge)||mp(),u=S2(o,u,m)}else ny(ge)?(u.flags|=192,u.child=o.child,u=null):(o=Re.treeContext,ti=cl(ge.nextSibling),Ia=u,er=!0,fo=null,Ci=!1,o!==null&&$1(u,o),u=A2(u,w.children),u.flags|=4096);return u}return M?(Gi(),ge=w.fallback,M=u.mode,Re=o.child,Je=Re.sibling,w=ps(Re,{mode:"hidden",children:w.children}),w.subtreeFlags=Re.subtreeFlags&65011712,Je!==null?ge=ps(Je,ge):(ge=ic(ge,M,m,null),ge.flags|=2),ge.return=u,w.return=u,w.sibling=ge,u.child=w,fh(null,w),w=u.child,ge=o.child.memoizedState,ge===null?ge=b2(m):(M=ge.cachePool,M!==null?(Re=Di._currentValue,M=M.parent!==Re?{parent:Re,pool:Re}:M):M=_e(),ge={baseLanes:ge.baseLanes|m,cachePool:M}),w.memoizedState=ge,w.childLanes=w2(o,Z,m),u.memoizedState=x2,fh(o.child,w)):(Li(u),m=o.child,o=m.sibling,m=ps(m,{mode:"visible",children:w.children}),m.return=u,m.sibling=null,o!==null&&(Z=u.deletions,Z===null?(u.deletions=[o],u.flags|=16):Z.push(o)),u.child=m,u.memoizedState=null,m)}function A2(o,u){return u=sp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function sp(o,u){return o=$a(22,o,null,u),o.lanes=0,o}function S2(o,u,m){return ni(u,o.child,null,m),o=A2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function M3(o,u,m){o.lanes|=u;var w=o.alternate;w!==null&&(w.lanes|=u),Pu(o.return,u,m)}function E2(o,u,m,w,M,D){var Z=o.memoizedState;Z===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:M,treeForkCount:D}:(Z.isBackwards=u,Z.rendering=null,Z.renderingStartTime=0,Z.last=w,Z.tail=m,Z.tailMode=M,Z.treeForkCount=D)}function k3(o,u,m){var w=u.pendingProps,M=w.revealOrder,D=w.tail;w=w.children;var Z=cr.current,ge=(Z&2)!==0;if(ge?(Z=Z&1|2,u.flags|=128):Z&=1,le(cr,Z),po(o,u,w,m),w=er?If:0,!ge&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&M3(o,m,u);else if(o.tag===19)M3(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(M){case"forwards":for(m=u.child,M=null;m!==null;)o=m.alternate,o!==null&&Ja(o)===null&&(M=m),m=m.sibling;m=M,m===null?(M=u.child,u.child=null):(M=m.sibling,m.sibling=null),E2(u,!1,M,m,D,w);break;case"backwards":case"unstable_legacy-backwards":for(m=null,M=u.child,u.child=null;M!==null;){if(o=M.alternate,o!==null&&Ja(o)===null){u.child=M;break}o=M.sibling,M.sibling=m,m=M,M=o}E2(u,!0,m,null,D,w);break;case"together":E2(u,!1,null,null,void 0,w);break;default:u.memoizedState=null}return u.child}function Vc(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),qu|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(cc(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,m=ps(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=ps(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function C2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Nd(o)))}function JL(o,u,m){switch(u.tag){case 3:Fe(u,u.stateNode.containerInfo),lc(u,Di,o.memoizedState.cache),Fc();break;case 27:case 5:He(u);break;case 4:Fe(u,u.stateNode.containerInfo);break;case 10:lc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Ir(u),null;break;case 13:var w=u.memoizedState;if(w!==null)return w.dehydrated!==null?(Li(u),u.flags|=128,null):(m&u.child.childLanes)!==0?I3(o,u,m):(Li(u),o=Vc(o,u,m),o!==null?o.sibling:null);Li(u);break;case 19:var M=(o.flags&128)!==0;if(w=(m&u.childLanes)!==0,w||(cc(o,u,m,!1),w=(m&u.childLanes)!==0),M){if(w)return k3(o,u,m);u.flags|=128}if(M=u.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),le(cr,cr.current),w)break;return null;case 22:return u.lanes=0,S3(o,u,m,u.pendingProps);case 24:lc(u,Di,o.memoizedState.cache)}return Vc(o,u,m)}function O3(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)ya=!0;else{if(!C2(o,m)&&(u.flags&128)===0)return ya=!1,JL(o,u,m);ya=(o.flags&131072)!==0}else ya=!1,er&&(u.flags&1048576)!==0&&K1(u,If,u.index);switch(u.lanes=0,u.tag){case 16:e:{var w=u.pendingProps;if(o=We(u.elementType),u.type=o,typeof o=="function")bd(o)?(w=Pf(o,w),u.tag=1,u=_3(null,u,o,w,m)):(u.tag=0,u=y2(null,u,o,w,m));else{if(o!=null){var M=o.$$typeof;if(M===H){u.tag=11,u=b3(null,u,o,w,m);break e}else if(M===G){u.tag=14,u=w3(null,u,o,w,m);break e}}throw u=se(o)||o,Error(r(306,u,""))}}return u;case 0:return y2(o,u,u.type,u.pendingProps,m);case 1:return w=u.type,M=Pf(w,u.pendingProps),_3(o,u,w,M,m);case 3:e:{if(Fe(u,u.stateNode.containerInfo),o===null)throw Error(r(387));w=u.pendingProps;var D=u.memoizedState;M=D.element,gi(o,u),qi(u,w,null,m);var Z=u.memoizedState;if(w=Z.cache,lc(u,Di,w),w!==D.cache&&Uc(u,[Di],m,!0),Yr(),w=Z.element,D.isDehydrated)if(D={element:w,isDehydrated:!1,cache:Z.cache},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){u=T3(o,u,w,m);break e}else if(w!==M){M=gs(Error(r(424)),u),Ru(M),u=T3(o,u,w,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ti=cl(o.firstChild),Ia=u,er=!0,fo=null,Ci=!0,m=Ln(u,null,w,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Fc(),w===M){u=Vc(o,u,m);break e}po(o,u,w,m)}u=u.child}return u;case 26:return op(o,u),o===null?(m=HE(u.type,null,u.pendingProps,null))?u.memoizedState=m:er||(m=u.type,o=u.pendingProps,w=Sp(xe.current).createElement(m),w[mr]=u,w[Yn]=o,go(w,m,o),Zr(w),u.stateNode=w):u.memoizedState=HE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return He(u),o===null&&er&&(w=u.stateNode=UE(u.type,u.pendingProps,xe.current),Ia=u,Ci=!0,M=ti,Wu(u.type)?(iy=M,ti=cl(w.firstChild)):ti=M),po(o,u,u.pendingProps.children,m),op(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&er&&((M=w=ti)&&(w=_9(w,u.type,u.pendingProps,Ci),w!==null?(u.stateNode=w,Ia=u,ti=cl(w.firstChild),Ci=!1,M=!0):M=!1),M||oc(u)),He(u),M=u.type,D=u.pendingProps,Z=o!==null?o.memoizedProps:null,w=D.children,Q2(M,D)?w=null:Z!==null&&Q2(M,Z)&&(u.flags|=32),u.memoizedState!==null&&(M=nh(o,u,o2,null,null,m),Nh._currentValue=M),op(o,u),po(o,u,w,m),u.child;case 6:return o===null&&er&&((o=m=ti)&&(m=T9(m,u.pendingProps,Ci),m!==null?(u.stateNode=m,Ia=u,ti=null,o=!0):o=!1),o||oc(u)),null;case 13:return I3(o,u,m);case 4:return Fe(u,u.stateNode.containerInfo),w=u.pendingProps,o===null?u.child=ni(u,null,w,m):po(o,u,w,m),u.child;case 11:return b3(o,u,u.type,u.pendingProps,m);case 7:return po(o,u,u.pendingProps,m),u.child;case 8:return po(o,u,u.pendingProps.children,m),u.child;case 12:return po(o,u,u.pendingProps.children,m),u.child;case 10:return w=u.pendingProps,lc(u,u.type,w.value),po(o,u,w.children,m),u.child;case 9:return M=u.type._context,w=u.pendingProps.children,uc(u),M=ka(M),w=w(M),u.flags|=1,po(o,u,w,m),u.child;case 14:return w3(o,u,u.type,u.pendingProps,m);case 15:return A3(o,u,u.type,u.pendingProps,m);case 19:return k3(o,u,m);case 31:return XL(o,u,m);case 22:return S3(o,u,m,u.pendingProps);case 24:return uc(u),w=ka(Di),o===null?(M=ve(),M===null&&(M=ri,D=Du(),M.pooledCache=D,D.refCount++,D!==null&&(M.pooledCacheLanes|=m),M=D),u.memoizedState={parent:w,cache:M},It(u),lc(u,Di,M)):((o.lanes&m)!==0&&(gi(o,u),qi(u,null,null,m),Yr()),M=o.memoizedState,D=u.memoizedState,M.parent!==w?(M={parent:w,cache:w},u.memoizedState=M,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=M),lc(u,Di,w)):(w=D.cache,lc(u,Di,w),w!==M.cache&&Uc(u,[Di],m,!0))),po(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Gc(o){o.flags|=4}function N2(o,u,m,w,M){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(M&335544128)===M)if(o.stateNode.complete)o.flags|=8192;else if(aE())o.flags|=8192;else throw lt=Be,Ke}else o.flags&=-16777217}function R3(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!KE(u))if(aE())o.flags|=8192;else throw lt=Be,Ke}function lp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Hn():536870912,o.lanes|=u,zd|=u)}function dh(o,u){if(!er)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function yi(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,w=0;if(u)for(var M=o.child;M!==null;)m|=M.lanes|M.childLanes,w|=M.subtreeFlags&65011712,w|=M.flags&65011712,M.return=o,M=M.sibling;else for(M=o.child;M!==null;)m|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=o,M=M.sibling;return o.subtreeFlags|=w,o.childLanes=m,u}function ZL(o,u,m){var w=u.pendingProps;switch(Ed(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(u),null;case 1:return yi(u),null;case 3:return m=u.stateNode,w=null,o!==null&&(w=o.memoizedState.cache),u.memoizedState.cache!==w&&(u.flags|=2048),bs(Di),Ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Ma(u)?Gc(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,eh())),yi(u),null;case 26:var M=u.type,D=u.memoizedState;return o===null?(Gc(u),D!==null?(yi(u),R3(u,D)):(yi(u),N2(u,M,null,w,m))):D?D!==o.memoizedState?(Gc(u),yi(u),R3(u,D)):(yi(u),u.flags&=-16777217):(o=o.memoizedProps,o!==w&&Gc(u),yi(u),N2(u,M,o,w,m)),null;case 27:if(nt(u),m=xe.current,M=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==w&&Gc(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return yi(u),null}o=ce.current,Ma(u)?Q0(u):(o=UE(M,w,m),u.stateNode=o,Gc(u))}return yi(u),null;case 5:if(nt(u),M=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==w&&Gc(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return yi(u),null}if(D=ce.current,Ma(u))Q0(u);else{var Z=Sp(xe.current);switch(D){case 1:D=Z.createElementNS("http://www.w3.org/2000/svg",M);break;case 2:D=Z.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;default:switch(M){case"svg":D=Z.createElementNS("http://www.w3.org/2000/svg",M);break;case"math":D=Z.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;case"script":D=Z.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof w.is=="string"?Z.createElement("select",{is:w.is}):Z.createElement("select"),w.multiple?D.multiple=!0:w.size&&(D.size=w.size);break;default:D=typeof w.is=="string"?Z.createElement(M,{is:w.is}):Z.createElement(M)}}D[mr]=u,D[Yn]=w;e:for(Z=u.child;Z!==null;){if(Z.tag===5||Z.tag===6)D.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===u)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===u)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}u.stateNode=D;e:switch(go(D,M,w),M){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&Gc(u)}}return yi(u),N2(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,m),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==w&&Gc(u);else{if(typeof w!="string"&&u.stateNode===null)throw Error(r(166));if(o=xe.current,Ma(u)){if(o=u.stateNode,m=u.memoizedProps,w=null,M=Ia,M!==null)switch(M.tag){case 27:case 5:w=M.memoizedProps}o[mr]=u,o=!!(o.nodeValue===m||w!==null&&w.suppressHydrationWarning===!0||IE(o.nodeValue,m)),o||oc(u,!0)}else o=Sp(o).createTextNode(w),o[mr]=u,u.stateNode=o}return yi(u),null;case 31:if(m=u.memoizedState,o===null||o.memoizedState!==null){if(w=Ma(u),m!==null){if(o===null){if(!w)throw Error(r(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[mr]=u}else Fc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;yi(u),o=!1}else m=eh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return u.flags&256?(jr(u),u):(jr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return yi(u),null;case 13:if(w=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(M=Ma(u),w!==null&&w.dehydrated!==null){if(o===null){if(!M)throw Error(r(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[mr]=u}else Fc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;yi(u),M=!1}else M=eh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=M),M=!0;if(!M)return u.flags&256?(jr(u),u):(jr(u),null)}return jr(u),(u.flags&128)!==0?(u.lanes=m,u):(m=w!==null,o=o!==null&&o.memoizedState!==null,m&&(w=u.child,M=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(M=w.alternate.memoizedState.cachePool.pool),D=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(D=w.memoizedState.cachePool.pool),D!==M&&(w.flags|=2048)),m!==o&&m&&(u.child.flags|=8192),lp(u,u.updateQueue),yi(u),null);case 4:return Ie(),o===null&&K2(u.stateNode.containerInfo),yi(u),null;case 10:return bs(u.type),yi(u),null;case 19:if(V(cr),w=u.memoizedState,w===null)return yi(u),null;if(M=(u.flags&128)!==0,D=w.rendering,D===null)if(M)dh(w,!1);else{if(Wi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(D=Ja(o),D!==null){for(u.flags|=128,dh(w,!1),o=D.updateQueue,u.updateQueue=o,lp(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)_f(m,o),m=m.sibling;return le(cr,cr.current&1|2),er&&Ko(u,w.treeForkCount),u.child}o=o.sibling}w.tail!==null&&dn()>hp&&(u.flags|=128,M=!0,dh(w,!1),u.lanes=4194304)}else{if(!M)if(o=Ja(D),o!==null){if(u.flags|=128,M=!0,o=o.updateQueue,u.updateQueue=o,lp(u,o),dh(w,!0),w.tail===null&&w.tailMode==="hidden"&&!D.alternate&&!er)return yi(u),null}else 2*dn()-w.renderingStartTime>hp&&m!==536870912&&(u.flags|=128,M=!0,dh(w,!1),u.lanes=4194304);w.isBackwards?(D.sibling=u.child,u.child=D):(o=w.last,o!==null?o.sibling=D:u.child=D,w.last=D)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=dn(),o.sibling=null,m=cr.current,le(cr,M?m&1|2:m&1),er&&Ko(u,w.treeForkCount),o):(yi(u),null);case 22:case 23:return jr(u),oa(),w=u.memoizedState!==null,o!==null?o.memoizedState!==null!==w&&(u.flags|=8192):w&&(u.flags|=8192),w?(m&536870912)!==0&&(u.flags&128)===0&&(yi(u),u.subtreeFlags&6&&(u.flags|=8192)):yi(u),m=u.updateQueue,m!==null&&lp(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==m&&(u.flags|=2048),o!==null&&V(de),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),bs(Di),yi(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function QL(o,u){switch(Ed(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return bs(Di),Ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return nt(u),null;case 31:if(u.memoizedState!==null){if(jr(u),u.alternate===null)throw Error(r(340));Fc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(jr(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Fc()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return V(cr),null;case 4:return Ie(),null;case 10:return bs(u.type),null;case 22:case 23:return jr(u),oa(),o!==null&&V(de),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return bs(Di),null;case 25:return null;default:return null}}function P3(o,u){switch(Ed(u),u.tag){case 3:bs(Di),Ie();break;case 26:case 27:case 5:nt(u);break;case 4:Ie();break;case 31:u.memoizedState!==null&&jr(u);break;case 13:jr(u);break;case 19:V(cr);break;case 10:bs(u.type);break;case 22:case 23:jr(u),oa(),o!==null&&V(de);break;case 24:bs(Di)}}function hh(o,u){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var M=w.next;m=M;do{if((m.tag&o)===o){w=void 0;var D=m.create,Z=m.inst;w=D(),Z.destroy=w}m=m.next}while(m!==M)}}catch(ge){Fr(u,u.return,ge)}}function Uu(o,u,m){try{var w=u.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var D=M.next;w=D;do{if((w.tag&o)===o){var Z=w.inst,ge=Z.destroy;if(ge!==void 0){Z.destroy=void 0,M=u;var Re=m,Je=ge;try{Je()}catch(ht){Fr(M,Re,ht)}}}w=w.next}while(w!==D)}}catch(ht){Fr(u,u.return,ht)}}function D3(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{Hi(u,m)}catch(w){Fr(o,o.return,w)}}}function L3(o,u,m){m.props=Pf(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(w){Fr(o,u,w)}}function ph(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var w=o.stateNode;break;case 30:w=o.stateNode;break;default:w=o.stateNode}typeof m=="function"?o.refCleanup=m(w):m.current=w}}catch(M){Fr(o,u,M)}}function gc(o,u){var m=o.ref,w=o.refCleanup;if(m!==null)if(typeof w=="function")try{w()}catch(M){Fr(o,u,M)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(M){Fr(o,u,M)}else m.current=null}function j3(o){var u=o.type,m=o.memoizedProps,w=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&w.focus();break e;case"img":m.src?w.src=m.src:m.srcSet&&(w.srcset=m.srcSet)}}catch(M){Fr(o,o.return,M)}}function _2(o,u,m){try{var w=o.stateNode;w9(w,o.type,m,u),w[Yn]=u}catch(M){Fr(o,o.return,M)}}function B3(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Wu(o.type)||o.tag===4}function T2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||B3(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Wu(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function I2(o,u,m){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=za));else if(w!==4&&(w===27&&Wu(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(I2(o,u,m),o=o.sibling;o!==null;)I2(o,u,m),o=o.sibling}function cp(o,u,m){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(w!==4&&(w===27&&Wu(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(cp(o,u,m),o=o.sibling;o!==null;)cp(o,u,m),o=o.sibling}function F3(o){var u=o.stateNode,m=o.memoizedProps;try{for(var w=o.type,M=u.attributes;M.length;)u.removeAttributeNode(M[0]);go(u,w,m),u[mr]=o,u[Yn]=m}catch(D){Fr(o,o.return,D)}}var Yc=!1,xa=!1,M2=!1,U3=typeof WeakSet=="function"?WeakSet:Set,Za=null;function e9(o,u){if(o=o.containerInfo,J2=Mp,o=ne(o),ue(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var M=w.anchorOffset,D=w.focusNode;w=w.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break e}var Z=0,ge=-1,Re=-1,Je=0,ht=0,yt=o,et=null;t:for(;;){for(var it;yt!==m||M!==0&&yt.nodeType!==3||(ge=Z+M),yt!==D||w!==0&&yt.nodeType!==3||(Re=Z+w),yt.nodeType===3&&(Z+=yt.nodeValue.length),(it=yt.firstChild)!==null;)et=yt,yt=it;for(;;){if(yt===o)break t;if(et===m&&++Je===M&&(ge=Z),et===D&&++ht===w&&(Re=Z),(it=yt.nextSibling)!==null)break;yt=et,et=yt.parentNode}yt=it}m=ge===-1||Re===-1?null:{start:ge,end:Re}}else m=null}m=m||{start:0,end:0}}else m=null;for(Z2={focusedElem:o,selectionRange:m},Mp=!1,Za=u;Za!==null;)if(u=Za,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Za=o;else for(;Za!==null;){switch(u=Za,D=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)M=o[m],M.ref.impl=M.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&D!==null){o=void 0,m=u,M=D.memoizedProps,D=D.memoizedState,w=m.stateNode;try{var Jt=Pf(m.type,M);o=w.getSnapshotBeforeUpdate(Jt,D),w.__reactInternalSnapshotBeforeUpdate=o}catch(_n){Fr(m,m.return,_n)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)ty(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ty(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Za=o;break}Za=u.return}}function z3(o,u,m){var w=m.flags;switch(m.tag){case 0:case 11:case 15:Kc(o,m),w&4&&hh(5,m);break;case 1:if(Kc(o,m),w&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(Z){Fr(m,m.return,Z)}else{var M=Pf(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(M,u,o.__reactInternalSnapshotBeforeUpdate)}catch(Z){Fr(m,m.return,Z)}}w&64&&D3(m),w&512&&ph(m,m.return);break;case 3:if(Kc(o,m),w&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{Hi(o,u)}catch(Z){Fr(m,m.return,Z)}}break;case 27:u===null&&w&4&&F3(m);case 26:case 5:Kc(o,m),u===null&&w&4&&j3(m),w&512&&ph(m,m.return);break;case 12:Kc(o,m);break;case 31:Kc(o,m),w&4&&V3(o,m);break;case 13:Kc(o,m),w&4&&G3(o,m),w&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=c9.bind(null,m),I9(o,m))));break;case 22:if(w=m.memoizedState!==null||Yc,!w){u=u!==null&&u.memoizedState!==null||xa,M=Yc;var D=xa;Yc=w,(xa=u)&&!D?$c(o,m,(m.subtreeFlags&8772)!==0):Kc(o,m),Yc=M,xa=D}break;case 30:break;default:Kc(o,m)}}function q3(o){var u=o.alternate;u!==null&&(o.alternate=null,q3(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Qi(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ti=null,As=!1;function Wc(o,u,m){for(m=m.child;m!==null;)H3(o,u,m),m=m.sibling}function H3(o,u,m){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(tn,m)}catch{}switch(m.tag){case 26:xa||gc(m,u),Wc(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:xa||gc(m,u);var w=Ti,M=As;Wu(m.type)&&(Ti=m.stateNode,As=!1),Wc(o,u,m),Sh(m.stateNode),Ti=w,As=M;break;case 5:xa||gc(m,u);case 6:if(w=Ti,M=As,Ti=null,Wc(o,u,m),Ti=w,As=M,Ti!==null)if(As)try{(Ti.nodeType===9?Ti.body:Ti.nodeName==="HTML"?Ti.ownerDocument.body:Ti).removeChild(m.stateNode)}catch(D){Fr(m,u,D)}else try{Ti.removeChild(m.stateNode)}catch(D){Fr(m,u,D)}break;case 18:Ti!==null&&(As?(o=Ti,DE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),$d(o)):DE(Ti,m.stateNode));break;case 4:w=Ti,M=As,Ti=m.stateNode.containerInfo,As=!0,Wc(o,u,m),Ti=w,As=M;break;case 0:case 11:case 14:case 15:Uu(2,m,u),xa||Uu(4,m,u),Wc(o,u,m);break;case 1:xa||(gc(m,u),w=m.stateNode,typeof w.componentWillUnmount=="function"&&L3(m,u,w)),Wc(o,u,m);break;case 21:Wc(o,u,m);break;case 22:xa=(w=xa)||m.memoizedState!==null,Wc(o,u,m),xa=w;break;default:Wc(o,u,m)}}function V3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{$d(o)}catch(m){Fr(u,u.return,m)}}}function G3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{$d(o)}catch(m){Fr(u,u.return,m)}}function t9(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new U3),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new U3),u;default:throw Error(r(435,o.tag))}}function up(o,u){var m=t9(o);u.forEach(function(w){if(!m.has(w)){m.add(w);var M=u9.bind(null,o,w);w.then(M,M)}})}function Ss(o,u){var m=u.deletions;if(m!==null)for(var w=0;w<m.length;w++){var M=m[w],D=o,Z=u,ge=Z;e:for(;ge!==null;){switch(ge.tag){case 27:if(Wu(ge.type)){Ti=ge.stateNode,As=!1;break e}break;case 5:Ti=ge.stateNode,As=!1;break e;case 3:case 4:Ti=ge.stateNode.containerInfo,As=!0;break e}ge=ge.return}if(Ti===null)throw Error(r(160));H3(D,Z,M),Ti=null,As=!1,D=M.alternate,D!==null&&(D.return=null),M.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Y3(u,o),u=u.sibling}var Fl=null;function Y3(o,u){var m=o.alternate,w=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ss(u,o),Es(o),w&4&&(Uu(3,o,o.return),hh(3,o),Uu(5,o,o.return));break;case 1:Ss(u,o),Es(o),w&512&&(xa||m===null||gc(m,m.return)),w&64&&Yc&&(o=o.updateQueue,o!==null&&(w=o.callbacks,w!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?w:m.concat(w))));break;case 26:var M=Fl;if(Ss(u,o),Es(o),w&512&&(xa||m===null||gc(m,m.return)),w&4){var D=m!==null?m.memoizedState:null;if(w=o.memoizedState,m===null)if(w===null)if(o.stateNode===null){e:{w=o.type,m=o.memoizedProps,M=M.ownerDocument||M;t:switch(w){case"title":D=M.getElementsByTagName("title")[0],(!D||D[Bo]||D[mr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=M.createElement(w),M.head.insertBefore(D,M.querySelector("head > title"))),go(D,w,m),D[mr]=o,Zr(D),w=D;break e;case"link":var Z=YE("link","href",M).get(w+(m.href||""));if(Z){for(var ge=0;ge<Z.length;ge++)if(D=Z[ge],D.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&D.getAttribute("rel")===(m.rel==null?null:m.rel)&&D.getAttribute("title")===(m.title==null?null:m.title)&&D.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Z.splice(ge,1);break t}}D=M.createElement(w),go(D,w,m),M.head.appendChild(D);break;case"meta":if(Z=YE("meta","content",M).get(w+(m.content||""))){for(ge=0;ge<Z.length;ge++)if(D=Z[ge],D.getAttribute("content")===(m.content==null?null:""+m.content)&&D.getAttribute("name")===(m.name==null?null:m.name)&&D.getAttribute("property")===(m.property==null?null:m.property)&&D.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&D.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Z.splice(ge,1);break t}}D=M.createElement(w),go(D,w,m),M.head.appendChild(D);break;default:throw Error(r(468,w))}D[mr]=o,Zr(D),w=D}o.stateNode=w}else WE(M,o.type,o.stateNode);else o.stateNode=GE(M,w,o.memoizedProps);else D!==w?(D===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):D.count--,w===null?WE(M,o.type,o.stateNode):GE(M,w,o.memoizedProps)):w===null&&o.stateNode!==null&&_2(o,o.memoizedProps,m.memoizedProps)}break;case 27:Ss(u,o),Es(o),w&512&&(xa||m===null||gc(m,m.return)),m!==null&&w&4&&_2(o,o.memoizedProps,m.memoizedProps);break;case 5:if(Ss(u,o),Es(o),w&512&&(xa||m===null||gc(m,m.return)),o.flags&32){M=o.stateNode;try{Uo(M,"")}catch(Jt){Fr(o,o.return,Jt)}}w&4&&o.stateNode!=null&&(M=o.memoizedProps,_2(o,M,m!==null?m.memoizedProps:M)),w&1024&&(M2=!0);break;case 6:if(Ss(u,o),Es(o),w&4){if(o.stateNode===null)throw Error(r(162));w=o.memoizedProps,m=o.stateNode;try{m.nodeValue=w}catch(Jt){Fr(o,o.return,Jt)}}break;case 3:if(Np=null,M=Fl,Fl=Ep(u.containerInfo),Ss(u,o),Fl=M,Es(o),w&4&&m!==null&&m.memoizedState.isDehydrated)try{$d(u.containerInfo)}catch(Jt){Fr(o,o.return,Jt)}M2&&(M2=!1,W3(o));break;case 4:w=Fl,Fl=Ep(o.stateNode.containerInfo),Ss(u,o),Es(o),Fl=w;break;case 12:Ss(u,o),Es(o);break;case 31:Ss(u,o),Es(o),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,up(o,w)));break;case 13:Ss(u,o),Es(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(dp=dn()),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,up(o,w)));break;case 22:M=o.memoizedState!==null;var Re=m!==null&&m.memoizedState!==null,Je=Yc,ht=xa;if(Yc=Je||M,xa=ht||Re,Ss(u,o),xa=ht,Yc=Je,Es(o),w&8192)e:for(u=o.stateNode,u._visibility=M?u._visibility&-2:u._visibility|1,M&&(m===null||Re||Yc||xa||Df(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){Re=m=u;try{if(D=Re.stateNode,M)Z=D.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{ge=Re.stateNode;var yt=Re.memoizedProps.style,et=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;ge.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Jt){Fr(Re,Re.return,Jt)}}}else if(u.tag===6){if(m===null){Re=u;try{Re.stateNode.nodeValue=M?"":Re.memoizedProps}catch(Jt){Fr(Re,Re.return,Jt)}}}else if(u.tag===18){if(m===null){Re=u;try{var it=Re.stateNode;M?LE(it,!0):LE(Re.stateNode,!1)}catch(Jt){Fr(Re,Re.return,Jt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}w&4&&(w=o.updateQueue,w!==null&&(m=w.retryQueue,m!==null&&(w.retryQueue=null,up(o,m))));break;case 19:Ss(u,o),Es(o),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,up(o,w)));break;case 30:break;case 21:break;default:Ss(u,o),Es(o)}}function Es(o){var u=o.flags;if(u&2){try{for(var m,w=o.return;w!==null;){if(B3(w)){m=w;break}w=w.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var M=m.stateNode,D=T2(o);cp(o,D,M);break;case 5:var Z=m.stateNode;m.flags&32&&(Uo(Z,""),m.flags&=-33);var ge=T2(o);cp(o,ge,Z);break;case 3:case 4:var Re=m.stateNode.containerInfo,Je=T2(o);I2(o,Je,Re);break;default:throw Error(r(161))}}catch(ht){Fr(o,o.return,ht)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function W3(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;W3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Kc(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)z3(o,u.alternate,u),u=u.sibling}function Df(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Uu(4,u,u.return),Df(u);break;case 1:gc(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&L3(u,u.return,m),Df(u);break;case 27:Sh(u.stateNode);case 26:case 5:gc(u,u.return),Df(u);break;case 22:u.memoizedState===null&&Df(u);break;case 30:Df(u);break;default:Df(u)}o=o.sibling}}function $c(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var w=u.alternate,M=o,D=u,Z=D.flags;switch(D.tag){case 0:case 11:case 15:$c(M,D,m),hh(4,D);break;case 1:if($c(M,D,m),w=D,M=w.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Je){Fr(w,w.return,Je)}if(w=D,M=w.updateQueue,M!==null){var ge=w.stateNode;try{var Re=M.shared.hiddenCallbacks;if(Re!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Re.length;M++)Xa(Re[M],ge)}catch(Je){Fr(w,w.return,Je)}}m&&Z&64&&D3(D),ph(D,D.return);break;case 27:F3(D);case 26:case 5:$c(M,D,m),m&&w===null&&Z&4&&j3(D),ph(D,D.return);break;case 12:$c(M,D,m);break;case 31:$c(M,D,m),m&&Z&4&&V3(M,D);break;case 13:$c(M,D,m),m&&Z&4&&G3(M,D);break;case 22:D.memoizedState===null&&$c(M,D,m),ph(D,D.return);break;case 30:break;default:$c(M,D,m)}u=u.sibling}}function k2(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Mf(m))}function O2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Mf(o))}function Ul(o,u,m,w){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)K3(o,u,m,w),u=u.sibling}function K3(o,u,m,w){var M=u.flags;switch(u.tag){case 0:case 11:case 15:Ul(o,u,m,w),M&2048&&hh(9,u);break;case 1:Ul(o,u,m,w);break;case 3:Ul(o,u,m,w),M&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Mf(o)));break;case 12:if(M&2048){Ul(o,u,m,w),o=u.stateNode;try{var D=u.memoizedProps,Z=D.id,ge=D.onPostCommit;typeof ge=="function"&&ge(Z,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Re){Fr(u,u.return,Re)}}else Ul(o,u,m,w);break;case 31:Ul(o,u,m,w);break;case 13:Ul(o,u,m,w);break;case 23:break;case 22:D=u.stateNode,Z=u.alternate,u.memoizedState!==null?D._visibility&2?Ul(o,u,m,w):gh(o,u):D._visibility&2?Ul(o,u,m,w):(D._visibility|=2,Bd(o,u,m,w,(u.subtreeFlags&10256)!==0||!1)),M&2048&&k2(Z,u);break;case 24:Ul(o,u,m,w),M&2048&&O2(u.alternate,u);break;default:Ul(o,u,m,w)}}function Bd(o,u,m,w,M){for(M=M&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var D=o,Z=u,ge=m,Re=w,Je=Z.flags;switch(Z.tag){case 0:case 11:case 15:Bd(D,Z,ge,Re,M),hh(8,Z);break;case 23:break;case 22:var ht=Z.stateNode;Z.memoizedState!==null?ht._visibility&2?Bd(D,Z,ge,Re,M):gh(D,Z):(ht._visibility|=2,Bd(D,Z,ge,Re,M)),M&&Je&2048&&k2(Z.alternate,Z);break;case 24:Bd(D,Z,ge,Re,M),M&&Je&2048&&O2(Z.alternate,Z);break;default:Bd(D,Z,ge,Re,M)}u=u.sibling}}function gh(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,w=u,M=w.flags;switch(w.tag){case 22:gh(m,w),M&2048&&k2(w.alternate,w);break;case 24:gh(m,w),M&2048&&O2(w.alternate,w);break;default:gh(m,w)}u=u.sibling}}var mh=8192;function Fd(o,u,m){if(o.subtreeFlags&mh)for(o=o.child;o!==null;)$3(o,u,m),o=o.sibling}function $3(o,u,m){switch(o.tag){case 26:Fd(o,u,m),o.flags&mh&&o.memoizedState!==null&&z9(m,Fl,o.memoizedState,o.memoizedProps);break;case 5:Fd(o,u,m);break;case 3:case 4:var w=Fl;Fl=Ep(o.stateNode.containerInfo),Fd(o,u,m),Fl=w;break;case 22:o.memoizedState===null&&(w=o.alternate,w!==null&&w.memoizedState!==null?(w=mh,mh=16777216,Fd(o,u,m),mh=w):Fd(o,u,m));break;default:Fd(o,u,m)}}function X3(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function vh(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];Za=w,Z3(w,o)}X3(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)J3(o),o=o.sibling}function J3(o){switch(o.tag){case 0:case 11:case 15:vh(o),o.flags&2048&&Uu(9,o,o.return);break;case 3:vh(o);break;case 12:vh(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,fp(o)):vh(o);break;default:vh(o)}}function fp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];Za=w,Z3(w,o)}X3(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Uu(8,u,u.return),fp(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,fp(u));break;default:fp(u)}o=o.sibling}}function Z3(o,u){for(;Za!==null;){var m=Za;switch(m.tag){case 0:case 11:case 15:Uu(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var w=m.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Mf(m.memoizedState.cache)}if(w=m.child,w!==null)w.return=m,Za=w;else e:for(m=o;Za!==null;){w=Za;var M=w.sibling,D=w.return;if(q3(w),w===m){Za=null;break e}if(M!==null){M.return=D,Za=M;break e}Za=D}}}var n9={getCacheForType:function(o){var u=ka(Di),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m},cacheSignal:function(){return ka(Di).controller.signal}},r9=typeof WeakMap=="function"?WeakMap:Map,Mr=0,ri=null,tr=null,sr=0,Br=0,Bs=null,zu=!1,Ud=!1,R2=!1,Xc=0,Wi=0,qu=0,Lf=0,P2=0,Fs=0,zd=0,yh=null,Cs=null,D2=!1,dp=0,Q3=0,hp=1/0,pp=null,Hu=null,Ra=0,Vu=null,qd=null,Jc=0,L2=0,j2=null,eE=null,xh=0,B2=null;function Us(){return(Mr&2)!==0&&sr!==0?sr&-sr:he.T!==null?V2():gr()}function tE(){if(Fs===0)if((sr&536870912)===0||er){var o=at;at<<=1,(at&3932160)===0&&(at=262144),Fs=o}else Fs=536870912;return o=vi.current,o!==null&&(o.flags|=32),Fs}function Ns(o,u,m){(o===ri&&(Br===2||Br===9)||o.cancelPendingCommit!==null)&&(Hd(o,0),Gu(o,sr,Fs,!1)),nn(o,m),((Mr&2)===0||o!==ri)&&(o===ri&&((Mr&2)===0&&(Lf|=m),Wi===4&&Gu(o,sr,Fs,!1)),mc(o))}function nE(o,u,m){if((Mr&6)!==0)throw Error(r(327));var w=!m&&(u&127)===0&&(u&o.expiredLanes)===0||hr(o,u),M=w?o9(o,u):U2(o,u,!0),D=w;do{if(M===0){Ud&&!w&&Gu(o,u,0,!1);break}else{if(m=o.current.alternate,D&&!i9(m)){M=U2(o,u,!1),D=!1;continue}if(M===2){if(D=u,o.errorRecoveryDisabledLanes&D)var Z=0;else Z=o.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){u=Z;e:{var ge=o;M=yh;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(Hd(ge,Z).flags|=256),Z=U2(ge,Z,!1),Z!==2){if(R2&&!Re){ge.errorRecoveryDisabledLanes|=D,Lf|=D,M=4;break e}D=Cs,Cs=M,D!==null&&(Cs===null?Cs=D:Cs.push.apply(Cs,D))}M=Z}if(D=!1,M!==2)continue}}if(M===1){Hd(o,0),Gu(o,u,0,!0);break}e:{switch(w=o,D=M,D){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Gu(w,u,Fs,!zu);break e;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(M=dp+300-dn(),10<M)){if(Gu(w,u,Fs,!zu),Vt(w,0,!0)!==0)break e;Jc=u,w.timeoutHandle=RE(rE.bind(null,w,m,Cs,pp,D2,u,Fs,Lf,zd,zu,D,"Throttled",-0,0),M);break e}rE(w,m,Cs,pp,D2,u,Fs,Lf,zd,zu,D,null,-0,0)}}break}while(!0);mc(o)}function rE(o,u,m,w,M,D,Z,ge,Re,Je,ht,yt,et,it){if(o.timeoutHandle=-1,yt=u.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:za},$3(u,D,yt);var Jt=(D&62914560)===D?dp-dn():(D&4194048)===D?Q3-dn():0;if(Jt=q9(yt,Jt),Jt!==null){Jc=D,o.cancelPendingCommit=Jt(fE.bind(null,o,u,D,m,w,M,Z,ge,Re,ht,yt,null,et,it)),Gu(o,D,Z,!Je);return}}fE(o,u,D,m,w,M,Z,ge,Re)}function i9(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var w=0;w<m.length;w++){var M=m[w],D=M.getSnapshot;M=M.value;try{if(!S(D(),M))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Gu(o,u,m,w){u&=~P2,u&=~Lf,o.suspendedLanes|=u,o.pingedLanes&=~u,w&&(o.warmLanes|=u),w=o.expirationTimes;for(var M=u;0<M;){var D=31-Ft(M),Z=1<<D;w[D]=-1,M&=~Z}m!==0&&is(o,m,u)}function gp(){return(Mr&6)===0?(bh(0),!1):!0}function F2(){if(tr!==null){if(Br===0)var o=tr.return;else o=tr,ol=sc=null,kd(o),bt=null,Qt=0,o=tr;for(;o!==null;)P3(o.alternate,o),o=o.return;tr=null}}function Hd(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,E9(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Jc=0,F2(),ri=o,tr=m=ps(o.current,null),sr=u,Br=0,Bs=null,zu=!1,Ud=hr(o,u),R2=!1,zd=Fs=P2=Lf=qu=Wi=0,Cs=yh=null,D2=!1,(u&8)!==0&&(u|=u&32);var w=o.entangledLanes;if(w!==0)for(o=o.entanglements,w&=u;0<w;){var M=31-Ft(w),D=1<<M;u|=o[M],w&=~D}return Xc=u,Ef(),m}function iE(o,u){mn=null,he.H=uh,u===Le||u===Ne?(u=mt(),Br=3):u===Ke?(u=mt(),Br=4):Br=u===v2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Bs=u,tr===null&&(Wi=1,ip(o,gs(u,o.current)))}function aE(){var o=vi.current;return o===null?!0:(sr&4194048)===sr?fr===null:(sr&62914560)===sr||(sr&536870912)!==0?o===fr:!1}function oE(){var o=he.H;return he.H=uh,o===null?uh:o}function sE(){var o=he.A;return he.A=n9,o}function mp(){Wi=4,zu||(sr&4194048)!==sr&&vi.current!==null||(Ud=!0),(qu&134217727)===0&&(Lf&134217727)===0||ri===null||Gu(ri,sr,Fs,!1)}function U2(o,u,m){var w=Mr;Mr|=2;var M=oE(),D=sE();(ri!==o||sr!==u)&&(pp=null,Hd(o,u)),u=!1;var Z=Wi;e:do try{if(Br!==0&&tr!==null){var ge=tr,Re=Bs;switch(Br){case 8:F2(),Z=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(u=!0);var Je=Br;if(Br=0,Bs=null,Vd(o,ge,Re,Je),m&&Ud){Z=0;break e}break;default:Je=Br,Br=0,Bs=null,Vd(o,ge,Re,Je)}}a9(),Z=Wi;break}catch(ht){iE(o,ht)}while(!0);return u&&o.shellSuspendCounter++,ol=sc=null,Mr=w,he.H=M,he.A=D,tr===null&&(ri=null,sr=0,Ef()),Z}function a9(){for(;tr!==null;)lE(tr)}function o9(o,u){var m=Mr;Mr|=2;var w=oE(),M=sE();ri!==o||sr!==u?(pp=null,hp=dn()+500,Hd(o,u)):Ud=hr(o,u);e:do try{if(Br!==0&&tr!==null){u=tr;var D=Bs;t:switch(Br){case 1:Br=0,Bs=null,Vd(o,u,D,1);break;case 2:case 9:if(Ge(D)){Br=0,Bs=null,cE(u);break}u=function(){Br!==2&&Br!==9||ri!==o||(Br=7),mc(o)},D.then(u,u);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:Ge(D)?(Br=0,Bs=null,cE(u)):(Br=0,Bs=null,Vd(o,u,D,7));break;case 5:var Z=null;switch(tr.tag){case 26:Z=tr.memoizedState;case 5:case 27:var ge=tr;if(Z?KE(Z):ge.stateNode.complete){Br=0,Bs=null;var Re=ge.sibling;if(Re!==null)tr=Re;else{var Je=ge.return;Je!==null?(tr=Je,vp(Je)):tr=null}break t}}Br=0,Bs=null,Vd(o,u,D,5);break;case 6:Br=0,Bs=null,Vd(o,u,D,6);break;case 8:F2(),Wi=6;break e;default:throw Error(r(462))}}s9();break}catch(ht){iE(o,ht)}while(!0);return ol=sc=null,he.H=w,he.A=M,Mr=m,tr!==null?0:(ri=null,sr=0,Ef(),Wi)}function s9(){for(;tr!==null&&!rn();)lE(tr)}function lE(o){var u=O3(o.alternate,o,Xc);o.memoizedProps=o.pendingProps,u===null?vp(o):tr=u}function cE(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=N3(m,u,u.pendingProps,u.type,void 0,sr);break;case 11:u=N3(m,u,u.pendingProps,u.type.render,u.ref,sr);break;case 5:kd(u);default:P3(m,u),u=tr=_f(u,Xc),u=O3(m,u,Xc)}o.memoizedProps=o.pendingProps,u===null?vp(o):tr=u}function Vd(o,u,m,w){ol=sc=null,kd(u),bt=null,Qt=0;var M=u.return;try{if($L(o,M,u,m,sr)){Wi=1,ip(o,gs(m,o.current)),tr=null;return}}catch(D){if(M!==null)throw tr=M,D;Wi=1,ip(o,gs(m,o.current)),tr=null;return}u.flags&32768?(er||w===1?o=!0:Ud||(sr&536870912)!==0?o=!1:(zu=o=!0,(w===2||w===9||w===3||w===6)&&(w=vi.current,w!==null&&w.tag===13&&(w.flags|=16384))),uE(u,o)):vp(u)}function vp(o){var u=o;do{if((u.flags&32768)!==0){uE(u,zu);return}o=u.return;var m=ZL(u.alternate,u,Xc);if(m!==null){tr=m;return}if(u=u.sibling,u!==null){tr=u;return}tr=u=o}while(u!==null);Wi===0&&(Wi=5)}function uE(o,u){do{var m=QL(o.alternate,o);if(m!==null){m.flags&=32767,tr=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){tr=o;return}tr=o=m}while(o!==null);Wi=6,tr=null}function fE(o,u,m,w,M,D,Z,ge,Re){o.cancelPendingCommit=null;do yp();while(Ra!==0);if((Mr&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(D=u.lanes|u.childLanes,D|=vd,Bi(o,m,D,Z,ge,Re),o===ri&&(tr=ri=null,sr=0),qd=u,Vu=o,Jc=m,L2=D,j2=M,eE=w,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,f9(Sn,function(){return mE(),null})):(o.callbackNode=null,o.callbackPriority=0),w=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||w){w=he.T,he.T=null,M=Ae.p,Ae.p=2,Z=Mr,Mr|=4;try{e9(o,u,m)}finally{Mr=Z,Ae.p=M,he.T=w}}Ra=1,dE(),hE(),pE()}}function dE(){if(Ra===1){Ra=0;var o=Vu,u=qd,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=he.T,he.T=null;var w=Ae.p;Ae.p=2;var M=Mr;Mr|=4;try{Y3(u,o);var D=Z2,Z=ne(o.containerInfo),ge=D.focusedElem,Re=D.selectionRange;if(Z!==ge&&ge&&ge.ownerDocument&&K(ge.ownerDocument.documentElement,ge)){if(Re!==null&&ue(ge)){var Je=Re.start,ht=Re.end;if(ht===void 0&&(ht=Je),"selectionStart"in ge)ge.selectionStart=Je,ge.selectionEnd=Math.min(ht,ge.value.length);else{var yt=ge.ownerDocument||document,et=yt&&yt.defaultView||window;if(et.getSelection){var it=et.getSelection(),Jt=ge.textContent.length,_n=Math.min(Re.start,Jt),$r=Re.end===void 0?_n:Math.min(Re.end,Jt);!it.extend&&_n>$r&&(Z=$r,$r=_n,_n=Z);var qe=F(ge,_n),je=F(ge,$r);if(qe&&je&&(it.rangeCount!==1||it.anchorNode!==qe.node||it.anchorOffset!==qe.offset||it.focusNode!==je.node||it.focusOffset!==je.offset)){var Xe=yt.createRange();Xe.setStart(qe.node,qe.offset),it.removeAllRanges(),_n>$r?(it.addRange(Xe),it.extend(je.node,je.offset)):(Xe.setEnd(je.node,je.offset),it.addRange(Xe))}}}}for(yt=[],it=ge;it=it.parentNode;)it.nodeType===1&&yt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<yt.length;ge++){var vt=yt[ge];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}Mp=!!J2,Z2=J2=null}finally{Mr=M,Ae.p=w,he.T=m}}o.current=u,Ra=2}}function hE(){if(Ra===2){Ra=0;var o=Vu,u=qd,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=he.T,he.T=null;var w=Ae.p;Ae.p=2;var M=Mr;Mr|=4;try{z3(o,u.alternate,u)}finally{Mr=M,Ae.p=w,he.T=m}}Ra=3}}function pE(){if(Ra===4||Ra===3){Ra=0,an();var o=Vu,u=qd,m=Jc,w=eE;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ra=5:(Ra=0,qd=Vu=null,gE(o,o.pendingLanes));var M=o.pendingLanes;if(M===0&&(Hu=null),Or(m),u=u.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(tn,u,void 0,(u.current.flags&128)===128)}catch{}if(w!==null){u=he.T,M=Ae.p,Ae.p=2,he.T=null;try{for(var D=o.onRecoverableError,Z=0;Z<w.length;Z++){var ge=w[Z];D(ge.value,{componentStack:ge.stack})}}finally{he.T=u,Ae.p=M}}(Jc&3)!==0&&yp(),mc(o),M=o.pendingLanes,(m&261930)!==0&&(M&42)!==0?o===B2?xh++:(xh=0,B2=o):xh=0,bh(0)}}function gE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Mf(u)))}function yp(){return dE(),hE(),pE(),mE()}function mE(){if(Ra!==5)return!1;var o=Vu,u=L2;L2=0;var m=Or(Jc),w=he.T,M=Ae.p;try{Ae.p=32>m?32:m,he.T=null,m=j2,j2=null;var D=Vu,Z=Jc;if(Ra=0,qd=Vu=null,Jc=0,(Mr&6)!==0)throw Error(r(331));var ge=Mr;if(Mr|=4,J3(D.current),K3(D,D.current,Z,m),Mr=ge,bh(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(tn,D)}catch{}return!0}finally{Ae.p=M,he.T=w,gE(o,u)}}function vE(o,u,m){u=gs(m,u),u=m2(o.stateNode,u,2),o=Un(o,u,2),o!==null&&(nn(o,2),mc(o))}function Fr(o,u,m){if(o.tag===3)vE(o,o,m);else for(;u!==null;){if(u.tag===3){vE(u,o,m);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Hu===null||!Hu.has(w))){o=gs(m,o),m=y3(2),w=Un(u,m,2),w!==null&&(x3(m,w,u,o),nn(w,2),mc(w));break}}u=u.return}}function z2(o,u,m){var w=o.pingCache;if(w===null){w=o.pingCache=new r9;var M=new Set;w.set(u,M)}else M=w.get(u),M===void 0&&(M=new Set,w.set(u,M));M.has(m)||(R2=!0,M.add(m),o=l9.bind(null,o,u,m),u.then(o,o))}function l9(o,u,m){var w=o.pingCache;w!==null&&w.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,ri===o&&(sr&m)===m&&(Wi===4||Wi===3&&(sr&62914560)===sr&&300>dn()-dp?(Mr&2)===0&&Hd(o,0):P2|=m,zd===sr&&(zd=0)),mc(o)}function yE(o,u){u===0&&(u=Hn()),o=Rl(o,u),o!==null&&(nn(o,u),mc(o))}function c9(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),yE(o,m)}function u9(o,u){var m=0;switch(o.tag){case 31:case 13:var w=o.stateNode,M=o.memoizedState;M!==null&&(m=M.retryLane);break;case 19:w=o.stateNode;break;case 22:w=o.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(u),yE(o,m)}function f9(o,u){return Zt(o,u)}var xp=null,Gd=null,q2=!1,bp=!1,H2=!1,Yu=0;function mc(o){o!==Gd&&o.next===null&&(Gd===null?xp=Gd=o:Gd=Gd.next=o),bp=!0,q2||(q2=!0,h9())}function bh(o,u){if(!H2&&bp){H2=!0;do for(var m=!1,w=xp;w!==null;){if(o!==0){var M=w.pendingLanes;if(M===0)var D=0;else{var Z=w.suspendedLanes,ge=w.pingedLanes;D=(1<<31-Ft(42|o)+1)-1,D&=M&~(Z&~ge),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(m=!0,AE(w,D))}else D=sr,D=Vt(w,w===ri?D:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(D&3)===0||hr(w,D)||(m=!0,AE(w,D));w=w.next}while(m);H2=!1}}function d9(){xE()}function xE(){bp=q2=!1;var o=0;Yu!==0&&S9()&&(o=Yu);for(var u=dn(),m=null,w=xp;w!==null;){var M=w.next,D=bE(w,u);D===0?(w.next=null,m===null?xp=M:m.next=M,M===null&&(Gd=m)):(m=w,(o!==0||(D&3)!==0)&&(bp=!0)),w=M}Ra!==0&&Ra!==5||bh(o),Yu!==0&&(Yu=0)}function bE(o,u){for(var m=o.suspendedLanes,w=o.pingedLanes,M=o.expirationTimes,D=o.pendingLanes&-62914561;0<D;){var Z=31-Ft(D),ge=1<<Z,Re=M[Z];Re===-1?((ge&m)===0||(ge&w)!==0)&&(M[Z]=pr(ge,u)):Re<=u&&(o.expiredLanes|=ge),D&=~ge}if(u=ri,m=sr,m=Vt(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w=o.callbackNode,m===0||o===u&&(Br===2||Br===9)||o.cancelPendingCommit!==null)return w!==null&&w!==null&&st(w),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||hr(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(w!==null&&st(w),Or(m)){case 2:case 8:m=Fn;break;case 32:m=Sn;break;case 268435456:m=Tn;break;default:m=Sn}return w=wE.bind(null,o),m=Zt(m,w),o.callbackPriority=u,o.callbackNode=m,u}return w!==null&&w!==null&&st(w),o.callbackPriority=2,o.callbackNode=null,2}function wE(o,u){if(Ra!==0&&Ra!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(yp()&&o.callbackNode!==m)return null;var w=sr;return w=Vt(o,o===ri?w:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w===0?null:(nE(o,w,u),bE(o,dn()),o.callbackNode!=null&&o.callbackNode===m?wE.bind(null,o):null)}function AE(o,u){if(yp())return null;nE(o,u,!0)}function h9(){C9(function(){(Mr&6)!==0?Zt(sn,d9):xE()})}function V2(){if(Yu===0){var o=N;o===0&&(o=wn,wn<<=1,(wn&261888)===0&&(wn=256)),Yu=o}return Yu}function SE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ga(""+o)}function EE(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function p9(o,u,m,w,M){if(u==="submit"&&m&&m.stateNode===M){var D=SE((M[Yn]||null).action),Z=w.submitter;Z&&(u=(u=Z[Yn]||null)?SE(u.formAction):Z.getAttribute("formAction"),u!==null&&(D=u,Z=null));var ge=new Lr("action","action",null,w,M);o.push({event:ge,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Yu!==0){var Re=Z?EE(M,Z):new FormData(M);u2(m,{pending:!0,data:Re,method:M.method,action:D},null,Re)}}else typeof D=="function"&&(ge.preventDefault(),Re=Z?EE(M,Z):new FormData(M),u2(m,{pending:!0,data:Re,method:M.method,action:D},D,Re))},currentTarget:M}]})}}for(var G2=0;G2<Ol.length;G2++){var Y2=Ol[G2],g9=Y2.toLowerCase(),m9=Y2[0].toUpperCase()+Y2.slice(1);hs(g9,"on"+m9)}hs(ia,"onAnimationEnd"),hs(Ui,"onAnimationIteration"),hs(yr,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(zi,"onTransitionRun"),hs(Wa,"onTransitionStart"),hs(kl,"onTransitionCancel"),hs(al,"onTransitionEnd"),Ua("onMouseEnter",["mouseout","mouseover"]),Ua("onMouseLeave",["mouseout","mouseover"]),Ua("onPointerEnter",["pointerout","pointerover"]),Ua("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wh));function CE(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var w=o[m],M=w.event;w=w.listeners;e:{var D=void 0;if(u)for(var Z=w.length-1;0<=Z;Z--){var ge=w[Z],Re=ge.instance,Je=ge.currentTarget;if(ge=ge.listener,Re!==D&&M.isPropagationStopped())break e;D=ge,M.currentTarget=Je;try{D(M)}catch(ht){Sf(ht)}M.currentTarget=null,D=Re}else for(Z=0;Z<w.length;Z++){if(ge=w[Z],Re=ge.instance,Je=ge.currentTarget,ge=ge.listener,Re!==D&&M.isPropagationStopped())break e;D=ge,M.currentTarget=Je;try{D(M)}catch(ht){Sf(ht)}M.currentTarget=null,D=Re}}}}function nr(o,u){var m=u[da];m===void 0&&(m=u[da]=new Set);var w=o+"__bubble";m.has(w)||(NE(u,o,2,!1),m.add(w))}function W2(o,u,m){var w=0;u&&(w|=4),NE(m,o,w,u)}var wp="_reactListening"+Math.random().toString(36).slice(2);function K2(o){if(!o[wp]){o[wp]=!0,xt.forEach(function(m){m!=="selectionchange"&&(v9.has(m)||W2(m,!1,o),W2(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[wp]||(u[wp]=!0,W2("selectionchange",!1,u))}}function NE(o,u,m,w){switch(t4(u)){case 2:var M=G9;break;case 8:M=Y9;break;default:M=cy}m=M.bind(null,u,m,o),M=void 0,!Dc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(M=!0),w?M!==void 0?o.addEventListener(u,m,{capture:!0,passive:M}):o.addEventListener(u,m,!0):M!==void 0?o.addEventListener(u,m,{passive:M}):o.addEventListener(u,m,!1)}function $2(o,u,m,w,M){var D=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var Z=w.tag;if(Z===3||Z===4){var ge=w.stateNode.containerInfo;if(ge===M)break;if(Z===4)for(Z=w.return;Z!==null;){var Re=Z.tag;if((Re===3||Re===4)&&Z.stateNode.containerInfo===M)return;Z=Z.return}for(;ge!==null;){if(Z=Pr(ge),Z===null)return;if(Re=Z.tag,Re===5||Re===6||Re===26||Re===27){w=D=Z;continue e}ge=ge.parentNode}}w=w.return}Iu(function(){var Je=D,ht=Cl(m),yt=[];e:{var et=Af.get(o);if(et!==void 0){var it=Lr,Jt=o;switch(o){case"keypress":if(ma(m)===0)break e;case"keydown":case"keyup":it=Wn;break;case"focusin":Jt="focus",it=Ds;break;case"focusout":Jt="blur",it=Ds;break;case"beforeblur":case"afterblur":it=Ds;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=bo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Pi;break;case ia:case Ui:case yr:it=B;break;case al:it=Qr;break;case"scroll":case"scrollend":it=_l;break;case"wheel":it=Vo;break;case"copy":case"cut":case"paste":it=Ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Nn;break;case"toggle":case"beforetoggle":it=Il}var _n=(u&4)!==0,$r=!_n&&(o==="scroll"||o==="scrollend"),qe=_n?et!==null?et+"Capture":null:et;_n=[];for(var je=Je,Xe;je!==null;){var vt=je;if(Xe=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||Xe===null||qe===null||(vt=gn(je,qe),vt!=null&&_n.push(Ah(je,vt,Xe))),$r)break;je=je.return}0<_n.length&&(et=new it(et,Jt,null,m,ht),yt.push({event:et,listeners:_n}))}}if((u&7)===0){e:{if(et=o==="mouseover"||o==="pointerover",it=o==="mouseout"||o==="pointerout",et&&m!==zo&&(Jt=m.relatedTarget||m.fromElement)&&(Pr(Jt)||Jt[hi]))break e;if((it||et)&&(et=ht.window===ht?ht:(et=ht.ownerDocument)?et.defaultView||et.parentWindow:window,it?(Jt=m.relatedTarget||m.toElement,it=Je,Jt=Jt?Pr(Jt):null,Jt!==null&&($r=a(Jt),_n=Jt.tag,Jt!==$r||_n!==5&&_n!==27&&_n!==6)&&(Jt=null)):(it=null,Jt=Je),it!==Jt)){if(_n=or,vt="onMouseLeave",qe="onMouseEnter",je="mouse",(o==="pointerout"||o==="pointerover")&&(_n=Nn,vt="onPointerLeave",qe="onPointerEnter",je="pointer"),$r=it==null?et:el(it),Xe=Jt==null?et:el(Jt),et=new _n(vt,je+"leave",it,m,ht),et.target=$r,et.relatedTarget=Xe,vt=null,Pr(ht)===Je&&(_n=new _n(qe,je+"enter",Jt,m,ht),_n.target=Xe,_n.relatedTarget=$r,vt=_n),$r=vt,it&&Jt)t:{for(_n=y9,qe=it,je=Jt,Xe=0,vt=qe;vt;vt=_n(vt))Xe++;vt=0;for(var xn=je;xn;xn=_n(xn))vt++;for(;0<Xe-vt;)qe=_n(qe),Xe--;for(;0<vt-Xe;)je=_n(je),vt--;for(;Xe--;){if(qe===je||je!==null&&qe===je.alternate){_n=qe;break t}qe=_n(qe),je=_n(je)}_n=null}else _n=null;it!==null&&_E(yt,et,it,_n,!1),Jt!==null&&$r!==null&&_E(yt,$r,Jt,_n,!0)}}e:{if(et=Je?el(Je):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var Ar=na;else if(rc(et))if(Ga)Ar=y;else{Ar=d;var on=l}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Je&&_r(Je.elementType)&&(Ar=na):Ar=g;if(Ar&&(Ar=Ar(o,Je))){ui(yt,Ar,m,ht);break e}on&&on(o,et,Je),o==="focusout"&&Je&&et.type==="number"&&Je.memoizedProps.value!=null&&Se(et,"number",et.value)}switch(on=Je?el(Je):window,o){case"focusin":(rc(on)||on.contentEditable==="true")&&(Oe=on,De=Je,Ue=null);break;case"focusout":Ue=De=Oe=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,ft(yt,m,ht);break;case"selectionchange":if(Ee)break;case"keydown":case"keyup":ft(yt,m,ht)}var Gn;if(wo)e:{switch(o){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else ds?il(o,m)&&(lr="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(lr="onCompositionStart");lr&&(Ls&&m.locale!=="ko"&&(ds||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&ds&&(Gn=tl()):(qa=ht,uo="value"in qa?qa.value:qa.textContent,ds=!0)),on=Ap(Je,lr),0<on.length&&(lr=new ze(lr,o,null,m,ht),yt.push({event:lr,listeners:on}),Gn?lr.data=Gn:(Gn=fs(m),Gn!==null&&(lr.data=Gn)))),(Gn=rl?ci(o,m):So(o,m))&&(lr=Ap(Je,"onBeforeInput"),0<lr.length&&(on=new ze("onBeforeInput","beforeinput",null,m,ht),yt.push({event:on,listeners:lr}),on.data=Gn)),p9(yt,o,Je,m,ht)}CE(yt,u)})}function Ah(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Ap(o,u){for(var m=u+"Capture",w=[];o!==null;){var M=o,D=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||D===null||(M=gn(o,m),M!=null&&w.unshift(Ah(o,M,D)),M=gn(o,u),M!=null&&w.push(Ah(o,M,D))),o.tag===3)return w;o=o.return}return[]}function y9(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function _E(o,u,m,w,M){for(var D=u._reactName,Z=[];m!==null&&m!==w;){var ge=m,Re=ge.alternate,Je=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===w)break;ge!==5&&ge!==26&&ge!==27||Je===null||(Re=Je,M?(Je=gn(m,D),Je!=null&&Z.unshift(Ah(m,Je,Re))):M||(Je=gn(m,D),Je!=null&&Z.push(Ah(m,Je,Re)))),m=m.return}Z.length!==0&&o.push({event:u,listeners:Z})}var x9=/\r\n?/g,b9=/\u0000|\uFFFD/g;function TE(o){return(typeof o=="string"?o:""+o).replace(x9,`
`).replace(b9,"")}function IE(o,u){return u=TE(u),TE(o)===u}function Kr(o,u,m,w,M,D){switch(m){case"children":typeof w=="string"?u==="body"||u==="textarea"&&w===""||Uo(o,w):(typeof w=="number"||typeof w=="bigint")&&u!=="body"&&Uo(o,""+w);break;case"className":Fo(o,"class",w);break;case"tabIndex":Fo(o,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Fo(o,m,w);break;case"style":ln(o,w,D);break;case"data":if(u!=="object"){Fo(o,"data",w);break}case"src":case"href":if(w===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(m);break}w=ga(""+w),o.setAttribute(m,w);break;case"action":case"formAction":if(typeof w=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(m==="formAction"?(u!=="input"&&Kr(o,u,"name",M.name,M,null),Kr(o,u,"formEncType",M.formEncType,M,null),Kr(o,u,"formMethod",M.formMethod,M,null),Kr(o,u,"formTarget",M.formTarget,M,null)):(Kr(o,u,"encType",M.encType,M,null),Kr(o,u,"method",M.method,M,null),Kr(o,u,"target",M.target,M,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(m);break}w=ga(""+w),o.setAttribute(m,w);break;case"onClick":w!=null&&(o.onclick=za);break;case"onScroll":w!=null&&nr("scroll",o);break;case"onScrollEnd":w!=null&&nr("scrollend",o);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(m=w.__html,m!=null){if(M.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"multiple":o.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":o.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){o.removeAttribute("xlink:href");break}m=ga(""+w),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(m,""+w):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":w===!0?o.setAttribute(m,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(m,w):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?o.setAttribute(m,w):o.removeAttribute(m);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?o.removeAttribute(m):o.setAttribute(m,w);break;case"popover":nr("beforetoggle",o),nr("toggle",o),Ca(o,"popover",w);break;case"xlinkActuate":co(o,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":co(o,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":co(o,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":co(o,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":co(o,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":co(o,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":co(o,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":co(o,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":co(o,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ca(o,"is",w);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=nc.get(m)||m,Ca(o,m,w))}}function X2(o,u,m,w,M,D){switch(m){case"style":ln(o,w,D);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(m=w.__html,m!=null){if(M.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"children":typeof w=="string"?Uo(o,w):(typeof w=="number"||typeof w=="bigint")&&Uo(o,""+w);break;case"onScroll":w!=null&&nr("scroll",o);break;case"onScrollEnd":w!=null&&nr("scrollend",o);break;case"onClick":w!=null&&(o.onclick=za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(M=m.endsWith("Capture"),u=m.slice(2,M?m.length-7:void 0),D=o[Yn]||null,D=D!=null?D[m]:null,typeof D=="function"&&o.removeEventListener(u,D,M),typeof w=="function")){typeof D!="function"&&D!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,w,M);break e}m in o?o[m]=w:w===!0?o.setAttribute(m,""):Ca(o,m,w)}}}function go(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nr("error",o),nr("load",o);var w=!1,M=!1,D;for(D in m)if(m.hasOwnProperty(D)){var Z=m[D];if(Z!=null)switch(D){case"src":w=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kr(o,u,D,Z,m,null)}}M&&Kr(o,u,"srcSet",m.srcSet,m,null),w&&Kr(o,u,"src",m.src,m,null);return;case"input":nr("invalid",o);var ge=D=Z=M=null,Re=null,Je=null;for(w in m)if(m.hasOwnProperty(w)){var ht=m[w];if(ht!=null)switch(w){case"name":M=ht;break;case"type":Z=ht;break;case"checked":Re=ht;break;case"defaultChecked":Je=ht;break;case"value":D=ht;break;case"defaultValue":ge=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,u));break;default:Kr(o,u,w,ht,m,null)}}Ye(o,D,ge,Re,Je,Z,M,!1);return;case"select":nr("invalid",o),w=Z=D=null;for(M in m)if(m.hasOwnProperty(M)&&(ge=m[M],ge!=null))switch(M){case"value":D=ge;break;case"defaultValue":Z=ge;break;case"multiple":w=ge;default:Kr(o,u,M,ge,m,null)}u=D,m=Z,o.multiple=!!w,u!=null?Lt(o,!!w,u,!1):m!=null&&Lt(o,!!w,m,!0);return;case"textarea":nr("invalid",o),D=M=w=null;for(Z in m)if(m.hasOwnProperty(Z)&&(ge=m[Z],ge!=null))switch(Z){case"value":w=ge;break;case"defaultValue":M=ge;break;case"children":D=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(91));break;default:Kr(o,u,Z,ge,m,null)}pa(o,w,M,D);return;case"option":for(Re in m)if(m.hasOwnProperty(Re)&&(w=m[Re],w!=null))switch(Re){case"selected":o.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Kr(o,u,Re,w,m,null)}return;case"dialog":nr("beforetoggle",o),nr("toggle",o),nr("cancel",o),nr("close",o);break;case"iframe":case"object":nr("load",o);break;case"video":case"audio":for(w=0;w<wh.length;w++)nr(wh[w],o);break;case"image":nr("error",o),nr("load",o);break;case"details":nr("toggle",o);break;case"embed":case"source":case"link":nr("error",o),nr("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Je in m)if(m.hasOwnProperty(Je)&&(w=m[Je],w!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kr(o,u,Je,w,m,null)}return;default:if(_r(u)){for(ht in m)m.hasOwnProperty(ht)&&(w=m[ht],w!==void 0&&X2(o,u,ht,w,m,void 0));return}}for(ge in m)m.hasOwnProperty(ge)&&(w=m[ge],w!=null&&Kr(o,u,ge,w,m,null))}function w9(o,u,m,w){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,D=null,Z=null,ge=null,Re=null,Je=null,ht=null;for(it in m){var yt=m[it];if(m.hasOwnProperty(it)&&yt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Re=yt;default:w.hasOwnProperty(it)||Kr(o,u,it,null,w,yt)}}for(var et in w){var it=w[et];if(yt=m[et],w.hasOwnProperty(et)&&(it!=null||yt!=null))switch(et){case"type":D=it;break;case"name":M=it;break;case"checked":Je=it;break;case"defaultChecked":ht=it;break;case"value":Z=it;break;case"defaultValue":ge=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,u));break;default:it!==yt&&Kr(o,u,et,it,w,yt)}}pi(o,Z,ge,Re,Je,ht,D,M);return;case"select":it=Z=ge=et=null;for(D in m)if(Re=m[D],m.hasOwnProperty(D)&&Re!=null)switch(D){case"value":break;case"multiple":it=Re;default:w.hasOwnProperty(D)||Kr(o,u,D,null,w,Re)}for(M in w)if(D=w[M],Re=m[M],w.hasOwnProperty(M)&&(D!=null||Re!=null))switch(M){case"value":et=D;break;case"defaultValue":ge=D;break;case"multiple":Z=D;default:D!==Re&&Kr(o,u,M,D,w,Re)}u=ge,m=Z,w=it,et!=null?Lt(o,!!m,et,!1):!!w!=!!m&&(u!=null?Lt(o,!!m,u,!0):Lt(o,!!m,m?[]:"",!1));return;case"textarea":it=et=null;for(ge in m)if(M=m[ge],m.hasOwnProperty(ge)&&M!=null&&!w.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:Kr(o,u,ge,null,w,M)}for(Z in w)if(M=w[Z],D=m[Z],w.hasOwnProperty(Z)&&(M!=null||D!=null))switch(Z){case"value":et=M;break;case"defaultValue":it=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==D&&Kr(o,u,Z,M,w,D)}si(o,et,it);return;case"option":for(var Jt in m)if(et=m[Jt],m.hasOwnProperty(Jt)&&et!=null&&!w.hasOwnProperty(Jt))switch(Jt){case"selected":o.selected=!1;break;default:Kr(o,u,Jt,null,w,et)}for(Re in w)if(et=w[Re],it=m[Re],w.hasOwnProperty(Re)&&et!==it&&(et!=null||it!=null))switch(Re){case"selected":o.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Kr(o,u,Re,et,w,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _n in m)et=m[_n],m.hasOwnProperty(_n)&&et!=null&&!w.hasOwnProperty(_n)&&Kr(o,u,_n,null,w,et);for(Je in w)if(et=w[Je],it=m[Je],w.hasOwnProperty(Je)&&et!==it&&(et!=null||it!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:Kr(o,u,Je,et,w,it)}return;default:if(_r(u)){for(var $r in m)et=m[$r],m.hasOwnProperty($r)&&et!==void 0&&!w.hasOwnProperty($r)&&X2(o,u,$r,void 0,w,et);for(ht in w)et=w[ht],it=m[ht],!w.hasOwnProperty(ht)||et===it||et===void 0&&it===void 0||X2(o,u,ht,et,w,it);return}}for(var qe in m)et=m[qe],m.hasOwnProperty(qe)&&et!=null&&!w.hasOwnProperty(qe)&&Kr(o,u,qe,null,w,et);for(yt in w)et=w[yt],it=m[yt],!w.hasOwnProperty(yt)||et===it||et==null&&it==null||Kr(o,u,yt,et,w,it)}function ME(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A9(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,m=performance.getEntriesByType("resource"),w=0;w<m.length;w++){var M=m[w],D=M.transferSize,Z=M.initiatorType,ge=M.duration;if(D&&ge&&ME(Z)){for(Z=0,ge=M.responseEnd,w+=1;w<m.length;w++){var Re=m[w],Je=Re.startTime;if(Je>ge)break;var ht=Re.transferSize,yt=Re.initiatorType;ht&&ME(yt)&&(Re=Re.responseEnd,Z+=ht*(Re<ge?1:(ge-Je)/(Re-Je)))}if(--w,u+=8*(D+Z)/(M.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var J2=null,Z2=null;function Sp(o){return o.nodeType===9?o:o.ownerDocument}function kE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Q2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ey=null;function S9(){var o=window.event;return o&&o.type==="popstate"?o===ey?!1:(ey=o,!0):(ey=null,!1)}var RE=typeof setTimeout=="function"?setTimeout:void 0,E9=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,C9=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(o){return PE.resolve(null).then(o).catch(N9)}:RE;function N9(o){setTimeout(function(){throw o})}function Wu(o){return o==="head"}function DE(o,u){var m=u,w=0;do{var M=m.nextSibling;if(o.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"||m==="/&"){if(w===0){o.removeChild(M),$d(u);return}w--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")w++;else if(m==="html")Sh(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,Sh(m);for(var D=m.firstChild;D;){var Z=D.nextSibling,ge=D.nodeName;D[Bo]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&D.rel.toLowerCase()==="stylesheet"||m.removeChild(D),D=Z}}else m==="body"&&Sh(o.ownerDocument.body);m=M}while(m);$d(u)}function LE(o,u){var m=o;o=0;do{var w=m.nextSibling;if(m.nodeType===1?u?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(u?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),w&&w.nodeType===8)if(m=w.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=w}while(m)}function ty(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":ty(m),Qi(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function _9(o,u,m,w){for(;o.nodeType===1;){var M=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!w&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(w){if(!o[Bo])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(D=o.getAttribute("rel"),D==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(D!==M.rel||o.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||o.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||o.getAttribute("title")!==(M.title==null?null:M.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(D=o.getAttribute("src"),(D!==(M.src==null?null:M.src)||o.getAttribute("type")!==(M.type==null?null:M.type)||o.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&D&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var D=M.name==null?null:""+M.name;if(M.type==="hidden"&&o.getAttribute("name")===D)return o}else return o;if(o=cl(o.nextSibling),o===null)break}return null}function T9(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=cl(o.nextSibling),o===null))return null;return o}function jE(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=cl(o.nextSibling),o===null))return null;return o}function ny(o){return o.data==="$?"||o.data==="$~"}function ry(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function I9(o,u){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||m.readyState!=="loading")u();else{var w=function(){u(),m.removeEventListener("DOMContentLoaded",w)};m.addEventListener("DOMContentLoaded",w),o._reactRetry=w}}function cl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var iy=null;function BE(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(u===0)return cl(o.nextSibling);u--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||u++}o=o.nextSibling}return null}function FE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(u===0)return o;u--}else m!=="/$"&&m!=="/&"||u++}o=o.previousSibling}return null}function UE(o,u,m){switch(u=Sp(m),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Sh(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Qi(o)}var ul=new Map,zE=new Set;function Ep(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zc=Ae.d;Ae.d={f:M9,r:k9,D:O9,C:R9,L:P9,m:D9,X:j9,S:L9,M:B9};function M9(){var o=Zc.f(),u=gp();return o||u}function k9(o){var u=Xn(o);u!==null&&u.tag===5&&u.type==="form"?i3(u):Zc.r(o)}var Yd=typeof document>"u"?null:document;function qE(o,u,m){var w=Yd;if(w&&typeof u=="string"&&u){var M=In(u);M='link[rel="'+o+'"][href="'+M+'"]',typeof m=="string"&&(M+='[crossorigin="'+m+'"]'),zE.has(M)||(zE.add(M),o={rel:o,crossOrigin:m,href:u},w.querySelector(M)===null&&(u=w.createElement("link"),go(u,"link",o),Zr(u),w.head.appendChild(u)))}}function O9(o){Zc.D(o),qE("dns-prefetch",o,null)}function R9(o,u){Zc.C(o,u),qE("preconnect",o,u)}function P9(o,u,m){Zc.L(o,u,m);var w=Yd;if(w&&o&&u){var M='link[rel="preload"][as="'+In(u)+'"]';u==="image"&&m&&m.imageSrcSet?(M+='[imagesrcset="'+In(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(M+='[imagesizes="'+In(m.imageSizes)+'"]')):M+='[href="'+In(o)+'"]';var D=M;switch(u){case"style":D=Wd(o);break;case"script":D=Kd(o)}ul.has(D)||(o=v({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),ul.set(D,o),w.querySelector(M)!==null||u==="style"&&w.querySelector(Eh(D))||u==="script"&&w.querySelector(Ch(D))||(u=w.createElement("link"),go(u,"link",o),Zr(u),w.head.appendChild(u)))}}function D9(o,u){Zc.m(o,u);var m=Yd;if(m&&o){var w=u&&typeof u.as=="string"?u.as:"script",M='link[rel="modulepreload"][as="'+In(w)+'"][href="'+In(o)+'"]',D=M;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Kd(o)}if(!ul.has(D)&&(o=v({rel:"modulepreload",href:o},u),ul.set(D,o),m.querySelector(M)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Ch(D)))return}w=m.createElement("link"),go(w,"link",o),Zr(w),m.head.appendChild(w)}}}function L9(o,u,m){Zc.S(o,u,m);var w=Yd;if(w&&o){var M=ea(w).hoistableStyles,D=Wd(o);u=u||"default";var Z=M.get(D);if(!Z){var ge={loading:0,preload:null};if(Z=w.querySelector(Eh(D)))ge.loading=5;else{o=v({rel:"stylesheet",href:o,"data-precedence":u},m),(m=ul.get(D))&&ay(o,m);var Re=Z=w.createElement("link");Zr(Re),go(Re,"link",o),Re._p=new Promise(function(Je,ht){Re.onload=Je,Re.onerror=ht}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Cp(Z,u,w)}Z={type:"stylesheet",instance:Z,count:1,state:ge},M.set(D,Z)}}}function j9(o,u){Zc.X(o,u);var m=Yd;if(m&&o){var w=ea(m).hoistableScripts,M=Kd(o),D=w.get(M);D||(D=m.querySelector(Ch(M)),D||(o=v({src:o,async:!0},u),(u=ul.get(M))&&oy(o,u),D=m.createElement("script"),Zr(D),go(D,"link",o),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(M,D))}}function B9(o,u){Zc.M(o,u);var m=Yd;if(m&&o){var w=ea(m).hoistableScripts,M=Kd(o),D=w.get(M);D||(D=m.querySelector(Ch(M)),D||(o=v({src:o,async:!0,type:"module"},u),(u=ul.get(M))&&oy(o,u),D=m.createElement("script"),Zr(D),go(D,"link",o),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},w.set(M,D))}}function HE(o,u,m,w){var M=(M=xe.current)?Ep(M):null;if(!M)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Wd(m.href),m=ea(M).hoistableStyles,w=m.get(u),w||(w={type:"style",instance:null,count:0,state:null},m.set(u,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Wd(m.href);var D=ea(M).hoistableStyles,Z=D.get(o);if(Z||(M=M.ownerDocument||M,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(o,Z),(D=M.querySelector(Eh(o)))&&!D._p&&(Z.instance=D,Z.state.loading=5),ul.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ul.set(o,m),D||F9(M,o,m,Z.state))),u&&w===null)throw Error(r(528,""));return Z}if(u&&w!==null)throw Error(r(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Kd(m),m=ea(M).hoistableScripts,w=m.get(u),w||(w={type:"script",instance:null,count:0,state:null},m.set(u,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Wd(o){return'href="'+In(o)+'"'}function Eh(o){return'link[rel="stylesheet"]['+o+"]"}function VE(o){return v({},o,{"data-precedence":o.precedence,precedence:null})}function F9(o,u,m,w){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?w.loading=1:(u=o.createElement("link"),w.preload=u,u.addEventListener("load",function(){return w.loading|=1}),u.addEventListener("error",function(){return w.loading|=2}),go(u,"link",m),Zr(u),o.head.appendChild(u))}function Kd(o){return'[src="'+In(o)+'"]'}function Ch(o){return"script[async]"+o}function GE(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var w=o.querySelector('style[data-href~="'+In(m.href)+'"]');if(w)return u.instance=w,Zr(w),w;var M=v({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return w=(o.ownerDocument||o).createElement("style"),Zr(w),go(w,"style",M),Cp(w,m.precedence,o),u.instance=w;case"stylesheet":M=Wd(m.href);var D=o.querySelector(Eh(M));if(D)return u.state.loading|=4,u.instance=D,Zr(D),D;w=VE(m),(M=ul.get(M))&&ay(w,M),D=(o.ownerDocument||o).createElement("link"),Zr(D);var Z=D;return Z._p=new Promise(function(ge,Re){Z.onload=ge,Z.onerror=Re}),go(D,"link",w),u.state.loading|=4,Cp(D,m.precedence,o),u.instance=D;case"script":return D=Kd(m.src),(M=o.querySelector(Ch(D)))?(u.instance=M,Zr(M),M):(w=m,(M=ul.get(D))&&(w=v({},m),oy(w,M)),o=o.ownerDocument||o,M=o.createElement("script"),Zr(M),go(M,"link",w),o.head.appendChild(M),u.instance=M);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(w=u.instance,u.state.loading|=4,Cp(w,m.precedence,o));return u.instance}function Cp(o,u,m){for(var w=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=w.length?w[w.length-1]:null,D=M,Z=0;Z<w.length;Z++){var ge=w[Z];if(ge.dataset.precedence===u)D=ge;else if(D!==M)break}D?D.parentNode.insertBefore(o,D.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function ay(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function oy(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Np=null;function YE(o,u,m){if(Np===null){var w=new Map,M=Np=new Map;M.set(m,w)}else M=Np,w=M.get(m),w||(w=new Map,M.set(m,w));if(w.has(o))return w;for(w.set(o,null),m=m.getElementsByTagName(o),M=0;M<m.length;M++){var D=m[M];if(!(D[Bo]||D[mr]||o==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=D.getAttribute(u)||"";Z=o+Z;var ge=w.get(Z);ge?ge.push(D):w.set(Z,[D])}}return w}function WE(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function U9(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function KE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function z9(o,u,m,w){if(m.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var M=Wd(w.href),D=u.querySelector(Eh(M));if(D){u=D._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=_p.bind(o),u.then(o,o)),m.state.loading|=4,m.instance=D,Zr(D);return}D=u.ownerDocument||u,w=VE(w),(M=ul.get(M))&&ay(w,M),D=D.createElement("link"),Zr(D);var Z=D;Z._p=new Promise(function(ge,Re){Z.onload=ge,Z.onerror=Re}),go(D,"link",w),m.instance=D}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=_p.bind(o),u.addEventListener("load",m),u.addEventListener("error",m))}}var sy=0;function q9(o,u){return o.stylesheets&&o.count===0&&Ip(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var w=setTimeout(function(){if(o.stylesheets&&Ip(o,o.stylesheets),o.unsuspend){var D=o.unsuspend;o.unsuspend=null,D()}},6e4+u);0<o.imgBytes&&sy===0&&(sy=62500*A9());var M=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Ip(o,o.stylesheets),o.unsuspend)){var D=o.unsuspend;o.unsuspend=null,D()}},(o.imgBytes>sy?50:800)+u);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(w),clearTimeout(M)}}:null}function _p(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Tp=null;function Ip(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Tp=new Map,u.forEach(H9,o),Tp=null,_p.call(o))}function H9(o,u){if(!(u.state.loading&4)){var m=Tp.get(o);if(m)var w=m.get(null);else{m=new Map,Tp.set(o,m);for(var M=o.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<M.length;D++){var Z=M[D];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(m.set(Z.dataset.precedence,Z),w=Z)}w&&m.set(null,w)}M=u.instance,Z=M.getAttribute("data-precedence"),D=m.get(Z)||w,D===w&&m.set(null,M),m.set(Z,M),this.count++,w=_p.bind(this),M.addEventListener("load",w),M.addEventListener("error",w),D?D.parentNode.insertBefore(M,D.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(M,o.firstChild)),u.state.loading|=4}}var Nh={$$typeof:U,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function V9(o,u,m,w,M,D,Z,ge,Re){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=w,this.onUncaughtError=M,this.onCaughtError=D,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function $E(o,u,m,w,M,D,Z,ge,Re,Je,ht,yt){return o=new V9(o,u,m,Z,Re,Je,ht,yt,ge),u=1,D===!0&&(u|=24),D=$a(3,null,null,u),o.current=D,D.stateNode=o,u=Du(),u.refCount++,o.pooledCache=u,u.refCount++,D.memoizedState={element:w,isDehydrated:m,cache:u},It(D),o}function XE(o){return o?(o=Ta,o):Ta}function JE(o,u,m,w,M,D){M=XE(M),w.context===null?w.context=M:w.pendingContext=M,w=En(u),w.payload={element:m},D=D===void 0?null:D,D!==null&&(w.callback=D),m=Un(o,w,u),m!==null&&(Ns(m,o,u),Tr(m,o,u))}function ZE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function ly(o,u){ZE(o,u),(o=o.alternate)&&ZE(o,u)}function QE(o){if(o.tag===13||o.tag===31){var u=Rl(o,67108864);u!==null&&Ns(u,o,67108864),ly(o,67108864)}}function e4(o){if(o.tag===13||o.tag===31){var u=Us();u=Vn(u);var m=Rl(o,u);m!==null&&Ns(m,o,u),ly(o,u)}}var Mp=!0;function G9(o,u,m,w){var M=he.T;he.T=null;var D=Ae.p;try{Ae.p=2,cy(o,u,m,w)}finally{Ae.p=D,he.T=M}}function Y9(o,u,m,w){var M=he.T;he.T=null;var D=Ae.p;try{Ae.p=8,cy(o,u,m,w)}finally{Ae.p=D,he.T=M}}function cy(o,u,m,w){if(Mp){var M=uy(w);if(M===null)$2(o,u,w,kp,m),n4(o,w);else if(K9(M,o,u,m,w))w.stopPropagation();else if(n4(o,w),u&4&&-1<W9.indexOf(o)){for(;M!==null;){var D=Xn(M);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var Z=Nt(D.pendingLanes);if(Z!==0){var ge=D;for(ge.pendingLanes|=2,ge.entangledLanes|=2;Z;){var Re=1<<31-Ft(Z);ge.entanglements[1]|=Re,Z&=~Re}mc(D),(Mr&6)===0&&(hp=dn()+500,bh(0))}}break;case 31:case 13:ge=Rl(D,2),ge!==null&&Ns(ge,D,2),gp(),ly(D,2)}if(D=uy(w),D===null&&$2(o,u,w,kp,m),D===M)break;M=D}M!==null&&w.stopPropagation()}else $2(o,u,w,null,m)}}function uy(o){return o=Cl(o),fy(o)}var kp=null;function fy(o){if(kp=null,o=Pr(o),o!==null){var u=a(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=s(u),o!==null)return o;o=null}else if(m===31){if(o=c(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return kp=o,null}function t4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dn()){case sn:return 2;case Fn:return 8;case Sn:case Rt:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var dy=!1,Ku=null,$u=null,Xu=null,_h=new Map,Th=new Map,Ju=[],W9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n4(o,u){switch(o){case"focusin":case"focusout":Ku=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":_h.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(u.pointerId)}}function Ih(o,u,m,w,M,D){return o===null||o.nativeEvent!==D?(o={blockedOn:u,domEventName:m,eventSystemFlags:w,nativeEvent:D,targetContainers:[M]},u!==null&&(u=Xn(u),u!==null&&QE(u)),o):(o.eventSystemFlags|=w,u=o.targetContainers,M!==null&&u.indexOf(M)===-1&&u.push(M),o)}function K9(o,u,m,w,M){switch(u){case"focusin":return Ku=Ih(Ku,o,u,m,w,M),!0;case"dragenter":return $u=Ih($u,o,u,m,w,M),!0;case"mouseover":return Xu=Ih(Xu,o,u,m,w,M),!0;case"pointerover":var D=M.pointerId;return _h.set(D,Ih(_h.get(D)||null,o,u,m,w,M)),!0;case"gotpointercapture":return D=M.pointerId,Th.set(D,Ih(Th.get(D)||null,o,u,m,w,M)),!0}return!1}function r4(o){var u=Pr(o.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=s(m),u!==null){o.blockedOn=u,Pt(o.priority,function(){e4(m)});return}}else if(u===31){if(u=c(m),u!==null){o.blockedOn=u,Pt(o.priority,function(){e4(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Op(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=uy(o.nativeEvent);if(m===null){m=o.nativeEvent;var w=new m.constructor(m.type,m);zo=w,m.target.dispatchEvent(w),zo=null}else return u=Xn(m),u!==null&&QE(u),o.blockedOn=m,!1;u.shift()}return!0}function i4(o,u,m){Op(o)&&m.delete(u)}function $9(){dy=!1,Ku!==null&&Op(Ku)&&(Ku=null),$u!==null&&Op($u)&&($u=null),Xu!==null&&Op(Xu)&&(Xu=null),_h.forEach(i4),Th.forEach(i4)}function Rp(o,u){o.blockedOn===u&&(o.blockedOn=null,dy||(dy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$9)))}var Pp=null;function a4(o){Pp!==o&&(Pp=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pp===o&&(Pp=null);for(var u=0;u<o.length;u+=3){var m=o[u],w=o[u+1],M=o[u+2];if(typeof w!="function"){if(fy(w||m)===null)continue;break}var D=Xn(m);D!==null&&(o.splice(u,3),u-=3,u2(D,{pending:!0,data:M,method:m.method,action:w},w,M))}}))}function $d(o){function u(Re){return Rp(Re,o)}Ku!==null&&Rp(Ku,o),$u!==null&&Rp($u,o),Xu!==null&&Rp(Xu,o),_h.forEach(u),Th.forEach(u);for(var m=0;m<Ju.length;m++){var w=Ju[m];w.blockedOn===o&&(w.blockedOn=null)}for(;0<Ju.length&&(m=Ju[0],m.blockedOn===null);)r4(m),m.blockedOn===null&&Ju.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(w=0;w<m.length;w+=3){var M=m[w],D=m[w+1],Z=M[Yn]||null;if(typeof D=="function")Z||a4(m);else if(Z){var ge=null;if(D&&D.hasAttribute("formAction")){if(M=D,Z=D[Yn]||null)ge=Z.formAction;else if(fy(M)!==null)continue}else ge=Z.action;typeof ge=="function"?m[w+1]=ge:(m.splice(w,3),w-=3),a4(m)}}}function o4(){function o(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(Z){return M=Z})},focusReset:"manual",scroll:"manual"})}function u(){M!==null&&(M(),M=null),w||setTimeout(m,20)}function m(){if(!w&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,M=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(m,100),function(){w=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),M!==null&&(M(),M=null)}}}function hy(o){this._internalRoot=o}Dp.prototype.render=hy.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var m=u.current,w=Us();JE(m,w,o,u,null,null)},Dp.prototype.unmount=hy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;JE(o.current,2,null,o,null,null),gp(),u[hi]=null}};function Dp(o){this._internalRoot=o}Dp.prototype.unstable_scheduleHydration=function(o){if(o){var u=gr();o={blockedOn:null,target:o,priority:u};for(var m=0;m<Ju.length&&u!==0&&u<Ju[m].priority;m++);Ju.splice(m,0,o),m===0&&r4(o)}};var s4=t.version;if(s4!=="19.2.3")throw Error(r(527,s4,"19.2.3"));Ae.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(u),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var X9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lp.isDisabled&&Lp.supportsFiber)try{tn=Lp.inject(X9),ot=Lp}catch{}}return kh.createRoot=function(o,u){if(!i(o))throw Error(r(299));var m=!1,w="",M=p3,D=g3,Z=m3;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(M=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError)),u=$E(o,1,!1,null,null,m,w,null,M,D,Z,o4),o[hi]=u.current,K2(o),new hy(u)},kh.hydrateRoot=function(o,u,m){if(!i(o))throw Error(r(299));var w=!1,M="",D=p3,Z=g3,ge=m3,Re=null;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(D=m.onUncaughtError),m.onCaughtError!==void 0&&(Z=m.onCaughtError),m.onRecoverableError!==void 0&&(ge=m.onRecoverableError),m.formState!==void 0&&(Re=m.formState)),u=$E(o,1,!0,u,m??null,w,M,Re,D,Z,ge,o4),u.context=XE(null),m=u.current,w=Us(),w=Vn(w),M=En(w),M.callback=null,Un(m,M,w),m=w,u.current.lanes=m,nn(u,m),mc(u),o[hi]=u.current,K2(o),new Dp(u)},kh.version="19.2.3",kh}var v4;function lj(){if(v4)return my.exports;v4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),my.exports=sj(),my.exports}var cj=lj();const uj=Jl(cj);let Yf={enabled:!1};function fj(e){Yf={...Yf,...e,enabled:!!e.enabled}}function Gs(e,t){!Yf.enabled||!Yf.endpoint||!Yf.apiKey||dj({type:"capture",event:e,properties:t,timestamp:Date.now()})}function dj(e){try{fetch(Yf.endpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Yf.apiKey}`},body:JSON.stringify(e),keepalive:!0}).catch(()=>{})}catch{}}var Zo=(e=>(e.ALMACEN="Almacn",e.BEBIDAS="Bebidas",e.LIMPIEZA="Limpieza",e.PERFUMERIA="Perfumera",e.KIOSCO="Kiosco",e.FRESCOS="Frescos",e.OTROS="Otros",e))(Zo||{}),Cn=(e=>(e.DASHBOARD="DASHBOARD",e.INVENTORY="INVENTORY",e.HISTORY="HISTORY",e.ANALYSIS="ANALYSIS",e.SUPPLIERS="SUPPLIERS",e.FINANCE="FINANCE",e.SALES="SALES",e.POS="POS",e.CUSTOMERS="CUSTOMERS",e.PROMOTIONS="PROMOTIONS",e.SECURITY="SECURITY",e.TEAM="TEAM",e.PROFILE="PROFILE",e))(Cn||{}),wc=(e=>(e.IN="ENTRADA",e.OUT="SALIDA",e.ADJUSTMENT="AJUSTE",e))(wc||{}),n0=(e=>(e.LOW_STOCK="low_stock",e.EXPIRATION="expiration",e.VELOCITY="velocity",e))(n0||{}),gl=(e=>(e.INFO="info",e.WARNING="warning",e.CRITICAL="critical",e))(gl||{}),Og=(e=>(e.ALQUILER="Alquiler",e.SERVICIOS="Servicios (Luz/Agua/Internet)",e.SUELDOS="Sueldos",e.IMPUESTOS="Impuestos/Tasas",e.MANTENIMIENTO="Mantenimiento",e.OTROS="Otros Gastos",e))(Og||{}),Da=(e=>(e.ADMIN="Administrador",e.MANAGER="Encargado",e.SELLER="Vendedor",e))(Da||{}),$o=(e=>(e.PERCENTAGE="Porcentaje (%)",e.M_X_N="M x N (Ej: 2x1)",e.BULK="Precio por Cantidad",e))($o||{}),vo=(e=>(e.GEMINI="GEMINI",e.OPENAI="OPENAI",e.ANTHROPIC="ANTHROPIC",e))(vo||{});const y4=[{id:"1",name:"Yerba Mate Playadito 1kg",description:"Yerba mate suave elaborada con palo.",category:Zo.ALMACEN,price:3500,cost:2200,stock:24,minStock:10,lastUpdated:Date.now()},{id:"2",name:"Fernet Branca 750ml",description:"Aperitivo de hierbas, ideal para compartir.",category:Zo.BEBIDAS,price:9500,cost:7e3,stock:12,minStock:5,lastUpdated:Date.now()},{id:"3",name:"Galletitas Chocolinas 170g",description:"Galletitas de chocolate clsicas.",category:Zo.ALMACEN,price:1200,cost:800,stock:5,minStock:15,lastUpdated:Date.now()},{id:"4",name:"Lavandina Ayudn 1L",description:"Lavandina clsica para desinfeccin.",category:Zo.LIMPIEZA,price:1800,cost:1100,stock:30,minStock:8,lastUpdated:Date.now()}],x4=[{id:"1",name:"Dueo (Admin)",role:Da.ADMIN,pin:"1111",password:"admin",avatar:"AVATAR_1",is2FAEnabled:!0,sessions:[{id:"s1",deviceName:"PC Escritorio (Windows)",ip:"192.168.1.5",lastActive:Date.now(),isCurrent:!0},{id:"s2",deviceName:"Samsung S21",ip:"192.168.1.12",lastActive:Date.now()-36e5,isCurrent:!1}]},{id:"2",name:"Juan (Encargado)",role:Da.MANAGER,pin:"2222",password:"juan",avatar:"AVATAR_2",is2FAEnabled:!1,sessions:[{id:"s3",deviceName:"Tablet Mostrador",ip:"192.168.1.20",lastActive:Date.now(),isCurrent:!0}]},{id:"3",name:"Sofa (Vendedora)",role:Da.SELLER,pin:"3333",password:"sofia",avatar:"AVATAR_3",is2FAEnabled:!1}],zn=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),cM="inventariando_products_v1",uM="inventariando_history_v1",fM="inventariando_suppliers_v1",dM="inventariando_sales_v1",hM="inventariando_expenses_v1",pM="inventariando_customers_v1",gM="inventariando_promotions_v1",v5="inventariando_backups_v1",mM="inventariando_users_v1",vM="inventariando_data_logs_v1",yM="inventariando_notif_dismissed_v1",xM="inventariando_notif_read_v1",bM=()=>{try{const e=localStorage.getItem(cM);return e?JSON.parse(e):y4}catch(e){return console.error("Error loading products",e),y4}},wM=e=>{try{localStorage.setItem(cM,JSON.stringify(e))}catch(t){console.error("Error saving products",t)}},y5=()=>{try{const e=localStorage.getItem(uM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading history",e),[]}},Mb=e=>{try{localStorage.setItem(uM,JSON.stringify(e))}catch(t){console.error("Error saving history",t)}},AM=()=>{try{const e=localStorage.getItem(fM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading suppliers",e),[]}},kb=e=>{try{localStorage.setItem(fM,JSON.stringify(e))}catch(t){console.error("Error saving suppliers",t)}},x5=()=>{try{const e=localStorage.getItem(dM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading sales",e),[]}},Ob=e=>{try{localStorage.setItem(dM,JSON.stringify(e))}catch(t){console.error("Error saving sales",t)}},SM=()=>{try{const e=localStorage.getItem(hM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading expenses",e),[]}},Rb=e=>{try{localStorage.setItem(hM,JSON.stringify(e))}catch(t){console.error("Error saving expenses",t)}},EM=()=>{try{const e=localStorage.getItem(pM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading customers",e),[]}},Pb=e=>{try{localStorage.setItem(pM,JSON.stringify(e))}catch(t){console.error("Error saving customers",t)}},CM=()=>{try{const e=localStorage.getItem(gM);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading promotions",e),[]}},Db=e=>{try{localStorage.setItem(gM,JSON.stringify(e))}catch(t){console.error("Error saving promotions",t)}},NM=()=>{try{const e=localStorage.getItem(mM);return e?JSON.parse(e):x4}catch{return x4}},vg=e=>{try{localStorage.setItem(mM,JSON.stringify(e))}catch(t){console.error("Error saving users",t)}},_M=()=>{try{const e=localStorage.getItem(vM);return e?JSON.parse(e):[]}catch{return[]}},by=e=>{try{const t=_M(),n=[e,...t].slice(0,50);localStorage.setItem(vM,JSON.stringify(n))}catch(t){console.error("Error saving data log",t)}},hj=()=>{try{const e=localStorage.getItem(yM);return e?JSON.parse(e):[]}catch{return[]}},b4=e=>{localStorage.setItem(yM,JSON.stringify(e))},pj=()=>{try{const e=localStorage.getItem(xM);return e?JSON.parse(e):[]}catch{return[]}},w4=e=>{localStorage.setItem(xM,JSON.stringify(e))},Lb=(e=!1)=>{const t={products:bM(),movements:y5(),suppliers:AM(),sales:x5(),expenses:SM(),customers:EM(),promotions:CM(),users:NM()},n=JSON.stringify(t),r=(new TextEncoder().encode(n).length/1024).toFixed(2)+" KB",i={id:crypto.randomUUID(),date:Date.now(),size:r,data:n,autoGenerated:e},a=qm(),s=[i,...a].slice(0,10);return localStorage.setItem(v5,JSON.stringify(s)),i},qm=()=>{try{const e=localStorage.getItem(v5);return e?JSON.parse(e):[]}catch{return[]}},TM=e=>{try{const n=qm().find(i=>i.id===e);if(!n)return!1;const r=JSON.parse(n.data);return r.products&&wM(r.products),r.movements&&Mb(r.movements),r.suppliers&&kb(r.suppliers),r.sales&&Ob(r.sales),r.expenses&&Rb(r.expenses),r.customers&&Pb(r.customers),r.promotions&&Db(r.promotions),r.users&&vg(r.users),!0}catch(t){return console.error("Restore failed",t),!1}},gj=e=>{const n=qm().filter(r=>r.id!==e);return localStorage.setItem(v5,JSON.stringify(n)),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),A4=e=>{const t=vj(e);return t.charAt(0).toUpperCase()+t.slice(1)},IM=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),yj=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...c},h)=>j.createElement("svg",{ref:h,...xj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:IM("lucide",i),...!a&&!yj(c)&&{"aria-hidden":"true"},...c},[...s.map(([f,p])=>j.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(e,t)=>{const n=j.forwardRef(({className:r,...i},a)=>j.createElement(bj,{ref:a,iconNode:t,className:IM(`lucide-${mj(A4(e))}`,`lucide-${e}`,r),...i}));return n.displayName=A4(e),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Rg=_t("activity",wj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Sj=_t("arrow-down-left",Aj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],Cj=_t("arrow-down-up",Ej);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],b5=_t("arrow-down",Nj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],w5=_t("arrow-right",_j);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ij=_t("arrow-up-right",Tj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],kj=_t("arrow-up",Mj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Rj=_t("banknote",Oj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yg=_t("bell",Pj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],wy=_t("brain-circuit",Dj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],jj=_t("building-2",Lj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Fj=_t("calculator",Bj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hm=_t("calendar",Uj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qj=_t("camera",zj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vj=_t("chart-column",Hj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Yj=_t("chart-no-axes-column",Gj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Kj=_t("chart-pie",Wj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Xj=_t("check-check",$j);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vm=_t("check",Jj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qj=_t("chevron-left",Zj);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gm=_t("chevron-right",eB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],nB=_t("chevrons-left",tB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],S4=_t("circle-alert",rB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aB=_t("circle-check-big",iB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sB=_t("circle-check",oB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],cB=_t("circle-user",lB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A5=_t("clock",uB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],dB=_t("cloud",fB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],E4=_t("credit-card",hB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xh=_t("database",pB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],S0=_t("dollar-sign",gB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ym=_t("download",mB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],yB=_t("file-braces",vB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],bB=_t("file-spreadsheet",xB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],x1=_t("file-text",wB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],SB=_t("funnel",AB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jb=_t("globe",EB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],MM=_t("history",CB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kM=_t("key",NB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OM=_t("layout-dashboard",_B);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],IB=_t("layout-grid",TB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],kB=_t("life-buoy",MB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],RB=_t("lightbulb",OB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],DB=_t("list",PB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],RM=_t("loader-circle",LB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bb=_t("lock",jB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],PM=_t("log-in",BB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UB=_t("log-out",FB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wm=_t("mail",zB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Km=_t("map-pin",qB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],VB=_t("menu",HB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],b1=_t("message-circle",GB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],WB=_t("message-square",YB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M5 12h14",key:"1ays0h"}]],DM=_t("minus",KB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Qs=_t("moon",$B);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],LM=_t("package-search",XB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZB=_t("package",JB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jh=_t("pen",QB);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],jM=_t("percent",eF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zh=_t("phone",tF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mf=_t("plus",nF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],C4=_t("qr-code",rF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qh=_t("refresh-cw",iF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oF=_t("rotate-ccw",aF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kc=_t("save",sF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],BM=_t("scan-line",lF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$m=_t("search",cF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fF=_t("send",uF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FM=_t("settings",dF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],pF=_t("shield-alert",hF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fb=_t("shield-check",gF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pg=_t("shield",mF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Dg=_t("shopping-bag",vF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ub=_t("shopping-cart",yF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],UM=_t("smartphone",xF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xm=_t("sparkles",bF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zb=_t("star",wF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],SF=_t("store",AF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sl=_t("sun",EF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E0=_t("tag",CF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Js=_t("trash-2",NF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],TF=_t("trending-down",_F);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zf=_t("trending-up",IF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C0=_t("triangle-alert",MF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],S5=_t("truck",kF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RF=_t("upload",OF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e1=_t("user",PF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jm=_t("users",DF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],E5=_t("wallet",LF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BF=_t("wifi-off",jF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],UF=_t("wifi",FF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],io=_t("x",zF);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],HF=_t("zap",qF),VF=({users:e,onLogin:t,isDark:n,onToggleDarkMode:r})=>{const[i,a]=j.useState("SELECT_USER"),[s,c]=j.useState(null),[h,f]=j.useState(""),[p,v]=j.useState(""),[E,A]=j.useState(""),[k,I]=j.useState(!1),R=W=>{c(W),a("PASSWORD"),f(""),A("")},L=W=>{W.preventDefault(),A(""),I(!0),setTimeout(()=>{I(!1);const Q=(s==null?void 0:s.password)||(s==null?void 0:s.pin);s&&h===Q?s.is2FAEnabled?a("2FA"):t(s):(A("Contrasea incorrecta"),f(""))},600)},q=W=>{W.preventDefault(),A(""),I(!0),setTimeout(()=>{I(!1),p==="123456"?s&&t(s):(A("Cdigo invlido. Intenta con 123456"),v(""))},800)},U=W=>{switch(W){case Da.ADMIN:return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300";case Da.MANAGER:return"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300";case Da.SELLER:return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300";default:return"bg-slate-100 text-slate-700"}},H=W=>W&&{AVATAR_1:"bg-blue-500 text-white",AVATAR_2:"bg-purple-500 text-white",AVATAR_3:"bg-emerald-500 text-white",AVATAR_4:"bg-orange-500 text-white",AVATAR_5:"bg-pink-500 text-white"}[W]||"bg-slate-100 dark:bg-slate-800 text-slate-600";return b.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-50 dark:bg-slate-950 flex flex-col items-center justify-center p-6 transition-colors duration-300",children:[r&&b.jsx("button",{onClick:r,className:`absolute top-6 right-6 p-2 rounded-full ${n?"bg-slate-800 hover:bg-slate-700 text-yellow-400":"bg-slate-100 hover:bg-slate-200 text-slate-700"} transition-colors`,title:n?"Cambiar a modo claro":"Cambiar a modo oscuro",children:n?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})}),b.jsxs("div",{className:"w-full max-w-md space-y-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"inline-block p-4 bg-white dark:bg-slate-900 rounded-2xl shadow-lg mb-4",children:b.jsx(SF,{size:40,className:"text-blue-600 dark:text-blue-400"})}),b.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Inventariando"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Acceso al Sistema"})]}),i==="SELECT_USER"&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden animate-fade-in",children:[b.jsx("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800",children:b.jsx("h2",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:"Seleccionar Usuario"})}),b.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map(W=>b.jsxs("button",{onClick:()=>R(W),className:"w-full p-4 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors text-left",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${H(W.avatar)}`,children:b.jsx(e1,{size:20})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:W.name}),b.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-semibold ${U(W.role)}`,children:W.role})]})]}),b.jsx(Gm,{size:20,className:"text-slate-300"})]},W.id))})]}),i==="PASSWORD"&&s&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-6 border border-slate-200 dark:border-slate-800 animate-slide-left",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("button",{onClick:()=>a("SELECT_USER"),className:"text-sm text-slate-400 hover:text-blue-500",children:" Cambiar"}),b.jsxs("div",{className:"flex-1 text-center pr-8",children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:s.name}),b.jsx("p",{className:"text-xs text-slate-500",children:"Ingrese su contrasea"})]})]}),b.jsxs("form",{onSubmit:L,className:"space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx(kM,{className:"absolute left-3 top-3 text-slate-400",size:20}),b.jsx("input",{type:"password",value:h,onChange:W=>{f(W.target.value),A("")},placeholder:"Contrasea",className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl focus:outline-none focus:border-blue-500 text-slate-800 dark:text-slate-100 transition-colors",autoFocus:!0})]}),E&&b.jsx("p",{className:"text-center text-red-500 text-sm font-medium animate-pulse",children:E}),b.jsxs("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 mt-4 disabled:opacity-70 disabled:cursor-not-allowed",children:[k?b.jsx(Qh,{className:"animate-spin",size:20}):b.jsx(PM,{size:20}),"Iniciar Sesin"]})]})]}),i==="2FA"&&s&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-6 border border-slate-200 dark:border-slate-800 animate-slide-left",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("div",{className:"inline-block p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full mb-3",children:b.jsx(Fb,{size:32,className:"text-blue-600 dark:text-blue-400"})}),b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Verificacin de 2 Pasos"}),b.jsx("p",{className:"text-xs text-slate-500 px-4",children:"Hemos enviado un cdigo a tu dispositivo seguro. (Demo: 123456)"})]}),b.jsxs("form",{onSubmit:q,className:"space-y-4",children:[b.jsx("input",{type:"text",value:p,onChange:W=>{const Q=W.target.value.replace(/[^0-9]/g,"").slice(0,6);v(Q),A("")},placeholder:"000000",className:"w-full text-center text-3xl tracking-[0.5em] font-bold py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl focus:outline-none focus:border-blue-500 text-slate-800 dark:text-slate-100",autoFocus:!0}),E&&b.jsx("p",{className:"text-center text-red-500 text-sm font-medium animate-pulse",children:E}),b.jsxs("button",{type:"submit",disabled:k||p.length<6,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 mt-4 disabled:opacity-70 disabled:cursor-not-allowed",children:[k?b.jsx(Qh,{className:"animate-spin",size:20}):b.jsx(Fb,{size:20}),"Verificar"]}),b.jsx("button",{type:"button",onClick:()=>a("PASSWORD"),className:"w-full text-sm text-slate-400 hover:text-slate-600 py-2",children:"Cancelar"})]})]})]})]})};function zM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function br(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zM(e))&&(r&&(r+=" "),r+=t);return r}var GF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function C5(e){if(typeof e!="string")return!1;var t=GF;return t.includes(e)}var YF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WF=new Set(YF);function qM(e){return typeof e!="string"?!1:WF.has(e)}function HM(e){return typeof e=="string"&&e.startsWith("data-")}function es(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(qM(n)||HM(n))&&(t[n]=e[n]);return t}function Qf(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return es(t)}return typeof e=="object"&&!Array.isArray(e)?es(e):null}function Lo(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(qM(n)||HM(n)||C5(n))&&(t[n]=e[n]);return t}function KF(e){return e==null?null:j.isValidElement(e)?Lo(e.props):typeof e=="object"&&!Array.isArray(e)?Lo(e):null}var $F=["children","width","height","viewBox","className","style","title","desc"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function XF(e,t){if(e==null)return{};var n,r,i=JF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var N5=j.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:c,title:h,desc:f}=e,p=XF(e,$F),v=a||{width:r,height:i,x:0,y:0},E=br("recharts-surface",s);return j.createElement("svg",qb({},Lo(p),{className:E,width:r,height:i,style:c,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),j.createElement("title",null,h),j.createElement("desc",null,f),n)}),ZF=["children","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function QF(e,t){if(e==null)return{};var n,r,i=eU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ji=j.forwardRef((e,t)=>{var{children:n,className:r}=e,i=QF(e,ZF),a=br("recharts-layer",r);return j.createElement("g",Hb({className:a},Lo(i),{ref:t}),n)}),_5=lM(),VM=j.createContext(null),tU=()=>j.useContext(VM);function fi(e){return function(){return e}}const GM=Math.cos,Lg=Math.sin,Zl=Math.sqrt,jg=Math.PI,Zm=2*jg,Vb=Math.PI,Gb=2*Vb,jf=1e-6,nU=Gb-jf;function YM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function rU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YM;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YM:rU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,h=r-t,f=i-n,p=s-t,v=c-n,E=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(E>jf)if(!(Math.abs(v*h-f*p)>jf)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let A=r-s,k=i-c,I=h*h+f*f,R=A*A+k*k,L=Math.sqrt(I),q=Math.sqrt(E),U=a*Math.tan((Vb-Math.acos((I+E-R)/(2*L*q)))/2),H=U/q,W=U/L;Math.abs(H-1)>jf&&this._append`L${t+H*p},${n+H*v}`,this._append`A${a},${a},0,0,${+(v*A>p*k)},${this._x1=t+W*h},${this._y1=n+W*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),h=r*Math.sin(i),f=t+c,p=n+h,v=1^s,E=s?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>jf||Math.abs(this._y1-p)>jf)&&this._append`L${f},${p}`,r&&(E<0&&(E=E%Gb+Gb),E>nU?this._append`A${r},${r},0,1,${v},${t-c},${n-h}A${r},${r},0,1,${v},${this._x1=f},${this._y1=p}`:E>jf&&this._append`A${r},${r},0,${+(E>=Vb)},${v},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function T5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iU(t)}function I5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WM(e){this._context=e}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qm(e){return new WM(e)}function KM(e){return e[0]}function $M(e){return e[1]}function XM(e,t){var n=fi(!0),r=null,i=Qm,a=null,s=T5(c);e=typeof e=="function"?e:e===void 0?KM:fi(e),t=typeof t=="function"?t:t===void 0?$M:fi(t);function c(h){var f,p=(h=I5(h)).length,v,E=!1,A;for(r==null&&(a=i(A=s())),f=0;f<=p;++f)!(f<p&&n(v=h[f],f,h))===E&&((E=!E)?a.lineStart():a.lineEnd()),E&&a.point(+e(v,f,h),+t(v,f,h));if(A)return a=null,A+""||null}return c.x=function(h){return arguments.length?(e=typeof h=="function"?h:fi(+h),c):e},c.y=function(h){return arguments.length?(t=typeof h=="function"?h:fi(+h),c):t},c.defined=function(h){return arguments.length?(n=typeof h=="function"?h:fi(!!h),c):n},c.curve=function(h){return arguments.length?(i=h,r!=null&&(a=i(r)),c):i},c.context=function(h){return arguments.length?(h==null?r=a=null:a=i(r=h),c):r},c}function Bp(e,t,n){var r=null,i=fi(!0),a=null,s=Qm,c=null,h=T5(f);e=typeof e=="function"?e:e===void 0?KM:fi(+e),t=typeof t=="function"?t:fi(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$M:fi(+n);function f(v){var E,A,k,I=(v=I5(v)).length,R,L=!1,q,U=new Array(I),H=new Array(I);for(a==null&&(c=s(q=h())),E=0;E<=I;++E){if(!(E<I&&i(R=v[E],E,v))===L)if(L=!L)A=E,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),k=E-1;k>=A;--k)c.point(U[k],H[k]);c.lineEnd(),c.areaEnd()}L&&(U[E]=+e(R,E,v),H[E]=+t(R,E,v),c.point(r?+r(R,E,v):U[E],n?+n(R,E,v):H[E]))}if(q)return c=null,q+""||null}function p(){return XM().defined(i).curve(s).context(a)}return f.x=function(v){return arguments.length?(e=typeof v=="function"?v:fi(+v),r=null,f):e},f.x0=function(v){return arguments.length?(e=typeof v=="function"?v:fi(+v),f):e},f.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:fi(+v),f):r},f.y=function(v){return arguments.length?(t=typeof v=="function"?v:fi(+v),n=null,f):t},f.y0=function(v){return arguments.length?(t=typeof v=="function"?v:fi(+v),f):t},f.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:fi(+v),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(v){return arguments.length?(i=typeof v=="function"?v:fi(!!v),f):i},f.curve=function(v){return arguments.length?(s=v,a!=null&&(c=s(a)),f):s},f.context=function(v){return arguments.length?(v==null?a=c=null:c=s(a=v),f):a},f}class JM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function aU(e){return new JM(e,!0)}function oU(e){return new JM(e,!1)}const M5={draw(e,t){const n=Zl(t/jg);e.moveTo(n,0),e.arc(0,0,n,0,Zm)}},sU={draw(e,t){const n=Zl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ZM=Zl(1/3),lU=ZM*2,cU={draw(e,t){const n=Zl(t/lU),r=n*ZM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},uU={draw(e,t){const n=Zl(t),r=-n/2;e.rect(r,r,n,n)}},fU=.8908130915292852,QM=Lg(jg/10)/Lg(7*jg/10),dU=Lg(Zm/10)*QM,hU=-GM(Zm/10)*QM,pU={draw(e,t){const n=Zl(t*fU),r=dU*n,i=hU*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Zm*a/5,c=GM(s),h=Lg(s);e.lineTo(h*n,-c*n),e.lineTo(c*r-h*i,h*r+c*i)}e.closePath()}},Ay=Zl(3),gU={draw(e,t){const n=-Zl(t/(Ay*3));e.moveTo(0,n*2),e.lineTo(-Ay*n,-n),e.lineTo(Ay*n,-n),e.closePath()}},fl=-.5,dl=Zl(3)/2,Yb=1/Zl(12),mU=(Yb/2+1)*3,vU={draw(e,t){const n=Zl(t/mU),r=n/2,i=n*Yb,a=r,s=n*Yb+n,c=-a,h=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(c,h),e.lineTo(fl*r-dl*i,dl*r+fl*i),e.lineTo(fl*a-dl*s,dl*a+fl*s),e.lineTo(fl*c-dl*h,dl*c+fl*h),e.lineTo(fl*r+dl*i,fl*i-dl*r),e.lineTo(fl*a+dl*s,fl*s-dl*a),e.lineTo(fl*c+dl*h,fl*h-dl*c),e.closePath()}};function yU(e,t){let n=null,r=T5(i);e=typeof e=="function"?e:fi(e||M5),t=typeof t=="function"?t:fi(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:fi(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:fi(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Bg(){}function Fg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ek(e){this._context=e}ek.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xU(e){return new ek(e)}function tk(e){this._context=e}tk.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bU(e){return new tk(e)}function nk(e){this._context=e}nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wU(e){return new nk(e)}function rk(e){this._context=e}rk.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AU(e){return new rk(e)}function N4(e){return e<0?-1:1}function _4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(N4(a)+N4(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function T4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Sy(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function Ug(e){this._context=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sy(this,this._t0,T4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Sy(this,T4(this,n=_4(this,e,t)),n);break;default:Sy(this,this._t0,n=_4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ik(e){this._context=new ak(e)}(ik.prototype=Object.create(Ug.prototype)).point=function(e,t){Ug.prototype.point.call(this,t,e)};function ak(e){this._context=e}ak.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function SU(e){return new Ug(e)}function EU(e){return new ik(e)}function ok(e){this._context=e}ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=I4(e),i=I4(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function I4(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function CU(e){return new ok(e)}function ev(e,t){this._context=e,this._t=t}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function NU(e){return new ev(e,.5)}function _U(e){return new ev(e,0)}function TU(e){return new ev(e,1)}function N0(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,c=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Wb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function IU(e,t){return e[t]}function MU(e){const t=[];return t.key=e,t}function kU(){var e=fi([]),t=Wb,n=N0,r=IU;function i(a){var s=Array.from(e.apply(this,arguments),MU),c,h=s.length,f=-1,p;for(const v of a)for(c=0,++f;c<h;++c)(s[c][f]=[0,+r(v,s[c].key,f,a)]).data=v;for(c=0,p=I5(t(s));c<h;++c)s[p[c]].index=c;return n(s,p),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:fi(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:fi(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Wb:typeof a=="function"?a:fi(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??N0,i):n},i}function OU(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}N0(e,t)}}function RU(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,c=0;s<i;++s)c+=e[s][n][1]||0;r[n][1]+=r[n][0]=-c/2}N0(e,t)}}function PU(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var c=0,h=0,f=0;c<s;++c){for(var p=e[t[c]],v=p[r][1]||0,E=p[r-1][1]||0,A=(v-E)/2,k=0;k<c;++k){var I=e[t[k]],R=I[r][1]||0,L=I[r-1][1]||0;A+=R-L}h+=v,f+=A*v}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,N0(e,t)}}var Ey={},Cy={},M4;function DU(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Cy)),Cy}var Ny={},k4;function sk(){return k4||(k4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ny)),Ny}var _y={},O4;function k5(){return O4||(O4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(_y)),_y}var Ty={},Iy={},R4;function LU(){return R4||(R4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Iy)),Iy}var P4;function O5(){return P4||(P4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LU(),n=k5();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let c=0,h="",f="",p=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<s;){const v=i[c];f?v==="\\"&&c+1<s?(c++,h+=i[c]):v===f?f="":h+=v:p?v==='"'||v==="'"?f=v:v==="]"?(p=!1,a.push(h),h=""):h+=v:v==="["?(p=!0,h&&(a.push(h),h="")):v==="."?h&&(a.push(h),h=""):h+=v,c++}return h&&a.push(h),a}e.toPath=r})(Ty)),Ty}var D4;function R5(){return D4||(D4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DU(),n=sk(),r=k5(),i=O5();function a(c,h,f){if(c==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const p=c[h];return p===void 0?n.isDeepKey(h)?a(c,i.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=c[h];return p===void 0?f:p}default:{if(Array.isArray(h))return s(c,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const p=c[h];return p===void 0?f:p}}}function s(c,h,f){if(h.length===0)return f;let p=c;for(let v=0;v<h.length;v++){if(p==null||t.isUnsafeProperty(h[v]))return f;p=p[h[v]]}return p===void 0?f:p}e.get=a})(Ey)),Ey}var My,L4;function jU(){return L4||(L4=1,My=R5().get),My}var BU=jU();const ed=Jl(BU);var ro=e=>e===0?0:e>0?1:-1,yl=e=>typeof e=="number"&&e!=+e,fu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ht=e=>(typeof e=="number"||e instanceof Number)&&!yl(e),Nc=e=>Ht(e)||typeof e=="string",FU=0,t1=e=>{var t=++FU;return"".concat(e||"").concat(t)},Do=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(t)&&typeof t!="string")return r;var a;if(fu(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return yl(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},lk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Rr(e,t,n){return Ht(e)&&Ht(t)?e+n*(t-e):t}function ck(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ed(r,t))===n)}var Ai=e=>e===null||typeof e>"u",w1=e=>Ai(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function UU(e){return e!=null}function A1(){}var zU=["type","size","sizeType"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function j4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(n),!0).forEach(function(r){qU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qU(e,t,n){return(t=HU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GU(e,t){if(e==null)return{};var n,r,i=YU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uk={symbolCircle:M5,symbolCross:sU,symbolDiamond:cU,symbolSquare:uU,symbolStar:pU,symbolTriangle:gU,symbolWye:vU},WU=Math.PI/180,KU=e=>{var t="symbol".concat(w1(e));return uk[t]||M5},$U=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*WU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XU=(e,t)=>{uk["symbol".concat(w1(e))]=t},P5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=GU(e,zU),a=B4(B4({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var c=()=>{var E=KU(s),A=yU().type(E).size($U(n,r,s)),k=A();if(k!==null)return k},{className:h,cx:f,cy:p}=a,v=Lo(a);return Ht(f)&&Ht(p)&&Ht(n)?j.createElement("path",Kb({},v,{className:br("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};P5.registerSymbol=XU;var fk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,D5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{C5(i)&&(r[i]=(a=>n[i](n,a)))}),r},JU=(e,t,n)=>r=>(e(t,n,r),null),S1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];C5(i)&&typeof a=="function"&&(r||(r={}),r[i]=JU(a,t,n))}),r};function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){QU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QU(e,t,n){return(t=ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ez(e){var t=tz(e,"string");return typeof t=="symbol"?t:t+""}function tz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zi(e,t){var n=ZU({},e),r=t,i=Object.keys(t),a=i.reduce((s,c)=>(s[c]===void 0&&r[c]!==void 0&&(s[c]=r[c]),s),n);return a}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(null,arguments)}function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){rz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rz(e,t,n){return(t=iz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl=32,oz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function sz(e){var{data:t,iconType:n,inactiveColor:r}=e,i=pl/2,a=pl/6,s=pl/3,c=t.inactive?r:t.color,h=n??t.type;if(h==="none")return null;if(h==="plainline"){var f;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:pl,y2:i,className:"recharts-legend-icon"})}if(h==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(pl,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(h==="rect")return j.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pl/8,"h").concat(pl,"v").concat(pl*3/4,"h").concat(-pl,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var p=nz({},t);return delete p.legendIcon,j.cloneElement(t.legendIcon,p)}return j.createElement(P5,{fill:c,cx:i,cy:i,size:pl,sizeType:"diameter",type:h})}function lz(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,c={x:0,y:0,width:pl,height:pl},h={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,v)=>{var E=p.formatter||i,A=br({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var k=p.inactive?a:p.color,I=E?E(p.value,p,v):p.value;return j.createElement("li",zg({className:A,style:h,key:"legend-item-".concat(v)},S1(e,p,v)),j.createElement(N5,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(I," legend icon")},j.createElement(sz,{data:p,iconType:s,inactiveColor:a})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},I))})}var cz=e=>{var t=Zi(e,oz),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},j.createElement(lz,zg({},t,{payload:n})))},ky={},Oy={},z4;function uz(){return z4||(z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],c=r(s);i.has(c)||i.set(c,s)}return Array.from(i.values())}e.uniqBy=t})(Oy)),Oy}var Ry={},q4;function dk(){return q4||(q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ry)),Ry}var Py={},Dy={},Ly={},H4;function fz(){return H4||(H4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Ly)),Ly}var V4;function L5(){return V4||(V4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fz();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Dy)),Dy}var jy={},G4;function dz(){return G4||(G4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(jy)),jy}var Y4;function hz(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L5(),n=dz();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Py)),Py}var By={},Fy={},W4;function pz(){return W4||(W4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Fy)),Fy}var Uy={},zy={},qy={},Hy={},K4;function hk(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Hy)),Hy}var Vy={},$4;function pk(){return $4||($4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Vy)),Vy}var Gy={},X4;function gk(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Gy)),Gy}var J4;function gz(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk(),n=pk(),r=gk();function i(p,v,E){return typeof E!="function"?i(p,v,()=>{}):a(p,v,function A(k,I,R,L,q,U){const H=E(k,I,R,L,q,U);return H!==void 0?!!H:a(k,I,A,U)},new Map)}function a(p,v,E,A){if(v===p)return!0;switch(typeof v){case"object":return s(p,v,E,A);case"function":return Object.keys(v).length>0?a(p,{...v},E,A):r.eq(p,v);default:return t.isObject(p)?typeof v=="string"?v==="":!0:r.eq(p,v)}}function s(p,v,E,A){if(v==null)return!0;if(Array.isArray(v))return h(p,v,E,A);if(v instanceof Map)return c(p,v,E,A);if(v instanceof Set)return f(p,v,E,A);const k=Object.keys(v);if(p==null||n.isPrimitive(p))return k.length===0;if(k.length===0)return!0;if(A!=null&&A.has(v))return A.get(v)===p;A==null||A.set(v,p);try{for(let I=0;I<k.length;I++){const R=k[I];if(!n.isPrimitive(p)&&!(R in p)||v[R]===void 0&&p[R]!==void 0||v[R]===null&&p[R]!==null||!E(p[R],v[R],R,p,v,A))return!1}return!0}finally{A==null||A.delete(v)}}function c(p,v,E,A){if(v.size===0)return!0;if(!(p instanceof Map))return!1;for(const[k,I]of v.entries()){const R=p.get(k);if(E(R,I,k,p,v,A)===!1)return!1}return!0}function h(p,v,E,A){if(v.length===0)return!0;if(!Array.isArray(p))return!1;const k=new Set;for(let I=0;I<v.length;I++){const R=v[I];let L=!1;for(let q=0;q<p.length;q++){if(k.has(q))continue;const U=p[q];let H=!1;if(E(U,R,I,p,v,A)&&(H=!0),H){k.add(q),L=!0;break}}if(!L)return!1}return!0}function f(p,v,E,A){return v.size===0?!0:p instanceof Set?h([...p],[...v],E,A):!1}e.isMatchWith=i,e.isSetMatch=f})(qy)),qy}var Z4;function mk(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gz();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(zy)),zy}var Yy={},Wy={},Ky={},Q4;function mz(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Ky)),Ky}var $y={},eC;function vk(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})($y)),$y}var Xy={},tC;function yk(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",c="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",v="[object Function]",E="[object ArrayBuffer]",A="[object Object]",k="[object Error]",I="[object DataView]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",q="[object Uint16Array]",U="[object Uint32Array]",H="[object BigUint64Array]",W="[object Int8Array]",Q="[object Int16Array]",G="[object Int32Array]",ee="[object BigInt64Array]",Y="[object Float32Array]",me="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=E,e.arrayTag=p,e.bigInt64ArrayTag=ee,e.bigUint64ArrayTag=H,e.booleanTag=i,e.dataViewTag=I,e.dateTag=c,e.errorTag=k,e.float32ArrayTag=Y,e.float64ArrayTag=me,e.functionTag=v,e.int16ArrayTag=Q,e.int32ArrayTag=G,e.int8ArrayTag=W,e.mapTag=h,e.numberTag=r,e.objectTag=A,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=q,e.uint32ArrayTag=U,e.uint8ArrayTag=R,e.uint8ClampedArrayTag=L})(Xy)),Xy}var Jy={},nC;function vz(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Jy)),Jy}var rC;function xk(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mz(),n=vk(),r=yk(),i=pk(),a=vz();function s(p,v){return c(p,void 0,p,new Map,v)}function c(p,v,E,A=new Map,k=void 0){const I=k==null?void 0:k(p,v,E,A);if(I!==void 0)return I;if(i.isPrimitive(p))return p;if(A.has(p))return A.get(p);if(Array.isArray(p)){const R=new Array(p.length);A.set(p,R);for(let L=0;L<p.length;L++)R[L]=c(p[L],L,E,A,k);return Object.hasOwn(p,"index")&&(R.index=p.index),Object.hasOwn(p,"input")&&(R.input=p.input),R}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const R=new RegExp(p.source,p.flags);return R.lastIndex=p.lastIndex,R}if(p instanceof Map){const R=new Map;A.set(p,R);for(const[L,q]of p)R.set(L,c(q,L,E,A,k));return R}if(p instanceof Set){const R=new Set;A.set(p,R);for(const L of p)R.add(c(L,void 0,E,A,k));return R}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const R=new(Object.getPrototypeOf(p)).constructor(p.length);A.set(p,R);for(let L=0;L<p.length;L++)R[L]=c(p[L],L,E,A,k);return R}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const R=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return A.set(p,R),h(R,p,E,A,k),R}if(typeof File<"u"&&p instanceof File){const R=new File([p],p.name,{type:p.type});return A.set(p,R),h(R,p,E,A,k),R}if(typeof Blob<"u"&&p instanceof Blob){const R=new Blob([p],{type:p.type});return A.set(p,R),h(R,p,E,A,k),R}if(p instanceof Error){const R=new p.constructor;return A.set(p,R),R.message=p.message,R.name=p.name,R.stack=p.stack,R.cause=p.cause,h(R,p,E,A,k),R}if(p instanceof Boolean){const R=new Boolean(p.valueOf());return A.set(p,R),h(R,p,E,A,k),R}if(p instanceof Number){const R=new Number(p.valueOf());return A.set(p,R),h(R,p,E,A,k),R}if(p instanceof String){const R=new String(p.valueOf());return A.set(p,R),h(R,p,E,A,k),R}if(typeof p=="object"&&f(p)){const R=Object.create(Object.getPrototypeOf(p));return A.set(p,R),h(R,p,E,A,k),R}return p}function h(p,v,E=p,A,k){const I=[...Object.keys(v),...t.getSymbols(v)];for(let R=0;R<I.length;R++){const L=I[R],q=Object.getOwnPropertyDescriptor(p,L);(q==null||q.writable)&&(p[L]=c(v[L],L,E,A,k))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=c,e.copyProperties=h})(Wy)),Wy}var iC;function yz(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Yy)),Yy}var aC;function xz(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk(),n=yz();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Uy)),Uy}var Zy={},Qy={},ex={},oC;function bz(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk(),n=yk();function r(i,a){return t.cloneDeepWith(i,(s,c,h,f)=>{const p=a==null?void 0:a(s,c,h,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(v,i),v}case n.argumentsTag:{const v={};return t.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}e.cloneDeepWith=r})(ex)),ex}var sC;function wz(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Qy)),Qy}var tx={},nx={},lC;function bk(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(nx)),nx}var rx={},cC;function Az(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(rx)),rx}var uC;function Sz(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sk(),n=bk(),r=Az(),i=O5();function a(s,c){let h;if(Array.isArray(c)?h=c:typeof c=="string"&&t.isDeepKey(c)&&(s==null?void 0:s[c])==null?h=i.toPath(c):h=[c],h.length===0)return!1;let f=s;for(let p=0;p<h.length;p++){const v=h[p];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}e.has=a})(tx)),tx}var fC;function Ez(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk(),n=k5(),r=wz(),i=R5(),a=Sz();function s(c,h){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return h=r.cloneDeep(h),function(f){const p=i.get(f,c);return p===void 0?a.has(f,c):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=s})(Zy)),Zy}var dC;function Cz(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk(),n=pz(),r=xz(),i=Ez();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(By)),By}var hC;function Nz(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uz(),n=dk(),r=hz(),i=Cz();function a(s,c=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(c)):[]}e.uniqBy=a})(ky)),ky}var ix,pC;function _z(){return pC||(pC=1,ix=Nz().uniqBy),ix}var Tz=_z();const gC=Jl(Tz);function wk(e,t,n){return t===!0?gC(e,n):typeof t=="function"?gC(e,t):e}var ax={exports:{}},ox={},sx={exports:{}},lx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function Iz(){if(mC)return lx;mC=1;var e=P0();function t(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function c(v,E){var A=E(),k=r({inst:{value:A,getSnapshot:E}}),I=k[0].inst,R=k[1];return a(function(){I.value=A,I.getSnapshot=E,h(I)&&R({inst:I})},[v,A,E]),i(function(){return h(I)&&R({inst:I}),v(function(){h(I)&&R({inst:I})})},[v]),s(A),A}function h(v){var E=v.getSnapshot;v=v.value;try{var A=E();return!n(v,A)}catch{return!0}}function f(v,E){return E()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return lx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,lx}var vC;function Mz(){return vC||(vC=1,sx.exports=Iz()),sx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC;function kz(){if(yC)return ox;yC=1;var e=P0(),t=Mz();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,h=e.useDebugValue;return ox.useSyncExternalStoreWithSelector=function(f,p,v,E,A){var k=a(null);if(k.current===null){var I={hasValue:!1,value:null};k.current=I}else I=k.current;k=c(function(){function L(Q){if(!q){if(q=!0,U=Q,Q=E(Q),A!==void 0&&I.hasValue){var G=I.value;if(A(G,Q))return H=G}return H=Q}if(G=H,r(U,Q))return G;var ee=E(Q);return A!==void 0&&A(G,ee)?(U=Q,G):(U=Q,H=ee)}var q=!1,U,H,W=v===void 0?null:v;return[function(){return L(p())},W===null?void 0:function(){return L(W())}]},[p,v,E,A]);var R=i(f,k[0],k[1]);return s(function(){I.hasValue=!0,I.value=R},[R]),h(R),R},ox}var xC;function Oz(){return xC||(xC=1,ax.exports=kz()),ax.exports}var Rz=Oz(),j5=j.createContext(null),Pz=e=>e,di=()=>{var e=j.useContext(j5);return e?e.store.dispatch:Pz},xg=()=>{},Dz=()=>xg,Lz=(e,t)=>e===t;function Wt(e){var t=j.useContext(j5);return Rz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dz,t?t.store.getState:xg,t?t.store.getState:xg,t?e:xg,Lz)}function jz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Bz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var bC=e=>Array.isArray(e)?e:[e];function Uz(e){const t=Array.isArray(e[0])?e[0]:e;return Fz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zz(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var qz=class{constructor(e){this.value=e}deref(){return this.value}},Hz=typeof WeakRef<"u"?WeakRef:qz,Vz=0,wC=1;function Fp(){return{s:Vz,v:void 0,o:null,p:null}}function Ak(e,t={}){let n=Fp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var v;let c=n;const{length:h}=arguments;for(let E=0,A=h;E<A;E++){const k=arguments[E];if(typeof k=="function"||typeof k=="object"&&k!==null){let I=c.o;I===null&&(c.o=I=new WeakMap);const R=I.get(k);R===void 0?(c=Fp(),I.set(k,c)):c=R}else{let I=c.p;I===null&&(c.p=I=new Map);const R=I.get(k);R===void 0?(c=Fp(),I.set(k,c)):c=R}}const f=c;let p;if(c.s===wC)p=c.v;else if(p=e.apply(null,arguments),a++,r){const E=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;E!=null&&r(E,p)&&(p=E,a!==0&&a--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Hz(p):p}return f.s=wC,f.v=p,p}return s.clearCache=()=>{n=Fp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Gz(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,c,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),jz(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:v,memoizeOptions:E=[],argsMemoize:A=Ak,argsMemoizeOptions:k=[]}=p,I=bC(E),R=bC(k),L=Uz(i),q=v(function(){return a++,f.apply(null,arguments)},...I),U=A(function(){s++;const W=zz(L,arguments);return c=q.apply(null,W),c},...R);return Object.assign(U,{resultFunc:f,memoizedResultFunc:q,dependencies:L,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:v,argsMemoize:A})};return Object.assign(r,{withTypes:()=>r}),r}var $e=Gz(Ak),Yz=Object.assign((e,t=$e)=>{Bz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,c,h)=>(s[n[h]]=c,s),{}))},{withTypes:()=>Yz}),cx={},ux={},fx={},AC;function Wz(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),c=t(i);if(s===c&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-s:s-c}return 0};e.compareValues=n})(fx)),fx}var dx={},hx={},SC;function Sk(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(hx)),hx}var EC;function Kz(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(dx)),dx}var CC;function $z(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wz(),n=Kz(),r=O5();function i(a,s,c,h){if(a==null)return[];c=h?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(A=>String(A));const f=(A,k)=>{let I=A;for(let R=0;R<k.length&&I!=null;++R)I=I[k[R]];return I},p=(A,k)=>k==null||A==null?k:typeof A=="object"&&"key"in A?Object.hasOwn(k,A.key)?k[A.key]:f(k,A.path):typeof A=="function"?A(k):Array.isArray(A)?f(k,A):typeof k=="object"?k[A]:k,v=s.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||n.isKey(A)?A:{key:A,path:r.toPath(A)}));return a.map(A=>({original:A,criteria:v.map(k=>p(k,A))})).slice().sort((A,k)=>{for(let I=0;I<v.length;I++){const R=t.compareValues(A.criteria[I],k.criteria[I],c[I]);if(R!==0)return R}return 0}).map(A=>A.original)}e.orderBy=i})(ux)),ux}var px={},NC;function Xz(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(c,h)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&h<a?s(p,h+1):i.push(p)}};return s(n,0),i}e.flatten=t})(px)),px}var gx={},_C;function Ek(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk(),n=L5(),r=hk(),i=gk();function a(s,c,h){return r.isObject(h)&&(typeof c=="number"&&n.isArrayLike(h)&&t.isIndex(c)&&c<h.length||typeof c=="string"&&c in h)?i.eq(h[c],s):!1}e.isIterateeCall=a})(gx)),gx}var TC;function Jz(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z(),n=Xz(),r=Ek();function i(a,...s){const c=s.length;return c>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:c>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(cx)),cx}var mx,IC;function Zz(){return IC||(IC=1,mx=Jz().sortBy),mx}var Qz=Zz();const tv=Jl(Qz);var Ck=e=>e.legend.settings,eq=e=>e.legend.size,tq=e=>e.legend.payload,nq=$e([tq,Ck],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tv(r,n):r});function rq(){return Wt(nq)}var Up=1;function Nk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Up||Math.abs(s.left-t.left)>Up||Math.abs(s.top-t.top)>Up||Math.abs(s.width-t.width)>Up)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function mo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iq=typeof Symbol=="function"&&Symbol.observable||"@@observable",MC=iq,vx=()=>Math.random().toString(36).substring(7).split("").join("."),aq={INIT:`@@redux/INIT${vx()}`,REPLACE:`@@redux/REPLACE${vx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vx()}`},qg=aq;function B5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _k(e,t,n){if(typeof e!="function")throw new Error(mo(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mo(1));return n(_k)(e,t)}let r=e,i=t,a=new Map,s=a,c=0,h=!1;function f(){s===a&&(s=new Map,a.forEach((R,L)=>{s.set(L,R)}))}function p(){if(h)throw new Error(mo(3));return i}function v(R){if(typeof R!="function")throw new Error(mo(4));if(h)throw new Error(mo(5));let L=!0;f();const q=c++;return s.set(q,R),function(){if(L){if(h)throw new Error(mo(6));L=!1,f(),s.delete(q),a=null}}}function E(R){if(!B5(R))throw new Error(mo(7));if(typeof R.type>"u")throw new Error(mo(8));if(typeof R.type!="string")throw new Error(mo(17));if(h)throw new Error(mo(9));try{h=!0,i=r(i,R)}finally{h=!1}return(a=s).forEach(q=>{q()}),R}function A(R){if(typeof R!="function")throw new Error(mo(10));r=R,E({type:qg.REPLACE})}function k(){const R=v;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(mo(11));function q(){const H=L;H.next&&H.next(p())}return q(),{unsubscribe:R(q)}},[MC](){return this}}}return E({type:qg.INIT}),{dispatch:E,subscribe:v,getState:p,replaceReducer:A,[MC]:k}}function oq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qg.INIT})>"u")throw new Error(mo(12));if(typeof n(void 0,{type:qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mo(13))})}function Tk(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{oq(n)}catch(a){i=a}return function(s={},c){if(i)throw i;let h=!1;const f={};for(let p=0;p<r.length;p++){const v=r[p],E=n[v],A=s[v],k=E(A,c);if(typeof k>"u")throw c&&c.type,new Error(mo(14));f[v]=k,h=h||k!==A}return h=h||r.length!==Object.keys(s).length,h?f:s}}function Hg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function sq(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(mo(15))};const s={getState:i.getState,dispatch:(h,...f)=>a(h,...f)},c=e.map(h=>h(s));return a=Hg(...c)(i.dispatch),{...i,dispatch:a}}}function Ik(e){return B5(e)&&"type"in e&&typeof e.type=="string"}var Mk=Symbol.for("immer-nothing"),kC=Symbol.for("immer-draftable"),ts=Symbol.for("immer-state");function Hl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ks=Object,_0=Ks.getPrototypeOf,Vg="constructor",nv="prototype",$b="configurable",Gg="enumerable",bg="writable",n1="value",du=e=>!!e&&!!e[ts];function $l(e){var t;return e?kk(e)||rv(e)||!!e[kC]||!!((t=e[Vg])!=null&&t[kC])||iv(e)||av(e):!1}var lq=Ks[nv][Vg].toString(),OC=new WeakMap;function kk(e){if(!e||!F5(e))return!1;const t=_0(e);if(t===null||t===Ks[nv])return!0;const n=Ks.hasOwnProperty.call(t,Vg)&&t[Vg];if(n===Object)return!0;if(!r0(n))return!1;let r=OC.get(n);return r===void 0&&(r=Function.toString.call(n),OC.set(n,r)),r===lq}function E1(e,t,n=!0){C1(e)===0?(n?Reflect.ownKeys(e):Ks.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function C1(e){const t=e[ts];return t?t.type_:rv(e)?1:iv(e)?2:av(e)?3:0}var RC=(e,t,n=C1(e))=>n===2?e.has(t):Ks[nv].hasOwnProperty.call(e,t),Xb=(e,t,n=C1(e))=>n===2?e.get(t):e[t],Yg=(e,t,n,r=C1(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function cq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rv=Array.isArray,iv=e=>e instanceof Map,av=e=>e instanceof Set,F5=e=>typeof e=="object",r0=e=>typeof e=="function",yx=e=>typeof e=="boolean",tu=e=>e.copy_||e.base_,U5=e=>e.modified_?e.copy_:e.base_;function Jb(e,t){if(iv(e))return new Map(e);if(av(e))return new Set(e);if(rv(e))return Array[nv].slice.call(e);const n=kk(e);if(t===!0||t==="class_only"&&!n){const r=Ks.getOwnPropertyDescriptors(e);delete r[ts];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c[bg]===!1&&(c[bg]=!0,c[$b]=!0),(c.get||c.set)&&(r[s]={[$b]:!0,[bg]:!0,[Gg]:c[Gg],[n1]:e[s]})}return Ks.create(_0(e),r)}else{const r=_0(e);if(r!==null&&n)return{...e};const i=Ks.create(r);return Ks.assign(i,e)}}function z5(e,t=!1){return ov(e)||du(e)||!$l(e)||(C1(e)>1&&Ks.defineProperties(e,{set:zp,add:zp,clear:zp,delete:zp}),Ks.freeze(e),t&&E1(e,(n,r)=>{z5(r,!0)},!1)),e}function uq(){Hl(2)}var zp={[n1]:uq};function ov(e){return e===null||!F5(e)?!0:Ks.isFrozen(e)}var Wg="MapSet",Zb="Patches",Ok={};function T0(e){const t=Ok[e];return t||Hl(0,e),t}var fq=e=>!!Ok[e],r1,Rk=()=>r1,dq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:fq(Wg)?T0(Wg):void 0});function PC(e,t){t&&(e.patchPlugin_=T0(Zb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qb(e){ew(e),e.drafts_.forEach(hq),e.drafts_=null}function ew(e){e===r1&&(r1=e.parent_)}var DC=e=>r1=dq(r1,e);function hq(e){const t=e[ts];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ts].modified_&&(Qb(t),Hl(4)),$l(e)&&(e=jC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ts].base_,e,t)}else e=jC(t,n);return pq(t,e,!0),Qb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Mk?e:void 0}function jC(e,t){if(ov(t))return t;const n=t[ts];if(!n)return q5(t,e.handledSet_,e);if(!sv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);Lk(n,e)}return n.copy_}function pq(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&z5(t,n)}function Pk(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var sv=(e,t)=>e.scope_===t,gq=[];function Dk(e,t,n,r){const i=tu(e),a=e.type_;if(r!==void 0&&Xb(i,r,a)===t){Yg(i,r,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;E1(i,(h,f)=>{if(du(f)){const p=c.get(f)||[];p.push(h),c.set(f,p)}})}const s=e.draftLocations_.get(t)??gq;for(const c of s)Yg(i,c,n,a)}function mq(e,t,n){e.callbacks_.push(function(i){var c;const a=t;if(!a||!sv(a,i))return;(c=i.mapSetPlugin_)==null||c.fixSetContents(a);const s=U5(a);Dk(e,a.draft_??a,s,n),Lk(a,i)})}function Lk(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}Pk(e)}}function vq(e,t,n){const{scope_:r}=e;if(du(n)){const i=n[ts];sv(i,r)&&i.callbacks_.push(function(){wg(e);const s=U5(i);Dk(e,n,s,t)})}else $l(n)&&e.callbacks_.push(function(){const a=tu(e);Xb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&q5(Xb(e.copy_,t,e.type_),r.handledSet_,r)})}function q5(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||du(e)||t.has(e)||!$l(e)||ov(e)||(t.add(e),E1(e,(r,i)=>{if(du(i)){const a=i[ts];if(sv(a,n)){const s=U5(a);Yg(e,r,s,e.type_),Pk(a)}}else $l(i)&&q5(i,t,n)})),e}function yq(e,t){const n=rv(e),r={type_:n?1:0,scope_:t?t.scope_:Rk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=H5;n&&(i=[r],a=i1);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,[c,r]}var H5={get(e,t){if(t===ts)return e;const n=tu(e);if(!RC(n,t,e.type_))return xq(e,n,t);const r=n[t];if(e.finalized_||!$l(r))return r;if(r===xx(e.base_,t)){wg(e);const i=e.type_===1?+t:t,a=nw(e.scope_,r,e,i);return e.copy_[i]=a}return r},has(e,t){return t in tu(e)},ownKeys(e){return Reflect.ownKeys(tu(e))},set(e,t,n){const r=jk(tu(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=xx(tu(e),t),a=i==null?void 0:i[ts];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(cq(n,i)&&(n!==void 0||RC(e.base_,t,e.type_)))return!0;wg(e),tw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),vq(e,t,n)),!0},deleteProperty(e,t){return wg(e),xx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),tw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[bg]:!0,[$b]:e.type_!==1||t!=="length",[Gg]:r[Gg],[n1]:n[t]}},defineProperty(){Hl(11)},getPrototypeOf(e){return _0(e.base_)},setPrototypeOf(){Hl(12)}},i1={};E1(H5,(e,t)=>{i1[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});i1.deleteProperty=function(e,t){return i1.set.call(this,e,t,void 0)};i1.set=function(e,t,n){return H5.set.call(this,e[0],t,n,e[0])};function xx(e,t){const n=e[ts];return(n?tu(n):e)[t]}function xq(e,t,n){var i;const r=jk(t,n);return r?n1 in r?r[n1]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function jk(e,t){if(!(t in e))return;let n=_0(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_0(n)}}function tw(e){e.modified_||(e.modified_=!0,e.parent_&&tw(e.parent_))}function wg(e){e.copy_||(e.assigned_=new Map,e.copy_=Jb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(r0(n)&&!r0(r)){const s=r;r=n;const c=this;return function(f=s,...p){return c.produce(f,v=>r.call(this,v,...p))}}r0(r)||Hl(6),i!==void 0&&!r0(i)&&Hl(7);let a;if($l(n)){const s=DC(this),c=nw(s,n,void 0);let h=!0;try{a=r(c),h=!1}finally{h?Qb(s):ew(s)}return PC(s,i),LC(a,s)}else if(!n||!F5(n)){if(a=r(n),a===void 0&&(a=n),a===Mk&&(a=void 0),this.autoFreeze_&&z5(a,!0),i){const s=[],c=[];T0(Zb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:c}),i(s,c)}return a}else Hl(1,n)},this.produceWithPatches=(n,r)=>{if(r0(n))return(c,...h)=>this.produceWithPatches(c,f=>n(f,...h));let i,a;return[this.produce(n,r,(c,h)=>{i=c,a=h}),i,a]},yx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),yx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),yx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$l(t)||Hl(8),du(t)&&(t=Yl(t));const n=DC(this),r=nw(n,t,void 0);return r[ts].isManual_=!0,ew(n),r}finishDraft(t,n){const r=t&&t[ts];(!r||!r.isManual_)&&Hl(9);const{scope_:i}=r;return PC(i,n),LC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=T0(Zb).applyPatches_;return du(t)?i(t,n):this.produce(t,a=>i(a,n))}};function nw(e,t,n,r){const[i,a]=iv(t)?T0(Wg).proxyMap_(t,n):av(t)?T0(Wg).proxySet_(t,n):yq(t,n);return((n==null?void 0:n.scope_)??Rk()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?mq(n,a,r):a.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(a);const{patchPlugin_:f}=h;a.modified_&&f&&f.generatePatches_(a,[],h)}),i}function Yl(e){return du(e)||Hl(10,e),Bk(e)}function Bk(e){if(!$l(e)||ov(e))return e;const t=e[ts];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Jb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Jb(e,!0);return E1(n,(i,a)=>{Yg(n,i,Bk(a))},r),t&&(t.finalized_=!1),n}var wq=new bq,Fk=wq.produce;function Uk(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Aq=Uk(),Sq=Uk,Eq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hg:Hg.apply(null,arguments)};function xl(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Xs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Ik(r)&&r.type===e,n}var zk=class Hh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hh.prototype)}static get[Symbol.species](){return Hh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hh(...t[0].concat(this)):new Hh(...t.concat(this))}};function BC(e){return $l(e)?Fk(e,()=>{}):e}function qp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Cq(e){return typeof e=="boolean"}var Nq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new zk;return n&&(Cq(n)?s.push(Aq):s.push(Sq(n.extraArgument))),s},qk="RTK_autoBatch",Mi=()=>e=>({payload:e,meta:{[qk]:!0}}),FC=e=>t=>{setTimeout(t,e)},Hk=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const c=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FC(10):e.type==="callback"?e.queueNotification:FC(e.timeout),f=()=>{s=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),E=r.subscribe(v);return c.add(p),()=>{E(),c.delete(p)}},dispatch(p){var v;try{return i=!((v=p==null?void 0:p.meta)!=null&&v[qk]),a=!i,a&&(s||(s=!0,h(f))),r.dispatch(p)}finally{i=!0}}})},_q=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new zk(e);return r&&i.push(Hk(typeof r=="object"?r:void 0)),i};function Tq(e){const t=Nq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(B5(n))c=Tk(n);else throw new Error(Xs(1));let h;typeof r=="function"?h=r(t):h=t();let f=Hg;i&&(f=Eq({trace:!1,...typeof i=="object"&&i}));const p=sq(...h),v=_q(p);let E=typeof s=="function"?s(v):v();const A=f(...E);return _k(c,a,A)}function Vk(e){const t={},n=[];let r;const i={addCase(a,s){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Xs(28));if(c in t)throw new Error(Xs(29));return t[c]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function Iq(e){return typeof e=="function"}function Mq(e,t){let[n,r,i]=Vk(t),a;if(Iq(e))a=()=>BC(e());else{const c=BC(e);a=()=>c}function s(c=a(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,v)=>{if(v)if(du(p)){const A=v(p,h);return A===void 0?p:A}else{if($l(p))return Fk(p,E=>v(E,h));{const E=v(p,h);if(E===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return p},c)}return s.getInitialState=a,s}var kq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Oq=(e=21)=>{let t="",n=e;for(;n--;)t+=kq[Math.random()*64|0];return t},Rq=Symbol.for("rtk-slice-createasyncthunk");function Pq(e,t){return`${e}/${t}`}function Dq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Rq];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Xs(11));const c=(typeof i.reducers=="function"?i.reducers(jq()):i.reducers)||{},h=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(H,W){const Q=typeof H=="string"?H:H.type;if(!Q)throw new Error(Xs(12));if(Q in f.sliceCaseReducersByType)throw new Error(Xs(13));return f.sliceCaseReducersByType[Q]=W,p},addMatcher(H,W){return f.sliceMatchers.push({matcher:H,reducer:W}),p},exposeAction(H,W){return f.actionCreators[H]=W,p},exposeCaseReducer(H,W){return f.sliceCaseReducersByName[H]=W,p}};h.forEach(H=>{const W=c[H],Q={reducerName:H,type:Pq(a,H),createNotation:typeof i.reducers=="function"};Fq(W)?zq(Q,W,p,t):Bq(Q,W,p)});function v(){const[H={},W=[],Q=void 0]=typeof i.extraReducers=="function"?Vk(i.extraReducers):[i.extraReducers],G={...H,...f.sliceCaseReducersByType};return Mq(i.initialState,ee=>{for(let Y in G)ee.addCase(Y,G[Y]);for(let Y of f.sliceMatchers)ee.addMatcher(Y.matcher,Y.reducer);for(let Y of W)ee.addMatcher(Y.matcher,Y.reducer);Q&&ee.addDefaultCase(Q)})}const E=H=>H,A=new Map,k=new WeakMap;let I;function R(H,W){return I||(I=v()),I(H,W)}function L(){return I||(I=v()),I.getInitialState()}function q(H,W=!1){function Q(ee){let Y=ee[H];return typeof Y>"u"&&W&&(Y=qp(k,Q,L)),Y}function G(ee=E){const Y=qp(A,W,()=>new WeakMap);return qp(Y,ee,()=>{const me={};for(const[X,J]of Object.entries(i.selectors??{}))me[X]=Lq(J,ee,()=>qp(k,ee,L),W);return me})}return{reducerPath:H,getSelectors:G,get selectors(){return G(Q)},selectSlice:Q}}const U={name:a,reducer:R,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:L,...q(s),injectInto(H,{reducerPath:W,...Q}={}){const G=W??s;return H.inject({reducerPath:G,reducer:R},Q),{...U,...q(G,!0)}}};return U}}function Lq(e,t,n,r){function i(a,...s){let c=t(a);return typeof c>"u"&&r&&(c=n()),e(c,...s)}return i.unwrapped=e,i}var Is=Dq();function jq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Bq({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Uq(r))throw new Error(Xs(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?xl(e,s):xl(e))}function Fq(e){return e._reducerDefinitionType==="asyncThunk"}function Uq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Xs(18));const{payloadCreator:a,fulfilled:s,pending:c,rejected:h,settled:f,options:p}=n,v=i(e,a,p);r.exposeAction(t,v),s&&r.addCase(v.fulfilled,s),c&&r.addCase(v.pending,c),h&&r.addCase(v.rejected,h),f&&r.addMatcher(v.settled,f),r.exposeCaseReducer(t,{fulfilled:s||Hp,pending:c||Hp,rejected:h||Hp,settled:f||Hp})}function Hp(){}var qq="task",Gk="listener",Yk="completed",V5="cancelled",Hq=`task-${V5}`,Vq=`task-${Yk}`,rw=`${Gk}-${V5}`,Gq=`${Gk}-${Yk}`,lv=class{constructor(e){kr(this,"name","TaskAbortError");kr(this,"message");this.code=e,this.message=`${qq} ${V5} (reason: ${e})`}},G5=(e,t)=>{if(typeof e!="function")throw new TypeError(Xs(32))},Kg=()=>{},Wk=(e,t=Kg)=>(e.catch(t),e),Kk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wf=e=>{if(e.aborted)throw new lv(e.reason)};function $k(e,t){let n=Kg;return new Promise((r,i)=>{const a=()=>i(new lv(e.reason));if(e.aborted){a();return}n=Kk(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Kg})}var Yq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof lv?"cancelled":"rejected",error:n}}finally{t==null||t()}},$g=e=>t=>Wk($k(e,t).then(n=>(Wf(e),n))),Xk=e=>{const t=$g(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:p0}=Object,UC={},cv="listenerMiddleware",Wq=(e,t)=>{const n=r=>Kk(e,()=>r.abort(e.reason));return(r,i)=>{G5(r);const a=new AbortController;n(a);const s=Yq(async()=>{Wf(e),Wf(a.signal);const c=await r({pause:$g(a.signal),delay:Xk(a.signal),signal:a.signal});return Wf(a.signal),c},()=>a.abort(Vq));return i!=null&&i.autoJoin&&t.push(s.catch(Kg)),{result:$g(e)(s),cancel(){a.abort(Hq)}}}},Kq=(e,t)=>{const n=async(r,i)=>{Wf(t);let a=()=>{};const c=[new Promise((h,f)=>{let p=e({predicate:r,effect:(v,E)=>{E.unsubscribe(),h([v,E.getState(),E.getOriginalState()])}});a=()=>{p(),f()}})];i!=null&&c.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await $k(t,Promise.race(c));return Wf(t),h}finally{a()}};return(r,i)=>Wk(n(r,i))},Jk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=xl(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xs(21));return G5(a),{predicate:i,type:t,effect:a}},Zk=p0(e=>{const{type:t,predicate:n,effect:r}=Jk(e);return{id:Oq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xs(22))}}},{withTypes:()=>Zk}),zC=(e,t)=>{const{type:n,effect:r,predicate:i}=Jk(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},iw=e=>{e.pending.forEach(t=>{t.abort(rw)})},$q=(e,t)=>()=>{for(const n of t.keys())iw(n);e.clear()},qC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Qk=p0(xl(`${cv}/add`),{withTypes:()=>Qk}),Xq=xl(`${cv}/removeAll`),eO=p0(xl(`${cv}/remove`),{withTypes:()=>eO}),Jq=(...e)=>{console.error(`${cv}/error`,...e)},N1=(e={})=>{const t=new Map,n=new Map,r=A=>{const k=n.get(A)??0;n.set(A,k+1)},i=A=>{const k=n.get(A)??1;k===1?n.delete(A):n.set(A,k-1)},{extra:a,onError:s=Jq}=e;G5(s);const c=A=>(A.unsubscribe=()=>t.delete(A.id),t.set(A.id,A),k=>{A.unsubscribe(),k!=null&&k.cancelActive&&iw(A)}),h=A=>{const k=zC(t,A)??Zk(A);return c(k)};p0(h,{withTypes:()=>h});const f=A=>{const k=zC(t,A);return k&&(k.unsubscribe(),A.cancelActive&&iw(k)),!!k};p0(f,{withTypes:()=>f});const p=async(A,k,I,R)=>{const L=new AbortController,q=Kq(h,L.signal),U=[];try{A.pending.add(L),r(A),await Promise.resolve(A.effect(k,p0({},I,{getOriginalState:R,condition:(H,W)=>q(H,W).then(Boolean),take:q,delay:Xk(L.signal),pause:$g(L.signal),extra:a,signal:L.signal,fork:Wq(L.signal,U),unsubscribe:A.unsubscribe,subscribe:()=>{t.set(A.id,A)},cancelActiveListeners:()=>{A.pending.forEach((H,W,Q)=>{H!==L&&(H.abort(rw),Q.delete(H))})},cancel:()=>{L.abort(rw),A.pending.delete(L)},throwIfCancelled:()=>{Wf(L.signal)}})))}catch(H){H instanceof lv||qC(s,H,{raisedBy:"effect"})}finally{await Promise.all(U),L.abort(Gq),i(A),A.pending.delete(L)}},v=$q(t,n);return{middleware:A=>k=>I=>{if(!Ik(I))return k(I);if(Qk.match(I))return h(I.payload);if(Xq.match(I)){v();return}if(eO.match(I))return f(I.payload);let R=A.getState();const L=()=>{if(R===UC)throw new Error(Xs(23));return R};let q;try{if(q=k(I),t.size>0){const U=A.getState(),H=Array.from(t.values());for(const W of H){let Q=!1;try{Q=W.predicate(I,U,R)}catch(G){Q=!1,qC(s,G,{raisedBy:"predicate"})}Q&&p(W,I,A,L)}}}finally{R=UC}return q},startListening:h,stopListening:f,clearListeners:v}};function Xs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tO=Is({name:"chartLayout",initialState:Zq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Qq,setLayout:eH,setChartSize:tH,setScale:nH}=tO.actions,rH=tO.reducer;function nO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){iH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iH(e,t,n){return(t=aH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t,n){return Ai(e)||Ai(t)?n:Nc(t)?ed(e,t,n):typeof t=="function"?t(e):n}var sH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:c}=t;if((c==="vertical"||c==="horizontal"&&s==="middle")&&a!=="center"&&Ht(e[a]))return s0(s0({},e),{},{[a]:e[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&s!=="middle"&&Ht(e[s]))return s0(s0({},e),{},{[s]:e[s]+(i||0)})}return e},Oc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rO=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,a,s=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||s.push(t),a||s.push(n),s},iO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:c,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:v,niceTicks:E,axisType:A}=e;if(!s)return null;var k=c==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,I=i==="category"&&s.bandwidth?s.bandwidth()/k:0;if(I=A==="angleAxis"&&a&&a.length>=2?ro(a[0]-a[1])*2*I:I,v||E){var R=(v||E||[]).map((L,q)=>{var U=r?r.indexOf(L):L;return{coordinate:s(U)+I,value:L,offset:I,index:q}});return R.filter(L=>!yl(L.coordinate))}return h&&f?f.map((L,q)=>({coordinate:s(L)+I,value:L,index:q,offset:I})):s.ticks&&p!=null?s.ticks(p).map((L,q)=>({coordinate:s(L)+I,value:L,offset:I,index:q})):s.domain().map((L,q)=>({coordinate:s(L)+I,value:r?r[L]:L,index:q,offset:I}))},VC=1e-4,lH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-VC,a=Math.max(r[0],r[1])+VC,s=e(t[0]),c=e(t[n-1]);(s<i||s>a||c<i||c>a)&&e.domain([t[0],t[n-1]])}},cH=(e,t)=>{if(!t||t.length!==2||!Ht(t[0])||!Ht(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ht(e[0])||e[0]<n)&&(i[0]=n),(!Ht(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},uH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var c=yl(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=i,e[s][n][1]=i+c,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1])}},fH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=yl(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},dH={sign:uH,expand:OU,none:N0,silhouette:RU,wiggle:PU,positive:fH},hH=(e,t,n)=>{var r=dH[n],i=kU().keys(t).value((a,s)=>Number(Hr(a,s,0))).order(Wb).offset(r);return i(e)};function aO(e){return e==null?void 0:String(e)}function Xg(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ai(i[t.dataKey])){var c=ck(n,"value",i[t.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var h=Hr(i,Ai(s)?t.dataKey:s);return Ai(h)?null:t.scale(h)}var GC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var c=Hr(a,t.dataKey,t.scale.domain()[s]);return Ai(c)?null:t.scale(c)-i/2+r},pH=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},gH=e=>{var t=e.flat(2).filter(Ht);return[Math.min(...t),Math.max(...t)]},mH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],vH=(e,t,n)=>{if(e!=null)return mH(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,c=s.reduce((h,f)=>{var p=nO(f,t,n),v=gH(p);return[Math.min(h[0],v[0]),Math.max(h[1],v[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},YC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tv(t,p=>p.coordinate),a=1/0,s=1,c=i.length;s<c;s++){var h=i[s],f=i[s-1];a=Math.min((h.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function KC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return s0(s0({},t),{},{dataKey:n,payload:r,value:i,name:a})}function vf(e,t){if(e)return String(e);if(typeof t=="string")return t}var yH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},xH=(e,t)=>t==="centric"?e.angle:e.radius,bu=e=>e.layout.width,wu=e=>e.layout.height,bH=e=>e.layout.scale,oO=e=>e.layout.margin,uv=$e(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fv=$e(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),sO="data-recharts-item-index",lO="data-recharts-item-data-key",_1=60;function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){wH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=e=>e.brush.height;function CH(e){var t=fv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_1;return n+i}return n},0)}function NH(e){var t=fv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_1;return n+i}return n},0)}function _H(e){var t=uv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TH(e){var t=uv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var La=$e([bu,wu,oO,EH,CH,NH,_H,TH,Ck,eq],(e,t,n,r,i,a,s,c,h,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+a},v={top:(n.top||0)+s,bottom:(n.bottom||0)+c},E=Vp(Vp({},v),p),A=E.bottom;E.bottom+=r,E=sH(E,h,f);var k=e-E.left-E.right,I=t-E.top-E.bottom;return Vp(Vp({brushBottom:A},E),{},{width:Math.max(k,0),height:Math.max(I,0)})}),IH=$e(La,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Y5=$e(bu,wu,(e,t)=>({x:0,y:0,width:e,height:t})),MH=j.createContext(null),ao=()=>j.useContext(MH)!=null,dv=e=>e.brush,hv=$e([dv,La,oO],(e,t,n)=>({height:e.height,x:Ht(e.x)?e.x:t.left,y:Ht(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ht(e.width)?e.width:t.width})),bx={},wx={},Ax={},XC;function kH(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,c=null;const h=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(s,c),s=void 0,c=null)},v=()=>{f&&p(),I()};let E=null;const A=()=>{E!=null&&clearTimeout(E),E=setTimeout(()=>{E=null,v()},r)},k=()=>{E!==null&&(clearTimeout(E),E=null)},I=()=>{k(),s=void 0,c=null},R=()=>{p()},L=function(...q){if(i!=null&&i.aborted)return;s=this,c=q;const U=E==null;A(),h&&U&&p()};return L.schedule=A,L.cancel=I,L.flush=R,i==null||i.addEventListener("abort",I,{once:!0}),L}e.debounce=t})(Ax)),Ax}var JC;function OH(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kH();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:c=!0,maxWait:h}=a,f=Array(2);s&&(f[0]="leading"),c&&(f[1]="trailing");let p,v=null;const E=t.debounce(function(...I){p=r.apply(this,I),v=null},i,{edges:f}),A=function(...I){return h!=null&&(v===null&&(v=Date.now()),Date.now()-v>=h)?(p=r.apply(this,I),v=Date.now(),E.cancel(),E.schedule(),p):(E.apply(this,I),p)},k=()=>(E.flush(),p);return A.cancel=E.cancel,A.flush=k,A}e.debounce=n})(wx)),wx}var ZC;function RH(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OH();function n(r,i=0,a={}){const{leading:s=!0,trailing:c=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:c})}e.throttle=n})(bx)),bx}var Sx,QC;function PH(){return QC||(QC=1,Sx=RH().throttle),Sx}var DH=PH();const LH=Jl(DH);var Jg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},cO=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,c=fu(r)?e:Number(r),h=fu(i)?t:Number(i);return a&&a>0&&(c?h=c/a:h&&(c=h*a),s&&h!=null&&h>s&&(h=s)),{calculatedWidth:c,calculatedHeight:h}},jH={width:0,height:0,overflow:"visible"},BH={width:0,overflowX:"visible"},FH={height:0,overflowY:"visible"},UH={},zH=e=>{var{width:t,height:n}=e,r=fu(t),i=fu(n);return r&&i?jH:r?BH:i?FH:UH};function qH(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Si(e){return Number.isFinite(e)}function _c(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(null,arguments)}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){HH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uO=j.createContext({width:-1,height:-1});function YH(e){return _c(e.width)&&_c(e.height)}function fO(e){var{children:t,width:n,height:r}=e,i=j.useMemo(()=>({width:n,height:r}),[n,r]);return YH(i)?j.createElement(uO.Provider,{value:i},t):null}var W5=()=>j.useContext(uO),WH=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:c,maxHeight:h,children:f,debounce:p=0,id:v,className:E,onResize:A,style:k={}}=e,I=j.useRef(null),R=j.useRef();R.current=A,j.useImperativeHandle(t,()=>I.current);var[L,q]=j.useState({containerWidth:r.width,containerHeight:r.height}),U=j.useCallback((ee,Y)=>{q(me=>{var X=Math.round(ee),J=Math.round(Y);return me.containerWidth===X&&me.containerHeight===J?me:{containerWidth:X,containerHeight:J}})},[]);j.useEffect(()=>{if(I.current==null||typeof ResizeObserver>"u")return A1;var ee=J=>{var ie,{width:se,height:ae}=J[0].contentRect;U(se,ae),(ie=R.current)===null||ie===void 0||ie.call(R,se,ae)};p>0&&(ee=LH(ee,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(ee),{width:me,height:X}=I.current.getBoundingClientRect();return U(me,X),Y.observe(I.current),()=>{Y.disconnect()}},[U,p]);var{containerWidth:H,containerHeight:W}=L;Jg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:Q,calculatedHeight:G}=cO(H,W,{width:i,height:a,aspect:n,maxHeight:h});return Jg(Q!=null&&Q>0||G!=null&&G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,G,i,a,s,c,n),j.createElement("div",{id:v?"".concat(v):void 0,className:br("recharts-responsive-container",E),style:tN(tN({},k),{},{width:i,height:a,minWidth:s,minHeight:c,maxHeight:h}),ref:I},j.createElement("div",{style:zH({width:i,height:a})},j.createElement(fO,{width:Q,height:G},f)))}),hu=j.forwardRef((e,t)=>{var n=W5();if(_c(n.width)&&_c(n.height))return e.children;var{width:r,height:i}=qH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=cO(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ht(a)&&Ht(s)?j.createElement(fO,{width:a,height:s},e.children):j.createElement(WH,aw({},e,{width:r,height:i,ref:t}))});function dO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var pv=()=>{var e,t=ao(),n=Wt(IH),r=Wt(hv),i=(e=Wt(dv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},KH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hO=()=>{var e;return(e=Wt(La))!==null&&e!==void 0?e:KH},K5=()=>Wt(bu),$5=()=>Wt(wu),$H=()=>Wt(e=>e.layout.margin),rr=e=>e.layout.layoutType,ud=()=>Wt(rr),XH=()=>{var e=ud();if(e==="horizontal"||e==="vertical")return e},JH=()=>{var e=ud();return e!==void 0},gv=e=>{var t=di(),n=ao(),{width:r,height:i}=e,a=W5(),s=r,c=i;return a&&(s=a.width>0?a.width:r,c=a.height>0?a.height:i),j.useEffect(()=>{!n&&_c(s)&&_c(c)&&t(tH({width:s,height:c}))},[t,n,s,c]),null},pO=Symbol.for("immer-nothing"),nN=Symbol.for("immer-draftable"),Zs=Symbol.for("immer-state");function Vl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var a1=Object.getPrototypeOf;function I0(e){return!!e&&!!e[Zs]}function td(e){var t;return e?gO(e)||Array.isArray(e)||!!e[nN]||!!((t=e.constructor)!=null&&t[nN])||T1(e)||vv(e):!1}var ZH=Object.prototype.constructor.toString(),rN=new WeakMap;function gO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=rN.get(n);return r===void 0&&(r=Function.toString.call(n),rN.set(n,r)),r===ZH}function Zg(e,t,n=!0){mv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function mv(e){const t=e[Zs];return t?t.type_:Array.isArray(e)?1:T1(e)?2:vv(e)?3:0}function ow(e,t){return mv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mO(e,t,n){const r=mv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function QH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function T1(e){return e instanceof Map}function vv(e){return e instanceof Set}function Bf(e){return e.copy_||e.base_}function sw(e,t){if(T1(e))return new Map(e);if(vv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=gO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Zs];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(a1(e),r)}else{const r=a1(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function X5(e,t=!1){return yv(e)||I0(e)||!td(e)||(mv(e)>1&&Object.defineProperties(e,{set:Gp,add:Gp,clear:Gp,delete:Gp}),Object.freeze(e),t&&Object.values(e).forEach(n=>X5(n,!0))),e}function eV(){Vl(2)}var Gp={value:eV};function yv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var tV={};function nd(e){const t=tV[e];return t||Vl(0,e),t}var o1;function vO(){return o1}function nV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iN(e,t){t&&(nd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lw(e){cw(e),e.drafts_.forEach(rV),e.drafts_=null}function cw(e){e===o1&&(o1=e.parent_)}function aN(e){return o1=nV(o1,e)}function rV(e){const t=e[Zs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Zs].modified_&&(lw(t),Vl(4)),td(e)&&(e=Qg(t,e),t.parent_||em(t,e)),t.patches_&&nd("Patches").generateReplacementPatches_(n[Zs].base_,e,t.patches_,t.inversePatches_)):e=Qg(t,n,[]),lw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pO?e:void 0}function Qg(e,t,n){if(yv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Zs];if(!i)return Zg(t,(a,s)=>sN(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return em(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,c=!1;i.type_===3&&(s=new Set(a),a.clear(),c=!0),Zg(s,(h,f)=>sN(e,i,a,h,f,n,c),r),em(e,a,!1),n&&e.patches_&&nd("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function sN(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const c=yv(i);if(!(c&&!s)){if(I0(i)){const h=a&&t&&t.type_!==3&&!ow(t.assigned_,r)?a.concat(r):void 0,f=Qg(e,i,h);if(mO(n,r,f),I0(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(td(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;Qg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(T1(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&em(e,i)}}}function em(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&X5(t,n)}function iV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:vO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=J5;n&&(i=[r],a=s1);const{revoke:s,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=s,c}var J5={get(e,t){if(t===Zs)return e;const n=Bf(e);if(!ow(n,t))return aV(e,n,t);const r=n[t];return e.finalized_||!td(r)?r:r===Ex(e.base_,t)?(Cx(e),e.copy_[t]=fw(r,e)):r},has(e,t){return t in Bf(e)},ownKeys(e){return Reflect.ownKeys(Bf(e))},set(e,t,n){const r=yO(Bf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ex(Bf(e),t),a=i==null?void 0:i[Zs];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(QH(n,i)&&(n!==void 0||ow(e.base_,t)))return!0;Cx(e),uw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ex(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Cx(e),uw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Vl(11)},getPrototypeOf(e){return a1(e.base_)},setPrototypeOf(){Vl(12)}},s1={};Zg(J5,(e,t)=>{s1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});s1.deleteProperty=function(e,t){return s1.set.call(this,e,t,void 0)};s1.set=function(e,t,n){return J5.set.call(this,e[0],t,n,e[0])};function Ex(e,t){const n=e[Zs];return(n?Bf(n):e)[t]}function aV(e,t,n){var i;const r=yO(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function yO(e,t){if(!(t in e))return;let n=a1(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=a1(n)}}function uw(e){e.modified_||(e.modified_=!0,e.parent_&&uw(e.parent_))}function Cx(e){e.copy_||(e.copy_=sw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(h=a,...f){return s.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Vl(6),r!==void 0&&typeof r!="function"&&Vl(7);let i;if(td(t)){const a=aN(this),s=fw(t,void 0);let c=!0;try{i=n(s),c=!1}finally{c?lw(a):cw(a)}return iN(a,r),oN(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===pO&&(i=void 0),this.autoFreeze_&&X5(i,!0),r){const a=[],s=[];nd("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Vl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,h=>t(h,...c));let r,i;return[this.produce(t,n,(s,c)=>{r=s,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){td(e)||Vl(8),I0(e)&&(e=sV(e));const t=aN(this),n=fw(e,void 0);return n[Zs].isManual_=!0,cw(t),n}finishDraft(e,t){const n=e&&e[Zs];(!n||!n.isManual_)&&Vl(9);const{scope_:r}=n;return iN(r,t),oN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=nd("Patches").applyPatches_;return I0(e)?r(e,t):this.produce(e,i=>r(i,t))}};function fw(e,t){const n=T1(e)?nd("MapSet").proxyMap_(e,t):vv(e)?nd("MapSet").proxySet_(e,t):iV(e,t);return(t?t.scope_:vO()).drafts_.push(n),n}function sV(e){return I0(e)||Vl(10,e),xO(e)}function xO(e){if(!td(e)||yv(e))return e;const t=e[Zs];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=sw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=sw(e,!0);return Zg(n,(i,a)=>{mO(n,i,xO(a))},r),t&&(t.finalized_=!1),n}var lV=new oV;lV.produce;var cV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},bO=Is({name:"legend",initialState:cV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Mi()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yl(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Mi()},removeLegendPayload:{reducer(e,t){var n=Yl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Mi()}}}),{setLegendSize:lN,setLegendSettings:uV,addLegendPayload:wO,replaceLegendPayload:AO,removeLegendPayload:SO}=bO.actions,fV=bO.reducer,dV=["contextPayload"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){hV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mV(e,t){if(e==null)return{};var n,r,i=vV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yV(e){return e.value}function xV(e){var{contextPayload:t}=e,n=mV(e,dV),r=wk(t,e.payloadUniqBy,yV),i=M0(M0({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(cz,i)}function bV(e,t,n,r,i,a){var{layout:s,align:c,verticalAlign:h}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?p={top:((i||0)-a.height)/2}:p=h==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),M0(M0({},f),p)}function wV(e){var t=di();return j.useEffect(()=>{t(uV(e))},[t,e]),null}function AV(e){var t=di();return j.useEffect(()=>(t(lN(e)),()=>{t(lN({width:0,height:0}))}),[t,e]),null}function SV(e,t,n,r){return e==="vertical"&&Ht(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var EV={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Z5(e){var t=Zi(e,EV),n=rq(),r=tU(),i=$H(),{width:a,height:s,wrapperStyle:c,portal:h}=t,[f,p]=Nk([n]),v=K5(),E=$5();if(v==null||E==null)return null;var A=v-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),k=SV(t.layout,s,a,A),I=h?c:M0(M0({position:"absolute",width:(k==null?void 0:k.width)||a||"auto",height:(k==null?void 0:k.height)||s||"auto"},bV(c,t,i,v,E,f)),c),R=h??r;if(R==null||n==null)return null;var L=j.createElement("div",{className:"recharts-legend-wrapper",style:I,ref:p},j.createElement(wV,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&j.createElement(AV,{width:f.width,height:f.height}),j.createElement(xV,dw({},t,k,{margin:i,chartWidth:v,chartHeight:E,contextPayload:n})));return _5.createPortal(L,R)}Z5.displayName="Legend";function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function uN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(n),!0).forEach(function(r){CV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CV(e,t,n){return(t=NV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NV(e){var t=_V(e,"string");return typeof t=="symbol"?t:t+""}function _V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TV(e){return Array.isArray(e)&&Nc(e[0])&&Nc(e[1])?e.join(" ~ "):e}var IV=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:c,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:v,accessibilityLayer:E=!1}=e,A=()=>{if(a&&a.length){var W={padding:0,margin:0},Q=(c?tv(a,c):a).map((G,ee)=>{if(G.type==="none")return null;var Y=G.formatter||s||TV,{value:me,name:X}=G,J=me,ie=X;if(Y){var se=Y(me,X,G,ee,a);if(Array.isArray(se))[J,ie]=se;else if(se!=null)J=se;else return null}var ae=Nx({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:ae},Nc(ie)?j.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Nc(ie)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},J),j.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:W},Q)}return null},k=Nx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),I=Nx({margin:0},i),R=!Ai(p),L=R?p:"",q=br("recharts-default-tooltip",h),U=br("recharts-tooltip-label",f);R&&v&&a!==void 0&&a!==null&&(L=v(p,a));var H=E?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",hw({className:q,style:k},H),j.createElement("p",{className:U,style:I},j.isValidElement(L)?L:"".concat(L)),A())},Oh="recharts-tooltip-wrapper",MV={visibility:"hidden"};function kV(e){var{coordinate:t,translateX:n,translateY:r}=e;return br(Oh,{["".concat(Oh,"-right")]:Ht(n)&&t&&Ht(t.x)&&n>=t.x,["".concat(Oh,"-left")]:Ht(n)&&t&&Ht(t.x)&&n<t.x,["".concat(Oh,"-bottom")]:Ht(r)&&t&&Ht(t.y)&&r>=t.y,["".concat(Oh,"-top")]:Ht(r)&&t&&Ht(t.y)&&r<t.y})}function fN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c,viewBox:h,viewBoxDimension:f}=e;if(a&&Ht(a[r]))return a[r];var p=n[r]-c-(i>0?i:0),v=n[r]+i;if(t[r])return s[r]?p:v;var E=h[r];if(E==null)return 0;if(s[r]){var A=p,k=E;return A<k?Math.max(v,E):Math.max(p,E)}if(f==null)return 0;var I=v+c,R=E+f;return I>R?Math.max(p,E):Math.max(v,E)}function OV(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function RV(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:c,viewBox:h}=e,f,p,v;return s.height>0&&s.width>0&&n?(p=fN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:h,viewBoxDimension:h.width}),v=fN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:h,viewBoxDimension:h.height}),f=OV({translateX:p,translateY:v,useTranslate3d:c})):f=MV,{cssProperties:f,cssClasses:kV({translateX:p,translateY:v,coordinate:n})}}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){pw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pw(e,t,n){return(t=PV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PV(e){var t=DV(e,"string");return typeof t=="symbol"?t:t+""}function DV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LV extends j.PureComponent{constructor(){super(...arguments),pw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:c,isAnimationActive:h,offset:f,position:p,reverseDirection:v,useTranslate3d:E,viewBox:A,wrapperStyle:k,lastBoundingBox:I,innerRef:R,hasPortalFromProps:L}=this.props,{cssClasses:q,cssProperties:U}=RV({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:f,position:p,reverseDirection:v,tooltipBox:{height:I.height,width:I.width},useTranslate3d:E,viewBox:A}),H=L?{}:Yp(Yp({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},U),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),W=Yp(Yp({},H),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},k);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:q,style:W,ref:R},a)}}var EO=()=>{var e;return(e=Wt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(null,arguments)}function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){jV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jV(e,t,n){return(t=BV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gN={curveBasisClosed:bU,curveBasisOpen:wU,curveBasis:xU,curveBumpX:aU,curveBumpY:oU,curveLinearClosed:AU,curveLinear:Qm,curveMonotoneX:SU,curveMonotoneY:EU,curveNatural:CU,curveStep:NU,curveStepAfter:TU,curveStepBefore:_U},tm=e=>Si(e.x)&&Si(e.y),mN=e=>e.base!=null&&tm(e.base)&&tm(e),Rh=e=>e.x,Ph=e=>e.y,UV=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(w1(e));return(n==="curveMonotone"||n==="curveBump")&&t?gN["".concat(n).concat(t==="vertical"?"Y":"X")]:gN[n]||Qm},zV=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=UV(t,i),c=a?n.filter(tm):n,h;if(Array.isArray(r)){var f=n.map((A,k)=>pN(pN({},A),{},{base:r[k]}));i==="vertical"?h=Bp().y(Ph).x1(Rh).x0(A=>A.base.x):h=Bp().x(Rh).y1(Ph).y0(A=>A.base.y);var p=h.defined(mN).curve(s),v=a?f.filter(mN):f;return p(v)}i==="vertical"&&Ht(r)?h=Bp().y(Ph).x1(Rh).x0(r):Ht(r)?h=Bp().x(Rh).y1(Ph).y0(r):h=XM().x(Rh).y(Ph);var E=h.defined(tm).curve(s);return E(c)},g0=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?zV(e):r;return j.createElement("path",gw({},es(e),D5(e),{className:br("recharts-curve",t),d:a===null?void 0:a,ref:i}))},qV=["x","y","top","left","width","height","className"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function vN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(n),!0).forEach(function(r){VV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VV(e,t,n){return(t=GV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WV(e,t){if(e==null)return{};var n,r,i=KV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $V=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),XV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:c}=e,h=WV(e,qV),f=HV({x:t,y:n,top:r,left:i,width:a,height:s},h);return!Ht(t)||!Ht(n)||!Ht(a)||!Ht(s)||!Ht(r)||!Ht(i)?null:j.createElement("path",mw({},Lo(f),{className:br("recharts-cross",c),d:$V(t,n,a,s,r,i)}))};function JV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){ZV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZV(e,t,n){return(t=QV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QV(e){var t=eG(e,"string");return typeof t=="symbol"?t:t+""}function eG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CO=(e,t,n)=>e.map(r=>"".concat(tG(r)," ").concat(t,"ms ").concat(n)).join(","),nG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),l1=(e,t)=>Object.keys(t).reduce((n,r)=>xN(xN({},n),{},{[r]:e(r,t[r])}),{});function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){rG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rG(e,t,n){return(t=iG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nm=(e,t,n)=>e+(t-e)*n,vw=e=>{var{from:t,to:n}=e;return t!==n},NO=(e,t,n)=>{var r=l1((i,a)=>{if(vw(a)){var[s,c]=e(a.from,a.to,a.velocity);return Pa(Pa({},a),{},{from:s,velocity:c})}return a},t);return n<1?l1((i,a)=>vw(a)?Pa(Pa({},a),{},{velocity:nm(a.velocity,r[i].velocity,n),from:nm(a.from,r[i].from,n)}):a,t):NO(e,r,n-1)};function oG(e,t,n,r,i,a){var s,c=r.reduce((E,A)=>Pa(Pa({},E),{},{[A]:{from:e[A],velocity:0,to:t[A]}}),{}),h=()=>l1((E,A)=>A.from,c),f=()=>!Object.values(c).filter(vw).length,p=null,v=E=>{s||(s=E);var A=E-s,k=A/n.dt;c=NO(n,c,k),i(Pa(Pa(Pa({},e),t),h())),s=E,f()||(p=a.setTimeout(v))};return()=>(p=a.setTimeout(v),()=>{var E;(E=p)===null||E===void 0||E()})}function sG(e,t,n,r,i,a,s){var c=null,h=i.reduce((v,E)=>Pa(Pa({},v),{},{[E]:[e[E],t[E]]}),{}),f,p=v=>{f||(f=v);var E=(v-f)/r,A=l1((I,R)=>nm(...R,n(E)),h);if(a(Pa(Pa(Pa({},e),t),A)),E<1)c=s.setTimeout(p);else{var k=l1((I,R)=>nm(...R,n(1)),h);a(Pa(Pa(Pa({},e),t),k))}};return()=>(c=s.setTimeout(p),()=>{var v;(v=c)===null||v===void 0||v()})}const lG=(e,t,n,r,i,a)=>{var s=nG(e,t);return n==null?()=>(i(Pa(Pa({},e),t)),()=>{}):n.isStepper===!0?oG(e,t,n,s,i,a):sG(e,t,n,r,s,i,a)};var rm=1e-4,_O=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TO=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),wN=(e,t)=>n=>{var r=_O(e,t);return TO(r,n)},cG=(e,t)=>n=>{var r=_O(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return TO(i,n)},uG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(c=>parseFloat(c));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},fG=(e,t,n,r)=>{var i=wN(e,n),a=wN(t,r),s=cG(e,n),c=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,v=p,E=0;E<8;++E){var A=i(v)-p,k=s(v);if(Math.abs(A-p)<rm||k<rm)return a(v);v=c(v-A/k)}return a(v)};return h.isStepper=!1,h},AN=function(){return fG(...uG(...arguments))},dG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,c,h)=>{var f=-(s-c)*n,p=h*r,v=h+(f-p)*i/1e3,E=h*i/1e3+s;return Math.abs(E-c)<rm&&Math.abs(v)<rm?[c,0]:[E,v]};return a.isStepper=!0,a.dt=i,a},hG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AN(e);case"spring":return dG();default:if(e.split("(")[0]==="cubic-bezier")return AN(e)}return typeof e=="function"?e:null};function pG(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,[h,...f]=c;if(typeof h=="number"){i=e.setTimeout(a.bind(null,f),h);return}a(h),i=e.setTimeout(a.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class gG{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function mG(){return pG(new gG)}var vG=j.createContext(mG);function yG(e,t){var n=j.useContext(vG);return j.useMemo(()=>t??n(e),[e,t,n])}var xG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),D0={devToolsEnabled:!1,isSsr:xG()},bG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SN={t:0},_x={t:1};function L0(e){var t=Zi(e,bG),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:c,onAnimationStart:h,children:f}=t,p=n==="auto"?!D0.isSsr:n,v=yG(t.animationId,t.animationManager),[E,A]=j.useState(p?SN:_x),k=j.useRef(null);return j.useEffect(()=>{p||A(_x)},[p]),j.useEffect(()=>{if(!p||!r)return A1;var I=lG(SN,_x,hG(a),i,A,v.getTimeoutController()),R=()=>{k.current=I()};return v.start([h,s,R,i,c]),()=>{v.stop(),k.current&&k.current(),c()}},[p,r,i,a,s,h,c,v]),f(E.t)}function j0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(t1(t)),r=j.useRef(e);return r.current!==e&&(n.current=t1(t),r.current=e),n.current}var wG=["radius"],AG=["radius"];function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){SG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t,n){return(t=EG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},im.apply(null,arguments)}function NN(e,t){if(e==null)return{};var n,r,i=NG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _N=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(a>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,E=4;v<E;v++)p[v]=i[v]>a?a:i[v];f="M".concat(e,",").concat(t+s*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(e+c*p[0],",").concat(t)),f+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(t+s*p[1])),f+="L ".concat(e+n,",").concat(t+r-s*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),f+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+r-s*p[3])),f+="Z"}else if(a>0&&i===+i&&i>0){var A=Math.min(a,i);f="M ".concat(e,",").concat(t+s*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+c*A,",").concat(t,`
            L `).concat(e+n-c*A,",").concat(t,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n,",").concat(t+s*A,`
            L `).concat(e+n,",").concat(t+r-s*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e+n-c*A,",").concat(t+r,`
            L `).concat(e+c*A,",").concat(t+r,`
            A `).concat(A,",").concat(A,",0,0,").concat(h,",").concat(e,",").concat(t+r-s*A," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},TN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IO=e=>{var t=Zi(e,TN),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Ae=n.current.getTotalLength();Ae&&i(Ae)}catch{}},[]);var{x:a,y:s,width:c,height:h,radius:f,className:p}=t,{animationEasing:v,animationDuration:E,animationBegin:A,isAnimationActive:k,isUpdateAnimationActive:I}=t,R=j.useRef(c),L=j.useRef(h),q=j.useRef(a),U=j.useRef(s),H=j.useMemo(()=>({x:a,y:s,width:c,height:h,radius:f}),[a,s,c,h,f]),W=j0(H,"rectangle-");if(a!==+a||s!==+s||c!==+c||h!==+h||c===0||h===0)return null;var Q=br("recharts-rectangle",p);if(!I){var G=Lo(t),{radius:ee}=G,Y=NN(G,wG);return j.createElement("path",im({},Y,{radius:typeof f=="number"?f:void 0,className:Q,d:_N(a,s,c,h,f)}))}var me=R.current,X=L.current,J=q.current,ie=U.current,se="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),he=CO(["strokeDasharray"],E,typeof v=="string"?v:TN.animationEasing);return j.createElement(L0,{animationId:W,key:W,canBegin:r>0,duration:E,easing:v,isActive:I,begin:A},Ae=>{var Te=Rr(me,c,Ae),Me=Rr(X,h,Ae),Qe=Rr(J,a,Ae),ye=Rr(ie,s,Ae);n.current&&(R.current=Te,L.current=Me,q.current=Qe,U.current=ye);var V;k?Ae>0?V={transition:he,strokeDasharray:ae}:V={strokeDasharray:se}:V={strokeDasharray:ae};var le=Lo(t),{radius:ce}=le,pe=NN(le,AG);return j.createElement("path",im({},pe,{radius:typeof f=="number"?f:void 0,className:Q,d:_N(Qe,ye,Te,Me,f),ref:n,style:CN(CN({},V),t.style)}))})};function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(n),!0).forEach(function(r){_G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _G(e,t,n){return(t=TG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var am=Math.PI/180,MG=e=>e*180/Math.PI,wa=(e,t,n,r)=>({x:e+Math.cos(-am*r)*n,y:t+Math.sin(-am*r)*n}),MO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kG=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},OG=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=kG({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var c=(n-i)/s,h=Math.acos(c);return r>a&&(h=2*Math.PI-h),{radius:s,angle:MG(h),angleInRadian:h}},RG=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},PG=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},DG=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=OG({x:n,y:r},t),{innerRadius:s,outerRadius:c}=t;if(i<s||i>c||i===0)return null;var{startAngle:h,endAngle:f}=RG(t),p=a,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?MN(MN({},t),{},{radius:i,angle:PG(p,t)}):null};function kO(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=wa(t,n,r,i),c=wa(t,n,r,a);return{points:[s,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}var LG=(e,t)=>{var n=ro(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Wp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:c,cornerIsExternal:h}=e,f=c*(s?1:-1)+r,p=Math.asin(c/f)/am,v=h?i:i+a*p,E=wa(t,n,f,v),A=wa(t,n,r,v),k=h?i-a*p:i,I=wa(t,n,f*Math.cos(p*am),k);return{center:E,circleTangency:A,lineTangency:I,theta:p}},OO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,c=LG(a,s),h=a+c,f=wa(t,n,i,a),p=wa(t,n,i,h),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var E=wa(t,n,r,a),A=wa(t,n,r,h);v+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=h),`,
            `).concat(E.x,",").concat(E.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},jG=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:c,startAngle:h,endAngle:f}=e,p=ro(f-h),{circleTangency:v,lineTangency:E,theta:A}=Wp({cx:t,cy:n,radius:i,angle:h,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:k,lineTangency:I,theta:R}=Wp({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:c}),L=c?Math.abs(h-f):Math.abs(h-f)-A-R;if(L<0)return s?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):OO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var q="M ".concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
  `);if(r>0){var{circleTangency:U,lineTangency:H,theta:W}=Wp({cx:t,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:Q,lineTangency:G,theta:ee}=Wp({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),Y=c?Math.abs(h-f):Math.abs(h-f)-W-ee;if(Y<0&&a===0)return"".concat(q,"L").concat(t,",").concat(n,"Z");q+="L".concat(G.x,",").concat(G.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(Q.x,",").concat(Q.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(H.x,",").concat(H.y,"Z")}else q+="L".concat(t,",").concat(n,"Z");return q},BG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RO=e=>{var t=Zi(e,BG),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:h,startAngle:f,endAngle:p,className:v}=t;if(a<i||f===p)return null;var E=br("recharts-sector",v),A=a-i,k=Do(s,A,0,!0),I;return k>0&&Math.abs(f-p)<360?I=jG({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(k,A/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:f,endAngle:p}):I=OO({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p}),j.createElement("path",yw({},Lo(t),{className:E,d:I}))};function FG(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(fk(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:c}=t,h=wa(r,i,a,c),f=wa(r,i,s,c);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return kO(t)}}var Tx={},Ix={},Mx={},kN;function UG(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Mx)),Mx}var ON;function zG(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Ix)),Ix}var RN;function qG(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ek(),n=zG();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const c=Math.max(Math.ceil((a-i)/(s||1)),0),h=new Array(c);for(let f=0;f<c;f++)h[f]=i,i+=s;return h}e.range=r})(Tx)),Tx}var kx,PN;function HG(){return PN||(PN=1,kx=qG().range),kx}var VG=HG();const PO=Jl(VG);function sf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Q5(e){let t,n,r;e.length!==2?(t=sf,n=(c,h)=>sf(e(c),h),r=(c,h)=>e(c)-h):(t=e===sf||e===GG?e:YG,n=e,r=e);function i(c,h,f=0,p=c.length){if(f<p){if(t(h,h)!==0)return p;do{const v=f+p>>>1;n(c[v],h)<0?f=v+1:p=v}while(f<p)}return f}function a(c,h,f=0,p=c.length){if(f<p){if(t(h,h)!==0)return p;do{const v=f+p>>>1;n(c[v],h)<=0?f=v+1:p=v}while(f<p)}return f}function s(c,h,f=0,p=c.length){const v=i(c,h,f,p-1);return v>f&&r(c[v-1],h)>-r(c[v],h)?v-1:v}return{left:i,center:s,right:a}}function YG(){return 0}function DO(e){return e===null?NaN:+e}function*WG(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const KG=Q5(sf),I1=KG.right;Q5(DO).center;class DN extends Map{constructor(t,n=JG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LN(this,t))}has(t){return super.has(LN(this,t))}set(t,n){return super.set($G(this,t),n)}delete(t){return super.delete(XG(this,t))}}function LN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $G({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function XG({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function JG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZG(e=sf){if(e===sf)return LO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function LO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QG=Math.sqrt(50),eY=Math.sqrt(10),tY=Math.sqrt(2);function om(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=QG?10:a>=eY?5:a>=tY?2:1;let c,h,f;return i<0?(f=Math.pow(10,-i)/s,c=Math.round(e*f),h=Math.round(t*f),c/f<e&&++c,h/f>t&&--h,f=-f):(f=Math.pow(10,i)*s,c=Math.round(e/f),h=Math.round(t/f),c*f<e&&++c,h*f>t&&--h),h<c&&.5<=n&&n<2?om(e,t,n*2):[c,h,f]}function xw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?om(t,e,n):om(e,t,n);if(!(a>=i))return[];const c=a-i+1,h=new Array(c);if(r)if(s<0)for(let f=0;f<c;++f)h[f]=(a-f)/-s;else for(let f=0;f<c;++f)h[f]=(a-f)*s;else if(s<0)for(let f=0;f<c;++f)h[f]=(i+f)/-s;else for(let f=0;f<c;++f)h[f]=(i+f)*s;return h}function bw(e,t,n){return t=+t,e=+e,n=+n,om(e,t,n)[2]}function ww(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bw(t,e,n):bw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function jO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?LO:ZG(i);r>n;){if(r-n>600){const h=r-n+1,f=t-n+1,p=Math.log(h),v=.5*Math.exp(2*p/3),E=.5*Math.sqrt(p*v*(h-v)/h)*(f-h/2<0?-1:1),A=Math.max(n,Math.floor(t-f*v/h+E)),k=Math.min(r,Math.floor(t+(h-f)*v/h+E));jO(e,t,A,k,i)}const a=e[t];let s=n,c=r;for(Dh(e,n,t),i(e[r],a)>0&&Dh(e,n,r);s<c;){for(Dh(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Dh(e,n,c):(++c,Dh(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Dh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nY(e,t,n){if(e=Float64Array.from(WG(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return BN(e);if(t>=1)return jN(e);var r,i=(r-1)*t,a=Math.floor(i),s=jN(jO(e,a).subarray(0,a+1)),c=BN(e.subarray(a+1));return s+(c-s)*(i-a)}}function rY(e,t,n=DO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function iY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function El(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Au(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Aw=Symbol("implicit");function eA(){var e=new DN,t=[],n=[],r=Aw;function i(a){let s=e.get(a);if(s===void 0){if(r!==Aw)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new DN;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eA(t,n).unknown(r)},El.apply(i,arguments),i}function tA(){var e=eA().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,h=0,f=0,p=.5;delete e.unknown;function v(){var E=t().length,A=i<r,k=A?i:r,I=A?r:i;a=(I-k)/Math.max(1,E-h+f*2),c&&(a=Math.floor(a)),k+=(I-k-a*(E-h))*p,s=a*(1-h),c&&(k=Math.round(k),s=Math.round(s));var R=iY(E).map(function(L){return k+a*L});return n(A?R.reverse():R)}return e.domain=function(E){return arguments.length?(t(E),v()):t()},e.range=function(E){return arguments.length?([r,i]=E,r=+r,i=+i,v()):[r,i]},e.rangeRound=function(E){return[r,i]=E,r=+r,i=+i,c=!0,v()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(E){return arguments.length?(c=!!E,v()):c},e.padding=function(E){return arguments.length?(h=Math.min(1,f=+E),v()):h},e.paddingInner=function(E){return arguments.length?(h=Math.min(1,E),v()):h},e.paddingOuter=function(E){return arguments.length?(f=+E,v()):f},e.align=function(E){return arguments.length?(p=Math.max(0,Math.min(1,E)),v()):p},e.copy=function(){return tA(t(),[r,i]).round(c).paddingInner(h).paddingOuter(f).align(p)},El.apply(v(),arguments)}function BO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BO(t())},e}function aY(){return BO(tA.apply(null,arguments).paddingInner(1))}function nA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function FO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function M1(){}var c1=.7,sm=1/c1,m0="\\s*([+-]?\\d+)\\s*",u1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oY=/^#([0-9a-f]{3,8})$/,sY=new RegExp(`^rgb\\(${m0},${m0},${m0}\\)$`),lY=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),cY=new RegExp(`^rgba\\(${m0},${m0},${m0},${u1}\\)$`),uY=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${u1}\\)$`),fY=new RegExp(`^hsl\\(${u1},${Cc},${Cc}\\)$`),dY=new RegExp(`^hsla\\(${u1},${Cc},${Cc},${u1}\\)$`),FN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nA(M1,f1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UN,formatHex:UN,formatHex8:hY,formatHsl:pY,formatRgb:zN,toString:zN});function UN(){return this.rgb().formatHex()}function hY(){return this.rgb().formatHex8()}function pY(){return UO(this).formatHsl()}function zN(){return this.rgb().formatRgb()}function f1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qN(t):n===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Kp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Kp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sY.exec(e))?new Ts(t[1],t[2],t[3],1):(t=lY.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cY.exec(e))?Kp(t[1],t[2],t[3],t[4]):(t=uY.exec(e))?Kp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fY.exec(e))?GN(t[1],t[2]/100,t[3]/100,1):(t=dY.exec(e))?GN(t[1],t[2]/100,t[3]/100,t[4]):FN.hasOwnProperty(e)?qN(FN[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function qN(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function Kp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ts(e,t,n,r)}function gY(e){return e instanceof M1||(e=f1(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function Sw(e,t,n,r){return arguments.length===1?gY(e):new Ts(e,t,n,r??1)}function Ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nA(Ts,Sw,FO(M1,{brighter(e){return e=e==null?sm:Math.pow(sm,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?c1:Math.pow(c1,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(Kf(this.r),Kf(this.g),Kf(this.b),lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HN,formatHex:HN,formatHex8:mY,formatRgb:VN,toString:VN}));function HN(){return`#${Hf(this.r)}${Hf(this.g)}${Hf(this.b)}`}function mY(){return`#${Hf(this.r)}${Hf(this.g)}${Hf(this.b)}${Hf((isNaN(this.opacity)?1:this.opacity)*255)}`}function VN(){const e=lm(this.opacity);return`${e===1?"rgb(":"rgba("}${Kf(this.r)}, ${Kf(this.g)}, ${Kf(this.b)}${e===1?")":`, ${e})`}`}function lm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hf(e){return e=Kf(e),(e<16?"0":"")+e.toString(16)}function GN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gl(e,t,n,r)}function UO(e){if(e instanceof Gl)return new Gl(e.h,e.s,e.l,e.opacity);if(e instanceof M1||(e=f1(e)),!e)return new Gl;if(e instanceof Gl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,c=a-i,h=(a+i)/2;return c?(t===a?s=(n-r)/c+(n<r)*6:n===a?s=(r-t)/c+2:s=(t-n)/c+4,c/=h<.5?a+i:2-a-i,s*=60):c=h>0&&h<1?0:s,new Gl(s,c,h,e.opacity)}function vY(e,t,n,r){return arguments.length===1?UO(e):new Gl(e,t,n,r??1)}function Gl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nA(Gl,vY,FO(M1,{brighter(e){return e=e==null?sm:Math.pow(sm,e),new Gl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?c1:Math.pow(c1,e),new Gl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ts(Ox(e>=240?e-240:e+120,i,r),Ox(e,i,r),Ox(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Gl(YN(this.h),$p(this.s),$p(this.l),lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lm(this.opacity);return`${e===1?"hsl(":"hsla("}${YN(this.h)}, ${$p(this.s)*100}%, ${$p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YN(e){return e=(e||0)%360,e<0?e+360:e}function $p(e){return Math.max(0,Math.min(1,e||0))}function Ox(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rA=e=>()=>e;function yY(e,t){return function(n){return e+n*t}}function xY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bY(e){return(e=+e)==1?zO:function(t,n){return n-t?xY(t,n,e):rA(isNaN(t)?n:t)}}function zO(e,t){var n=t-e;return n?yY(e,n):rA(isNaN(e)?t:e)}const WN=(function e(t){var n=bY(t);function r(i,a){var s=n((i=Sw(i)).r,(a=Sw(a)).r),c=n(i.g,a.g),h=n(i.b,a.b),f=zO(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=c(p),i.b=h(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function wY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function AY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SY(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=B0(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function EY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function CY(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=B0(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ew=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rx=new RegExp(Ew.source,"g");function NY(e){return function(){return e}}function _Y(e){return function(t){return e(t)+""}}function TY(e,t){var n=Ew.lastIndex=Rx.lastIndex=0,r,i,a,s=-1,c=[],h=[];for(e=e+"",t=t+"";(r=Ew.exec(e))&&(i=Rx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),c[s]?c[s]+=a:c[++s]=a),(r=r[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,h.push({i:s,x:cm(r,i)})),n=Rx.lastIndex;return n<t.length&&(a=t.slice(n),c[s]?c[s]+=a:c[++s]=a),c.length<2?h[0]?_Y(h[0].x):NY(t):(t=h.length,function(f){for(var p=0,v;p<t;++p)c[(v=h[p]).i]=v.x(f);return c.join("")})}function B0(e,t){var n=typeof t,r;return t==null||n==="boolean"?rA(t):(n==="number"?cm:n==="string"?(r=f1(t))?(t=r,WN):TY:t instanceof f1?WN:t instanceof Date?EY:AY(t)?wY:Array.isArray(t)?SY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CY:cm)(e,t)}function iA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function IY(e,t){t===void 0&&(t=e,e=B0);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function MY(e){return function(){return e}}function um(e){return+e}var KN=[0,1];function Qo(e){return e}function Cw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:MY(isNaN(t)?NaN:.5)}function kY(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function OY(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Cw(i,r),a=n(s,a)):(r=Cw(r,i),a=n(a,s)),function(c){return a(r(c))}}function RY(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Cw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var h=I1(e,c,1,r)-1;return a[h](i[h](c))}}function k1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xv(){var e=KN,t=KN,n=B0,r,i,a,s=Qo,c,h,f;function p(){var E=Math.min(e.length,t.length);return s!==Qo&&(s=kY(e[0],e[E-1])),c=E>2?RY:OY,h=f=null,v}function v(E){return E==null||isNaN(E=+E)?a:(h||(h=c(e.map(r),t,n)))(r(s(E)))}return v.invert=function(E){return s(i((f||(f=c(t,e.map(r),cm)))(E)))},v.domain=function(E){return arguments.length?(e=Array.from(E,um),p()):e.slice()},v.range=function(E){return arguments.length?(t=Array.from(E),p()):t.slice()},v.rangeRound=function(E){return t=Array.from(E),n=iA,p()},v.clamp=function(E){return arguments.length?(s=E?!0:Qo,p()):s!==Qo},v.interpolate=function(E){return arguments.length?(n=E,p()):n},v.unknown=function(E){return arguments.length?(a=E,v):a},function(E,A){return r=E,i=A,p()}}function aA(){return xv()(Qo,Qo)}function PY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function k0(e){return e=fm(Math.abs(e)),e?e[1]:NaN}function DY(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],h=0;i>0&&c>0&&(h+c+1>r&&(c=Math.max(1,r-h)),a.push(n.substring(i-=c,i+c)),!((h+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function LY(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d1(e){if(!(t=jY.exec(e)))throw new Error("invalid format: "+e);var t;return new oA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}d1.prototype=oA.prototype;function oA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function BY(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var qO;function FY(e,t){var n=fm(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(qO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fm(e,Math.max(0,t+a-1))[0]}function $N(e,t){var n=fm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$N(e*100,t),r:$N,s:FY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JN(e){return e}var ZN=Array.prototype.map,QN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UY(e){var t=e.grouping===void 0||e.thousands===void 0?JN:DY(ZN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?JN:LY(ZN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(v){v=d1(v);var E=v.fill,A=v.align,k=v.sign,I=v.symbol,R=v.zero,L=v.width,q=v.comma,U=v.precision,H=v.trim,W=v.type;W==="n"?(q=!0,W="g"):XN[W]||(U===void 0&&(U=12),H=!0,W="g"),(R||E==="0"&&A==="=")&&(R=!0,E="0",A="=");var Q=I==="$"?n:I==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",G=I==="$"?r:/[%p]/.test(W)?s:"",ee=XN[W],Y=/[defgprs%]/.test(W);U=U===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function me(X){var J=Q,ie=G,se,ae,he;if(W==="c")ie=ee(X)+ie,X="";else{X=+X;var Ae=X<0||1/X<0;if(X=isNaN(X)?h:ee(Math.abs(X),U),H&&(X=BY(X)),Ae&&+X==0&&k!=="+"&&(Ae=!1),J=(Ae?k==="("?k:c:k==="-"||k==="("?"":k)+J,ie=(W==="s"?QN[8+qO/3]:"")+ie+(Ae&&k==="("?")":""),Y){for(se=-1,ae=X.length;++se<ae;)if(he=X.charCodeAt(se),48>he||he>57){ie=(he===46?i+X.slice(se+1):X.slice(se))+ie,X=X.slice(0,se);break}}}q&&!R&&(X=t(X,1/0));var Te=J.length+X.length+ie.length,Me=Te<L?new Array(L-Te+1).join(E):"";switch(q&&R&&(X=t(Me+X,Me.length?L-ie.length:1/0),Me=""),A){case"<":X=J+X+ie+Me;break;case"=":X=J+Me+X+ie;break;case"^":X=Me.slice(0,Te=Me.length>>1)+J+X+ie+Me.slice(Te);break;default:X=Me+J+X+ie;break}return a(X)}return me.toString=function(){return v+""},me}function p(v,E){var A=f((v=d1(v),v.type="f",v)),k=Math.max(-8,Math.min(8,Math.floor(k0(E)/3)))*3,I=Math.pow(10,-k),R=QN[8+k/3];return function(L){return A(I*L)+R}}return{format:f,formatPrefix:p}}var Xp,sA,HO;zY({thousands:",",grouping:[3],currency:["$",""]});function zY(e){return Xp=UY(e),sA=Xp.format,HO=Xp.formatPrefix,Xp}function qY(e){return Math.max(0,-k0(Math.abs(e)))}function HY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(k0(t)/3)))*3-k0(Math.abs(e)))}function VY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,k0(t)-k0(e))+1}function VO(e,t,n,r){var i=ww(e,t,n),a;switch(r=d1(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=HY(i,s))&&(r.precision=a),HO(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=VY(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qY(i))&&(r.precision=a-(r.type==="%")*2);break}}return sA(r)}function yf(e){var t=e.domain;return e.ticks=function(n){var r=t();return xw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VO(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],h,f,p=10;for(c<s&&(f=s,s=c,c=f,f=i,i=a,a=f);p-- >0;){if(f=bw(s,c,n),f===h)return r[i]=s,r[a]=c,t(r);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;h=f}return e},e}function GO(){var e=aA();return e.copy=function(){return k1(e,GO())},El.apply(e,arguments),yf(e)}function YO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,um),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YO(e).unknown(t)},e=arguments.length?Array.from(e,um):[0,1],yf(n)}function WO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function e_(e){return Math.log(e)}function t_(e){return Math.exp(e)}function GY(e){return-Math.log(-e)}function YY(e){return-Math.exp(-e)}function WY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KY(e){return e===10?WY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $Y(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n_(e){return(t,n)=>-e(-t,n)}function lA(e){const t=e(e_,t_),n=t.domain;let r=10,i,a;function s(){return i=$Y(r),a=KY(r),n()[0]<0?(i=n_(i),a=n_(a),e(GY,YY)):e(e_,t_),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const h=n();let f=h[0],p=h[h.length-1];const v=p<f;v&&([f,p]=[p,f]);let E=i(f),A=i(p),k,I;const R=c==null?10:+c;let L=[];if(!(r%1)&&A-E<R){if(E=Math.floor(E),A=Math.ceil(A),f>0){for(;E<=A;++E)for(k=1;k<r;++k)if(I=E<0?k/a(-E):k*a(E),!(I<f)){if(I>p)break;L.push(I)}}else for(;E<=A;++E)for(k=r-1;k>=1;--k)if(I=E>0?k/a(-E):k*a(E),!(I<f)){if(I>p)break;L.push(I)}L.length*2<R&&(L=xw(f,p,R))}else L=xw(E,A,Math.min(A-E,R)).map(a);return v?L.reverse():L},t.tickFormat=(c,h)=>{if(c==null&&(c=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=d1(h)).precision==null&&(h.trim=!0),h=sA(h)),c===1/0)return h;const f=Math.max(1,r*c/t.ticks().length);return p=>{let v=p/a(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=f?h(p):""}},t.nice=()=>n(WO(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function KO(){const e=lA(xv()).domain([1,10]);return e.copy=()=>k1(e,KO()).base(e.base()),El.apply(e,arguments),e}function r_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cA(e){var t=1,n=e(r_(t),i_(t));return n.constant=function(r){return arguments.length?e(r_(t=+r),i_(t)):t},yf(n)}function $O(){var e=cA(xv());return e.copy=function(){return k1(e,$O()).constant(e.constant())},El.apply(e,arguments)}function a_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JY(e){return e<0?-e*e:e*e}function uA(e){var t=e(Qo,Qo),n=1;function r(){return n===1?e(Qo,Qo):n===.5?e(XY,JY):e(a_(n),a_(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},yf(t)}function fA(){var e=uA(xv());return e.copy=function(){return k1(e,fA()).exponent(e.exponent())},El.apply(e,arguments),e}function ZY(){return fA.apply(null,arguments).exponent(.5)}function o_(e){return Math.sign(e)*e*e}function QY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XO(){var e=aA(),t=[0,1],n=!1,r;function i(a){var s=QY(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(o_(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,um)).map(o_)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return XO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},El.apply(i,arguments),yf(i)}function JO(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=rY(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[I1(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(sf),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return JO().domain(e).range(t).unknown(r)},El.apply(a,arguments)}function ZO(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(h){return h!=null&&h<=h?i[I1(r,h,0,n)]:a}function c(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return s}return s.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,c()):[e,t]},s.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,c()):i.slice()},s.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(h){return arguments.length&&(a=h),s},s.thresholds=function(){return r.slice()},s.copy=function(){return ZO().domain([e,t]).range(i).unknown(a)},El.apply(yf(s),arguments)}function QO(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[I1(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QO().domain(e).range(t).unknown(n)},El.apply(i,arguments)}const Px=new Date,Dx=new Date;function ja(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const h=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return h;let f;do h.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<s);return h},i.filter=a=>ja(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Px.setTime(+a),Dx.setTime(+s),e(Px),e(Dx),Math.floor(n(Px,Dx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const dm=ja(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ja(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dm);dm.range;const ou=1e3,ml=ou*60,su=ml*60,pu=su*24,dA=pu*7,s_=pu*30,Lx=pu*365,Vf=ja(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ou)},(e,t)=>(t-e)/ou,e=>e.getUTCSeconds());Vf.range;const hA=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ou)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getMinutes());hA.range;const pA=ja(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCMinutes());pA.range;const gA=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ou-e.getMinutes()*ml)},(e,t)=>{e.setTime(+e+t*su)},(e,t)=>(t-e)/su,e=>e.getHours());gA.range;const mA=ja(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*su)},(e,t)=>(t-e)/su,e=>e.getUTCHours());mA.range;const O1=ja(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ml)/pu,e=>e.getDate()-1);O1.range;const bv=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pu,e=>e.getUTCDate()-1);bv.range;const eR=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/pu,e=>Math.floor(e/pu));eR.range;function fd(e){return ja(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ml)/dA)}const wv=fd(0),hm=fd(1),eW=fd(2),tW=fd(3),O0=fd(4),nW=fd(5),rW=fd(6);wv.range;hm.range;eW.range;tW.range;O0.range;nW.range;rW.range;function dd(e){return ja(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dA)}const Av=dd(0),pm=dd(1),iW=dd(2),aW=dd(3),R0=dd(4),oW=dd(5),sW=dd(6);Av.range;pm.range;iW.range;aW.range;R0.range;oW.range;sW.range;const vA=ja(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vA.range;const yA=ja(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yA.range;const gu=ja(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());gu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});gu.range;const mu=ja(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});mu.range;function tR(e,t,n,r,i,a){const s=[[Vf,1,ou],[Vf,5,5*ou],[Vf,15,15*ou],[Vf,30,30*ou],[a,1,ml],[a,5,5*ml],[a,15,15*ml],[a,30,30*ml],[i,1,su],[i,3,3*su],[i,6,6*su],[i,12,12*su],[r,1,pu],[r,2,2*pu],[n,1,dA],[t,1,s_],[t,3,3*s_],[e,1,Lx]];function c(f,p,v){const E=p<f;E&&([f,p]=[p,f]);const A=v&&typeof v.range=="function"?v:h(f,p,v),k=A?A.range(f,+p+1):[];return E?k.reverse():k}function h(f,p,v){const E=Math.abs(p-f)/v,A=Q5(([,,R])=>R).right(s,E);if(A===s.length)return e.every(ww(f/Lx,p/Lx,v));if(A===0)return dm.every(Math.max(ww(f,p,v),1));const[k,I]=s[E/s[A-1][2]<s[A][2]/E?A-1:A];return k.every(I)}return[c,h]}const[lW,cW]=tR(mu,yA,Av,eR,mA,pA),[uW,fW]=tR(gu,vA,wv,O1,gA,hA);function jx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dW(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,h=e.shortMonths,f=jh(i),p=Bh(i),v=jh(a),E=Bh(a),A=jh(s),k=Bh(s),I=jh(c),R=Bh(c),L=jh(h),q=Bh(h),U={a:Ae,A:Te,b:Me,B:Qe,c:null,d:h_,e:h_,f:DW,g:GW,G:WW,H:OW,I:RW,j:PW,L:nR,m:LW,M:jW,p:ye,q:V,Q:m_,s:v_,S:BW,u:FW,U:UW,V:zW,w:qW,W:HW,x:null,X:null,y:VW,Y:YW,Z:KW,"%":g_},H={a:le,A:ce,b:pe,B:xe,c:null,d:p_,e:p_,f:ZW,g:lK,G:uK,H:$W,I:XW,j:JW,L:iR,m:QW,M:eK,p:ke,q:Fe,Q:m_,s:v_,S:tK,u:nK,U:rK,V:iK,w:aK,W:oK,x:null,X:null,y:sK,Y:cK,Z:fK,"%":g_},W={a:me,A:X,b:J,B:ie,c:se,d:f_,e:f_,f:TW,g:u_,G:c_,H:d_,I:d_,j:EW,L:_W,m:SW,M:CW,p:Y,q:AW,Q:MW,s:kW,S:NW,u:vW,U:yW,V:xW,w:mW,W:bW,x:ae,X:he,y:u_,Y:c_,Z:wW,"%":IW};U.x=Q(n,U),U.X=Q(r,U),U.c=Q(t,U),H.x=Q(n,H),H.X=Q(r,H),H.c=Q(t,H);function Q(Ie,He){return function(nt){var Ve=[],gt=-1,St=0,be=Ie.length,At,Dt,Tt;for(nt instanceof Date||(nt=new Date(+nt));++gt<be;)Ie.charCodeAt(gt)===37&&(Ve.push(Ie.slice(St,gt)),(Dt=l_[At=Ie.charAt(++gt)])!=null?At=Ie.charAt(++gt):Dt=At==="e"?" ":"0",(Tt=He[At])&&(At=Tt(nt,Dt)),Ve.push(At),St=gt+1);return Ve.push(Ie.slice(St,gt)),Ve.join("")}}function G(Ie,He){return function(nt){var Ve=Lh(1900,void 0,1),gt=ee(Ve,Ie,nt+="",0),St,be;if(gt!=nt.length)return null;if("Q"in Ve)return new Date(Ve.Q);if("s"in Ve)return new Date(Ve.s*1e3+("L"in Ve?Ve.L:0));if(He&&!("Z"in Ve)&&(Ve.Z=0),"p"in Ve&&(Ve.H=Ve.H%12+Ve.p*12),Ve.m===void 0&&(Ve.m="q"in Ve?Ve.q:0),"V"in Ve){if(Ve.V<1||Ve.V>53)return null;"w"in Ve||(Ve.w=1),"Z"in Ve?(St=Bx(Lh(Ve.y,0,1)),be=St.getUTCDay(),St=be>4||be===0?pm.ceil(St):pm(St),St=bv.offset(St,(Ve.V-1)*7),Ve.y=St.getUTCFullYear(),Ve.m=St.getUTCMonth(),Ve.d=St.getUTCDate()+(Ve.w+6)%7):(St=jx(Lh(Ve.y,0,1)),be=St.getDay(),St=be>4||be===0?hm.ceil(St):hm(St),St=O1.offset(St,(Ve.V-1)*7),Ve.y=St.getFullYear(),Ve.m=St.getMonth(),Ve.d=St.getDate()+(Ve.w+6)%7)}else("W"in Ve||"U"in Ve)&&("w"in Ve||(Ve.w="u"in Ve?Ve.u%7:"W"in Ve?1:0),be="Z"in Ve?Bx(Lh(Ve.y,0,1)).getUTCDay():jx(Lh(Ve.y,0,1)).getDay(),Ve.m=0,Ve.d="W"in Ve?(Ve.w+6)%7+Ve.W*7-(be+5)%7:Ve.w+Ve.U*7-(be+6)%7);return"Z"in Ve?(Ve.H+=Ve.Z/100|0,Ve.M+=Ve.Z%100,Bx(Ve)):jx(Ve)}}function ee(Ie,He,nt,Ve){for(var gt=0,St=He.length,be=nt.length,At,Dt;gt<St;){if(Ve>=be)return-1;if(At=He.charCodeAt(gt++),At===37){if(At=He.charAt(gt++),Dt=W[At in l_?He.charAt(gt++):At],!Dt||(Ve=Dt(Ie,nt,Ve))<0)return-1}else if(At!=nt.charCodeAt(Ve++))return-1}return Ve}function Y(Ie,He,nt){var Ve=f.exec(He.slice(nt));return Ve?(Ie.p=p.get(Ve[0].toLowerCase()),nt+Ve[0].length):-1}function me(Ie,He,nt){var Ve=A.exec(He.slice(nt));return Ve?(Ie.w=k.get(Ve[0].toLowerCase()),nt+Ve[0].length):-1}function X(Ie,He,nt){var Ve=v.exec(He.slice(nt));return Ve?(Ie.w=E.get(Ve[0].toLowerCase()),nt+Ve[0].length):-1}function J(Ie,He,nt){var Ve=L.exec(He.slice(nt));return Ve?(Ie.m=q.get(Ve[0].toLowerCase()),nt+Ve[0].length):-1}function ie(Ie,He,nt){var Ve=I.exec(He.slice(nt));return Ve?(Ie.m=R.get(Ve[0].toLowerCase()),nt+Ve[0].length):-1}function se(Ie,He,nt){return ee(Ie,t,He,nt)}function ae(Ie,He,nt){return ee(Ie,n,He,nt)}function he(Ie,He,nt){return ee(Ie,r,He,nt)}function Ae(Ie){return s[Ie.getDay()]}function Te(Ie){return a[Ie.getDay()]}function Me(Ie){return h[Ie.getMonth()]}function Qe(Ie){return c[Ie.getMonth()]}function ye(Ie){return i[+(Ie.getHours()>=12)]}function V(Ie){return 1+~~(Ie.getMonth()/3)}function le(Ie){return s[Ie.getUTCDay()]}function ce(Ie){return a[Ie.getUTCDay()]}function pe(Ie){return h[Ie.getUTCMonth()]}function xe(Ie){return c[Ie.getUTCMonth()]}function ke(Ie){return i[+(Ie.getUTCHours()>=12)]}function Fe(Ie){return 1+~~(Ie.getUTCMonth()/3)}return{format:function(Ie){var He=Q(Ie+="",U);return He.toString=function(){return Ie},He},parse:function(Ie){var He=G(Ie+="",!1);return He.toString=function(){return Ie},He},utcFormat:function(Ie){var He=Q(Ie+="",H);return He.toString=function(){return Ie},He},utcParse:function(Ie){var He=G(Ie+="",!0);return He.toString=function(){return Ie},He}}}var l_={"-":"",_:" ",0:"0"},oo=/^\s*\d+/,hW=/^%/,pW=/[\\^$*+?|[\]().{}]/g;function Er(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function gW(e){return e.replace(pW,"\\$&")}function jh(e){return new RegExp("^(?:"+e.map(gW).join("|")+")","i")}function Bh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function mW(e,t,n){var r=oo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vW(e,t,n){var r=oo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function yW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function c_(e,t,n){var r=oo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function u_(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wW(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function AW(e,t,n){var r=oo.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function SW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function f_(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function EW(e,t,n){var r=oo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function d_(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function CW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function NW(e,t,n){var r=oo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _W(e,t,n){var r=oo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function TW(e,t,n){var r=oo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IW(e,t,n){var r=hW.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function MW(e,t,n){var r=oo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function kW(e,t,n){var r=oo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function h_(e,t){return Er(e.getDate(),t,2)}function OW(e,t){return Er(e.getHours(),t,2)}function RW(e,t){return Er(e.getHours()%12||12,t,2)}function PW(e,t){return Er(1+O1.count(gu(e),e),t,3)}function nR(e,t){return Er(e.getMilliseconds(),t,3)}function DW(e,t){return nR(e,t)+"000"}function LW(e,t){return Er(e.getMonth()+1,t,2)}function jW(e,t){return Er(e.getMinutes(),t,2)}function BW(e,t){return Er(e.getSeconds(),t,2)}function FW(e){var t=e.getDay();return t===0?7:t}function UW(e,t){return Er(wv.count(gu(e)-1,e),t,2)}function rR(e){var t=e.getDay();return t>=4||t===0?O0(e):O0.ceil(e)}function zW(e,t){return e=rR(e),Er(O0.count(gu(e),e)+(gu(e).getDay()===4),t,2)}function qW(e){return e.getDay()}function HW(e,t){return Er(hm.count(gu(e)-1,e),t,2)}function VW(e,t){return Er(e.getFullYear()%100,t,2)}function GW(e,t){return e=rR(e),Er(e.getFullYear()%100,t,2)}function YW(e,t){return Er(e.getFullYear()%1e4,t,4)}function WW(e,t){var n=e.getDay();return e=n>=4||n===0?O0(e):O0.ceil(e),Er(e.getFullYear()%1e4,t,4)}function KW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Er(t/60|0,"0",2)+Er(t%60,"0",2)}function p_(e,t){return Er(e.getUTCDate(),t,2)}function $W(e,t){return Er(e.getUTCHours(),t,2)}function XW(e,t){return Er(e.getUTCHours()%12||12,t,2)}function JW(e,t){return Er(1+bv.count(mu(e),e),t,3)}function iR(e,t){return Er(e.getUTCMilliseconds(),t,3)}function ZW(e,t){return iR(e,t)+"000"}function QW(e,t){return Er(e.getUTCMonth()+1,t,2)}function eK(e,t){return Er(e.getUTCMinutes(),t,2)}function tK(e,t){return Er(e.getUTCSeconds(),t,2)}function nK(e){var t=e.getUTCDay();return t===0?7:t}function rK(e,t){return Er(Av.count(mu(e)-1,e),t,2)}function aR(e){var t=e.getUTCDay();return t>=4||t===0?R0(e):R0.ceil(e)}function iK(e,t){return e=aR(e),Er(R0.count(mu(e),e)+(mu(e).getUTCDay()===4),t,2)}function aK(e){return e.getUTCDay()}function oK(e,t){return Er(pm.count(mu(e)-1,e),t,2)}function sK(e,t){return Er(e.getUTCFullYear()%100,t,2)}function lK(e,t){return e=aR(e),Er(e.getUTCFullYear()%100,t,2)}function cK(e,t){return Er(e.getUTCFullYear()%1e4,t,4)}function uK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?R0(e):R0.ceil(e),Er(e.getUTCFullYear()%1e4,t,4)}function fK(){return"+0000"}function g_(){return"%"}function m_(e){return+e}function v_(e){return Math.floor(+e/1e3)}var Xd,oR,sR;dK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dK(e){return Xd=dW(e),oR=Xd.format,Xd.parse,sR=Xd.utcFormat,Xd.utcParse,Xd}function hK(e){return new Date(e)}function pK(e){return e instanceof Date?+e:+new Date(+e)}function xA(e,t,n,r,i,a,s,c,h,f){var p=aA(),v=p.invert,E=p.domain,A=f(".%L"),k=f(":%S"),I=f("%I:%M"),R=f("%I %p"),L=f("%a %d"),q=f("%b %d"),U=f("%B"),H=f("%Y");function W(Q){return(h(Q)<Q?A:c(Q)<Q?k:s(Q)<Q?I:a(Q)<Q?R:r(Q)<Q?i(Q)<Q?L:q:n(Q)<Q?U:H)(Q)}return p.invert=function(Q){return new Date(v(Q))},p.domain=function(Q){return arguments.length?E(Array.from(Q,pK)):E().map(hK)},p.ticks=function(Q){var G=E();return e(G[0],G[G.length-1],Q??10)},p.tickFormat=function(Q,G){return G==null?W:f(G)},p.nice=function(Q){var G=E();return(!Q||typeof Q.range!="function")&&(Q=t(G[0],G[G.length-1],Q??10)),Q?E(WO(G,Q)):p},p.copy=function(){return k1(p,xA(e,t,n,r,i,a,s,c,h,f))},p}function gK(){return El.apply(xA(uW,fW,gu,vA,wv,O1,gA,hA,Vf,oR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mK(){return El.apply(xA(lW,cW,mu,yA,Av,bv,mA,pA,Vf,sR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sv(){var e=0,t=1,n,r,i,a,s=Qo,c=!1,h;function f(v){return v==null||isNaN(v=+v)?h:s(i===0?.5:(v=(a(v)-n)*i,c?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([e,t]=v,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(v){return arguments.length?(c=!!v,f):c},f.interpolator=function(v){return arguments.length?(s=v,f):s};function p(v){return function(E){var A,k;return arguments.length?([A,k]=E,s=v(A,k),f):[s(0),s(1)]}}return f.range=p(B0),f.rangeRound=p(iA),f.unknown=function(v){return arguments.length?(h=v,f):h},function(v){return a=v,n=v(e),r=v(t),i=n===r?0:1/(r-n),f}}function xf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lR(){var e=yf(Sv()(Qo));return e.copy=function(){return xf(e,lR())},Au.apply(e,arguments)}function cR(){var e=lA(Sv()).domain([1,10]);return e.copy=function(){return xf(e,cR()).base(e.base())},Au.apply(e,arguments)}function uR(){var e=cA(Sv());return e.copy=function(){return xf(e,uR()).constant(e.constant())},Au.apply(e,arguments)}function bA(){var e=uA(Sv());return e.copy=function(){return xf(e,bA()).exponent(e.exponent())},Au.apply(e,arguments)}function vK(){return bA.apply(null,arguments).exponent(.5)}function fR(){var e=[],t=Qo;function n(r){if(r!=null&&!isNaN(r=+r))return t((I1(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sf),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>nY(e,a/r))},n.copy=function(){return fR(t).domain(e)},Au.apply(n,arguments)}function Ev(){var e=0,t=.5,n=1,r=1,i,a,s,c,h,f=Qo,p,v=!1,E;function A(I){return isNaN(I=+I)?E:(I=.5+((I=+p(I))-a)*(r*I<r*a?c:h),f(v?Math.max(0,Math.min(1,I)):I))}A.domain=function(I){return arguments.length?([e,t,n]=I,i=p(e=+e),a=p(t=+t),s=p(n=+n),c=i===a?0:.5/(a-i),h=a===s?0:.5/(s-a),r=a<i?-1:1,A):[e,t,n]},A.clamp=function(I){return arguments.length?(v=!!I,A):v},A.interpolator=function(I){return arguments.length?(f=I,A):f};function k(I){return function(R){var L,q,U;return arguments.length?([L,q,U]=R,f=IY(I,[L,q,U]),A):[f(0),f(.5),f(1)]}}return A.range=k(B0),A.rangeRound=k(iA),A.unknown=function(I){return arguments.length?(E=I,A):E},function(I){return p=I,i=I(e),a=I(t),s=I(n),c=i===a?0:.5/(a-i),h=a===s?0:.5/(s-a),r=a<i?-1:1,A}}function dR(){var e=yf(Ev()(Qo));return e.copy=function(){return xf(e,dR())},Au.apply(e,arguments)}function hR(){var e=lA(Ev()).domain([.1,1,10]);return e.copy=function(){return xf(e,hR()).base(e.base())},Au.apply(e,arguments)}function pR(){var e=cA(Ev());return e.copy=function(){return xf(e,pR()).constant(e.constant())},Au.apply(e,arguments)}function wA(){var e=uA(Ev());return e.copy=function(){return xf(e,wA()).exponent(e.exponent())},Au.apply(e,arguments)}function yK(){return wA.apply(null,arguments).exponent(.5)}const Vh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tA,scaleDiverging:dR,scaleDivergingLog:hR,scaleDivergingPow:wA,scaleDivergingSqrt:yK,scaleDivergingSymlog:pR,scaleIdentity:YO,scaleImplicit:Aw,scaleLinear:GO,scaleLog:KO,scaleOrdinal:eA,scalePoint:aY,scalePow:fA,scaleQuantile:JO,scaleQuantize:ZO,scaleRadial:XO,scaleSequential:lR,scaleSequentialLog:cR,scaleSequentialPow:bA,scaleSequentialQuantile:fR,scaleSequentialSqrt:vK,scaleSequentialSymlog:uR,scaleSqrt:ZY,scaleSymlog:$O,scaleThreshold:QO,scaleTime:gK,scaleUtc:mK,tickFormat:VO},Symbol.toStringTag,{value:"Module"}));var bf=e=>e.chartData,AA=$e([bf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),R1=(e,t,n,r)=>r?AA(e):bf(e);function cf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Si(t)&&Si(n))return!0}return!1}function y_(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function gR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Si(n))i=n;else if(typeof n=="function")return;if(Si(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(cf(s))return s}}function xK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(cf(r))return y_(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,c;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ht(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&YC.test(i)){var h=YC.exec(i);if(h==null||t==null)s=void 0;else{var f=+h[1];s=t[0]-f}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Ht(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&WC.test(a)){var p=WC.exec(a);if(p==null||t==null)c=void 0;else{var v=+p[1];c=t[1]+v}}else c=t==null?void 0:t[1];var E=[s,c];if(cf(E))return t==null?E:y_(E,t,n)}}}var F0=1e9,bK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EA,ki=!0,bl="[DecimalError] ",$f=bl+"Invalid argument: ",SA=bl+"Exponent out of range: ",U0=Math.floor,Ff=Math.pow,wK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ys,to=1e7,bi=7,mR=9007199254740991,gm=U0(mR/bi),Xt={};Xt.absoluteValue=Xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xt.comparedTo=Xt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*bi;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Xt.dividedBy=Xt.div=function(e){return cu(this,new this.constructor(e))};Xt.dividedToIntegerBy=Xt.idiv=function(e){var t=this,n=t.constructor;return oi(cu(t,new n(e),0,1),n.precision)};Xt.equals=Xt.eq=function(e){return!this.cmp(e)};Xt.exponent=function(){return Aa(this)};Xt.greaterThan=Xt.gt=function(e){return this.cmp(e)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(e){return this.cmp(e)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(e){return this.cmp(e)<0};Xt.lessThanOrEqualTo=Xt.lte=function(e){return this.cmp(e)<1};Xt.logarithm=Xt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ys))throw Error(bl+"NaN");if(n.s<1)throw Error(bl+(n.s?"NaN":"-Infinity"));return n.eq(Ys)?new r(0):(ki=!1,t=cu(h1(n,a),h1(e,a),a),ki=!0,oi(t,i))};Xt.minus=Xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xR(t,e):vR(t,(e.s=-e.s,e))};Xt.modulo=Xt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(bl+"NaN");return n.s?(ki=!1,t=cu(n,e,0,1).times(e),ki=!0,n.minus(t)):oi(new r(n),i)};Xt.naturalExponential=Xt.exp=function(){return yR(this)};Xt.naturalLogarithm=Xt.ln=function(){return h1(this)};Xt.negated=Xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xt.plus=Xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vR(t,e):xR(t,(e.s=-e.s,e))};Xt.precision=Xt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($f+e);if(t=Aa(i)+1,r=i.d.length-1,n=r*bi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Xt.squareRoot=Xt.sqrt=function(){var e,t,n,r,i,a,s,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(bl+"NaN")}for(e=Aa(c),ki=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Ac(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=U0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=s=n+3;;)if(a=r,r=a.plus(cu(c,a,s+2)).times(.5),Ac(a.d).slice(0,s)===(t=Ac(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(oi(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;s+=4}return ki=!0,oi(r,n)};Xt.times=Xt.mul=function(e){var t,n,r,i,a,s,c,h,f,p=this,v=p.constructor,E=p.d,A=(e=new v(e)).d;if(!p.s||!e.s)return new v(0);for(e.s*=p.s,n=p.e+e.e,h=E.length,f=A.length,h<f&&(a=E,E=A,A=a,s=h,h=f,f=s),a=[],s=h+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=h+r;i>r;)c=a[i]+A[r]*E[i-r-1]+t,a[i--]=c%to|0,t=c/to|0;a[i]=(a[i]+t)%to|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ki?oi(e,v.precision):e};Xt.toDecimalPlaces=Xt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Tc(e,0,F0),t===void 0?t=r.rounding:Tc(t,0,8),oi(n,e+Aa(n)+1,t))};Xt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=rd(r,!0):(Tc(e,0,F0),t===void 0?t=i.rounding:Tc(t,0,8),r=oi(new i(r),e+1,t),n=rd(r,!0,e+1)),n};Xt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?rd(i):(Tc(e,0,F0),t===void 0?t=a.rounding:Tc(t,0,8),r=oi(new a(i),e+Aa(i)+1,t),n=rd(r.abs(),!1,e+Aa(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Xt.toInteger=Xt.toint=function(){var e=this,t=e.constructor;return oi(new t(e),Aa(e)+1,t.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(e){var t,n,r,i,a,s,c=this,h=c.constructor,f=12,p=+(e=new h(e));if(!e.s)return new h(Ys);if(c=new h(c),!c.s){if(e.s<1)throw Error(bl+"Infinity");return c}if(c.eq(Ys))return c;if(r=h.precision,e.eq(Ys))return oi(c,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=c.s,s){if((n=p<0?-p:p)<=mR){for(i=new h(Ys),t=Math.ceil(r/bi+4),ki=!1;n%2&&(i=i.times(c),b_(i.d,t)),n=U0(n/2),n!==0;)c=c.times(c),b_(c.d,t);return ki=!0,e.s<0?new h(Ys).div(i):oi(i,r)}}else if(a<0)throw Error(bl+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,ki=!1,i=e.times(h1(c,r+f)),ki=!0,i=yR(i),i.s=a,i};Xt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Aa(i),r=rd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Tc(e,1,F0),t===void 0?t=a.rounding:Tc(t,0,8),i=oi(new a(i),e,t),n=Aa(i),r=rd(i,e<=n||n<=a.toExpNeg,e)),r};Xt.toSignificantDigits=Xt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Tc(e,1,F0),t===void 0?t=r.rounding:Tc(t,0,8)),oi(new r(n),e,t)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Aa(e),n=e.constructor;return rd(e,t<=n.toExpNeg||t>=n.toExpPos)};function vR(e,t){var n,r,i,a,s,c,h,f,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ki?oi(t,v):t;if(h=e.d,f=t.d,s=e.e,i=t.e,h=h.slice(),a=s-i,a){for(a<0?(r=h,a=-a,c=f.length):(r=f,i=s,c=h.length),s=Math.ceil(v/bi),c=s>c?s+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=h.length,a=f.length,c-a<0&&(a=c,r=f,f=h,h=r),n=0;a;)n=(h[--a]=h[a]+f[a]+n)/to|0,h[a]%=to;for(n&&(h.unshift(n),++i),c=h.length;h[--c]==0;)h.pop();return t.d=h,t.e=i,ki?oi(t,v):t}function Tc(e,t,n){if(e!==~~e||e<t||e>n)throw Error($f+e)}function Ac(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=bi-r.length,n&&(a+=nf(n)),a+=r;s=e[t],r=s+"",n=bi-r.length,n&&(a+=nf(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var cu=(function(){function e(r,i){var a,s=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+s,r[c]=a%to|0,s=a/to|0;return s&&r.unshift(s),r}function t(r,i,a,s){var c,h;if(a!=s)h=a>s?1:-1;else for(c=h=0;c<a;c++)if(r[c]!=i[c]){h=r[c]>i[c]?1:-1;break}return h}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*to+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var c,h,f,p,v,E,A,k,I,R,L,q,U,H,W,Q,G,ee,Y=r.constructor,me=r.s==i.s?1:-1,X=r.d,J=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(bl+"Division by zero");for(h=r.e-i.e,G=J.length,W=X.length,A=new Y(me),k=A.d=[],f=0;J[f]==(X[f]||0);)++f;if(J[f]>(X[f]||0)&&--h,a==null?q=a=Y.precision:s?q=a+(Aa(r)-Aa(i))+1:q=a,q<0)return new Y(0);if(q=q/bi+2|0,f=0,G==1)for(p=0,J=J[0],q++;(f<W||p)&&q--;f++)U=p*to+(X[f]||0),k[f]=U/J|0,p=U%J|0;else{for(p=to/(J[0]+1)|0,p>1&&(J=e(J,p),X=e(X,p),G=J.length,W=X.length),H=G,I=X.slice(0,G),R=I.length;R<G;)I[R++]=0;ee=J.slice(),ee.unshift(0),Q=J[0],J[1]>=to/2&&++Q;do p=0,c=t(J,I,G,R),c<0?(L=I[0],G!=R&&(L=L*to+(I[1]||0)),p=L/Q|0,p>1?(p>=to&&(p=to-1),v=e(J,p),E=v.length,R=I.length,c=t(v,I,E,R),c==1&&(p--,n(v,G<E?ee:J,E))):(p==0&&(c=p=1),v=J.slice()),E=v.length,E<R&&v.unshift(0),n(I,v,R),c==-1&&(R=I.length,c=t(J,I,G,R),c<1&&(p++,n(I,G<R?ee:J,R))),R=I.length):c===0&&(p++,I=[0]),k[f++]=p,c&&I[0]?I[R++]=X[H]||0:(I=[X[H]],R=1);while((H++<W||I[0]!==void 0)&&q--)}return k[0]||k.shift(),A.e=h,oi(A,s?a+Aa(A)+1:a)}})();function yR(e,t){var n,r,i,a,s,c,h=0,f=0,p=e.constructor,v=p.precision;if(Aa(e)>16)throw Error(SA+Aa(e));if(!e.s)return new p(Ys);for(ki=!1,c=v,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Ff(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new p(Ys),p.precision=c;;){if(i=oi(i.times(e),c),n=n.times(++h),s=a.plus(cu(i,n,c)),Ac(s.d).slice(0,c)===Ac(a.d).slice(0,c)){for(;f--;)a=oi(a.times(a),c);return p.precision=v,t==null?(ki=!0,oi(a,v)):a}a=s}}function Aa(e){for(var t=e.e*bi,n=e.d[0];n>=10;n/=10)t++;return t}function Fx(e,t,n){if(t>e.LN10.sd())throw ki=!0,n&&(e.precision=n),Error(bl+"LN10 precision limit exceeded");return oi(new e(e.LN10),t)}function nf(e){for(var t="";e--;)t+="0";return t}function h1(e,t){var n,r,i,a,s,c,h,f,p,v=1,E=10,A=e,k=A.d,I=A.constructor,R=I.precision;if(A.s<1)throw Error(bl+(A.s?"NaN":"-Infinity"));if(A.eq(Ys))return new I(0);if(t==null?(ki=!1,f=R):f=t,A.eq(10))return t==null&&(ki=!0),Fx(I,f);if(f+=E,I.precision=f,n=Ac(k),r=n.charAt(0),a=Aa(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(e),n=Ac(A.d),r=n.charAt(0),v++;a=Aa(A),r>1?(A=new I("0."+n),a++):A=new I(r+"."+n.slice(1))}else return h=Fx(I,f+2,R).times(a+""),A=h1(new I(r+"."+n.slice(1)),f-E).plus(h),I.precision=R,t==null?(ki=!0,oi(A,R)):A;for(c=s=A=cu(A.minus(Ys),A.plus(Ys),f),p=oi(A.times(A),f),i=3;;){if(s=oi(s.times(p),f),h=c.plus(cu(s,new I(i),f)),Ac(h.d).slice(0,f)===Ac(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(Fx(I,f+2,R).times(a+""))),c=cu(c,new I(v),f),I.precision=R,t==null?(ki=!0,oi(c,R)):c;c=h,i+=2}}function x_(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=U0(n/bi),e.d=[],r=(n+1)%bi,n<0&&(r+=bi),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=bi;r<i;)e.d.push(+t.slice(r,r+=bi));t=t.slice(r),r=bi-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ki&&(e.e>gm||e.e<-gm))throw Error(SA+n)}else e.s=0,e.e=0,e.d=[0];return e}function oi(e,t,n){var r,i,a,s,c,h,f,p,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=bi,i=t,f=v[p=0];else{if(p=Math.ceil((r+1)/bi),a=v.length,p>=a)return e;for(f=a=v[p],s=1;a>=10;a/=10)s++;r%=bi,i=r-bi+s}if(n!==void 0&&(a=Ff(10,s-i-1),c=f/a%10|0,h=t<0||v[p+1]!==void 0||f%a,h=n<4?(c||h)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?i>0?f/Ff(10,s-i):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return h?(a=Aa(e),v.length=1,t=t-a-1,v[0]=Ff(10,(bi-t%bi)%bi),e.e=U0(-t/bi)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=p,a=1,p--):(v.length=p+1,a=Ff(10,bi-r),v[p]=i>0?(f/Ff(10,s-i)%Ff(10,i)|0)*a:0),h)for(;;)if(p==0){(v[0]+=a)==to&&(v[0]=1,++e.e);break}else{if(v[p]+=a,v[p]!=to)break;v[p--]=0,a=1}for(r=v.length;v[--r]===0;)v.pop();if(ki&&(e.e>gm||e.e<-gm))throw Error(SA+Aa(e));return e}function xR(e,t){var n,r,i,a,s,c,h,f,p,v,E=e.constructor,A=E.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new E(e),ki?oi(t,A):t;if(h=e.d,v=t.d,r=t.e,f=e.e,h=h.slice(),s=f-r,s){for(p=s<0,p?(n=h,s=-s,c=v.length):(n=v,r=f,c=h.length),i=Math.max(Math.ceil(A/bi),c)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=h.length,c=v.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(h[i]!=v[i]){p=h[i]<v[i];break}s=0}for(p&&(n=h,h=v,v=n,t.s=-t.s),c=h.length,i=v.length-c;i>0;--i)h[c++]=0;for(i=v.length;i>s;){if(h[--i]<v[i]){for(a=i;a&&h[--a]===0;)h[a]=to-1;--h[a],h[i]+=to}h[i]-=v[i]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,ki?oi(t,A):t):new E(0)}function rd(e,t,n){var r,i=Aa(e),a=Ac(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+nf(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+nf(-i-1)+a,n&&(r=n-s)>0&&(a+=nf(r))):i>=s?(a+=nf(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+nf(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=nf(r))),e.s<0?"-"+a:a}function b_(e,t){if(e.length>t)return e.length=t,!0}function bR(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($f+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return x_(s,a.toString())}else if(typeof a!="string")throw Error($f+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,wK.test(a))x_(s,a);else throw Error($f+a)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bR,i.config=i.set=AK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function AK(e){if(!e||typeof e!="object")throw Error(bl+"Object expected");var t,n,r,i=["precision",1,F0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(U0(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error($f+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($f+n+": "+r);return this}var EA=bR(bK);Ys=new EA(1);const zr=EA;var SK=e=>e,wR={},AR=e=>e===wR,w_=e=>function t(){return arguments.length===0||arguments.length===1&&AR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},SR=(e,t)=>e===1?t:w_(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==wR).length;return a>=e?t(...r):SR(e-a,w_(function(){for(var s=arguments.length,c=new Array(s),h=0;h<s;h++)c[h]=arguments[h];var f=r.map(p=>AR(p)?c.shift():p);return t(...f,...c)}))}),EK=e=>SR(e.length,e),Nw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},CK=EK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),NK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return SK;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((c,h)=>h(c),a(...arguments))}},_w=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function ER(e){var t;return e===0?t=1:t=Math.floor(new zr(e).abs().log(10).toNumber())+1,t}function CR(e,t,n){for(var r=new zr(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var NR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_R=(e,t,n)=>{if(e.lte(0))return new zr(0);var r=ER(e.toNumber()),i=new zr(10).pow(r),a=e.div(i),s=r!==1?.05:.1,c=new zr(Math.ceil(a.div(s).toNumber())).add(n).mul(s),h=c.mul(i);return t?new zr(h.toNumber()):new zr(Math.ceil(h.toNumber()))},_K=(e,t,n)=>{var r=new zr(1),i=new zr(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zr(10).pow(ER(e)-1),i=new zr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zr(Math.floor(e)))}else e===0?i=new zr(Math.floor((t-1)/2)):n||(i=new zr(Math.floor(e)));var s=Math.floor((t-1)/2),c=NK(CK(h=>i.add(new zr(h-s).mul(r)).toNumber()),Nw);return c(0,t)},TR=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zr(0),tickMin:new zr(0),tickMax:new zr(0)};var s=_R(new zr(n).sub(t).div(r-1),i,a),c;t<=0&&n>=0?c=new zr(0):(c=new zr(t).add(n).div(2),c=c.sub(new zr(c).mod(s)));var h=Math.ceil(c.sub(t).div(s).toNumber()),f=Math.ceil(new zr(n).sub(c).div(s).toNumber()),p=h+f+1;return p>r?TR(t,n,r,i,a+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:s,tickMin:c.sub(new zr(h).mul(s)),tickMax:c.add(new zr(f).mul(s))})},TK=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[c,h]=NR([n,r]);if(c===-1/0||h===1/0){var f=h===1/0?[c,...Nw(0,i-1).map(()=>1/0)]:[...Nw(0,i-1).map(()=>-1/0),h];return n>r?_w(f):f}if(c===h)return _K(c,i,a);var{step:p,tickMin:v,tickMax:E}=TR(c,h,s,a,0),A=CR(v,E.add(new zr(.1).mul(p)),p);return n>r?_w(A):A},IK=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=NR([r,i]);if(s===-1/0||c===1/0)return[r,i];if(s===c)return[s];var h=Math.max(n,2),f=_R(new zr(c).sub(s).div(h-1),a,0),p=[...CR(new zr(s),new zr(c),f),c];return a===!1&&(p=p.map(v=>Math.round(v))),r>i?_w(p):p},IR=e=>e.rootProps.maxBarSize,MK=e=>e.rootProps.barGap,MR=e=>e.rootProps.barCategoryGap,kK=e=>e.rootProps.barSize,P1=e=>e.rootProps.stackOffset,kR=e=>e.rootProps.reverseStackOrder,CA=e=>e.options.chartName,NA=e=>e.rootProps.syncId,OR=e=>e.rootProps.syncMethod,_A=e=>e.options.eventEmitter,OK=e=>e.rootProps.baseValue,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},iu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Cv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},RK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:iu.angleAxisId,includeHidden:!1,name:void 0,reversed:iu.reversed,scale:iu.scale,tick:iu.tick,tickCount:void 0,ticks:void 0,type:iu.type,unit:void 0},PK={allowDataOverflow:Vs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vs.scale,tick:Vs.tick,tickCount:Vs.tickCount,ticks:void 0,type:Vs.type,unit:void 0},DK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:iu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:iu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:iu.scale,tick:iu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},LK={allowDataOverflow:Vs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vs.scale,tick:Vs.tick,tickCount:Vs.tickCount,ticks:void 0,type:"category",unit:void 0},TA=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DK:RK,IA=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?LK:PK,Nv=e=>e.polarOptions,MA=$e([bu,wu,La],MO),RR=$e([Nv,MA],(e,t)=>{if(e!=null)return Do(e.innerRadius,t,0)}),PR=$e([Nv,MA],(e,t)=>{if(e!=null)return Do(e.outerRadius,t,t*.8)}),jK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},DR=$e([Nv],jK);$e([TA,DR],Cv);var LR=$e([MA,RR,PR],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});$e([IA,LR],Cv);var jR=$e([rr,Nv,RR,PR,bu,wu],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:c,startAngle:h,endAngle:f}=t;return{cx:Do(s,i,i/2),cy:Do(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),Oi=(e,t)=>t,D1=(e,t,n)=>n;function _v(e){return e==null?void 0:e.id}function BR(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(c=>{var h,f=(h=c.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=_v(c);f.forEach((v,E)=>{var A=a==null||i?E:String(Hr(v,a,null)),k=Hr(v,c.dataKey,0),I;s.has(A)?I=s.get(A):I={},Object.assign(I,{[p]:k}),s.set(A,I)})}}),Array.from(s.values())}function Tv(e){return e.stackId!=null&&e.dataKey!=null}var Iv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Mv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function BK(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ba=e=>{var t=rr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},z0=e=>e.tooltip.settings.axisId;function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(r){FK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FK(e,t,n){return(t=UK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tw=[0,"auto"],Qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},FR=(e,t)=>e.cartesianAxis.xAxis[t],Su=(e,t)=>{var n=FR(e,t);return n??Qa},eo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_1},UR=(e,t)=>e.cartesianAxis.yAxis[t],Eu=(e,t)=>{var n=UR(e,t);return n??eo},qK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kA=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??qK},ji=(e,t,n)=>{switch(t){case"xAxis":return Su(e,n);case"yAxis":return Eu(e,n);case"zAxis":return kA(e,n);case"angleAxis":return TA(e,n);case"radiusAxis":return IA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},HK=(e,t,n)=>{switch(t){case"xAxis":return Su(e,n);case"yAxis":return Eu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},L1=(e,t,n)=>{switch(t){case"xAxis":return Su(e,n);case"yAxis":return Eu(e,n);case"angleAxis":return TA(e,n);case"radiusAxis":return IA(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function OA(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var j1=e=>e.graphicalItems.cartesianItems,VK=$e([Oi,D1],OA),RA=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),B1=$e([j1,ji,VK],RA,{memoizeOptions:{resultEqualityCheck:Mv}}),qR=$e([B1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tv)),HR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),GK=$e([B1],HR),PA=e=>e.map(t=>t.data).filter(Boolean).flat(1),YK=$e([B1],PA,{memoizeOptions:{resultEqualityCheck:Mv}}),DA=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},LA=$e([YK,R1],DA),jA=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Hr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Hr(i,r)}))):e.map(r=>({value:r})),kv=$e([LA,ji,B1],jA);function VR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ag(e){if(Nc(e)||e instanceof Date){var t=Number(e);if(Si(t))return t}}function S_(e){if(Array.isArray(e)){var t=[Ag(e[0]),Ag(e[1])];return cf(t)?t:void 0}var n=Ag(e);if(n!=null)return[n,n]}function vu(e){return e.map(Ag).filter(UU)}function WK(e,t,n){return!n||typeof t!="number"||yl(t)?[]:n.length?vu(n.flatMap(r=>{var i=Hr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Si(a)||!Si(s)))return[t-a,t+s]})):[]}var Fa=e=>{var t=Ba(e),n=z0(e);return L1(e,t,n)},F1=$e([Fa],e=>e==null?void 0:e.dataKey),KK=$e([qR,R1,Fa],BR),GR=(e,t,n,r)=>{var i={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[c,h]=s,f=r?[...h].reverse():h,p=f.map(_v);return[c,{stackedData:hH(e,p,n),graphicalItems:f}]}))},p1=$e([KK,qR,P1,kR],GR),YR=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=vH(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},$K=$e([ji],e=>e.allowDataOverflow),BA=e=>{var t;if(e==null||!("domain"in e))return Tw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=vu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Tw},FA=$e([ji],BA),UA=$e([FA,$K],gR),XK=$e([p1,bf,Oi,UA],YR,{memoizeOptions:{resultEqualityCheck:Iv}}),Ov=e=>e.errorBars,JK=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>VR(n,r)),vm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),c=Math.max(...a);return[s,c]}},zA=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(c=>{n.forEach(h=>{var f,p,v=(f=r[h.id])===null||f===void 0?void 0:f.filter(L=>VR(i,L)),E=Hr(c,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),A=WK(c,E,v);if(A.length>=2){var k=Math.min(...A),I=Math.max(...A);(a==null||k<a)&&(a=k),(s==null||I>s)&&(s=I)}var R=S_(E);R!=null&&(a=a==null?R[0]:Math.min(a,R[0]),s=s==null?R[1]:Math.max(s,R[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var h=S_(Hr(c,t.dataKey));h!=null&&(a=a==null?h[0]:Math.min(a,h[0]),s=s==null?h[1]:Math.max(s,h[1]))}),Si(a)&&Si(s))return[a,s]},ZK=$e([LA,ji,GK,Ov,Oi],zA,{memoizeOptions:{resultEqualityCheck:Iv}});function QK(e){var{value:t}=e;if(Nc(t)||t instanceof Date)return t}var e$=(e,t,n)=>{var r=e.map(QK).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&lk(r))?PO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},WR=e=>e.referenceElements.dots,q0=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),t$=$e([WR,Oi,D1],q0),KR=e=>e.referenceElements.areas,n$=$e([KR,Oi,D1],q0),$R=e=>e.referenceElements.lines,r$=$e([$R,Oi,D1],q0),XR=(e,t)=>{var n=vu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},i$=$e(t$,Oi,XR),JR=(e,t)=>{var n=vu(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},a$=$e([n$,Oi],JR);function o$(e){var t;if(e.x!=null)return vu([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:vu(n)}function s$(e){var t;if(e.y!=null)return vu([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:vu(n)}var ZR=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?o$(r):s$(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},l$=$e([r$,Oi],ZR),c$=$e(i$,l$,a$,(e,t,n)=>vm(e,n,t)),qA=(e,t,n,r,i,a,s,c)=>{if(n!=null)return n;var h=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=h?vm(r,a,i):vm(a,i);return xK(t,f,e.allowDataOverflow)},u$=$e([ji,FA,UA,XK,ZK,c$,rr,Oi],qA,{memoizeOptions:{resultEqualityCheck:Iv}}),f$=[0,1],HA=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:c,type:h}=e,f=Oc(t,a);if(f&&c==null){var p;return PO(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return h==="category"?e$(r,e,f):i==="expand"?f$:s}},VA=$e([ji,rr,LA,kv,P1,Oi,u$],HA),QR=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(w1(a));return c in Vh?c:"point"}}},H0=$e([ji,rr,zR,CA,Oi],QR);function d$(e){if(e!=null){if(e in Vh)return Vh[e]();var t="scale".concat(w1(e));if(t in Vh)return Vh[t]()}}function GA(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=d$(t);if(i!=null){var a=i.domain(n).range(r);return lH(a),a}}}var YA=(e,t,n)=>{var r=BA(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cf(e))return TK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cf(e))return IK(e,t.tickCount,t.allowDecimals)}},WA=$e([VA,L1,H0],YA),KA=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],c=n[n.length-1];return[Math.min(i,a),Math.max(s,c)]}return t},h$=$e([ji,VA,WA,Oi],KA),p$=$e(kv,ji,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vu(e.map(c=>c.value))).sort((c,h)=>c-h);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),e7=$e(p$,rr,MR,La,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Si(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Do(n,e*a),c=e*a/2;return c-s-(c-s)/a*s}return 0}),g$=(e,t)=>{var n=Su(e,t);return n==null||typeof n.padding!="string"?0:e7(e,"xAxis",t,n.padding)},m$=(e,t)=>{var n=Eu(e,t);return n==null||typeof n.padding!="string"?0:e7(e,"yAxis",t,n.padding)},v$=$e(Su,g$,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),y$=$e(Eu,m$,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),x$=$e([La,v$,hv,dv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),b$=$e([La,rr,y$,hv,dv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),U1=(e,t,n,r)=>{var i;switch(t){case"xAxis":return x$(e,n,r);case"yAxis":return b$(e,n,r);case"zAxis":return(i=kA(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return DR(e);case"radiusAxis":return LR(e,n);default:return}},t7=$e([ji,U1],Cv),V0=$e([ji,H0,h$,t7],GA);$e([B1,Ov,Oi],JK);function n7(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rv=(e,t)=>t,Pv=(e,t,n)=>n,w$=$e(uv,Rv,Pv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(n7)),A$=$e(fv,Rv,Pv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(n7)),r7=(e,t)=>({width:e.width,height:t.height}),S$=(e,t)=>{var n=typeof t.width=="number"?t.width:_1;return{width:n,height:e.height}},i7=$e(La,Su,r7),E$=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},C$=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},N$=$e(wu,La,w$,Rv,Pv,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var h=r7(t,c);s==null&&(s=E$(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[c.id]=s-Number(f)*h.height,s+=(f?-1:1)*h.height}),a}),_$=$e(bu,La,A$,Rv,Pv,(e,t,n,r,i)=>{var a={},s;return n.forEach(c=>{var h=S$(t,c);s==null&&(s=C$(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[c.id]=s-Number(f)*h.width,s+=(f?-1:1)*h.width}),a}),T$=(e,t)=>{var n=Su(e,t);if(n!=null)return N$(e,n.orientation,n.mirror)},I$=$e([La,Su,T$,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),M$=(e,t)=>{var n=Eu(e,t);if(n!=null)return _$(e,n.orientation,n.mirror)},k$=$e([La,Eu,M$,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),a7=$e(La,Eu,(e,t)=>{var n=typeof t.width=="number"?t.width:_1;return{width:n,height:e.height}}),E_=(e,t,n)=>{switch(t){case"xAxis":return i7(e,n).width;case"yAxis":return a7(e,n).height;default:return}},o7=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,c=Oc(e,r),h=t.map(f=>f.value);if(s&&c&&a==="category"&&i&&lk(h))return h}},$A=$e([rr,kv,ji,Oi],o7),s7=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Oc(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(c=>c.value)}},XA=$e([rr,kv,L1,Oi],s7),C_=$e([rr,HK,H0,V0,$A,XA,U1,WA,Oi],(e,t,n,r,i,a,s,c,h)=>{if(t!=null){var f=Oc(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:c,range:s,realScaleType:n,scale:r}}}),O$=(e,t,n,r,i,a,s,c,h)=>{if(!(t==null||r==null)){var f=Oc(e,h),{type:p,ticks:v,tickCount:E}=t,A=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,k=p==="category"&&r.bandwidth?r.bandwidth()/A:0;k=h==="angleAxis"&&a!=null&&a.length>=2?ro(a[0]-a[1])*2*k:k;var I=v||i;if(I){var R=I.map((L,q)=>{var U=s?s.indexOf(L):L;return{index:q,coordinate:r(U)+k,value:L,offset:k}});return R.filter(L=>Si(L.coordinate))}return f&&c?c.map((L,q)=>({coordinate:r(L)+k,value:L,index:q,offset:k})).filter(L=>Si(L.coordinate)):r.ticks?r.ticks(E).map(L=>({coordinate:r(L)+k,value:L,offset:k})):r.domain().map((L,q)=>({coordinate:r(L)+k,value:s?s[L]:L,index:q,offset:k}))}},l7=$e([rr,L1,H0,V0,WA,U1,$A,XA,Oi],O$),R$=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Oc(e,s),{tickCount:h}=t,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?ro(r[0]-r[1])*2*f:f,c&&a?a.map((p,v)=>({coordinate:n(p)+f,value:p,index:v,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,v)=>({coordinate:n(p)+f,value:i?i[p]:p,index:v,offset:f}))}},Ic=$e([rr,L1,V0,U1,$A,XA,Oi],R$),Mc=$e(ji,V0,(e,t)=>{if(!(e==null||t==null))return mm(mm({},e),{},{scale:t})}),P$=$e([ji,H0,VA,t7],GA);$e((e,t,n)=>kA(e,n),P$,(e,t)=>{if(!(e==null||t==null))return mm(mm({},e),{},{scale:t})});var D$=$e([rr,uv,fv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),c7=e=>e.options.defaultTooltipEventType,u7=e=>e.options.validateTooltipEventTypes;function f7(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function JA(e,t){var n=c7(e),r=u7(e);return f7(t,n,r)}function L$(e){return Wt(t=>JA(t,e))}var d7=(e,t)=>{var n,r=Number(t);if(!(yl(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},j$=e=>e.tooltip.settings,af={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},B$={itemInteraction:{click:af,hover:af},axisInteraction:{click:af,hover:af},keyboardInteraction:af,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},h7=Is({name:"tooltip",initialState:B$,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Mi()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yl(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Mi()},removeTooltipEntrySettings:{reducer(e,t){var n=Yl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Mi()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:F$,replaceTooltipEntrySettings:U$,removeTooltipEntrySettings:z$,setTooltipSettingsState:q$,setActiveMouseOverItemIndex:p7,mouseLeaveItem:H$,mouseLeaveChart:g7,setActiveClickItemIndex:V$,setMouseOverAxisIndex:m7,setMouseClickAxisIndex:G$,setSyncInteraction:Iw,setKeyboardInteraction:Mw}=h7.actions,Y$=h7.reducer;function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(r){W$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W$(e,t,n){return(t=K$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K$(e){var t=$$(e,"string");return typeof t=="symbol"?t:t+""}function $$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function J$(e){return e.index!=null}var v7=(e,t,n,r)=>{if(t==null)return af;var i=X$(e,t,n);if(i==null)return af;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(J$(i)){if(a)return Jp(Jp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Jp(Jp({},af),{},{coordinate:i.coordinate})};function Z$(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Q$(e,t){var n=Z$(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function eX(e,t,n){if(n==null||t==null)return!0;var r=Hr(e,t);return r==null||!cf(n)?!0:Q$(r,n)}var ZA=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Si(a))return i;var s=0,c=1/0;t.length>0&&(c=t.length-1);var h=Math.max(s,Math.min(a,c)),f=t[h];return f==null||eX(f,n,r)?String(h):null},y7=(e,t,n,r,i,a,s,c)=>{if(!(a==null||c==null)){var h=s[0],f=h==null?void 0:c(h.positions,a);if(f!=null)return f;var p=i==null?void 0:i[Number(a)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},x7=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},z1=e=>e.options.tooltipPayloadSearcher,G0=e=>e.tooltip;function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(r){tX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tX(e,t,n){return(t=nX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iX(e,t){return e??t}var b7=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:c,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,v=[];return e.reduce((E,A)=>{var k,{dataDefinedOnItem:I,settings:R}=A,L=iX(I,c),q=Array.isArray(L)?nO(L,f,p):L,U=(k=R==null?void 0:R.dataKey)!==null&&k!==void 0?k:r,H=R==null?void 0:R.nameKey,W;if(r&&Array.isArray(q)&&!Array.isArray(q[0])&&s==="axis"?W=ck(q,r,i):W=a(q,t,h,H),Array.isArray(W))W.forEach(G=>{var ee=T_(T_({},R),{},{name:G.name,unit:G.unit,color:void 0,fill:void 0});E.push(KC({tooltipEntrySettings:ee,dataKey:G.dataKey,payload:G.payload,value:Hr(G.payload,G.dataKey),name:G.name}))});else{var Q;E.push(KC({tooltipEntrySettings:R,dataKey:U,payload:W,value:Hr(W,U),name:(Q=Hr(W,H))!==null&&Q!==void 0?Q:R==null?void 0:R.name}))}return E},v)}},QA=$e([Fa,rr,zR,CA,Ba],QR),aX=$e([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oX=$e([Ba,z0],OA),q1=$e([aX,Fa,oX],RA,{memoizeOptions:{resultEqualityCheck:Mv}}),sX=$e([q1],e=>e.filter(Tv)),lX=$e([q1],PA,{memoizeOptions:{resultEqualityCheck:Mv}}),Y0=$e([lX,bf],DA),cX=$e([sX,bf,Fa],BR),eS=$e([Y0,Fa,q1],jA),w7=$e([Fa],BA),uX=$e([Fa],e=>e.allowDataOverflow),A7=$e([w7,uX],gR),fX=$e([q1],e=>e.filter(Tv)),dX=$e([cX,fX,P1,kR],GR),hX=$e([dX,bf,Ba,A7],YR),pX=$e([q1],HR),gX=$e([Y0,Fa,pX,Ov,Ba],zA,{memoizeOptions:{resultEqualityCheck:Iv}}),mX=$e([WR,Ba,z0],q0),vX=$e([mX,Ba],XR),yX=$e([KR,Ba,z0],q0),xX=$e([yX,Ba],JR),bX=$e([$R,Ba,z0],q0),wX=$e([bX,Ba],ZR),AX=$e([vX,wX,xX],vm),SX=$e([Fa,w7,A7,hX,gX,AX,rr,Ba],qA),H1=$e([Fa,rr,Y0,eS,P1,Ba,SX],HA),EX=$e([H1,Fa,QA],YA),CX=$e([Fa,H1,EX,Ba],KA),S7=e=>{var t=Ba(e),n=z0(e),r=!1;return U1(e,t,n,r)},E7=$e([Fa,S7],Cv),C7=$e([Fa,QA,CX,E7],GA),NX=$e([rr,eS,Fa,Ba],o7),_X=$e([rr,eS,Fa,Ba],s7),TX=(e,t,n,r,i,a,s,c)=>{if(t){var{type:h}=t,f=Oc(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ro(i[0]-i[1])*2*v:v,f&&s?s.map((E,A)=>({coordinate:r(E)+v,value:E,index:A,offset:v})):r.domain().map((E,A)=>({coordinate:r(E)+v,value:a?a[E]:E,index:A,offset:v}))}}},Cu=$e([rr,Fa,QA,C7,S7,NX,_X,Ba],TX),tS=$e([c7,u7,j$],(e,t,n)=>f7(n.shared,e,t)),N7=e=>e.tooltip.settings.trigger,nS=e=>e.tooltip.settings.defaultIndex,V1=$e([G0,tS,N7,nS],v7),uf=$e([V1,Y0,F1,H1],ZA),_7=$e([Cu,uf],d7),rS=$e([V1],e=>{if(e)return e.dataKey}),IX=$e([V1],e=>{if(e)return e.graphicalItemId}),T7=$e([G0,tS,N7,nS],x7),MX=$e([bu,wu,rr,La,Cu,nS,T7,z1],y7),kX=$e([V1,MX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OX=$e([V1],e=>e.active),RX=$e([T7,uf,bf,F1,_7,z1,tS],b7),PX=$e([RX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=LX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BX=()=>Wt(Fa),FX=()=>{var e=BX(),t=Wt(Cu),n=Wt(C7);return lf(!e||!n?void 0:M_(M_({},e),{},{scale:n}),t)};function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},VX=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Jd(Jd(Jd({},r),wa(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var c=i.coordinate,{angle:h}=r;return Jd(Jd(Jd({},r),wa(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var I7=(e,t,n,r,i)=>{var a,s=-1,c=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var h=0;h<c;h++){var f=h>0?n[h-1].coordinate:n[c-1].coordinate,p=n[h].coordinate,v=h>=c-1?n[0].coordinate:n[h+1].coordinate,E=void 0;if(ro(p-f)!==ro(v-p)){var A=[];if(ro(v-p)===ro(i[1]-i[0])){E=v;var k=p+i[1]-i[0];A[0]=Math.min(k,(k+f)/2),A[1]=Math.max(k,(k+f)/2)}else{E=f;var I=v+i[1]-i[0];A[0]=Math.min(p,(I+p)/2),A[1]=Math.max(p,(I+p)/2)}var R=[Math.min(p,(E+p)/2),Math.max(p,(E+p)/2)];if(e>R[0]&&e<=R[1]||e>=A[0]&&e<=A[1]){({index:s}=n[h]);break}}else{var L=Math.min(f,v),q=Math.max(f,v);if(e>(L+p)/2&&e<=(q+p)/2){({index:s}=n[h]);break}}}else if(t){for(var U=0;U<c;U++)if(U===0&&e<=(t[U].coordinate+t[U+1].coordinate)/2||U>0&&U<c-1&&e>(t[U].coordinate+t[U-1].coordinate)/2&&e<=(t[U].coordinate+t[U+1].coordinate)/2||U===c-1&&e>(t[U].coordinate+t[U-1].coordinate)/2){({index:s}=t[U]);break}}return s},M7=()=>Wt(CA),iS=(e,t)=>t,k7=(e,t,n)=>n,aS=(e,t,n,r)=>r,YX=$e(Cu,e=>tv(e,t=>t.coordinate)),oS=$e([G0,iS,k7,aS],v7),sS=$e([oS,Y0,F1,H1],ZA),WX=(e,t,n)=>{if(t!=null){var r=G0(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},O7=$e([G0,iS,k7,aS],x7),ym=$e([bu,wu,rr,La,Cu,aS,O7,z1],y7),KX=$e([oS,ym],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),R7=$e([Cu,sS],d7),$X=$e([O7,sS,bf,F1,R7,z1,iS],b7),XX=$e([oS,sS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&GX(e,s)){var c=yH(e,t),h=I7(c,a,i,n,r),f=HX(t,i,h,e);return{activeIndex:String(h),activeCoordinate:f}}},ZX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var c=DG(e,n);if(c){var h=xH(c,t),f=I7(h,s,a,r,i),p=VX(t,a,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},QX=(e,t,n,r,i,a,s,c)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?JX(e,t,r,i,a,s,c):ZX(e,t,n,r,i,a,s)},eJ=$e(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),tJ=$e(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:BK}});function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aJ={},oJ={zIndexMap:Object.values(fa).reduce((e,t)=>R_(R_({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),aJ)},sJ=new Set(Object.values(fa));function lJ(e){return sJ.has(e)}var P7=Is({name:"zIndex",initialState:oJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Mi()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!lJ(n)&&delete e.zIndexMap[n])},prepare:Mi()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Mi()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Mi()}}}),{registerZIndexPortal:cJ,unregisterZIndexPortal:uJ,registerZIndexPortalId:fJ,unregisterZIndexPortalId:dJ}=P7.actions,hJ=P7.reducer;function rs(e){var{zIndex:t,children:n}=e,r=JH(),i=r&&t!==void 0&&t!==0,a=ao(),s=di();j.useLayoutEffect(()=>i?(s(cJ({zIndex:t})),()=>{s(uJ({zIndex:t}))}):A1,[s,t,i]);var c=Wt(f=>eJ(f,t,a));if(!i)return n;if(!c)return null;var h=document.getElementById(c);return h?_5.createPortal(n,h):null}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(null,arguments)}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(n,r)}function yJ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:c,cursor:h,tooltipEventType:f,chartName:p}=e,v=n,E=r,A=i;if(!h||!v||p!=="ScatterChart"&&f!=="axis")return null;var k,I,R;if(p==="ScatterChart")k=v,I=XV,R=fa.cursorLine;else if(p==="BarChart")k=JV(c,v,a,s),I=IO,R=fa.cursorRectangle;else if(c==="radial"&&fk(v)){var{cx:L,cy:q,radius:U,startAngle:H,endAngle:W}=kO(v);k={cx:L,cy:q,startAngle:H,endAngle:W,innerRadius:U,outerRadius:U},I=RO,R=fa.cursorLine}else k={points:FG(c,v,a)},I=g0,R=fa.cursorLine;var Q=typeof h=="object"&&"className"in h?h.className:void 0,G=Zp(Zp(Zp(Zp({stroke:"#ccc",pointerEvents:"none"},a),k),Qf(h)),{},{payload:E,payloadIndex:A,className:br("recharts-tooltip-cursor",Q)});return j.createElement(rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:R},j.createElement(vJ,{cursor:h,cursorComp:I,cursorProps:G}))}function xJ(e){var t=FX(),n=hO(),r=ud(),i=M7();return t==null||n==null||r==null||i==null?null:j.createElement(yJ,kw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var D7=j.createContext(null),bJ=()=>j.useContext(D7),Ux={exports:{}},D_;function wJ(){return D_||(D_=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function a(h,f,p,v,E){if(typeof p!="function")throw new TypeError("The listener must be a function");var A=new i(p,v||h,E),k=n?n+f:f;return h._events[k]?h._events[k].fn?h._events[k]=[h._events[k],A]:h._events[k].push(A):(h._events[k]=A,h._eventsCount++),h}function s(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)t.call(p,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var E=0,A=v.length,k=new Array(A);E<A;E++)k[E]=v[E].fn;return k},c.prototype.listenerCount=function(f){var p=n?n+f:f,v=this._events[p];return v?v.fn?1:v.length:0},c.prototype.emit=function(f,p,v,E,A,k){var I=n?n+f:f;if(!this._events[I])return!1;var R=this._events[I],L=arguments.length,q,U;if(R.fn){switch(R.once&&this.removeListener(f,R.fn,void 0,!0),L){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,p),!0;case 3:return R.fn.call(R.context,p,v),!0;case 4:return R.fn.call(R.context,p,v,E),!0;case 5:return R.fn.call(R.context,p,v,E,A),!0;case 6:return R.fn.call(R.context,p,v,E,A,k),!0}for(U=1,q=new Array(L-1);U<L;U++)q[U-1]=arguments[U];R.fn.apply(R.context,q)}else{var H=R.length,W;for(U=0;U<H;U++)switch(R[U].once&&this.removeListener(f,R[U].fn,void 0,!0),L){case 1:R[U].fn.call(R[U].context);break;case 2:R[U].fn.call(R[U].context,p);break;case 3:R[U].fn.call(R[U].context,p,v);break;case 4:R[U].fn.call(R[U].context,p,v,E);break;default:if(!q)for(W=1,q=new Array(L-1);W<L;W++)q[W-1]=arguments[W];R[U].fn.apply(R[U].context,q)}}return!0},c.prototype.on=function(f,p,v){return a(this,f,p,v,!1)},c.prototype.once=function(f,p,v){return a(this,f,p,v,!0)},c.prototype.removeListener=function(f,p,v,E){var A=n?n+f:f;if(!this._events[A])return this;if(!p)return s(this,A),this;var k=this._events[A];if(k.fn)k.fn===p&&(!E||k.once)&&(!v||k.context===v)&&s(this,A);else{for(var I=0,R=[],L=k.length;I<L;I++)(k[I].fn!==p||E&&!k[I].once||v&&k[I].context!==v)&&R.push(k[I]);R.length?this._events[A]=R.length===1?R[0]:R:s(this,A)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Ux)),Ux.exports}var AJ=wJ();const SJ=Jl(AJ);var g1=new SJ,Ow="recharts.syncEvent.tooltip",L_="recharts.syncEvent.brush";function Dv(e,t){if(t){var n=Number.parseInt(t,10);if(!yl(n))return e==null?void 0:e[n]}}var EJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L7=Is({name:"options",initialState:EJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CJ=L7.reducer,{createEventEmitter:NJ}=L7.actions;function _J(e){return e.tooltip.syncInteraction}var TJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},j7=Is({name:"chartData",initialState:TJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:j_,setDataStartEndIndexes:IJ,setComputedData:sge}=j7.actions,MJ=j7.reducer,kJ=["x","y"];function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(n),!0).forEach(function(r){OJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OJ(e,t,n){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e,t){if(e==null)return{};var n,r,i=LJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jJ(){var e=Wt(NA),t=Wt(_A),n=di(),r=Wt(OR),i=Wt(Cu),a=ud(),s=pv(),c=Wt(h=>h.rootProps.className);j.useEffect(()=>{if(e==null)return A1;var h=(f,p,v)=>{if(t!==v&&e===f){if(r==="index"){var E;if(s&&p!==null&&p!==void 0&&(E=p.payload)!==null&&E!==void 0&&E.coordinate&&p.payload.sourceViewBox){var A=p.payload.coordinate,{x:k,y:I}=A,R=DJ(A,kJ),{x:L,y:q,width:U,height:H}=p.payload.sourceViewBox,W=Zd(Zd({},R),{},{x:s.x+(U?(k-L)/U:0)*s.width,y:s.y+(H?(I-q)/H:0)*s.height});n(Zd(Zd({},p),{},{payload:Zd(Zd({},p.payload),{},{coordinate:W})}))}else n(p);return}if(i!=null){var Q;if(typeof r=="function"){var G={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},ee=r(i,G);Q=i[ee]}else r==="value"&&(Q=i.find(he=>String(he.value)===p.payload.label));var{coordinate:Y}=p.payload;if(Q==null||p.payload.active===!1||Y==null||s==null){n(Iw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:me,y:X}=Y,J=Math.min(me,s.x+s.width),ie=Math.min(X,s.y+s.height),se={x:a==="horizontal"?Q.coordinate:J,y:a==="horizontal"?ie:Q.coordinate},ae=Iw({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(Q.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ae)}}};return g1.on(Ow,h),()=>{g1.off(Ow,h)}},[c,n,t,e,r,i,a,s])}function BJ(){var e=Wt(NA),t=Wt(_A),n=di();j.useEffect(()=>{if(e==null)return A1;var r=(i,a,s)=>{t!==s&&e===i&&n(IJ(a))};return g1.on(L_,r),()=>{g1.off(L_,r)}},[n,t,e])}function FJ(){var e=di();j.useEffect(()=>{e(NJ())},[e]),jJ(),BJ()}function UJ(e,t,n,r,i,a){var s=Wt(A=>WX(A,e,t)),c=Wt(_A),h=Wt(NA),f=Wt(OR),p=Wt(_J),v=p==null?void 0:p.active,E=pv();j.useEffect(()=>{if(!v&&h!=null&&c!=null){var A=Iw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:E,graphicalItemId:void 0});g1.emit(Ow,h,A,c)}},[v,n,s,i,r,c,h,f,a,E])}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e){return e.dataKey}function GJ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(IV,t)}var z_=[],YJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ff(e){var t,n,r=Zi(e,YJ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:c,content:h,filterNull:f,isAnimationActive:p,offset:v,payloadUniqBy:E,position:A,reverseDirection:k,useTranslate3d:I,wrapperStyle:R,cursor:L,shared:q,trigger:U,defaultIndex:H,portal:W,axisId:Q}=r,G=di(),ee=typeof H=="number"?String(H):H;j.useEffect(()=>{G(q$({shared:q,trigger:U,axisId:Q,active:i,defaultIndex:ee}))},[G,q,U,Q,i,ee]);var Y=pv(),me=EO(),X=L$(q),{activeIndex:J,isActive:ie}=(t=Wt(ke=>XX(ke,X,U,ee)))!==null&&t!==void 0?t:{},se=Wt(ke=>$X(ke,X,U,ee)),ae=Wt(ke=>R7(ke,X,U,ee)),he=Wt(ke=>KX(ke,X,U,ee)),Ae=se,Te=bJ(),Me=(n=i??ie)!==null&&n!==void 0?n:!1,[Qe,ye]=Nk([Ae,Me]),V=X==="axis"?ae:void 0;UJ(X,U,he,V,J,Me);var le=W??Te;if(le==null||Y==null||X==null)return null;var ce=Ae??z_;Me||(ce=z_),f&&ce.length&&(ce=wk(ce.filter(ke=>ke.value!=null&&(ke.hide!==!0||r.includeHidden)),E,VJ));var pe=ce.length>0,xe=j.createElement(LV,{allowEscapeViewBox:a,animationDuration:s,animationEasing:c,isAnimationActive:p,active:Me,coordinate:he,hasPayload:pe,offset:v,position:A,reverseDirection:k,useTranslate3d:I,viewBox:Y,wrapperStyle:R,lastBoundingBox:Qe,innerRef:ye,hasPortalFromProps:!!W},GJ(h,U_(U_({},r),{},{payload:ce,label:V,active:Me,activeIndex:J,coordinate:he,accessibilityLayer:me})));return j.createElement(j.Fragment,null,_5.createPortal(xe,le),Me&&j.createElement(xJ,{cursor:L,tooltipEventType:X,coordinate:he,payload:ce,index:J}))}var hd=e=>null;hd.displayName="Cell";function WJ(e,t,n){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XJ{constructor(t){WJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){ZJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZJ(e,t,n){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QJ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ={cacheSize:2e3,enableCache:!0},B7=JJ({},tZ),H_=new XJ(B7.cacheSize),nZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V_="recharts_measurement_span";function rZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(c)}var G_=(e,t)=>{try{var n=document.getElementById(V_);n||(n=document.createElement("span"),n.setAttribute("id",V_),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||D0.isSsr)return{width:0,height:0};if(!B7.enableCache)return G_(t,n);var r=rZ(t,n),i=H_.get(r);if(i)return i;var a=G_(t,n);return H_.set(r,a),a},Y_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,W_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oZ=Object.keys(F7),l0="NaN";function sZ(e,t){return e*F7[t]}class _s{static parse(t){var n,[,r,i]=(n=aZ.exec(t))!==null&&n!==void 0?n:[];return new _s(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,yl(t)&&(this.unit=""),n!==""&&!iZ.test(n)&&(this.num=NaN,this.unit=""),oZ.includes(n)&&(this.num=sZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new _s(NaN,""):new _s(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _s(NaN,""):new _s(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _s(NaN,""):new _s(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _s(NaN,""):new _s(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yl(this.num)}}function U7(e){if(e.includes(l0))return l0;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Y_.exec(t))!==null&&n!==void 0?n:[],s=_s.parse(r??""),c=_s.parse(a??""),h=i==="*"?s.multiply(c):s.divide(c);if(h.isNaN())return l0;t=t.replace(Y_,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,v,E]=(f=W_.exec(t))!==null&&f!==void 0?f:[],A=_s.parse(p??""),k=_s.parse(E??""),I=v==="+"?A.add(k):A.subtract(k);if(I.isNaN())return l0;t=t.replace(W_,I.toString())}return t}var K_=/\(([^()]*)\)/;function lZ(e){for(var t=e,n;(n=K_.exec(t))!=null;){var[,r]=n;t=t.replace(K_,U7(r))}return t}function cZ(e){var t=e.replace(/\s+/g,"");return t=lZ(t),t=U7(t),t}function uZ(e){try{return cZ(e)}catch{return l0}}function zx(e){var t=uZ(e.slice(5,-1));return t===l0?"":t}var fZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dZ=["dx","dy","angle","className","breakAll"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rw.apply(null,arguments)}function $_(e,t){if(e==null)return{};var n,r,i=hZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var z7=/[ \f\n\r\t\v\u2028\u2029]+/,q7=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ai(t)||(n?i=t.toString().split(""):i=t.toString().split(z7));var a=i.map(c=>({word:c,width:Wh(c,r).width})),s=n?0:Wh("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function pZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var H7=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:c}=a,h=i[i.length-1];if(h&&c!=null&&(t==null||r||h.width+c+n<Number(t)))h.words.push(s),h.width+=c+n;else{var f={words:[s],width:c};i.push(f)}return i},[]),V7=e=>e.reduce((t,n)=>t.width>n.width?t:n),gZ="",X_=(e,t,n,r,i,a,s,c)=>{var h=e.slice(0,t),f=q7({breakAll:n,style:r,children:h+gZ});if(!f)return[!1,[]];var p=H7(f.wordsWithComputedWidth,a,s,c),v=p.length>i||V7(p).width>Number(a);return[v,p]},mZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:c,breakAll:h}=e,f=Ht(a),p=String(s),v=H7(t,r,n,i);if(!f||i)return v;var E=v.length>a||V7(v).width>Number(r);if(!E)return v;for(var A=0,k=p.length-1,I=0,R;A<=k&&I<=p.length-1;){var L=Math.floor((A+k)/2),q=L-1,[U,H]=X_(p,q,h,c,a,r,n,i),[W]=X_(p,L,h,c,a,r,n,i);if(!U&&!W&&(A=L+1),U&&W&&(k=L-1),!U&&W){R=H;break}I++}return R||v},J_=e=>{var t=Ai(e)?[]:e.toString().split(z7);return[{words:t,width:void 0}]},vZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!D0.isSsr){var c,h,f=q7({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:v}=f;c=p,h=v}else return J_(r);return mZ({breakAll:a,children:r,maxLines:s,style:i},c,h,t,!!n)}return J_(r)},G7="#808080",yZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:G7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Lv=j.forwardRef((e,t)=>{var n=Zi(e,yZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:c,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,v=$_(n,fZ),E=j.useMemo(()=>vZ({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),{dx:A,dy:k,angle:I,className:R,breakAll:L}=v,q=$_(v,dZ);if(!Nc(r)||!Nc(i)||E.length===0)return null;var U=Number(r)+(Ht(A)?A:0),H=Number(i)+(Ht(k)?k:0);if(!Si(U)||!Si(H))return null;var W;switch(p){case"start":W=zx("calc(".concat(s,")"));break;case"middle":W=zx("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:W=zx("calc(".concat(E.length-1," * -").concat(a,")"));break}var Q=[];if(h){var G=E[0].width,{width:ee}=v;Q.push("scale(".concat(Ht(ee)&&Ht(G)?ee/G:1,")"))}return I&&Q.push("rotate(".concat(I,", ").concat(U,", ").concat(H,")")),Q.length&&(q.transform=Q.join(" ")),j.createElement("text",Rw({},Lo(q),{ref:t,x:U,y:H,className:br("recharts-text",R),textAnchor:f,fill:c.includes("url")?G7:c}),E.map((Y,me)=>{var X=Y.words.join(L?"":" ");return j.createElement("tspan",{x:U,dy:me===0?W:a,key:"".concat(X,"-").concat(me)},X)}))});Lv.displayName="Text";var xZ=["labelRef"];function bZ(e,t){if(e==null)return{};var n,r,i=wZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(n),!0).forEach(function(r){AZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AZ(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}var Y7=j.createContext(null),CZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:c}=e,h=j.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return j.createElement(Y7.Provider,{value:h},c)},W7=()=>{var e=j.useContext(Y7),t=pv();return e||dO(t)},NZ=j.createContext(null),_Z=()=>{var e=j.useContext(NZ),t=Wt(jR);return e||t},TZ=e=>{var{value:t,formatter:n}=e,r=Ai(e.children)?t:e.children;return typeof n=="function"?n(r):r},lS=e=>e!=null&&typeof e=="function",IZ=(e,t)=>{var n=ro(t-e),r=Math.min(Math.abs(t-e),360);return n*r},MZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:c,cy:h,innerRadius:f,outerRadius:p,startAngle:v,endAngle:E,clockWise:A}=i,k=(f+p)/2,I=IZ(v,E),R=I>=0?1:-1,L,q;switch(t){case"insideStart":L=v+R*a,q=A;break;case"insideEnd":L=E-R*a,q=!A;break;case"end":L=E+R*a,q=A;break;default:throw new Error("Unsupported position ".concat(t))}q=I<=0?q:!q;var U=wa(c,h,k,L),H=wa(c,h,k,L+(q?1:-1)*359),W="M".concat(U.x,",").concat(U.y,`
    A`).concat(k,",").concat(k,",0,1,").concat(q?0:1,`,
    `).concat(H.x,",").concat(H.y),Q=Ai(e.id)?t1("recharts-radial-line-"):e.id;return j.createElement("text",au({},r,{dominantBaseline:"central",className:br("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:Q,d:W})),j.createElement("textPath",{xlinkHref:"#".concat(Q)},n))},kZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:c,endAngle:h}=e,f=(c+h)/2;if(n==="outside"){var{x:p,y:v}=wa(r,i,s+t,f);return{x:p,y:v,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var E=(a+s)/2,{x:A,y:k}=wa(r,i,E,f);return{x:A,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Pw=e=>"cx"in e&&Ht(e.cx),OZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Pw(n)&&(a=n);var{x:s,y:c,upperWidth:h,lowerWidth:f,height:p}=t,v=s,E=s+(h-f)/2,A=(v+E)/2,k=(h+f)/2,I=v+h/2,R=p>=0?1:-1,L=R*r,q=R>0?"end":"start",U=R>0?"start":"end",H=h>=0?1:-1,W=H*r,Q=H>0?"end":"start",G=H>0?"start":"end";if(i==="top"){var ee={x:v+h/2,y:c-L,textAnchor:"middle",verticalAnchor:q};return sa(sa({},ee),a?{height:Math.max(c-a.y,0),width:h}:{})}if(i==="bottom"){var Y={x:E+f/2,y:c+p+L,textAnchor:"middle",verticalAnchor:U};return sa(sa({},Y),a?{height:Math.max(a.y+a.height-(c+p),0),width:f}:{})}if(i==="left"){var me={x:A-W,y:c+p/2,textAnchor:Q,verticalAnchor:"middle"};return sa(sa({},me),a?{width:Math.max(me.x-a.x,0),height:p}:{})}if(i==="right"){var X={x:A+k+W,y:c+p/2,textAnchor:G,verticalAnchor:"middle"};return sa(sa({},X),a?{width:Math.max(a.x+a.width-X.x,0),height:p}:{})}var J=a?{width:k,height:p}:{};return i==="insideLeft"?sa({x:A+W,y:c+p/2,textAnchor:G,verticalAnchor:"middle"},J):i==="insideRight"?sa({x:A+k-W,y:c+p/2,textAnchor:Q,verticalAnchor:"middle"},J):i==="insideTop"?sa({x:v+h/2,y:c+L,textAnchor:"middle",verticalAnchor:U},J):i==="insideBottom"?sa({x:E+f/2,y:c+p-L,textAnchor:"middle",verticalAnchor:q},J):i==="insideTopLeft"?sa({x:v+W,y:c+L,textAnchor:G,verticalAnchor:U},J):i==="insideTopRight"?sa({x:v+h-W,y:c+L,textAnchor:Q,verticalAnchor:U},J):i==="insideBottomLeft"?sa({x:E+W,y:c+p-L,textAnchor:G,verticalAnchor:q},J):i==="insideBottomRight"?sa({x:E+f-W,y:c+p-L,textAnchor:Q,verticalAnchor:q},J):i&&typeof i=="object"&&(Ht(i.x)||fu(i.x))&&(Ht(i.y)||fu(i.y))?sa({x:s+Do(i.x,k),y:c+Do(i.y,p),textAnchor:"end",verticalAnchor:"end"},J):sa({x:I,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},J)},RZ={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function rf(e){var t=Zi(e,RZ),{viewBox:n,position:r,value:i,children:a,content:s,className:c="",textBreakAll:h,labelRef:f}=t,p=_Z(),v=W7(),E=r==="center"?v:p??v,A,k,I;if(n==null?A=E:Pw(n)?A=n:A=dO(n),!A||Ai(i)&&Ai(a)&&!j.isValidElement(s)&&typeof s!="function")return null;var R=sa(sa({},t),{},{viewBox:A});if(j.isValidElement(s)){var{labelRef:L}=R,q=bZ(R,xZ);return j.cloneElement(s,q)}if(typeof s=="function"){if(k=j.createElement(s,R),j.isValidElement(k))return k}else k=TZ(t);var U=Lo(t);if(Pw(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return MZ(t,r,k,U,A);I=kZ(A,t.offset,t.position)}else I=OZ(t,A);return j.createElement(rs,{zIndex:t.zIndex},j.createElement(Lv,au({ref:f,className:br("recharts-label",c)},U,I,{textAnchor:pZ(U.textAnchor)?U.textAnchor:I.textAnchor,breakAll:h}),k))}rf.displayName="Label";var PZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(rf,au({key:"label-implicit"},r)):Nc(e)?j.createElement(rf,au({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===rf?j.cloneElement(e,sa({key:"label-implicit"},r)):j.createElement(rf,au({key:"label-implicit",content:e},r)):lS(e)?j.createElement(rf,au({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(rf,au({},e,{key:"label-implicit"},r)):null};function DZ(e){var{label:t,labelRef:n}=e,r=W7();return PZ(t,r,n)||null}var qx={},Hx={},Q_;function LZ(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Hx)),Hx}var Vx={},eT;function jZ(){return eT||(eT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Vx)),Vx}var tT;function BZ(){return tT||(tT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LZ(),n=jZ(),r=L5();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(qx)),qx}var Gx,nT;function FZ(){return nT||(nT=1,Gx=BZ().last),Gx}var UZ=FZ();const zZ=Jl(UZ);var qZ=["valueAccessor"],HZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xm.apply(null,arguments)}function rT(e,t){if(e==null)return{};var n,r,i=VZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GZ=e=>Array.isArray(e.value)?zZ(e.value):e.value,K7=j.createContext(void 0),cS=K7.Provider,$7=j.createContext(void 0),YZ=$7.Provider;function WZ(){return j.useContext(K7)}function KZ(){return j.useContext($7)}function Sg(e){var{valueAccessor:t=GZ}=e,n=rT(e,qZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:c}=n,h=rT(n,HZ),f=WZ(),p=KZ(),v=f||p;return!v||!v.length?null:j.createElement(rs,{zIndex:c??fa.label},j.createElement(Ji,{className:"recharts-label-list"},v.map((E,A)=>{var k,I=Ai(r)?t(E,A):Hr(E&&E.payload,r),R=Ai(a)?{}:{id:"".concat(a,"-").concat(A)};return j.createElement(rf,xm({key:"label-".concat(A)},Lo(E),h,R,{fill:(k=n.fill)!==null&&k!==void 0?k:E.fill,parentViewBox:E.parentViewBox,value:I,textBreakAll:s,viewBox:E.viewBox,index:A,zIndex:0}))})))}Sg.displayName="LabelList";function jv(e){var{label:t}=e;return t?t===!0?j.createElement(Sg,{key:"labelList-implicit"}):j.isValidElement(t)||lS(t)?j.createElement(Sg,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Sg,xm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}var X7=e=>{var{cx:t,cy:n,r,className:i}=e,a=br("recharts-dot",i);return Ht(t)&&Ht(n)&&Ht(r)?j.createElement("circle",Dw({},es(e),D5(e),{className:a,cx:t,cy:n,r})):null},J7=e=>e.graphicalItems.polarItems,$Z=$e([Oi,D1],OA),Bv=$e([J7,ji,$Z],RA),XZ=$e([Bv],PA),Fv=$e([XZ,AA],DA),JZ=$e([Fv,ji,Bv],jA);$e([Fv,ji,Bv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=Hr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Hr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var iT=()=>{},ZZ=$e([Fv,ji,Bv,Ov,Oi],zA),QZ=$e([ji,FA,UA,iT,ZZ,iT,rr,Oi],qA),Z7=$e([ji,rr,Fv,JZ,P1,Oi,QZ],HA),eQ=$e([Z7,ji,H0],YA);$e([ji,Z7,eQ,Oi],KA);var tQ={radiusAxis:{},angleAxis:{}},Q7=Is({name:"polarAxis",initialState:tQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lge,removeRadiusAxis:cge,addAngleAxis:uge,removeAngleAxis:fge}=Q7.actions,nQ=Q7.reducer;function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){rQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rQ(e,t,n){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oQ=(e,t)=>t,uS=$e([J7,oQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),sQ=[],fS=(e,t,n)=>(n==null?void 0:n.length)===0?sQ:n,eP=$e([AA,uS,fS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>oT(oT({},t.presentationProps),a.props))),i!=null)return i}}),lQ=$e([eP,uS,fS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=Hr(r,t.nameKey,t.name),c;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:vf(s,t.dataKey),color:c,payload:r,type:t.legendType}})}),cQ=$e([eP,uS,fS,La],(e,t,n,r)=>{if(!(t==null||e==null))return uee({offset:r,pieSettings:t,displayedData:e,cells:n})}),Yx={exports:{}},Xr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function uQ(){if(sT)return Xr;sT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),A=Symbol.for("react.client.reference");function k(I){if(typeof I=="object"&&I!==null){var R=I.$$typeof;switch(R){case e:switch(I=I.type,I){case n:case i:case r:case h:case f:case E:return I;default:switch(I=I&&I.$$typeof,I){case s:case c:case v:case p:return I;case a:return I;default:return R}}case t:return R}}}return Xr.ContextConsumer=a,Xr.ContextProvider=s,Xr.Element=e,Xr.ForwardRef=c,Xr.Fragment=n,Xr.Lazy=v,Xr.Memo=p,Xr.Portal=t,Xr.Profiler=i,Xr.StrictMode=r,Xr.Suspense=h,Xr.SuspenseList=f,Xr.isContextConsumer=function(I){return k(I)===a},Xr.isContextProvider=function(I){return k(I)===s},Xr.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Xr.isForwardRef=function(I){return k(I)===c},Xr.isFragment=function(I){return k(I)===n},Xr.isLazy=function(I){return k(I)===v},Xr.isMemo=function(I){return k(I)===p},Xr.isPortal=function(I){return k(I)===t},Xr.isProfiler=function(I){return k(I)===i},Xr.isStrictMode=function(I){return k(I)===r},Xr.isSuspense=function(I){return k(I)===h},Xr.isSuspenseList=function(I){return k(I)===f},Xr.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===n||I===i||I===r||I===h||I===f||typeof I=="object"&&I!==null&&(I.$$typeof===v||I.$$typeof===p||I.$$typeof===s||I.$$typeof===a||I.$$typeof===c||I.$$typeof===A||I.getModuleId!==void 0)},Xr.typeOf=k,Xr}var lT;function fQ(){return lT||(lT=1,Yx.exports=uQ()),Yx.exports}var dQ=fQ(),cT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",uT=null,Wx=null,tP=e=>{if(e===uT&&Array.isArray(Wx))return Wx;var t=[];return j.Children.forEach(e,n=>{Ai(n)||(dQ.isFragment(n)?t=t.concat(tP(n.props.children)):t.push(n))}),Wx=t,uT=e,t};function dS(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>cT(i)):r=[cT(t)],tP(e).forEach(i=>{var a=ed(i,"type.displayName")||ed(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var hS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Kx={},fT;function hQ(){return fT||(fT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Kx)),Kx}var $x,dT;function pQ(){return dT||(dT=1,$x=hQ().isPlainObject),$x}var gQ=pQ();const mQ=Jl(gQ);function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bm.apply(null,arguments)}var gT=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},bQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wQ=e=>{var t=Zi(e,bQ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:c}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:v}=t,E=j.useRef(null),[A,k]=j.useState(-1),I=j.useRef(i),R=j.useRef(a),L=j.useRef(s),q=j.useRef(n),U=j.useRef(r),H=j0(e,"trapezoid-");if(j.useEffect(()=>{if(E.current&&E.current.getTotalLength)try{var se=E.current.getTotalLength();se&&k(se)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var W=br("recharts-trapezoid",c);if(!v)return j.createElement("g",null,j.createElement("path",bm({},Lo(t),{className:W,d:gT(n,r,i,a,s)})));var Q=I.current,G=R.current,ee=L.current,Y=q.current,me=U.current,X="0px ".concat(A===-1?1:A,"px"),J="".concat(A,"px 0px"),ie=CO(["strokeDasharray"],f,h);return j.createElement(L0,{animationId:H,key:H,canBegin:A>0,duration:f,easing:h,isActive:v,begin:p},se=>{var ae=Rr(Q,i,se),he=Rr(G,a,se),Ae=Rr(ee,s,se),Te=Rr(Y,n,se),Me=Rr(me,r,se);E.current&&(I.current=ae,R.current=he,L.current=Ae,q.current=Te,U.current=Me);var Qe=se>0?{transition:ie,strokeDasharray:J}:{strokeDasharray:X};return j.createElement("path",bm({},Lo(t),{className:W,d:gT(Te,Me,ae,he,Ae),ref:E,style:pT(pT({},Qe),t.style)}))})},AQ=["option","shapeType","propTransformer","activeClassName"];function SQ(e,t){if(e==null)return{};var n,r,i=EQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQ(e,t){return wm(wm({},t),e)}function IQ(e,t){return e==="symbols"}function vT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(IO,n);case"trapezoid":return j.createElement(wQ,n);case"sector":return j.createElement(RO,n);case"symbols":if(IQ(t))return j.createElement(P5,n);break;case"curve":return j.createElement(g0,n);default:return null}}function MQ(e){return j.isValidElement(e)?e.props:e}function pS(e){var{option:t,shapeType:n,propTransformer:r=TQ,activeClassName:i="recharts-active-shape"}=e,a=SQ(e,AQ),s;if(j.isValidElement(t))s=j.cloneElement(t,wm(wm({},a),MQ(t)));else if(typeof t=="function")s=t(a,a.index);else if(mQ(t)&&typeof t!="boolean"){var c=r(t,a);s=j.createElement(vT,{shapeType:n,elementProps:c})}else{var h=a;s=j.createElement(vT,{shapeType:n,elementProps:h})}return a.isActive?j.createElement(Ji,{className:i},s):s}var gS=(e,t,n)=>{var r=di();return(i,a)=>s=>{e==null||e(i,a,s),r(p7({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},mS=e=>{var t=di();return(n,r)=>i=>{e==null||e(n,r,i),t(H$())}},vS=(e,t,n)=>{var r=di();return(i,a)=>s=>{e==null||e(i,a,s),r(V$({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Uv(e){var{tooltipEntrySettings:t}=e,n=di(),r=ao(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(F$(t)):i.current!==t&&n(U$({prev:i.current,next:t})),i.current=t)},[t,n,r]),j.useLayoutEffect(()=>()=>{i.current&&(n(z$(i.current)),i.current=null)},[n]),null}function yS(e){var{legendPayload:t}=e,n=di(),r=ao(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(wO(t)):i.current!==t&&n(AO({prev:i.current,next:t})),i.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(n(SO(i.current)),i.current=null)},[n]),null}function kQ(e){var{legendPayload:t}=e,n=di(),r=Wt(rr),i=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(wO(t)):i.current!==t&&n(AO({prev:i.current,next:t})),i.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(n(SO(i.current)),i.current=null)},[n]),null}var Xx,OQ=()=>{var[e]=j.useState(()=>t1("uid-"));return e},RQ=(Xx=rj.useId)!==null&&Xx!==void 0?Xx:OQ;function nP(e,t){var n=RQ();return t||(e?"".concat(e,"-").concat(n):n)}var PQ=j.createContext(void 0),zv=e=>{var{id:t,type:n,children:r}=e,i=nP("recharts-".concat(n),t);return j.createElement(PQ.Provider,{value:i},r(i))},DQ={cartesianItems:[],polarItems:[]},rP=Is({name:"graphicalItems",initialState:DQ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Mi()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Yl(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Mi()},removeCartesianGraphicalItem:{reducer(e,t){var n=Yl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Mi()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Mi()},removePolarGraphicalItem:{reducer(e,t){var n=Yl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Mi()}}}),{addCartesianGraphicalItem:LQ,replaceCartesianGraphicalItem:jQ,removeCartesianGraphicalItem:BQ,addPolarGraphicalItem:FQ,removePolarGraphicalItem:UQ}=rP.actions,zQ=rP.reducer,qQ=e=>{var t=di(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(LQ(e)):n.current!==e&&t(jQ({prev:n.current,next:e})),n.current=e},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(t(BQ(n.current)),n.current=null)},[t]),null},xS=j.memo(qQ);function HQ(e){var t=di();return j.useLayoutEffect(()=>(t(FQ(e)),()=>{t(UQ(e))}),[t,e]),null}var VQ=["key"],GQ=["onMouseEnter","onClick","onMouseLeave"],YQ=["id"],WQ=["id"];function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Q(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},df.apply(null,arguments)}function qv(e,t){if(e==null)return{};var n,r,i=JQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZQ(e){var t=j.useMemo(()=>dS(e.children,hd),[e.children]),n=Wt(r=>lQ(r,e.id,t));return n==null?null:j.createElement(kQ,{legendPayload:n})}var QQ=j.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:c,hide:h,tooltipType:f}=e,p={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:vf(c,t),hide:h,type:f,color:s,unit:""}};return j.createElement(Uv,{tooltipEntrySettings:p})}),eee=(e,t)=>e>t?"start":e<t?"end":"middle",tee=(e,t,n)=>Do(typeof t=="function"?t(e):t,n,n*.8),nee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,c=MO(a,s),h=i+Do(e.cx,a,a/2),f=r+Do(e.cy,s,s/2),p=Do(e.innerRadius,c,0),v=tee(n,e.outerRadius,c),E=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:h,cy:f,innerRadius:p,outerRadius:v,maxRadius:E}},ree=(e,t)=>{var n=ro(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function iee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aee=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=br("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=qv(t,VQ);return j.createElement(g0,df({},i,{type:"linear",className:n}))},oee=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var i=br("recharts-pie-label-text",iee(e));return j.createElement(Lv,df({},t,{alignmentBaseline:"middle",className:i}),r)};function see(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var c=es(n),h=Qf(i),f=Qf(a),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,v=t.map((E,A)=>{var k=(E.startAngle+E.endAngle)/2,I=wa(E.cx,E.cy,E.outerRadius+p,k),R=Xi(Xi(Xi(Xi({},c),E),{},{stroke:"none"},h),{},{index:A,textAnchor:eee(I.x,E.cx)},I),L=Xi(Xi(Xi(Xi({},c),E),{},{fill:"none",stroke:E.fill},f),{},{index:A,points:[wa(E.cx,E.cy,E.outerRadius,k),I],key:"line"});return j.createElement(rs,{zIndex:fa.label,key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(A)},j.createElement(Ji,null,a&&aee(a,L),oee(i,R,Hr(E,s))))});return j.createElement(Ji,{className:"recharts-pie-labels"},v)}function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(jv,{label:i}):j.createElement(see,{sectors:t,props:n,showLabels:r})}function cee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,c=Wt(uf),h=Wt(rS),f=Wt(IX),{onMouseEnter:p,onClick:v,onMouseLeave:E}=i,A=qv(i,GQ),k=gS(p,i.dataKey,s),I=mS(E),R=vS(v,i.dataKey,s);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((L,q)=>{if((L==null?void 0:L.startAngle)===0&&(L==null?void 0:L.endAngle)===0&&t.length!==1)return null;var U=f==null||f===s,H=String(q)===c&&(h==null||i.dataKey===h)&&U,W=c?r:null,Q=n&&H?n:W,G=Xi(Xi({},L),{},{stroke:L.stroke,tabIndex:-1,[sO]:q,[lO]:i.dataKey});return j.createElement(Ji,df({key:"sector-".concat(L==null?void 0:L.startAngle,"-").concat(L==null?void 0:L.endAngle,"-").concat(L.midAngle,"-").concat(q),tabIndex:-1,className:"recharts-pie-sector"},S1(A,L,q),{onMouseEnter:k(L,q),onMouseLeave:I(L,q),onClick:R(L,q)}),j.createElement(pS,df({option:a??Q,index:q,shapeType:"sector",isActive:H},G)))}))}function uee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:c,endAngle:h,dataKey:f,nameKey:p,tooltipType:v}=n,E=Math.abs(n.minAngle),A=ree(c,h),k=Math.abs(A),I=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,R=r.filter(Q=>Hr(Q,f,0)!==0).length,L=(k>=360?R:R-1)*I,q=k-R*E-L,U=r.reduce((Q,G)=>{var ee=Hr(G,f,0);return Q+(Ht(ee)?ee:0)},0),H;if(U>0){var W;H=r.map((Q,G)=>{var ee=Hr(Q,f,0),Y=Hr(Q,p,G),me=nee(n,a,Q),X=(Ht(ee)?ee:0)/U,J,ie=Xi(Xi({},Q),i&&i[G]&&i[G].props);G?J=W.endAngle+ro(A)*I*(ee!==0?1:0):J=c;var se=J+ro(A)*((ee!==0?E:0)+X*q),ae=(J+se)/2,he=(me.innerRadius+me.outerRadius)/2,Ae=[{name:Y,value:ee,payload:ie,dataKey:f,type:v}],Te=wa(me.cx,me.cy,he,ae);return W=Xi(Xi(Xi(Xi({},n.presentationProps),{},{percent:X,cornerRadius:typeof s=="string"?parseFloat(s):s,name:Y,tooltipPayload:Ae,midAngle:ae,middleRadius:he,tooltipPosition:Te},ie),me),{},{value:ee,dataKey:f,startAngle:J,endAngle:se,payload:ie,paddingAngle:ro(A)*I}),W})}return H}function fee(e){var{showLabels:t,sectors:n,children:r}=e,i=j.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return j.createElement(YZ,{value:t?i:void 0},r)}function dee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:h,activeShape:f,inactiveShape:p,onAnimationStart:v,onAnimationEnd:E}=t,A=j0(t,"recharts-pie-"),k=n.current,[I,R]=j.useState(!1),L=j.useCallback(()=>{typeof E=="function"&&E(),R(!1)},[E]),q=j.useCallback(()=>{typeof v=="function"&&v(),R(!0)},[v]);return j.createElement(fee,{showLabels:!I,sectors:i},j.createElement(L0,{animationId:A,begin:s,duration:c,isActive:a,easing:h,onAnimationStart:q,onAnimationEnd:L,key:A},U=>{var H=[],W=i&&i[0],Q=W==null?void 0:W.startAngle;return i==null||i.forEach((G,ee)=>{var Y=k&&k[ee],me=ee>0?ed(G,"paddingAngle",0):0;if(Y){var X=Rr(Y.endAngle-Y.startAngle,G.endAngle-G.startAngle,U),J=Xi(Xi({},G),{},{startAngle:Q+me,endAngle:Q+X+me});H.push(J),Q=J.endAngle}else{var{endAngle:ie,startAngle:se}=G,ae=Rr(0,ie-se,U),he=Xi(Xi({},G),{},{startAngle:Q+me,endAngle:Q+ae+me});H.push(he),Q=he.endAngle}}),n.current=H,j.createElement(Ji,null,j.createElement(cee,{sectors:H,activeShape:f,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:r}))}),j.createElement(lee,{showLabels:!I,sectors:i,props:t}),t.children)}var hee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function pee(e){var{id:t}=e,n=qv(e,YQ),{hide:r,className:i,rootTabIndex:a}=e,s=j.useMemo(()=>dS(e.children,hd),[e.children]),c=Wt(p=>cQ(p,t,s)),h=j.useRef(null),f=br("recharts-pie",i);return r||c==null?(h.current=null,j.createElement(Ji,{tabIndex:a,className:f})):j.createElement(rs,{zIndex:e.zIndex},j.createElement(QQ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),j.createElement(Ji,{tabIndex:a,className:f},j.createElement(dee,{props:Xi(Xi({},n),{},{sectors:c}),previousSectorsRef:h,id:t})))}function Hv(e){var t=Zi(e,hee),{id:n}=t,r=qv(t,WQ),i=es(r);return j.createElement(zv,{id:n,type:"pie"},a=>j.createElement(j.Fragment,null,j.createElement(HQ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(ZQ,df({},r,{id:a})),j.createElement(pee,df({},r,{id:a}))))}Hv.displayName="Pie";var gee=["points"];function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mee(e,t,n){return(t=vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(null,arguments)}function xee(e,t){if(e==null)return{};var n,r,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wee(e){var{option:t,dotProps:n,className:r}=e;if(j.isValidElement(t))return j.cloneElement(t,n);if(typeof t=="function")return t(n);var i=br(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,c=xee(a,gee);return j.createElement(X7,Am({},c,{className:i}))}function Aee(e,t){return e==null?!1:t?!0:e.length===1}function iP(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:c,clipPathId:h,zIndex:f=fa.scatter}=e;if(!Aee(t,n))return null;var p=hS(n),v=KF(n),E=t.map((k,I)=>{var R,L,q=Jx(Jx(Jx({r:3},s),v),{},{index:I,cx:(R=k.x)!==null&&R!==void 0?R:void 0,cy:(L=k.y)!==null&&L!==void 0?L:void 0,dataKey:a,value:k.value,payload:k.payload,points:t});return j.createElement(wee,{key:"dot-".concat(I),option:n,dotProps:q,className:i})}),A={};return c&&h!=null&&(A.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(h,")")),j.createElement(rs,{zIndex:f},j.createElement(Ji,Am({className:r},A),E))}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee={xAxis:{},yAxis:{},zAxis:{}},aP=Is({name:"cartesianAxis",initialState:Nee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Mi()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Mi()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Mi()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Mi()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Mi()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Mi()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Mi()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Mi()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Mi()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=wT(wT({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:_ee,replaceXAxis:Tee,removeXAxis:Iee,addYAxis:Mee,replaceYAxis:kee,removeYAxis:Oee,addZAxis:dge,replaceZAxis:hge,removeZAxis:pge,updateYAxisWidth:Ree}=aP.actions,Pee=aP.reducer,Dee=$e([La],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Lee=$e([Dee,bu,wu],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Vv=()=>Wt(Lee),jee=()=>Wt(PX);function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=Zx(Zx(Zx({},c),Qf(i)),D5(i)),f;return j.isValidElement(i)?f=j.cloneElement(i,h):typeof i=="function"?f=i(h):f=j.createElement(X7,h),j.createElement(Ji,{className:"recharts-active-dot",clipPath:s},f)};function Lw(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=fa.activeDot}=e,c=Wt(uf),h=jee();if(t==null||h==null)return null;var f=t.find(p=>h.includes(p.payload));return Ai(f)?null:j.createElement(rs,{zIndex:s},j.createElement(zee,{point:f,childIndex:Number(c),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var qee="Invariant failed";function Hee(e,t){throw new Error(qee)}var Vee=["x","y"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){Gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gee(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kee(e,t){if(e==null)return{};var n,r,i=$ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xee(e,t){var{x:n,y:r}=e,i=Kee(e,Vee),a="".concat(n),s=parseInt(a,10),c="".concat(r),h=parseInt(c,10),f="".concat(t.height||i.height),p=parseInt(f,10),v="".concat(t.width||i.width),E=parseInt(v,10);return Fh(Fh(Fh(Fh(Fh({},t),i),s?{x:s}:{}),h?{y:h}:{}),{},{height:p,width:E,name:t.name,radius:t.radius})}function Sm(e){return j.createElement(pS,jw({shapeType:"rectangle",propTransformer:Xee,activeClassName:"recharts-active-bar"},e))}var Jee=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ht(t))return t;var a=Ht(r)||Ai(r);return a?t(r,i):(a||Hee(),n)}},Zee={},oP=Is({name:"errorBars",initialState:Zee,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:gge,replaceErrorBar:mge,removeErrorBar:vge}=oP.actions,Qee=oP.reducer,ete=["children"];function tte(e,t){if(e==null)return{};var n,r,i=nte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ite=j.createContext(rte);function sP(e){var{children:t}=e,n=tte(e,ete);return j.createElement(ite.Provider,{value:n},t)}function Gv(e,t){var n,r,i=Wt(f=>Su(f,e)),a=Wt(f=>Eu(f,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qa.allowDataOverflow,c=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:eo.allowDataOverflow,h=s||c;return{needClip:h,needClipX:s,needClipY:c}}function bS(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Vv(),{needClipX:a,needClipY:s,needClip:c}=Gv(t,n);if(!c||!i)return null;var{x:h,y:f,width:p,height:v}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?h:h-p/2,y:s?f:f-v/2,width:a?p:p*2,height:s?v:v*2}))}function ate(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Si(e.zIndex)?e.zIndex:t}var Qx={exports:{}},eb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function ote(){if(ET)return eb;ET=1;var e=P0();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,c=e.useDebugValue;return eb.useSyncExternalStoreWithSelector=function(h,f,p,v,E){var A=i(null);if(A.current===null){var k={hasValue:!1,value:null};A.current=k}else k=A.current;A=s(function(){function R(W){if(!L){if(L=!0,q=W,W=v(W),E!==void 0&&k.hasValue){var Q=k.value;if(E(Q,W))return U=Q}return U=W}if(Q=U,n(q,W))return Q;var G=v(W);return E!==void 0&&E(Q,G)?(q=W,Q):(q=W,U=G)}var L=!1,q,U,H=p===void 0?null:p;return[function(){return R(f())},H===null?void 0:function(){return R(H())}]},[f,p,v,E]);var I=r(h,A[0],A[1]);return a(function(){k.hasValue=!0,k.value=I},[I]),c(I),I},eb}var CT;function ste(){return CT||(CT=1,Qx.exports=ote()),Qx.exports}ste();function lte(e){e()}function cte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lte(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var NT={notify(){},get:()=>[]};function ute(e,t){let n,r=NT,i=0,a=!1;function s(I){p();const R=r.subscribe(I);let L=!1;return()=>{L||(L=!0,R(),v())}}function c(){r.notify()}function h(){k.onStateChange&&k.onStateChange()}function f(){return a}function p(){i++,n||(n=e.subscribe(h),r=cte())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=NT)}function E(){a||(a=!0,p())}function A(){a&&(a=!1,v())}const k={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:f,trySubscribe:E,tryUnsubscribe:A,getListeners:()=>r};return k}var fte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dte=fte(),hte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pte=hte(),gte=()=>dte||pte?j.useLayoutEffect:j.useEffect,mte=gte();function _T(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vte(e,t){if(_T(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!_T(e[n[i]],t[n[i]]))return!1;return!0}var tb=Symbol.for("react-redux-context"),nb=typeof globalThis<"u"?globalThis:{};function yte(){if(!j.createContext)return{};const e=nb[tb]??(nb[tb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var xte=yte();function bte(e){const{children:t,context:n,serverState:r,store:i}=e,a=j.useMemo(()=>{const h=ute(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),s=j.useMemo(()=>i.getState(),[i]);mte(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),s!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,s]);const c=n||xte;return j.createElement(c.Provider,{value:a},t)}var wte=bte,Ate=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Ste(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function G1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ate.has(r)){if(e[r]==null&&t[r]==null)continue;if(!vte(e[r],t[r]))return!1}else if(!Ste(e[r],t[r]))return!1;return!0}var Ete=["onMouseEnter","onMouseLeave","onClick"],Cte=["value","background","tooltipPosition"],Nte=["id"],_te=["onMouseEnter","onClick","onMouseLeave"];function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(null,arguments)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ite(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Em(e,t){if(e==null)return{};var n,r,i=kte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:vf(n,t),payload:e}]},Rte=j.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:c,tooltipType:h}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:vf(a,t),hide:s,type:h,color:i,unit:c}};return j.createElement(Uv,{tooltipEntrySettings:f})});function Pte(e){var t=Wt(uf),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:c,onClick:h}=a,f=Em(a,Ete),p=gS(s,r),v=mS(c),E=vS(h,r);if(!i||n==null)return null;var A=Qf(i);return j.createElement(rs,{zIndex:ate(i,fa.barBackground)},n.map((k,I)=>{var{value:R,background:L,tooltipPosition:q}=k,U=Em(k,Cte);if(!L)return null;var H=p(k,I),W=v(k,I),Q=E(k,I),G=Jo(Jo(Jo(Jo(Jo({option:i,isActive:String(I)===t},U),{},{fill:"#eee"},L),A),S1(f,k,I)),{},{onMouseEnter:H,onMouseLeave:W,onClick:Q,dataKey:r,index:I,className:"recharts-bar-background-rectangle"});return j.createElement(Sm,yu({key:"background-bar-".concat(I)},G))}))}function Dte(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Jo(Jo({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return j.createElement(cS,{value:t?i:void 0},n)}function Lte(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,c=Wt(uf),h=Wt(rS),f=n&&String(a)===c&&(h==null||s===h),p=f?n:t;return f?j.createElement(rs,{zIndex:fa.activeBar},j.createElement(Sm,yu({},r,{name:String(r.name)},i,{isActive:f,option:p,index:a,dataKey:s}))):j.createElement(Sm,yu({},r,{name:String(r.name)},i,{isActive:f,option:p,index:a,dataKey:s}))}function jte(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return j.createElement(Sm,yu({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function Bte(e){var t,{data:n,props:r}=e,i=(t=es(r))!==null&&t!==void 0?t:{},{id:a}=i,s=Em(i,Nte),{shape:c,dataKey:h,activeBar:f}=r,{onMouseEnter:p,onClick:v,onMouseLeave:E}=r,A=Em(r,_te),k=gS(p,h),I=mS(E),R=vS(v,h);return n?j.createElement(j.Fragment,null,n.map((L,q)=>j.createElement(Ji,yu({key:"rectangle-".concat(L==null?void 0:L.x,"-").concat(L==null?void 0:L.y,"-").concat(L==null?void 0:L.value,"-").concat(q),className:"recharts-bar-rectangle"},S1(A,L,q),{onMouseEnter:k(L,q),onMouseLeave:I(L,q),onClick:R(L,q)}),f?j.createElement(Lte,{shape:c,activeBar:f,baseProps:s,entry:L,index:q,dataKey:h}):j.createElement(jte,{shape:c,baseProps:s,entry:L,index:q,dataKey:h})))):null}function Fte(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:h,onAnimationEnd:f,onAnimationStart:p}=t,v=n.current,E=j0(t,"recharts-bar-"),[A,k]=j.useState(!1),I=!A,R=j.useCallback(()=>{typeof f=="function"&&f(),k(!1)},[f]),L=j.useCallback(()=>{typeof p=="function"&&p(),k(!0)},[p]);return j.createElement(Dte,{showLabels:I,rects:r},j.createElement(L0,{animationId:E,begin:s,duration:c,isActive:a,easing:h,onAnimationEnd:R,onAnimationStart:L,key:E},q=>{var U=q===1?r:r==null?void 0:r.map((H,W)=>{var Q=v&&v[W];if(Q)return Jo(Jo({},H),{},{x:Rr(Q.x,H.x,q),y:Rr(Q.y,H.y,q),width:Rr(Q.width,H.width,q),height:Rr(Q.height,H.height,q)});if(i==="horizontal"){var G=Rr(0,H.height,q),ee=Rr(H.stackedBarStart,H.y,q);return Jo(Jo({},H),{},{y:ee,height:G})}var Y=Rr(0,H.width,q),me=Rr(H.stackedBarStart,H.x,q);return Jo(Jo({},H),{},{width:Y,x:me})});return q>0&&(n.current=U??null),U==null?null:j.createElement(Ji,null,j.createElement(Bte,{props:t,data:U}))}),j.createElement(jv,{label:t.label}),t.children)}function Ute(e){var t=j.useRef(null);return j.createElement(Fte,{previousRectanglesRef:t,props:e})}var lP=0,zte=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Hr(e,t)}};class qte extends j.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:c,background:h,id:f}=this.props;if(t||n==null)return null;var p=br("recharts-bar",i),v=f;return j.createElement(Ji,{className:p,id:f},c&&j.createElement("defs",null,j.createElement(bS,{clipPathId:v,xAxisId:a,yAxisId:s})),j.createElement(Ji,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(v,")"):void 0},j.createElement(Pte,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),j.createElement(Ute,this.props)))}}var Hte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:lP,xAxisId:0,yAxisId:0,zIndex:fa.bar};function Vte(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:h,animationEasing:f,isAnimationActive:p}=e,{needClip:v}=Gv(t,n),E=ud(),A=ao(),k=dS(e.children,hd),I=Wt(q=>yne(q,t,n,A,e.id,k));if(E!=="vertical"&&E!=="horizontal")return null;var R,L=I==null?void 0:I[0];return L==null||L.height==null||L.width==null?R=0:R=E==="vertical"?L.height/2:L.width/2,j.createElement(sP,{xAxisId:t,yAxisId:n,data:I,dataPointFormatter:zte,errorBarOffset:R},j.createElement(qte,yu({},e,{layout:E,needClip:v,data:I,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:c,animationDuration:h,animationEasing:f,isAnimationActive:p})))}function Gte(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:c,xAxisTicks:h,yAxisTicks:f,stackedData:p,displayedData:v,offset:E,cells:A,parentViewBox:k,dataStartIndex:I}=e,R=t==="horizontal"?c:s,L=p?R.scale.domain():null,q=pH({numericAxis:R}),U=R.scale(q);return v.map((H,W)=>{var Q,G,ee,Y,me,X;p?Q=cH(p[W+I],L):(Q=Hr(H,n),Array.isArray(Q)||(Q=[q,Q]));var J=Jee(r,lP)(Q[1],W);if(t==="horizontal"){var ie,[se,ae]=[c.scale(Q[0]),c.scale(Q[1])];G=GC({axis:s,ticks:h,bandSize:a,offset:i.offset,entry:H,index:W}),ee=(ie=ae??se)!==null&&ie!==void 0?ie:void 0,Y=i.size;var he=se-ae;if(me=yl(he)?0:he,X={x:G,y:E.top,width:Y,height:E.height},Math.abs(J)>0&&Math.abs(me)<Math.abs(J)){var Ae=ro(me||J)*(Math.abs(J)-Math.abs(me));ee-=Ae,me+=Ae}}else{var[Te,Me]=[s.scale(Q[0]),s.scale(Q[1])];if(G=Te,ee=GC({axis:c,ticks:f,bandSize:a,offset:i.offset,entry:H,index:W}),Y=Me-Te,me=i.size,X={x:E.left,y:ee,width:E.width,height:me},Math.abs(J)>0&&Math.abs(Y)<Math.abs(J)){var Qe=ro(Y||J)*(Math.abs(J)-Math.abs(Y));Y+=Qe}}if(G==null||ee==null||Y==null||me==null)return null;var ye=Jo(Jo({},H),{},{stackedBarStart:U,x:G,y:ee,width:Y,height:me,value:p?Q:Q[1],payload:H,background:X,tooltipPosition:{x:G+Y/2,y:ee+me/2},parentViewBox:k},A&&A[W]&&A[W].props);return ye}).filter(Boolean)}function Yte(e){var t=Zi(e,Hte),n=ao();return j.createElement(zv,{id:t.id,type:"bar"},r=>j.createElement(j.Fragment,null,j.createElement(yS,{legendPayload:Ote(t)}),j.createElement(Rte,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),j.createElement(xS,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aO(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(rs,{zIndex:t.zIndex},j.createElement(Vte,yu({},t,{id:r})))))}var hf=j.memo(Yte,G1);hf.displayName="Bar";function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wte(e,t,n){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xte=(e,t)=>t,Jte=(e,t,n)=>n,Zte=(e,t,n,r)=>r,Qte=(e,t,n,r,i)=>i,Y1=$e([j1,Qte],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),ene=$e([Y1],e=>e==null?void 0:e.maxBarSize),tne=(e,t,n,r,i,a)=>a,MT=(e,t,n)=>{var r=n??e;if(!Ai(r))return Do(r,t,0)},nne=$e([rr,j1,Xte,Jte,Zte],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),rne=(e,t,n,r)=>{var i=rr(e);return i==="horizontal"?p1(e,"yAxis",n,r):p1(e,"xAxis",t,r)},ine=(e,t,n)=>{var r=rr(e);return r==="horizontal"?E_(e,"xAxis",t):E_(e,"yAxis",n)},ane=(e,t,n)=>{var r={},i=e.filter(Tv),a=e.filter(f=>f.stackId==null),s=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(s).map(f=>{var[p,v]=f,E=v.map(k=>k.dataKey),A=MT(t,n,v[0].barSize);return{stackId:p,dataKeys:E,barSize:A}}),h=a.map(f=>{var p=[f.dataKey].filter(E=>E!=null),v=MT(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...c,...h]},one=$e([nne,kK,ine],ane),sne=(e,t,n,r,i)=>{var a,s,c=Y1(e,t,n,r,i);if(c!=null){var h=rr(e),f=IR(e),{maxBarSize:p}=c,v=Ai(p)?f:p,E,A;return h==="horizontal"?(E=Mc(e,"xAxis",t,r),A=Ic(e,"xAxis",t,r)):(E=Mc(e,"yAxis",n,r),A=Ic(e,"yAxis",n,r)),(a=(s=lf(E,A,!0))!==null&&s!==void 0?s:v)!==null&&a!==void 0?a:0}},cP=(e,t,n,r)=>{var i=rr(e),a,s;return i==="horizontal"?(a=Mc(e,"xAxis",t,r),s=Ic(e,"xAxis",t,r)):(a=Mc(e,"yAxis",n,r),s=Ic(e,"yAxis",n,r)),lf(a,s)};function lne(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Do(e,n,0,!0),c,h=[];if(Si(r[0].barSize)){var f=!1,p=n/a,v=r.reduce((L,q)=>L+(q.barSize||0),0);v+=(a-1)*s,v>=n&&(v-=(a-1)*s,s=0),v>=n&&p>0&&(f=!0,p*=.9,v=a*p);var E=(n-v)/2>>0,A={offset:E-s,size:0};c=r.reduce((L,q)=>{var U,H={stackId:q.stackId,dataKeys:q.dataKeys,position:{offset:A.offset+A.size+s,size:f?p:(U=q.barSize)!==null&&U!==void 0?U:0}},W=[...L,H];return A=W[W.length-1].position,W},h)}else{var k=Do(t,n,0,!0);n-2*k-(a-1)*s<=0&&(s=0);var I=(n-2*k-(a-1)*s)/a;I>1&&(I>>=0);var R=Si(i)?Math.min(I,i):I;c=r.reduce((L,q,U)=>[...L,{stackId:q.stackId,dataKeys:q.dataKeys,position:{offset:k+(I+s)*U+(I-R)/2,size:R}}],h)}return c}}var cne=(e,t,n,r,i,a,s)=>{var c=Ai(s)?t:s,h=lne(n,r,i!==a?i:a,e,c);return i!==a&&h!=null&&(h=h.map(f=>Qp(Qp({},f),{},{position:Qp(Qp({},f.position),{},{offset:f.position.offset-i/2})}))),h},une=$e([one,IR,MK,MR,sne,cP,ene],cne),fne=(e,t,n,r)=>Mc(e,"xAxis",t,r),dne=(e,t,n,r)=>Mc(e,"yAxis",n,r),hne=(e,t,n,r)=>Ic(e,"xAxis",t,r),pne=(e,t,n,r)=>Ic(e,"yAxis",n,r),gne=$e([une,Y1],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),mne=(e,t)=>{var n=_v(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},vne=$e([rne,Y1],mne),yne=$e([La,Y5,fne,dne,hne,pne,gne,rr,R1,cP,vne,Y1,tne],(e,t,n,r,i,a,s,c,h,f,p,v,E)=>{var{chartData:A,dataStartIndex:k,dataEndIndex:I}=h;if(!(v==null||s==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:R}=v,L;if(R!=null&&R.length>0?L=R:L=A==null?void 0:A.slice(k,I+1),L!=null)return Gte({layout:c,barSettings:v,pos:s,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:p,displayedData:L,offset:e,cells:E,dataStartIndex:k})}}),uP=e=>{var{chartData:t}=e,n=di(),r=ao();return j.useEffect(()=>r?()=>{}:(n(j_(t)),()=>{n(j_(void 0))}),[t,n,r]),null},kT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fP=Is({name:"brush",initialState:kT,reducers:{setBrushSettings(e,t){return t.payload==null?kT:t.payload}}}),{setBrushSettings:yge}=fP.actions,xne=fP.reducer;function bne(e,t,n){return(t=wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wS{static create(t){return new wS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}bne(wS,"EPS",1e-4);function Sne(e){return(e%180+180)%180}var Ene=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Sne(i),s=a*Math.PI/180,c=Math.atan(r/n),h=s>c&&s<Math.PI-c?r/Math.sin(s):n/Math.cos(s);return Math.abs(h)},Cne={dots:[],areas:[],lines:[]},dP=Is({name:"referenceElements",initialState:Cne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Yl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Yl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Yl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xge,removeDot:bge,addArea:wge,removeArea:Age,addLine:Sge,removeLine:Ege}=dP.actions,Nne=dP.reducer,_ne=j.createContext(void 0),Tne=e=>{var{children:t}=e,[n]=j.useState("".concat(t1("recharts"),"-clip")),r=Vv();if(r==null)return null;var{x:i,y:a,width:s,height:c}=r;return j.createElement(_ne.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:a,height:c,width:s}))),t)};function hP(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Ine(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Ene(r,n)}function Mne(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:c}=e;return t===1?{start:r?i:a,end:r?i+s:a+c}:{start:r?i+s:a+c,end:r?i:a}}function Cm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function kne(e,t){return hP(e,t+1)}function One(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:c}=t,h=0,f=1,p=s,v=function(){var k=r==null?void 0:r[h];if(k===void 0)return{v:hP(r,f)};var I=h,R,L=()=>(R===void 0&&(R=n(k,I)),R),q=k.coordinate,U=h===0||Cm(e,q,L,p,c);U||(h=0,p=s,f+=1),U&&(p=q+e*(L()/2+i),h+=f)},E;f<=a.length;)if(E=v(),E)return E.v;return[]}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){Rne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rne(e,t,n){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lne(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:c}=t,{end:h}=t,f=function(E){var A=a[E],k,I=()=>(k===void 0&&(k=n(A,E)),k);if(E===s-1){var R=e*(A.coordinate+e*I()/2-h);a[E]=A=Oo(Oo({},A),{},{tickCoord:R>0?A.coordinate-R*e:A.coordinate})}else a[E]=A=Oo(Oo({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var L=Cm(e,A.tickCoord,I,c,h);L&&(h=A.tickCoord-e*(I()/2+i),a[E]=Oo(Oo({},A),{},{isShow:!0}))}},p=s-1;p>=0;p--)f(p);return a}function jne(e,t,n,r,i,a){var s=(r||[]).slice(),c=s.length,{start:h,end:f}=t;if(a){var p=r[c-1],v=n(p,c-1),E=e*(p.coordinate+e*v/2-f);if(s[c-1]=p=Oo(Oo({},p),{},{tickCoord:E>0?p.coordinate-E*e:p.coordinate}),p.tickCoord!=null){var A=Cm(e,p.tickCoord,()=>v,h,f);A&&(f=p.tickCoord-e*(v/2+i),s[c-1]=Oo(Oo({},p),{},{isShow:!0}))}}for(var k=a?c-1:c,I=function(q){var U=s[q],H,W=()=>(H===void 0&&(H=n(U,q)),H);if(q===0){var Q=e*(U.coordinate-e*W()/2-h);s[q]=U=Oo(Oo({},U),{},{tickCoord:Q<0?U.coordinate-Q*e:U.coordinate})}else s[q]=U=Oo(Oo({},U),{},{tickCoord:U.coordinate});if(U.tickCoord!=null){var G=Cm(e,U.tickCoord,W,h,f);G&&(h=U.tickCoord+e*(W()/2+i),s[q]=Oo(Oo({},U),{},{isShow:!0}))}},R=0;R<k;R++)I(R);return s}function AS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:c,interval:h,tickFormatter:f,unit:p,angle:v}=e;if(!i||!i.length||!r)return[];if(Ht(h)||D0.isSsr){var E;return(E=kne(i,Ht(h)?h:0))!==null&&E!==void 0?E:[]}var A=[],k=c==="top"||c==="bottom"?"width":"height",I=p&&k==="width"?Wh(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},R=(U,H)=>{var W=typeof f=="function"?f(U.value,H):U.value;return k==="width"?Ine(Wh(W,{fontSize:t,letterSpacing:n}),I,v):Wh(W,{fontSize:t,letterSpacing:n})[k]},L=i.length>=2?ro(i[1].coordinate-i[0].coordinate):1,q=Mne(a,L,k);return h==="equidistantPreserveStart"?One(L,q,R,i,s):(h==="preserveStart"||h==="preserveStartEnd"?A=jne(L,q,R,i,s,h==="preserveStartEnd"):A=Lne(L,q,R,i,s),A.filter(U=>U.isShow))}var Bne=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>s&&(s=v.width)}});var c=n?n.getBoundingClientRect().width:0,h=i+a,f=s+h+c+(n?r:0);return Math.round(f)}return 0},Fne=["axisLine","width","height","className","hide","ticks","axisType"];function Une(e,t){if(e==null)return{};var n,r,i=zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(null,arguments)}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){qne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qne(e,t,n){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function Gne(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:c,otherSvgProps:h}=e;if(!c)return null;var f=ba(ba(ba({},h),es(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!s||a==="bottom"&&s);f=ba(ba({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var v=+(a==="left"&&!s||a==="right"&&s);f=ba(ba({},f),{},{x1:t+v*r,y1:n,x2:t+v*r,y2:n+i})}return j.createElement("line",id({},f,{className:br("recharts-cartesian-axis-line",ed(c,"className"))}))}function Yne(e,t,n,r,i,a,s,c,h){var f,p,v,E,A,k,I=c?-1:1,R=e.tickSize||s,L=Ht(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=p=e.coordinate,E=n+ +!c*i,v=E-I*R,k=v-I*h,A=L;break;case"left":v=E=e.coordinate,p=t+ +!c*r,f=p-I*R,A=f-I*h,k=L;break;case"right":v=E=e.coordinate,p=t+ +c*r,f=p+I*R,A=f+I*h,k=L;break;default:f=p=e.coordinate,E=n+ +c*i,v=E+I*R,k=v+I*h,A=L;break}return{line:{x1:f,y1:v,x2:p,y2:E},tick:{x:A,y:k}}}function Wne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Kne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ne(e){var{option:t,tickProps:n,value:r}=e,i,a=br(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,ba(ba({},n),{},{className:a}));else if(typeof t=="function")i=t(ba(ba({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=br(s,t==null?void 0:t.className)),i=j.createElement(Lv,id({},n,{className:s}),r)}return i}var Xne=j.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:c,padding:h,tickTextProps:f,orientation:p,mirror:v,x:E,y:A,width:k,height:I,tickSize:R,tickMargin:L,fontSize:q,letterSpacing:U,getTicksConfig:H,events:W,axisType:Q}=e,G=AS(ba(ba({},H),{},{ticks:n}),q,U),ee=Wne(p,v),Y=Kne(p,v),me=es(H),X=Qf(r),J={};typeof i=="object"&&(J=i);var ie=ba(ba({},me),{},{fill:"none"},J),se=G.map(Ae=>ba({entry:Ae},Yne(Ae,E,A,k,I,p,R,v,L))),ae=se.map(Ae=>{var{entry:Te,line:Me}=Ae;return j.createElement(Ji,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Te.value,"-").concat(Te.coordinate,"-").concat(Te.tickCoord)},i&&j.createElement("line",id({},ie,Me,{className:br("recharts-cartesian-axis-tick-line",ed(i,"className"))})))}),he=se.map((Ae,Te)=>{var{entry:Me,tick:Qe}=Ae,ye=ba(ba(ba(ba({textAnchor:ee,verticalAnchor:Y},me),{},{stroke:"none",fill:a},X),Qe),{},{index:Te,payload:Me,visibleTicksCount:G.length,tickFormatter:s,padding:h},f);return j.createElement(Ji,id({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Me.value,"-").concat(Me.coordinate,"-").concat(Me.tickCoord)},S1(W,Me,Te)),r&&j.createElement($ne,{option:r,tickProps:ye,value:"".concat(typeof s=="function"?s(Me.value,Te):Me.value).concat(c||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(Q,"-ticks")},he.length>0&&j.createElement(rs,{zIndex:fa.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(Q,"-tick-labels"),ref:t},he)),ae.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(Q,"-tick-lines")},ae))}),Jne=j.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:c,axisType:h}=e,f=Une(e,Fne),[p,v]=j.useState(""),[E,A]=j.useState(""),k=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var R;return Bne({ticks:k.current,label:(R=e.labelRef)===null||R===void 0?void 0:R.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var I=j.useCallback(R=>{if(R){var L=R.getElementsByClassName("recharts-cartesian-axis-tick-value");k.current=L;var q=L[0];if(q){var U=window.getComputedStyle(q),H=U.fontSize,W=U.letterSpacing;(H!==p||W!==E)&&(v(H),A(W))}}},[p,E]);return s||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(rs,{zIndex:e.zIndex},j.createElement(Ji,{className:br("recharts-cartesian-axis",a)},j.createElement(Gne,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:es(e)}),j.createElement(Xne,{ref:I,axisType:h,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:E,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(CZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(DZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),SS=j.forwardRef((e,t)=>{var n=Zi(e,uu);return j.createElement(Jne,id({},n,{ref:t}))});SS.displayName="CartesianAxis";var Zne=["x1","y1","x2","y2","key"],Qne=["offset"],ere=["xAxisId","yAxisId"],tre=["xAxisId","yAxisId"];function PT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(n),!0).forEach(function(r){nre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nre(e,t,n){return(t=rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gf.apply(null,arguments)}function Nm(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ore=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:c}=e;return j.createElement("rect",{x:r,y:i,ry:c,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pP(e){var{option:t,lineItemProps:n}=e,r;if(j.isValidElement(t))r=j.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:c,y2:h,key:f}=n,p=Nm(n,Zne),v=(i=es(p))!==null&&i!==void 0?i:{},{offset:E}=v,A=Nm(v,Qne);r=j.createElement("line",Gf({},A,{x1:a,y1:s,x2:c,y2:h,fill:"none",key:f}))}return r}function sre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=Nm(e,ere),h=i.map((f,p)=>{var v=Ro(Ro({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return j.createElement(pP,{key:"line-".concat(p),option:r,lineItemProps:v})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function lre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,c=Nm(e,tre),h=i.map((f,p)=>{var v=Ro(Ro({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return j.createElement(pP,{option:r,lineItemProps:v,key:"line-".concat(p)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function cre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:c,horizontal:h=!0}=e;if(!h||!t||!t.length||c==null)return null;var f=c.map(v=>Math.round(v+i-i)).sort((v,E)=>v-E);i!==f[0]&&f.unshift(0);var p=f.map((v,E)=>{var A=!f[E+1],k=A?i+s-v:f[E+1]-v;if(k<=0)return null;var I=E%t.length;return j.createElement("rect",{key:"react-".concat(E),y:v,x:r,height:k,width:a,stroke:"none",fill:t[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function ure(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:c,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var f=h.map(v=>Math.round(v+i-i)).sort((v,E)=>v-E);i!==f[0]&&f.unshift(0);var p=f.map((v,E)=>{var A=!f[E+1],k=A?i+s-v:f[E+1]-v;if(k<=0)return null;var I=E%n.length;return j.createElement("rect",{key:"react-".concat(E),x:v,y:a,width:k,height:c,stroke:"none",fill:n[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var fre=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return rO(AS(Ro(Ro(Ro({},uu),n),{},{ticks:iO(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},dre=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return rO(AS(Ro(Ro(Ro({},uu),n),{},{ticks:iO(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},hre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function ad(e){var t=K5(),n=$5(),r=hO(),i=Ro(Ro({},Zi(e,hre)),{},{x:Ht(e.x)?e.x:r.left,y:Ht(e.y)?e.y:r.top,width:Ht(e.width)?e.width:r.width,height:Ht(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:c,y:h,width:f,height:p,syncWithTicks:v,horizontalValues:E,verticalValues:A}=i,k=ao(),I=Wt(Y=>C_(Y,"xAxis",a,k)),R=Wt(Y=>C_(Y,"yAxis",s,k));if(!_c(f)||!_c(p)||!Ht(c)||!Ht(h))return null;var L=i.verticalCoordinatesGenerator||fre,q=i.horizontalCoordinatesGenerator||dre,{horizontalPoints:U,verticalPoints:H}=i;if((!U||!U.length)&&typeof q=="function"){var W=E&&E.length,Q=q({yAxis:R?Ro(Ro({},R),{},{ticks:W?E:R.ticks}):void 0,width:t??f,height:n??p,offset:r},W?!0:v);Jg(Array.isArray(Q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Q,"]")),Array.isArray(Q)&&(U=Q)}if((!H||!H.length)&&typeof L=="function"){var G=A&&A.length,ee=L({xAxis:I?Ro(Ro({},I),{},{ticks:G?A:I.ticks}):void 0,width:t??f,height:n??p,offset:r},G?!0:v);Jg(Array.isArray(ee),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ee,"]")),Array.isArray(ee)&&(H=ee)}return j.createElement(rs,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(ore,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(cre,Gf({},i,{horizontalPoints:U})),j.createElement(ure,Gf({},i,{verticalPoints:H})),j.createElement(sre,Gf({},i,{offset:r,horizontalPoints:U,xAxis:I,yAxis:R})),j.createElement(lre,Gf({},i,{offset:r,verticalPoints:H,xAxis:I,yAxis:R}))))}ad.displayName="CartesianGrid";var gP=(e,t,n,r)=>Mc(e,"xAxis",t,r),mP=(e,t,n,r)=>Ic(e,"xAxis",t,r),vP=(e,t,n,r)=>Mc(e,"yAxis",n,r),yP=(e,t,n,r)=>Ic(e,"yAxis",n,r),pre=$e([rr,gP,vP,mP,yP],(e,t,n,r,i)=>Oc(e,"xAxis")?lf(t,r,!1):lf(n,i,!1)),gre=(e,t,n,r,i)=>i;function mre(e){return e.type==="line"}var vre=$e([j1,gre],(e,t)=>e.filter(mre).find(n=>n.id===t)),yre=$e([rr,gP,vP,mP,yP,vre,pre,R1],(e,t,n,r,i,a,s,c)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:p}=c;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:v,data:E}=a,A;if(E!=null&&E.length>0?A=E:A=h==null?void 0:h.slice(f,p+1),A!=null)return Bre({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:v,bandSize:s,displayedData:A})}});function xP(e){var t=Qf(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),c=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(c)||c<0)&&(c=r),{r:s,strokeWidth:c}}return{r:n,strokeWidth:r}}var xre=["id"],bre=["type","layout","connectNulls","needClip","shape"],wre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m1.apply(null,arguments)}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){Are(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Are(e,t,n){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ES(e,t){if(e==null)return{};var n,r,i=Cre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nre=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:vf(n,t),payload:e}]},_re=j.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:h,tooltipType:f}=e,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:vf(s,t),hide:c,type:f,color:r,unit:h}};return j.createElement(Uv,{tooltipEntrySettings:p})}),bP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Tre(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Ire=(e,t,n)=>{var r=n.reduce((v,E)=>v+E);if(!r)return bP(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,c=[],h=0,f=0;h<n.length;f+=n[h],++h)if(f+n[h]>a){c=[...n.slice(0,h),a-f];break}var p=c.length%2===0?[0,s]:[s];return[...Tre(n,i),...c,...p].map(v=>"".concat(v,"px")).join(", ")};function Mre(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:c}=r,h=ES(r,xre),f=es(h);return j.createElement(iP,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:t})}function kre(e){var{showLabels:t,children:n,points:r}=e,i=j.useMemo(()=>r==null?void 0:r.map(a=>{var s,c,h={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return bc(bc({},h),{},{value:a.value,payload:a.payload,viewBox:h,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(cS,{value:t?i:void 0},n)}function LT(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:c,connectNulls:h,needClip:f,shape:p}=a,v=ES(a,bre),E=bc(bc({},Lo(v)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:c,connectNulls:h,strokeDasharray:i??a.strokeDasharray});return j.createElement(j.Fragment,null,(r==null?void 0:r.length)>1&&j.createElement(pS,m1({shapeType:"curve",option:p},E,{pathRef:n})),j.createElement(Mre,{points:r,clipPathId:t,props:a}))}function Ore(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rre(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:c,isAnimationActive:h,animationBegin:f,animationDuration:p,animationEasing:v,animateNewValues:E,width:A,height:k,onAnimationEnd:I,onAnimationStart:R}=n,L=i.current,q=j0(s,"recharts-line-"),U=j.useRef(q),[H,W]=j.useState(!1),Q=!H,G=j.useCallback(()=>{typeof I=="function"&&I(),W(!1)},[I]),ee=j.useCallback(()=>{typeof R=="function"&&R(),W(!0)},[R]),Y=Ore(r.current),me=j.useRef(0);U.current!==q&&(me.current=a.current,U.current=q);var X=me.current;return j.createElement(kre,{points:s,showLabels:Q},n.children,j.createElement(L0,{animationId:q,begin:f,duration:p,isActive:h,easing:v,onAnimationEnd:G,onAnimationStart:ee,key:q},J=>{var ie=Rr(X,Y+X,J),se=Math.min(ie,Y),ae;if(h)if(c){var he="".concat(c).split(/[,\s]+/gim).map(Me=>parseFloat(Me));ae=Ire(se,Y,he)}else ae=bP(Y,se);else ae=c==null?void 0:String(c);if(J>0&&Y>0&&(i.current=s,a.current=Math.max(a.current,se)),L){var Ae=L.length/s.length,Te=J===1?s:s.map((Me,Qe)=>{var ye=Math.floor(Qe*Ae);if(L[ye]){var V=L[ye];return bc(bc({},Me),{},{x:Rr(V.x,Me.x,J),y:Rr(V.y,Me.y,J)})}return E?bc(bc({},Me),{},{x:Rr(A*2,Me.x,J),y:Rr(k/2,Me.y,J)}):bc(bc({},Me),{},{x:Me.x,y:Me.y})});return i.current=Te,j.createElement(LT,{props:n,points:Te,clipPathId:t,pathRef:r,strokeDasharray:ae})}return j.createElement(LT,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ae})}),j.createElement(jv,{label:n.label}))}function Pre(e){var{clipPathId:t,props:n}=e,r=j.useRef(null),i=j.useRef(0),a=j.useRef(null);return j.createElement(Rre,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Dre=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Hr(e.payload,t)}};class Lre extends j.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:c,left:h,width:f,height:p,id:v,needClip:E,zIndex:A}=this.props;if(t)return null;var k=br("recharts-line",i),I=v,{r:R,strokeWidth:L}=xP(n),q=hS(n),U=R*2+L,H=E?"url(#clipPath-".concat(q?"":"dots-").concat(I,")"):void 0;return j.createElement(rs,{zIndex:A},j.createElement(Ji,{className:k},E&&j.createElement("defs",null,j.createElement(bS,{clipPathId:I,xAxisId:a,yAxisId:s}),!q&&j.createElement("clipPath",{id:"clipPath-dots-".concat(I)},j.createElement("rect",{x:h-U/2,y:c-U/2,width:f+U,height:p+U}))),j.createElement(sP,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Dre,errorBarOffset:0},j.createElement(Pre,{props:this.props,clipPathId:I}))),j.createElement(Lw,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:H}))}}var wP={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function jre(e){var t=Zi(e,wP),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:h,hide:f,isAnimationActive:p,label:v,legendType:E,xAxisId:A,yAxisId:k,id:I}=t,R=ES(t,wre),{needClip:L}=Gv(A,k),q=Vv(),U=ud(),H=ao(),W=Wt(me=>yre(me,A,k,H,I));if(U!=="horizontal"&&U!=="vertical"||W==null||q==null)return null;var{height:Q,width:G,x:ee,y:Y}=q;return j.createElement(Lre,m1({},R,{id:I,connectNulls:c,dot:h,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:p,hide:f,label:v,legendType:E,xAxisId:A,yAxisId:k,points:W,layout:U,height:Q,width:G,left:ee,top:Y,needClip:L}))}function Bre(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:c,displayedData:h}=e;return h.map((f,p)=>{var v=Hr(f,s);if(t==="horizontal"){var E=Xg({axis:n,ticks:i,bandSize:c,entry:f,index:p}),A=Ai(v)?null:r.scale(v);return{x:E,y:A,value:v,payload:f}}var k=Ai(v)?null:n.scale(v),I=Xg({axis:r,ticks:a,bandSize:c,entry:f,index:p});return k==null||I==null?null:{x:k,y:I,value:v,payload:f}}).filter(Boolean)}function Fre(e){var t=Zi(e,wP),n=ao();return j.createElement(zv,{id:t.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(yS,{legendPayload:Nre(t)}),j.createElement(_re,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),j.createElement(xS,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),j.createElement(jre,m1({},t,{id:r}))))}var AP=j.memo(Fre,G1);AP.displayName="Line";var SP=(e,t,n,r)=>Mc(e,"xAxis",t,r),EP=(e,t,n,r)=>Ic(e,"xAxis",t,r),CP=(e,t,n,r)=>Mc(e,"yAxis",n,r),NP=(e,t,n,r)=>Ic(e,"yAxis",n,r),Ure=$e([rr,SP,CP,EP,NP],(e,t,n,r,i)=>Oc(e,"xAxis")?lf(t,r,!1):lf(n,i,!1)),zre=(e,t,n,r,i)=>i,_P=$e([j1,zre],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),qre=(e,t,n,r,i)=>{var a,s=_P(e,t,n,r,i);if(s!=null){var c=rr(e),h=Oc(c,"xAxis"),f;if(h?f=p1(e,"yAxis",n,r):f=p1(e,"xAxis",t,r),f!=null){var{stackId:p}=s,v=_v(s);if(!(p==null||v==null)){var E=(a=f[p])===null||a===void 0?void 0:a.stackedData;return E==null?void 0:E.find(A=>A.key===v)}}}},Hre=$e([rr,SP,CP,EP,NP,qre,R1,Ure,_P,OK],(e,t,n,r,i,a,s,c,h,f)=>{var{chartData:p,dataStartIndex:v,dataEndIndex:E}=s;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||c==null)){var{data:A}=h,k;if(A&&A.length>0?k=A:k=p==null?void 0:p.slice(v,E+1),k!=null)return lie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:v,areaSettings:h,stackedData:a,displayedData:k,chartBaseValue:f,bandSize:c})}}),Vre=["id"],Gre=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}function TP(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function c0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(n),!0).forEach(function(r){Wre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _m(e,t){return e&&e!=="none"?e:t}var Xre=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:_m(r,i),value:vf(n,t),payload:e}]},Jre=j.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:c,unit:h,tooltipType:f}=e,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:vf(s,t),hide:c,type:f,color:_m(r,a),unit:h}};return j.createElement(Uv,{tooltipEntrySettings:p})});function Zre(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:s}=r,c=es(r);return j.createElement(iP,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function Qre(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var s,c,h={x:(s=a.x)!==null&&s!==void 0?s:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return c0(c0({},h),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return j.createElement(cS,{value:t?i:void 0},n)}function BT(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:s,type:c,stroke:h,connectNulls:f,isRange:p}=a,{id:v}=a,E=TP(a,Vre),A=es(E),k=Lo(E);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Ji,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},j.createElement(g0,Xf({},k,{id:v,points:t,connectNulls:f,type:c,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),h!=="none"&&j.createElement(g0,Xf({},A,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:t})),h!=="none"&&p&&j.createElement(g0,Xf({},A,{className:"recharts-area-curve",layout:s,type:c,connectNulls:f,fill:"none",points:n}))),j.createElement(Zre,{points:t,props:E,clipPathId:i}))}function eie(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].y,s=r[r.length-1].y;if(!Si(a)||!Si(s))return null;var c=t*Math.abs(a-s),h=Math.max(...r.map(f=>f.x||0));return Ht(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(f=>f.x||0),h)),Ht(h)?j.createElement("rect",{x:0,y:a<s?a:a-c,width:h+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function tie(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,a=r[0].x,s=r[r.length-1].x;if(!Si(a)||!Si(s))return null;var c=t*Math.abs(a-s),h=Math.max(...r.map(f=>f.y||0));return Ht(n)?h=Math.max(n,h):n&&Array.isArray(n)&&n.length&&(h=Math.max(...n.map(f=>f.y||0),h)),Ht(h)?j.createElement("rect",{x:a<s?a:a-c,y:0,width:c,height:Math.floor(h+(i?parseInt("".concat(i),10):1))}):null}function nie(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?j.createElement(eie,{alpha:t,points:r,baseLine:i,strokeWidth:a}):j.createElement(tie,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function rie(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:c,isAnimationActive:h,animationBegin:f,animationDuration:p,animationEasing:v,onAnimationStart:E,onAnimationEnd:A}=r,k=j.useMemo(()=>({points:s,baseLine:c}),[s,c]),I=j0(k,"recharts-area-"),R=XH(),[L,q]=j.useState(!1),U=!L,H=j.useCallback(()=>{typeof A=="function"&&A(),q(!1)},[A]),W=j.useCallback(()=>{typeof E=="function"&&E(),q(!0)},[E]);if(R==null)return null;var Q=i.current,G=a.current;return j.createElement(Qre,{showLabels:U,points:s},r.children,j.createElement(L0,{animationId:I,begin:f,duration:p,isActive:h,easing:v,onAnimationEnd:H,onAnimationStart:W,key:I},ee=>{if(Q){var Y=Q.length/s.length,me=ee===1?s:s.map((J,ie)=>{var se=Math.floor(ie*Y);if(Q[se]){var ae=Q[se];return c0(c0({},J),{},{x:Rr(ae.x,J.x,ee),y:Rr(ae.y,J.y,ee)})}return J}),X;return Ht(c)?X=Rr(G,c,ee):Ai(c)||yl(c)?X=Rr(G,0,ee):X=c.map((J,ie)=>{var se=Math.floor(ie*Y);if(Array.isArray(G)&&G[se]){var ae=G[se];return c0(c0({},J),{},{x:Rr(ae.x,J.x,ee),y:Rr(ae.y,J.y,ee)})}return J}),ee>0&&(i.current=me,a.current=X),j.createElement(BT,{points:me,baseLine:X,needClip:t,clipPathId:n,props:r})}return ee>0&&(i.current=s,a.current=c),j.createElement(Ji,null,h&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(nie,{alpha:ee,points:s,baseLine:c,layout:R,strokeWidth:r.strokeWidth}))),j.createElement(Ji,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(BT,{points:s,baseLine:c,needClip:t,clipPathId:n,props:r})))}),j.createElement(jv,{label:r.label}))}function iie(e){var{needClip:t,clipPathId:n,props:r}=e,i=j.useRef(null),a=j.useRef();return j.createElement(rie,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class aie extends j.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:s,needClip:c,xAxisId:h,yAxisId:f,width:p,height:v,id:E,baseLine:A,zIndex:k}=this.props;if(t)return null;var I=br("recharts-area",i),R=E,{r:L,strokeWidth:q}=xP(n),U=hS(n),H=L*2+q,W=c?"url(#clipPath-".concat(U?"":"dots-").concat(R,")"):void 0;return j.createElement(rs,{zIndex:k},j.createElement(Ji,{className:I},c&&j.createElement("defs",null,j.createElement(bS,{clipPathId:R,xAxisId:h,yAxisId:f}),!U&&j.createElement("clipPath",{id:"clipPath-dots-".concat(R)},j.createElement("rect",{x:s-H/2,y:a-H/2,width:p+H,height:v+H}))),j.createElement(iie,{needClip:c,clipPathId:R,props:this.props})),j.createElement(Lw,{points:r,mainColor:_m(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:W}),this.props.isRange&&Array.isArray(A)&&j.createElement(Lw,{points:A,mainColor:_m(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:W}))}}var IP={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:fa.area};function oie(e){var t,n=Zi(e,IP),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:c,dot:h,fill:f,fillOpacity:p,hide:v,isAnimationActive:E,legendType:A,stroke:k,xAxisId:I,yAxisId:R}=n,L=TP(n,Gre),q=ud(),U=M7(),{needClip:H}=Gv(I,R),W=ao(),{points:Q,isRange:G,baseLine:ee}=(t=Wt(se=>Hre(se,I,R,W,e.id)))!==null&&t!==void 0?t:{},Y=Vv();if(q!=="horizontal"&&q!=="vertical"||Y==null||U!=="AreaChart"&&U!=="ComposedChart")return null;var{height:me,width:X,x:J,y:ie}=Y;return!Q||!Q.length?null:j.createElement(aie,Xf({},L,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:ee,connectNulls:c,dot:h,fill:f,fillOpacity:p,height:me,hide:v,layout:q,isAnimationActive:E==="auto"?!D0.isSsr:E,isRange:G,legendType:A,needClip:H,points:Q,stroke:k,width:X,left:J,top:ie,xAxisId:I,yAxisId:R}))}var sie=(e,t,n,r,i)=>{var a=n??t;if(Ht(a))return a;var s=e==="horizontal"?i:r,c=s.scale.domain();if(s.type==="number"){var h=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||h<0?h:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function lie(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:c,yAxis:h,displayedData:f,dataStartIndex:p,xAxisTicks:v,yAxisTicks:E,bandSize:A}=e,k=i&&i.length,I=sie(a,s,n,c,h),R=a==="horizontal",L=!1,q=f.map((H,W)=>{var Q;k?Q=i[p+W]:(Q=Hr(H,r),Array.isArray(Q)?L=!0:Q=[I,Q]);var G=Q[1]==null||k&&!t&&Hr(H,r)==null;return R?{x:Xg({axis:c,ticks:v,bandSize:A,entry:H,index:W}),y:G?null:h.scale(Q[1]),value:Q,payload:H}:{x:G?null:c.scale(Q[1]),y:Xg({axis:h,ticks:E,bandSize:A,entry:H,index:W}),value:Q,payload:H}}),U;return k||L?U=q.map(H=>{var W=Array.isArray(H.value)?H.value[0]:null;return R?{x:H.x,y:W!=null&&H.y!=null?h.scale(W):null,payload:H.payload}:{x:W!=null?c.scale(W):null,y:H.y,payload:H.payload}}):U=R?h.scale(I):c.scale(I),{points:q,baseLine:U,isRange:L}}function cie(e){var t=Zi(e,IP),n=ao();return j.createElement(zv,{id:t.id,type:"area"},r=>j.createElement(j.Fragment,null,j.createElement(yS,{legendPayload:Xre(t)}),j.createElement(Jre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),j.createElement(xS,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:aO(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),j.createElement(oie,Xf({},t,{id:r}))))}var MP=j.memo(cie,G1);MP.displayName="Area";var uie=["domain","range"],fie=["domain","range"];function FT(e,t){if(e==null)return{};var n,r,i=die(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kP(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=FT(e,uie),{domain:a,range:s}=t,c=FT(t,fie);return!UT(n,a)||!UT(r,s)?!1:G1(i,c)}var hie=["dangerouslySetInnerHTML","ticks"],pie=["id"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(null,arguments)}function zT(e,t){if(e==null)return{};var n,r,i=gie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mie(e){var t=di(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(_ee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}var vie=e=>{var{xAxisId:t,className:n}=e,r=Wt(Y5),i=ao(),a="xAxis",s=Wt(R=>V0(R,a,t,i)),c=Wt(R=>l7(R,a,t,i)),h=Wt(R=>i7(R,t)),f=Wt(R=>I$(R,t)),p=Wt(R=>FR(R,t));if(h==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:E}=e,A=zT(e,hie),{id:k}=p,I=zT(p,pie);return j.createElement(SS,Bw({},A,I,{scale:s,x:f.x,y:f.y,width:h.width,height:h.height,className:br("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c,axisType:a}))},yie={allowDataOverflow:Qa.allowDataOverflow,allowDecimals:Qa.allowDecimals,allowDuplicatedCategory:Qa.allowDuplicatedCategory,angle:Qa.angle,axisLine:uu.axisLine,height:Qa.height,hide:!1,includeHidden:Qa.includeHidden,interval:Qa.interval,minTickGap:Qa.minTickGap,mirror:Qa.mirror,orientation:Qa.orientation,padding:Qa.padding,reversed:Qa.reversed,scale:Qa.scale,tick:Qa.tick,tickCount:Qa.tickCount,tickLine:uu.tickLine,tickSize:uu.tickSize,type:Qa.type,xAxisId:0},xie=e=>{var t=Zi(e,yie);return j.createElement(j.Fragment,null,j.createElement(mie,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(vie,t))},od=j.memo(xie,kP);od.displayName="XAxis";var bie=["dangerouslySetInnerHTML","ticks"],wie=["id"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fw.apply(null,arguments)}function qT(e,t){if(e==null)return{};var n,r,i=Aie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sie(e){var t=di(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(kee({prev:n.current,next:e})),n.current=e},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(t(Oee(n.current)),n.current=null)},[t]),null}var Eie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=j.useRef(null),s=j.useRef(null),c=Wt(Y5),h=ao(),f=di(),p="yAxis",v=Wt(W=>V0(W,p,t,h)),E=Wt(W=>a7(W,t)),A=Wt(W=>k$(W,t)),k=Wt(W=>l7(W,p,t,h)),I=Wt(W=>UR(W,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!E||lS(i)||j.isValidElement(i)||I==null)){var W=a.current;if(W){var Q=W.getCalculatedWidth();Math.round(E.width)!==Math.round(Q)&&f(Ree({id:t,width:Q}))}}},[k,E,f,i,t,r,I]),E==null||A==null||I==null)return null;var{dangerouslySetInnerHTML:R,ticks:L}=e,q=qT(e,bie),{id:U}=I,H=qT(I,wie);return j.createElement(SS,Fw({},q,H,{ref:a,labelRef:s,scale:v,x:A.x,y:A.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:E.width,height:E.height,className:br("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:k,axisType:p}))},Cie={allowDataOverflow:eo.allowDataOverflow,allowDecimals:eo.allowDecimals,allowDuplicatedCategory:eo.allowDuplicatedCategory,angle:eo.angle,axisLine:uu.axisLine,hide:!1,includeHidden:eo.includeHidden,interval:eo.interval,minTickGap:eo.minTickGap,mirror:eo.mirror,orientation:eo.orientation,padding:eo.padding,reversed:eo.reversed,scale:eo.scale,tick:eo.tick,tickCount:eo.tickCount,tickLine:uu.tickLine,tickSize:uu.tickSize,type:eo.type,width:eo.width,yAxisId:0},Nie=e=>{var t=Zi(e,Cie);return j.createElement(j.Fragment,null,j.createElement(Sie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(Eie,t))},W0=j.memo(Nie,kP);W0.displayName="YAxis";var _ie=(e,t)=>t,CS=$e([_ie,rr,jR,Ba,E7,Cu,YX,La],QX),NS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},OP=xl("mouseClick"),RP=N1();RP.startListening({actionCreator:OP,effect:(e,t)=>{var n=e.payload,r=CS(t.getState(),NS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(G$({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Uw=xl("mouseMove"),PP=N1(),eg=null;PP.startListening({actionCreator:Uw,effect:(e,t)=>{var n=e.payload;eg!==null&&cancelAnimationFrame(eg);var r=NS(n);eg=requestAnimationFrame(()=>{var i=t.getState(),a=JA(i,i.tooltip.settings.shared);if(a==="axis"){var s=CS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(m7({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(g7())}eg=null})}});var HT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},DP=Is({name:"rootProps",initialState:HT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:HT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Tie=DP.reducer,{updateOptions:Iie}=DP.actions,LP=Is({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mie}=LP.actions,kie=LP.reducer,jP=xl("keyDown"),BP=xl("focus"),_S=N1();_S.startListening({actionCreator:jP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=ZA(i,Y0(n),F1(n),H1(n)),c=s==null?-1:Number(s);if(!(!Number.isFinite(c)||c<0)){var h=Cu(n);if(a==="Enter"){var f=ym(n,"axis","hover",String(i.index));t.dispatch(Mw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var p=D$(n),v=p==="left-to-right"?1:-1,E=a==="ArrowRight"?1:-1,A=c+E*v;if(!(h==null||A>=h.length||A<0)){var k=ym(n,"axis","hover",String(A));t.dispatch(Mw({active:!0,activeIndex:A.toString(),activeDataKey:void 0,activeCoordinate:k}))}}}}}});_S.startListening({actionCreator:BP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=ym(n,"axis","hover",String(a));t.dispatch(Mw({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var hl=xl("externalEvent"),FP=N1(),rb=new Map;FP.startListening({actionCreator:hl,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=rb.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var c=t.getState(),h={activeCoordinate:kX(c),activeDataKey:rS(c),activeIndex:uf(c),activeLabel:_7(c),activeTooltipIndex:uf(c),isTooltipActive:OX(c)};n(h,r)}finally{rb.delete(i)}});rb.set(i,s)}}});var Oie=$e([G0],e=>e.tooltipItemPayloads),Rie=$e([Oie,z1,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),UP=xl("touchMove"),zP=N1();zP.startListening({actionCreator:UP,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=JA(r,r.tooltip.settings.shared);if(i==="axis"){var a=CS(r,NS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(m7({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,c=n.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(c.clientX,c.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(sO),p=(s=h.getAttribute(lO))!==null&&s!==void 0?s:void 0,v=Rie(t.getState(),f,p);t.dispatch(p7({activeDataKey:p,activeIndex:f,activeCoordinate:v}))}}}});var Pie=Tk({brush:xne,cartesianAxis:Pee,chartData:MJ,errorBars:Qee,graphicalItems:zQ,layout:rH,legend:fV,options:CJ,polarAxis:nQ,polarOptions:kie,referenceElements:Nne,rootProps:Tie,tooltip:Y$,zIndex:hJ}),Die=function(t){return Tq({reducer:Pie,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([RP.middleware,PP.middleware,_S.middleware,FP.middleware,zP.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Hk({type:"raf"}))},devTools:D0.devToolsEnabled})};function qP(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ao(),a=j.useRef(null);if(i)return n;a.current==null&&(a.current=Die(t));var s=j5;return j.createElement(wte,{context:s,store:a.current},n)}function Lie(e){var{layout:t,margin:n}=e,r=di(),i=ao();return j.useEffect(()=>{i||(r(eH(t)),r(Qq(n)))},[r,i,t,n]),null}var HP=j.memo(Lie,G1);function VP(e){var t=di();return j.useEffect(()=>{t(Iie(e))},[t,e]),null}function VT(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=nP("".concat(r).concat(t)),a=di();return j.useLayoutEffect(()=>(a(fJ({zIndex:t,elementId:i,isPanorama:n})),()=>{a(dJ({zIndex:t,isPanorama:n}))}),[a,t,i,n]),j.createElement("g",{tabIndex:-1,id:i})}function GT(e){var{children:t,isPanorama:n}=e,r=Wt(tJ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return j.createElement(j.Fragment,null,i.map(s=>j.createElement(VT,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>j.createElement(VT,{key:s,zIndex:s,isPanorama:n})))}var jie=["children"];function Bie(e,t){if(e==null)return{};var n,r,i=Fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(null,arguments)}var Uie={width:"100%",height:"100%",display:"block"},zie=j.forwardRef((e,t)=>{var n=K5(),r=$5(),i=EO();if(!_c(n)||!_c(r))return null;var{children:a,otherAttributes:s,title:c,desc:h}=e,f,p;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?p=s.role:p=i?"application":void 0),j.createElement(N5,Tm({},s,{title:c,desc:h,role:p,tabIndex:f,width:n,height:r,style:Uie,ref:t}),a)}),qie=e=>{var{children:t}=e,n=Wt(hv);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return j.createElement(N5,{width:r,height:i,x:s,y:a},t)},YT=j.forwardRef((e,t)=>{var{children:n}=e,r=Bie(e,jie),i=ao();return i?j.createElement(qie,null,j.createElement(GT,{isPanorama:!0},n)):j.createElement(zie,Tm({ref:t},r),j.createElement(GT,{isPanorama:!1},n))});function Hie(){var e=di(),[t,n]=j.useState(null),r=Wt(bH);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Si(a)&&a!==r&&e(nH(a))}},[t,e,r]),n}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){Gie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gie(e,t,n){return(t=Yie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(null,arguments)}var Kie=()=>(FJ(),null);function Im(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $ie=j.forwardRef((e,t)=>{var n,r,i=j.useRef(null),[a,s]=j.useState({containerWidth:Im((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Im((r=e.style)===null||r===void 0?void 0:r.height)}),c=j.useCallback((f,p)=>{s(v=>{var E=Math.round(f),A=Math.round(p);return v.containerWidth===E&&v.containerHeight===A?v:{containerWidth:E,containerHeight:A}})},[]),h=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:v}=f.getBoundingClientRect();c(p,v);var E=k=>{var{width:I,height:R}=k[0].contentRect;c(I,R)},A=new ResizeObserver(E);A.observe(f),i.current=A}},[t,c]);return j.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[c]),j.createElement(j.Fragment,null,j.createElement(gv,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",sd({ref:h},e)))}),Xie=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=j.useState({containerWidth:Im(n),containerHeight:Im(r)}),s=j.useCallback((h,f)=>{a(p=>{var v=Math.round(h),E=Math.round(f);return p.containerWidth===v&&p.containerHeight===E?p:{containerWidth:v,containerHeight:E}})},[]),c=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();s(f,p)}},[t,s]);return j.createElement(j.Fragment,null,j.createElement(gv,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",sd({ref:c},e)))}),Jie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement(gv,{width:n,height:r}),j.createElement("div",sd({ref:t},e)))}),Zie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return fu(n)||fu(r)?j.createElement(Xie,sd({},e,{ref:t})):j.createElement(Jie,sd({},e,{ref:t}))});function Qie(e){return e===!0?$ie:Zie}var eae=j.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:c,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:v,onMouseUp:E,onTouchEnd:A,onTouchMove:k,onTouchStart:I,style:R,width:L,responsive:q,dispatchTouchEvents:U=!0}=e,H=j.useRef(null),W=di(),[Q,G]=j.useState(null),[ee,Y]=j.useState(null),me=Hie(),X=W5(),J=(X==null?void 0:X.width)>0?X.width:L,ie=(X==null?void 0:X.height)>0?X.height:i,se=j.useCallback(Ie=>{me(Ie),typeof t=="function"&&t(Ie),G(Ie),Y(Ie),Ie!=null&&(H.current=Ie)},[me,t,G,Y]),ae=j.useCallback(Ie=>{W(OP(Ie)),W(hl({handler:a,reactEvent:Ie}))},[W,a]),he=j.useCallback(Ie=>{W(Uw(Ie)),W(hl({handler:f,reactEvent:Ie}))},[W,f]),Ae=j.useCallback(Ie=>{W(g7()),W(hl({handler:p,reactEvent:Ie}))},[W,p]),Te=j.useCallback(Ie=>{W(Uw(Ie)),W(hl({handler:v,reactEvent:Ie}))},[W,v]),Me=j.useCallback(()=>{W(BP())},[W]),Qe=j.useCallback(Ie=>{W(jP(Ie.key))},[W]),ye=j.useCallback(Ie=>{W(hl({handler:s,reactEvent:Ie}))},[W,s]),V=j.useCallback(Ie=>{W(hl({handler:c,reactEvent:Ie}))},[W,c]),le=j.useCallback(Ie=>{W(hl({handler:h,reactEvent:Ie}))},[W,h]),ce=j.useCallback(Ie=>{W(hl({handler:E,reactEvent:Ie}))},[W,E]),pe=j.useCallback(Ie=>{W(hl({handler:I,reactEvent:Ie}))},[W,I]),xe=j.useCallback(Ie=>{U&&W(UP(Ie)),W(hl({handler:k,reactEvent:Ie}))},[W,U,k]),ke=j.useCallback(Ie=>{W(hl({handler:A,reactEvent:Ie}))},[W,A]),Fe=Qie(q);return j.createElement(D7.Provider,{value:Q},j.createElement(VM.Provider,{value:ee},j.createElement(Fe,{width:J??(R==null?void 0:R.width),height:ie??(R==null?void 0:R.height),className:br("recharts-wrapper",r),style:Vie({position:"relative",cursor:"default",width:J,height:ie},R),onClick:ae,onContextMenu:ye,onDoubleClick:V,onFocus:Me,onKeyDown:Qe,onMouseDown:le,onMouseEnter:he,onMouseLeave:Ae,onMouseMove:Te,onMouseUp:ce,onTouchEnd:ke,onTouchMove:xe,onTouchStart:pe,ref:se},j.createElement(Kie,null),n)))}),tae=["width","height","responsive","children","className","style","compact","title","desc"];function nae(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GP=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:c,compact:h,title:f,desc:p}=e,v=nae(e,tae),E=es(v);return h?j.createElement(j.Fragment,null,j.createElement(gv,{width:n,height:r}),j.createElement(YT,{otherAttributes:E,title:f,desc:p},a)):j.createElement(eae,{className:s,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(YT,{otherAttributes:E,title:f,desc:p,ref:t},j.createElement(Tne,null,a)))});function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(null,arguments)}var iae={top:5,right:5,bottom:5,left:5},aae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:iae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},TS=j.forwardRef(function(t,n){var r,i=Zi(t.categoricalChartProps,aae),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,p={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(qP,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},j.createElement(uP,{chartData:f.data}),j.createElement(HP,{layout:i.layout,margin:i.margin}),j.createElement(VP,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(GP,zw({},i,{ref:n})))}),oae=["axis"],sae=j.forwardRef((e,t)=>j.createElement(TS,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oae,tooltipPayloadSearcher:Dv,categoricalChartProps:e,ref:t})),lae=["axis","item"],Yv=j.forwardRef((e,t)=>j.createElement(TS,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lae,tooltipPayloadSearcher:Dv,categoricalChartProps:e,ref:t}));function cae(e){var t=di();return j.useEffect(()=>{t(Mie(e))},[t,e]),null}var uae=["layout"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(null,arguments)}function fae(e,t){if(e==null)return{};var n,r,i=dae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hae={top:5,right:5,bottom:5,left:5},YP={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hae,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},pae=j.forwardRef(function(t,n){var r,i=Zi(t.categoricalChartProps,YP),{layout:a}=i,s=fae(i,uae),{chartName:c,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,v={chartName:c,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(qP,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},j.createElement(uP,{chartData:i.data}),j.createElement(HP,{layout:a,margin:i.margin}),j.createElement(VP,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(cae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(GP,qw({},s,{ref:n})))});function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){gae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gae(e,t,n){return(t=mae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yae=["item"],xae=$T($T({},YP),{},{layout:"centric",startAngle:0,endAngle:360}),IS=j.forwardRef((e,t)=>{var n=Zi(e,xae);return j.createElement(pae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yae,tooltipPayloadSearcher:Dv,categoricalChartProps:n,ref:t})}),bae=["axis"],wae=j.forwardRef((e,t)=>j.createElement(TS,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bae,tooltipPayloadSearcher:Dv,categoricalChartProps:e,ref:t}));const Aae=(e,t)=>{const n=[],r=Date.now(),i=1440*60*1e3;e.forEach(s=>{if(s.stock<=s.minStock&&n.push({id:`low-${s.id}`,productId:s.id,title:"Stock Bajo",message:`Quedan solo ${s.stock} unidades de ${s.name}. (Mnimo: ${s.minStock})`,type:n0.LOW_STOCK,severity:s.stock===0?gl.CRITICAL:gl.WARNING,date:r}),s.expirationDate){const c=Math.ceil((s.expirationDate-r)/i);c<=0?n.push({id:`exp-passed-${s.id}`,productId:s.id,title:"Producto Vencido",message:`${s.name} venci el ${new Date(s.expirationDate).toLocaleDateString("es-AR")}.`,type:n0.EXPIRATION,severity:gl.CRITICAL,date:r}):c<=7?n.push({id:`exp-week-${s.id}`,productId:s.id,title:"Vence pronto",message:`${s.name} vence en ${c} das. Considera ponerlo en oferta.`,type:n0.EXPIRATION,severity:gl.WARNING,date:r}):c<=30&&n.push({id:`exp-month-${s.id}`,productId:s.id,title:"Vencimiento prximo",message:`${s.name} vence en ${c} das.`,type:n0.EXPIRATION,severity:gl.INFO,date:r})}if(s.stock>s.minStock){const c=r-30*i,f=t.filter(p=>p.productId===s.id&&p.type===wc.OUT&&p.date>=c).reduce((p,v)=>p+Math.abs(v.quantity),0);if(f>0){const p=f/30,v=Math.floor(s.stock/p);v<5&&n.push({id:`vel-${s.id}`,productId:s.id,title:"Alta Rotacin",message:`${s.name} se agotar en aprox. ${v} das al ritmo actual de ventas.`,type:n0.VELOCITY,severity:gl.INFO,date:r})}}});const a={[gl.CRITICAL]:3,[gl.WARNING]:2,[gl.INFO]:1};return n.sort((s,c)=>a[c.severity]-a[s.severity])},Sae=({isDark:e=!1,compact:t=!1})=>{const[n,r]=j.useState("synced"),[i,a]=j.useState(null),[s,c]=j.useState(navigator.onLine);j.useEffect(()=>{const A=()=>c(!0),k=()=>c(!1);return window.addEventListener("online",A),window.addEventListener("offline",k),()=>{window.removeEventListener("online",A),window.removeEventListener("offline",k)}},[]),j.useEffect(()=>{const A=()=>{try{const I=localStorage.getItem("lastBackupTime");if(I){const R=new Date(I),q=Math.floor((new Date().getTime()-R.getTime())/(1e3*60));a(I),s?q>30?r("pending"):r("synced"):r("offline")}else r("pending")}catch{r("pending")}};A();const k=setInterval(A,6e4);return()=>clearInterval(k)},[s]);const h=()=>{if(!i)return"nunca";const A=new Date(i),I=Math.floor((new Date().getTime()-A.getTime())/(1e3*60));if(I<1)return"hace unos segundos";if(I<60)return`hace ${I}m`;const R=Math.floor(I/60);return R<24?`hace ${R}h`:`hace ${Math.floor(R/24)}d`},f=()=>{switch(n){case"synced":return e?"text-green-400":"text-green-600";case"pending":return e?"text-amber-400":"text-amber-600";case"offline":return e?"text-red-400":"text-red-600";default:return e?"text-slate-400":"text-slate-600"}},p=()=>{switch(n){case"synced":return e?"bg-green-900/30":"bg-green-50";case"pending":return e?"bg-amber-900/30":"bg-amber-50";case"offline":return e?"bg-red-900/30":"bg-red-50";default:return e?"bg-slate-800/50":"bg-slate-100"}},v=()=>{switch(n){case"synced":return b.jsx(Vm,{size:16});case"pending":return b.jsx(A5,{size:16});case"offline":return b.jsx(BF,{size:16});default:return b.jsx(UF,{size:16})}},E=()=>{switch(n){case"synced":return"Sincronizado";case"pending":return"Sin sincronizar";case"offline":return"Sin conexin";default:return"Estado desconocido"}};return t?b.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs font-medium ${p()} ${f()}`,title:`${E()}  ${h()}`,children:[b.jsx(Xh,{size:14}),b.jsx("span",{children:h()})]}):b.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${p()} border-current/20`,title:`${E()}`,children:[b.jsx("div",{className:`flex-shrink-0 ${f()}`,children:v()}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:`text-sm font-semibold ${f()}`,children:E()}),b.jsxs("p",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:["ltima sincronizacin: ",h()]})]})]})},tg=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#64748b"],XT=({products:e,isDark:t,onToggleTheme:n,onOpenDataManagement:r,onNavigate:i,onShowTour:a,onHideTour:s})=>{const[c,h]=j.useState(!1),[f,p]=j.useState([]),[v,E]=j.useState([]),[A,k]=j.useState(null),[I,R]=j.useState([]),[L,q]=j.useState([]);j.useEffect(()=>{E(y5()),R(hj()),q(pj())},[]),j.useEffect(()=>{const se=Aae(e,v).filter(ae=>!I.includes(ae.id));p(se)},[e,v,I]);const U=j.useMemo(()=>({totalValue:e.reduce((ie,se)=>ie+se.price*se.stock,0),totalItems:e.reduce((ie,se)=>ie+se.stock,0),lowStockCount:e.filter(ie=>ie.stock<=ie.minStock).length}),[e]),H=j.useMemo(()=>{const ie=new Map;return e.forEach(se=>{ie.set(se.category,(ie.get(se.category)||0)+1)}),Array.from(ie.entries()).map(([se,ae])=>({name:se,value:ae}))},[e]),W=j.useMemo(()=>A?e.filter(ie=>ie.category===A):[],[A,e]),Q=j.useMemo(()=>{const ie=W;return{count:ie.length,value:ie.reduce((se,ae)=>se+ae.price*ae.stock,0),stock:ie.reduce((se,ae)=>se+ae.stock,0)}},[W]),G=ie=>{const se=[...I,ie];R(se),b4(se)},ee=ie=>{if(!L.includes(ie)){const se=[...L,ie];q(se),w4(se)}},Y=()=>{const ie=f.map(ae=>ae.id),se=Array.from(new Set([...L,...ie]));q(se),w4(se)},me=()=>{if(window.confirm("Ests seguro de eliminar todas las notificaciones?")){const ie=f.map(ae=>ae.id),se=Array.from(new Set([...I,...ie]));R(se),b4(se)}},X=()=>{if(!A||W.length===0)return;const ie=`inventariando_categoria_${A.toLowerCase()}_${new Date().toISOString().split("T")[0]}.csv`,se=["Nombre","Precio","Costo","Stock","Valor Total"],ae=W.map(Me=>[`"${Me.name.replace(/"/g,'""')}"`,Me.price,Me.cost,Me.stock,Me.price*Me.stock]),he="data:text/csv;charset=utf-8,\uFEFF"+[se.join(","),...ae.map(Me=>Me.join(","))].join(`
`),Ae=encodeURI(he),Te=document.createElement("a");Te.setAttribute("href",Ae),Te.setAttribute("download",ie),document.body.appendChild(Te);try{Gs("export_category",{category:A,count:W.length,totalValue:Q.value,totalStock:Q.stock})}catch{}Te.click(),document.body.removeChild(Te)},J=f.filter(ie=>!L.includes(ie.id)).length;return b.jsxs("div",{className:"h-full overflow-y-auto no-scrollbar p-4 pb-24 space-y-6 animate-fade-in bg-slate-50 dark:bg-slate-950 transition-colors duration-300 relative",children:[b.jsxs("header",{className:"mb-6 flex justify-between items-start","data-tour":"dashboard-header",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Resumen del Negocio"}),b.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:["Estado actual de tu inventario  ",new Date().toLocaleDateString("es-AR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," - ",new Date().toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>a==null?void 0:a(),className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Gua Rpida",children:b.jsx(kB,{size:20})}),r&&b.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Copia de Seguridad",children:b.jsx(Xh,{size:20})}),b.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:t?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})}),b.jsxs("button",{onClick:()=>h(!0),className:"relative p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[b.jsx(yg,{size:20}),J>0&&b.jsx("span",{className:"absolute top-0 right-0 h-2.5 w-2.5 bg-red-500 rounded-full border border-white dark:border-slate-900 animate-pulse"})]})]})]}),b.jsx(Sae,{isDark:t,compact:!1}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 flex flex-col justify-between transition-colors",children:[b.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg w-fit mb-2",children:b.jsx(S0,{className:"text-blue-600 dark:text-blue-400",size:20})}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Valor Total (Venta)"}),b.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 leading-tight",children:zn(U.totalValue)})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 flex flex-col justify-between transition-colors",children:[b.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg w-fit mb-2",children:b.jsx(C0,{className:"text-orange-600 dark:text-orange-400",size:20})}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Stock Bajo"}),b.jsxs("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 leading-tight",children:[U.lowStockCount," ",b.jsx("span",{className:"text-xs font-normal text-slate-400 dark:text-slate-500",children:"productos"})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 flex items-center justify-between transition-colors",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Total Unidades"}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:U.totalItems})]}),b.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-3 rounded-full",children:b.jsx(ZB,{className:"text-emerald-600 dark:text-emerald-400",size:24})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 transition-colors",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:[b.jsx(Zf,{size:18,className:"text-slate-500 dark:text-slate-400"}),"Distribucin por Categora"]}),b.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-slate-500",children:"Interactivo"})]}),b.jsx("div",{style:{width:"100%",height:300,minHeight:300,minWidth:520},children:H.length>0?b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(IS,{children:[b.jsx(Hv,{data:H,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",stroke:t?"#0f172a":"#fff",onClick:ie=>k(ie.name),cursor:"pointer",children:H.map((ie,se)=>b.jsx(hd,{fill:tg[se%tg.length],className:"hover:opacity-80 transition-opacity cursor-pointer outline-none"},`cell-${se}`))}),b.jsx(ff,{formatter:ie=>[`${ie} items`,"Cantidad"],contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:t?"#1e293b":"#fff",color:t?"#fff":"#000"},itemStyle:{color:t?"#cbd5e1":"#334155"}})]})}):b.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 dark:text-slate-500 text-sm",children:"No hay datos suficientes"})}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-6 justify-center",children:H.map((ie,se)=>b.jsxs("button",{onClick:()=>k(ie.name),className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors active:scale-95",children:[b.jsx("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:tg[se%tg.length]}}),b.jsx("span",{className:"font-medium",children:ie.name}),b.jsxs("span",{className:"text-slate-400 dark:text-slate-500",children:["(",ie.value,")"]})]},ie.name))})]}),A&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center pointer-events-none",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:()=>k(null)}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full sm:max-w-lg h-[80vh] sm:h-[85vh] rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col animate-slide-up pointer-events-auto transform transition-transform border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50 rounded-t-2xl",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Categora"}),b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[A,b.jsxs("span",{className:"text-sm font-normal text-slate-400 bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-full",children:[Q.count," items"]})]})]}),b.jsx("button",{onClick:()=>k(null),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:b.jsx(io,{size:20,className:"text-slate-600 dark:text-slate-300"})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-slate-50 dark:bg-slate-950/30 border-b border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Valor de Inventario"}),b.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:zn(Q.value)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Stock Total"}),b.jsxs("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:[Q.stock," ",b.jsx("span",{className:"text-xs font-normal",children:"unidades"})]})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50 dark:bg-slate-800 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-3 rounded-tl-lg",children:"Producto"}),b.jsx("th",{className:"px-4 py-3 text-right",children:"Stock"}),b.jsx("th",{className:"px-4 py-3 text-right rounded-tr-lg",children:"Precio"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:W.map(ie=>b.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[b.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 dark:text-slate-200",children:ie.name}),b.jsx("td",{className:`px-4 py-3 text-right font-medium ${ie.stock<=ie.minStock?"text-orange-500":"text-slate-600 dark:text-slate-400"}`,children:ie.stock}),b.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-300",children:zn(ie.price)})]},ie.id))})]})}),b.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800",children:b.jsxs("button",{onClick:X,className:"w-full flex items-center justify-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold shadow-lg shadow-emerald-600/20 active:scale-95 transition-all",children:[b.jsx(bB,{size:20}),"Descargar Reporte ",A]})})]})]}),c&&b.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>h(!1)}),b.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-slate-900 h-full shadow-2xl animate-slide-left border-l border-slate-200 dark:border-slate-800 flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-900",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(yg,{size:18,className:"text-blue-600"})," Notificaciones"]}),J>0&&b.jsxs("p",{className:"text-xs text-slate-500",children:[J," nuevas"]})]}),b.jsxs("div",{className:"flex gap-1",children:[f.length>0&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:Y,className:"p-2 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full",title:"Marcar todo ledo",children:b.jsx(Xj,{size:18})}),b.jsx("button",{onClick:me,className:"p-2 text-slate-400 hover:bg-red-100 hover:text-red-500 dark:hover:bg-red-900/20 rounded-full",title:"Borrar todo",children:b.jsx(Js,{size:18})})]}),b.jsx("button",{onClick:()=>h(!1),className:"p-2 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full",children:b.jsx(io,{size:20})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50 dark:bg-slate-950",children:f.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center h-60 text-slate-400 text-center",children:[b.jsx(yg,{size:32,className:"mb-2 opacity-50"}),b.jsx("p",{className:"text-sm",children:"Todo est en orden."}),b.jsx("p",{className:"text-xs",children:"No tienes alertas pendientes."})]}):f.map(ie=>{const se=L.includes(ie.id);let ae=b.jsx(C0,{size:18}),he="bg-slate-100 text-slate-600 border-slate-200";return ie.severity===gl.CRITICAL?he="bg-red-50 text-red-700 border-red-100 dark:bg-red-900/20 dark:text-red-300 dark:border-red-900/30":ie.severity===gl.WARNING?(he="bg-amber-50 text-amber-700 border-amber-100 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-900/30",ae=b.jsx(Hm,{size:18})):(he="bg-blue-50 text-blue-700 border-blue-100 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-900/30",ae=b.jsx(Rg,{size:18})),se&&(he="bg-white dark:bg-slate-900 text-slate-500 border-slate-100 dark:border-slate-800 opacity-70"),b.jsxs("div",{className:`p-3 rounded-xl border ${he} flex gap-3 relative group transition-all`,children:[!se&&b.jsx("div",{className:"absolute top-3 right-3 w-2 h-2 bg-blue-500 rounded-full"}),b.jsx("div",{className:"mt-0.5 flex-shrink-0",children:ae}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:`font-semibold text-sm ${se?"font-normal":""}`,children:ie.title}),b.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:ie.message}),b.jsxs("div",{className:"flex justify-between items-center mt-2",children:[b.jsx("p",{className:"text-[10px] opacity-70",children:new Date(ie.date).toLocaleDateString("es-AR")}),b.jsxs("div",{className:"flex gap-2",children:[!se&&b.jsx("button",{onClick:()=>ee(ie.id),className:"p-1 hover:bg-black/5 rounded text-inherit",title:"Marcar como ledo",children:b.jsx(Vm,{size:14})}),b.jsx("button",{onClick:()=>G(ie.id),className:"p-1 hover:bg-black/5 rounded text-inherit",title:"Eliminar",children:b.jsx(Js,{size:14})})]})]})]})]},ie.id)})})]})]})]})};var Yt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Yt||(Yt={}));var JT=new Map([[Yt.QR_CODE,"QR_CODE"],[Yt.AZTEC,"AZTEC"],[Yt.CODABAR,"CODABAR"],[Yt.CODE_39,"CODE_39"],[Yt.CODE_93,"CODE_93"],[Yt.CODE_128,"CODE_128"],[Yt.DATA_MATRIX,"DATA_MATRIX"],[Yt.MAXICODE,"MAXICODE"],[Yt.ITF,"ITF"],[Yt.EAN_13,"EAN_13"],[Yt.EAN_8,"EAN_8"],[Yt.PDF_417,"PDF_417"],[Yt.RSS_14,"RSS_14"],[Yt.RSS_EXPANDED,"RSS_EXPANDED"],[Yt.UPC_A,"UPC_A"],[Yt.UPC_E,"UPC_E"],[Yt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ZT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ZT||(ZT={}));function Eae(e){return Object.values(Yt).includes(e)}var pf;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(pf||(pf={}));var ql=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[pf.SCAN_TYPE_CAMERA,pf.SCAN_TYPE_FILE],e})(),WP=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!JT.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,JT.get(t))},e})(),QT=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Hw;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Hw||(Hw={}));var KP=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Hw.UNKWOWN_ERROR}},e})(),$P=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function xc(e){return typeof e>"u"||e===null}function Cae(e,t,n){return e>n?n:e<t?t:e}var u0=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Ur=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),e8=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),XP=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),s=Object.keys(t),c=0,h=s;c<h.length;c++){var f=h[c];if(a.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e})(),Gh={exports:{}},Nae=Gh.exports,t8;function _ae(){return t8||(t8=1,(function(e,t){(function(n,r){r(t)})(Nae,(function(n){function r(te){return te==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,l){te.__proto__=l}||function(te,l){for(var d in l)l.hasOwnProperty(d)&&(te[d]=l[d])};function a(te,l){i(te,l);function d(){this.constructor=te}te.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}function s(te,l){var d=Object.setPrototypeOf;d?d(te,l):te.__proto__=l}function c(te,l){l===void 0&&(l=te.constructor);var d=Error.captureStackTrace;d&&d(te,l)}var h=(function(te){a(l,te);function l(d){var g=this.constructor,y=te.call(this,d)||this;return Object.defineProperty(y,"name",{value:g.name,enumerable:!1}),s(y,g.prototype),c(y),y}return l})(Error);class f extends h{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}f.kind="Exception";class p extends f{}p.kind="ArgumentException";class v extends f{}v.kind="IllegalArgumentException";class E{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,d){return this.binarizer.getBlackRow(l,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,d,g,y){const x=this.binarizer.getLuminanceSource().crop(l,d,g,y);return new E(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends f{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class k{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(l,d,g,y,x){for(;x--;)g[y++]=l[d++]}static currentTimeMillis(){return Date.now()}}class R extends f{}R.kind="IndexOutOfBoundsException";class L extends R{constructor(l=void 0,d=void 0){super(d),this.index=l,this.message=d}}L.kind="ArrayIndexOutOfBoundsException";class q{static fill(l,d){for(let g=0,y=l.length;g<y;g++)l[g]=d}static fillWithin(l,d,g,y){q.rangeCheck(l.length,d,g);for(let x=d;x<g;x++)l[x]=y}static rangeCheck(l,d,g){if(d>g)throw new v("fromIndex("+d+") > toIndex("+g+")");if(d<0)throw new L(d);if(g>l)throw new L(g)}static asList(...l){return l}static create(l,d,g){return Array.from({length:l}).map(x=>Array.from({length:d}).fill(g))}static createInt32Array(l,d,g){return Array.from({length:l}).map(x=>Int32Array.from({length:d}).fill(g))}static equals(l,d){if(!l||!d||!l.length||!d.length||l.length!==d.length)return!1;for(let g=0,y=l.length;g<y;g++)if(l[g]!==d[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let d=1;for(const g of l)d=31*d+g;return d}static fillUint8Array(l,d){for(let g=0;g!==l.length;g++)l[g]=d}static copyOf(l,d){return l.slice(0,d)}static copyOfUint8Array(l,d){if(l.length<=d){const g=new Uint8Array(d);return g.set(l),g}return l.slice(0,d)}static copyOfRange(l,d,g){const y=g-d,x=new Int32Array(y);return I.arraycopy(l,d,x,0,y),x}static binarySearch(l,d,g){g===void 0&&(g=q.numberComparator);let y=0,x=l.length-1;for(;y<=x;){const S=x+y>>1,_=g(d,l[S]);if(_>0)y=S+1;else if(_<0)x=S-1;else return S}return-y-1}static numberComparator(l,d){return l-d}}class U{static numberOfTrailingZeros(l){let d;if(l===0)return 32;let g=31;return d=l<<16,d!==0&&(g-=16,l=d),d=l<<8,d!==0&&(g-=8,l=d),d=l<<4,d!==0&&(g-=4,l=d),d=l<<2,d!==0&&(g-=2,l=d),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let d=1;return l>>>16||(d+=16,l<<=16),l>>>24||(d+=8,l<<=8),l>>>28||(d+=4,l<<=4),l>>>30||(d+=2,l<<=2),d-=l>>>31,d}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,d){return Math.trunc(l/d)}static parseInt(l,d=void 0){return parseInt(l,d)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class H{constructor(l,d){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,d==null?this.bits=H.makeArray(l):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const d=H.makeArray(l);I.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const d=this.size;if(l>=d)return d;const g=this.bits;let y=Math.floor(l/32),x=g[y];x&=~((1<<(l&31))-1);const S=g.length;for(;x===0;){if(++y===S)return d;x=g[y]}const _=y*32+U.numberOfTrailingZeros(x);return _>d?d:_}getNextUnset(l){const d=this.size;if(l>=d)return d;const g=this.bits;let y=Math.floor(l/32),x=~g[y];x&=~((1<<(l&31))-1);const S=g.length;for(;x===0;){if(++y===S)return d;x=~g[y]}const _=y*32+U.numberOfTrailingZeros(x);return _>d?d:_}setBulk(l,d){this.bits[Math.floor(l/32)]=d}setRange(l,d){if(d<l||l<0||d>this.size)throw new v;if(d===l)return;d--;const g=Math.floor(l/32),y=Math.floor(d/32),x=this.bits;for(let S=g;S<=y;S++){const _=S>g?0:l&31,F=(2<<(S<y?31:d&31))-(1<<_);x[S]|=F}}clear(){const l=this.bits.length,d=this.bits;for(let g=0;g<l;g++)d[g]=0}isRange(l,d,g){if(d<l||l<0||d>this.size)throw new v;if(d===l)return!0;d--;const y=Math.floor(l/32),x=Math.floor(d/32),S=this.bits;for(let _=y;_<=x;_++){const P=_>y?0:l&31,K=(2<<(_<x?31:d&31))-(1<<P)&4294967295;if((S[_]&K)!==(g?K:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,d){if(d<0||d>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let g=d;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const d=l.size;this.ensureCapacity(this.size+d);for(let g=0;g<d;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const d=this.bits;for(let g=0,y=d.length;g<y;g++)d[g]^=l.bits[g]}toBytes(l,d,g,y){for(let x=0;x<y;x++){let S=0;for(let _=0;_<8;_++)this.get(l)&&(S|=1<<7-_),l++;d[g+x]=S}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),g=d+1,y=this.bits;for(let x=0;x<g;x++){let S=y[x];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,l[d-x]=S}if(this.size!==g*32){const x=g*32-this.size;let S=l[0]>>>x;for(let _=1;_<g;_++){const P=l[_];S|=P<<32-x,l[_-1]=S,S=P>>>x}l[g-1]=S}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof H))return!1;const d=l;return this.size===d.size&&q.equals(this.bits,d.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let l="";for(let d=0,g=this.size;d<g;d++)(d&7)===0&&(l+=" "),l+=this.get(d)?"X":".";return l}clone(){return new H(this.size,this.bits.slice())}}var W;(function(te){te[te.OTHER=0]="OTHER",te[te.PURE_BARCODE=1]="PURE_BARCODE",te[te.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",te[te.TRY_HARDER=3]="TRY_HARDER",te[te.CHARACTER_SET=4]="CHARACTER_SET",te[te.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",te[te.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",te[te.ASSUME_GS1=7]="ASSUME_GS1",te[te.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",te[te.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",te[te.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var Q=W;class G extends f{static getFormatInstance(){return new G}}G.kind="FormatException";var ee;(function(te){te[te.Cp437=0]="Cp437",te[te.ISO8859_1=1]="ISO8859_1",te[te.ISO8859_2=2]="ISO8859_2",te[te.ISO8859_3=3]="ISO8859_3",te[te.ISO8859_4=4]="ISO8859_4",te[te.ISO8859_5=5]="ISO8859_5",te[te.ISO8859_6=6]="ISO8859_6",te[te.ISO8859_7=7]="ISO8859_7",te[te.ISO8859_8=8]="ISO8859_8",te[te.ISO8859_9=9]="ISO8859_9",te[te.ISO8859_10=10]="ISO8859_10",te[te.ISO8859_11=11]="ISO8859_11",te[te.ISO8859_13=12]="ISO8859_13",te[te.ISO8859_14=13]="ISO8859_14",te[te.ISO8859_15=14]="ISO8859_15",te[te.ISO8859_16=15]="ISO8859_16",te[te.SJIS=16]="SJIS",te[te.Cp1250=17]="Cp1250",te[te.Cp1251=18]="Cp1251",te[te.Cp1252=19]="Cp1252",te[te.Cp1256=20]="Cp1256",te[te.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",te[te.UTF8=22]="UTF8",te[te.ASCII=23]="ASCII",te[te.Big5=24]="Big5",te[te.GB18030=25]="GB18030",te[te.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class Y{constructor(l,d,g,...y){this.valueIdentifier=l,this.name=g,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=y,Y.VALUE_IDENTIFIER_TO_ECI.set(l,this),Y.NAME_TO_ECI.set(g,this);const x=this.values;for(let S=0,_=x.length;S!==_;S++){const P=x[S];Y.VALUES_TO_ECI.set(P,this)}for(const S of y)Y.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new G("incorect value");const d=Y.VALUES_TO_ECI.get(l);if(d===void 0)throw new G("incorect value");return d}static getCharacterSetECIByName(l){const d=Y.NAME_TO_ECI.get(l);if(d===void 0)throw new G("incorect value");return d}equals(l){if(!(l instanceof Y))return!1;const d=l;return this.getName()===d.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(ee.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(ee.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(ee.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(ee.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(ee.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(ee.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(ee.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(ee.Big5,28,"Big5"),Y.GB18030=new Y(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(ee.EUC_KR,30,"EUC_KR","EUC-KR");class me extends f{}me.kind="UnsupportedOperationException";class X{static decode(l,d){const g=this.encodingName(d);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!X.isBrowser()&&l==="ISO-8859-1"}static encode(l,d){const g=this.encodingName(d);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof Y?l:Y.getCharacterSetECIByName(l)}static decodeFallback(l,d){const g=this.encodingCharacterSet(d);if(X.isDecodeFallbackSupported(g)){let y="";for(let x=0,S=l.length;x<S;x++){let _=l[x].toString(16);_.length<2&&(_="0"+_),y+="%"+_}return decodeURIComponent(y)}if(g.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new me(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(Y.UTF8)||l.equals(Y.ISO8859_1)||l.equals(Y.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let x=0;x<g.length;x++)y.push(g[x].charCodeAt(0));return new Uint8Array(y)}}class J{static castAsNonUtf8Char(l,d=null){const g=d?d.getName():this.ISO88591;return X.decode(new Uint8Array([l]),g)}static guessEncoding(l,d){if(d!=null&&d.get(Q.CHARACTER_SET)!==void 0)return d.get(Q.CHARACTER_SET).toString();const g=l.length;let y=!0,x=!0,S=!0,_=0,P=0,F=0,K=0,ne=0,ue=0,Ee=0,Oe=0,De=0,Ue=0,Ze=0;const ft=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let dt=0;dt<g&&(y||x||S);dt++){const ut=l[dt]&255;S&&(_>0?(ut&128)===0?S=!1:_--:(ut&128)!==0&&((ut&64)===0?S=!1:(_++,(ut&32)===0?P++:(_++,(ut&16)===0?F++:(_++,(ut&8)===0?K++:S=!1))))),y&&(ut>127&&ut<160?y=!1:ut>159&&(ut<192||ut===215||ut===247)&&Ze++),x&&(ne>0?ut<64||ut===127||ut>252?x=!1:ne--:ut===128||ut===160||ut>239?x=!1:ut>160&&ut<224?(ue++,Oe=0,Ee++,Ee>De&&(De=Ee)):ut>127?(ne++,Ee=0,Oe++,Oe>Ue&&(Ue=Oe)):(Ee=0,Oe=0))}return S&&_>0&&(S=!1),x&&ne>0&&(x=!1),S&&(ft||P+F+K>0)?J.UTF8:x&&(J.ASSUME_SHIFT_JIS||De>=3||Ue>=3)?J.SHIFT_JIS:y&&x?De===2&&ue===2||Ze*10>=g?J.SHIFT_JIS:J.ISO88591:y?J.ISO88591:x?J.SHIFT_JIS:S?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(l,...d){let g=-1;function y(S,_,P,F,K,ne){if(S==="%%")return"%";if(d[++g]===void 0)return;S=F?parseInt(F.substr(1)):void 0;let ue=K?parseInt(K.substr(1)):void 0,Ee;switch(ne){case"s":Ee=d[g];break;case"c":Ee=d[g][0];break;case"f":Ee=parseFloat(d[g]).toFixed(S);break;case"p":Ee=parseFloat(d[g]).toPrecision(S);break;case"e":Ee=parseFloat(d[g]).toExponential(S);break;case"x":Ee=parseInt(d[g]).toString(ue||16);break;case"d":Ee=parseFloat(parseInt(d[g],ue||10).toPrecision(S)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(ue);let Oe=parseInt(P),De=P&&P[0]+""=="0"?"0":" ";for(;Ee.length<Oe;)Ee=_!==void 0?Ee+De:De+Ee;return Ee}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}static getBytes(l,d){return X.encode(l,d)}static getCharCode(l,d=0){return l.charCodeAt(d)}static getCharAt(l){return String.fromCharCode(l)}}J.SHIFT_JIS=Y.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=Y.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=Y.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class ie{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=J.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,d,g){for(let y=d;d<d+g;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+1)}substring(l,d){return this.value.substring(l,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+d.length)}}class se{constructor(l,d,g,y){if(this.width=l,this.height=d,this.rowSize=g,this.bits=y,d==null&&(d=l),this.height=d,l<1||d<1)throw new v("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const d=l.length,g=l[0].length,y=new se(g,d);for(let x=0;x<d;x++){const S=l[x];for(let _=0;_<g;_++)S[_]&&y.set(_,x)}return y}static parseFromString(l,d,g){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let x=0,S=0,_=-1,P=0,F=0;for(;F<l.length;)if(l.charAt(F)===`
`||l.charAt(F)==="\r"){if(x>S){if(_===-1)_=x-S;else if(x-S!==_)throw new v("row lengths do not match");S=x,P++}F++}else if(l.substring(F,F+d.length)===d)F+=d.length,y[x]=!0,x++;else if(l.substring(F,F+g.length)===g)F+=g.length,y[x]=!1,x++;else throw new v("illegal character encountered: "+l.substring(F));if(x>S){if(_===-1)_=x-S;else if(x-S!==_)throw new v("row lengths do not match");P++}const K=new se(_,P);for(let ne=0;ne<x;ne++)y[ne]&&K.set(Math.floor(ne%_),Math.floor(ne/_));return K}get(l,d){const g=d*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const d=new H(Math.floor(this.width/32)+1),g=this.rowSize,y=this.bits;for(let x=0,S=this.height;x<S;x++){const _=x*g,P=l.getRow(x,d).getBitArray();for(let F=0;F<g;F++)y[_+F]^=P[F]}}clear(){const l=this.bits,d=l.length;for(let g=0;g<d;g++)l[g]=0}setRegion(l,d,g,y){if(d<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||g<1)throw new v("Height and width must be at least 1");const x=l+g,S=d+y;if(S>this.height||x>this.width)throw new v("The region must fit inside the matrix");const _=this.rowSize,P=this.bits;for(let F=d;F<S;F++){const K=F*_;for(let ne=l;ne<x;ne++)P[K+Math.floor(ne/32)]|=1<<(ne&31)&4294967295}}getRow(l,d){d==null||d.getSize()<this.width?d=new H(this.width):d.clear();const g=this.rowSize,y=this.bits,x=l*g;for(let S=0;S<g;S++)d.setBulk(S*32,y[x+S]);return d}setRow(l,d){I.arraycopy(d.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),d=this.getHeight();let g=new H(l),y=new H(l);for(let x=0,S=Math.floor((d+1)/2);x<S;x++)g=this.getRow(x,g),y=this.getRow(d-1-x,y),g.reverse(),y.reverse(),this.setRow(x,y),this.setRow(d-1-x,g)}getEnclosingRectangle(){const l=this.width,d=this.height,g=this.rowSize,y=this.bits;let x=l,S=d,_=-1,P=-1;for(let F=0;F<d;F++)for(let K=0;K<g;K++){const ne=y[F*g+K];if(ne!==0){if(F<S&&(S=F),F>P&&(P=F),K*32<x){let ue=0;for(;(ne<<31-ue&4294967295)===0;)ue++;K*32+ue<x&&(x=K*32+ue)}if(K*32+31>_){let ue=31;for(;!(ne>>>ue);)ue--;K*32+ue>_&&(_=K*32+ue)}}}return _<x||P<S?null:Int32Array.from([x,S,_-x+1,P-S+1])}getTopLeftOnBit(){const l=this.rowSize,d=this.bits;let g=0;for(;g<d.length&&d[g]===0;)g++;if(g===d.length)return null;const y=g/l;let x=g%l*32;const S=d[g];let _=0;for(;(S<<31-_&4294967295)===0;)_++;return x+=_,Int32Array.from([x,y])}getBottomRightOnBit(){const l=this.rowSize,d=this.bits;let g=d.length-1;for(;g>=0&&d[g]===0;)g--;if(g<0)return null;const y=Math.floor(g/l);let x=Math.floor(g%l)*32;const S=d[g];let _=31;for(;!(S>>>_);)_--;return x+=_,Int32Array.from([x,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof se))return!1;const d=l;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&q.equals(this.bits,d.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+q.hashCode(this.bits),l}toString(l="X ",d="  ",g=`
`){return this.buildToString(l,d,g)}buildToString(l,d,g){let y=new ie;for(let x=0,S=this.height;x<S;x++){for(let _=0,P=this.width;_<P;_++)y.append(this.get(_,x)?l:d);y.append(g)}return y.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class ae extends f{static getNotFoundInstance(){return new ae}}ae.kind="NotFoundException";class he extends k{constructor(l){super(l),this.luminances=he.EMPTY,this.buckets=new Int32Array(he.LUMINANCE_BUCKETS)}getBlackRow(l,d){const g=this.getLuminanceSource(),y=g.getWidth();d==null||d.getSize()<y?d=new H(y):d.clear(),this.initArrays(y);const x=g.getRow(l,this.luminances),S=this.buckets;for(let P=0;P<y;P++)S[(x[P]&255)>>he.LUMINANCE_SHIFT]++;const _=he.estimateBlackPoint(S);if(y<3)for(let P=0;P<y;P++)(x[P]&255)<_&&d.set(P);else{let P=x[0]&255,F=x[1]&255;for(let K=1;K<y-1;K++){const ne=x[K+1]&255;(F*4-P-ne)/2<_&&d.set(K),P=F,F=ne}}return d}getBlackMatrix(){const l=this.getLuminanceSource(),d=l.getWidth(),g=l.getHeight(),y=new se(d,g);this.initArrays(d);const x=this.buckets;for(let P=1;P<5;P++){const F=Math.floor(g*P/5),K=l.getRow(F,this.luminances),ne=Math.floor(d*4/5);for(let ue=Math.floor(d/5);ue<ne;ue++){const Ee=K[ue]&255;x[Ee>>he.LUMINANCE_SHIFT]++}}const S=he.estimateBlackPoint(x),_=l.getMatrix();for(let P=0;P<g;P++){const F=P*d;for(let K=0;K<d;K++)(_[F+K]&255)<S&&y.set(K,P)}return y}createBinarizer(l){return new he(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const d=this.buckets;for(let g=0;g<he.LUMINANCE_BUCKETS;g++)d[g]=0}static estimateBlackPoint(l){const d=l.length;let g=0,y=0,x=0;for(let K=0;K<d;K++)l[K]>x&&(y=K,x=l[K]),l[K]>g&&(g=l[K]);let S=0,_=0;for(let K=0;K<d;K++){const ne=K-y,ue=l[K]*ne*ne;ue>_&&(S=K,_=ue)}if(y>S){const K=y;y=S,S=K}if(S-y<=d/16)throw new ae;let P=S-1,F=-1;for(let K=S-1;K>y;K--){const ne=K-y,ue=ne*ne*(S-K)*(g-l[K]);ue>F&&(P=K,F=ue)}return P<<he.LUMINANCE_SHIFT}}he.LUMINANCE_BITS=5,he.LUMINANCE_SHIFT=8-he.LUMINANCE_BITS,he.LUMINANCE_BUCKETS=1<<he.LUMINANCE_BITS,he.EMPTY=Uint8ClampedArray.from([0]);class Ae extends he{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),d=l.getWidth(),g=l.getHeight();if(d>=Ae.MINIMUM_DIMENSION&&g>=Ae.MINIMUM_DIMENSION){const y=l.getMatrix();let x=d>>Ae.BLOCK_SIZE_POWER;(d&Ae.BLOCK_SIZE_MASK)!==0&&x++;let S=g>>Ae.BLOCK_SIZE_POWER;(g&Ae.BLOCK_SIZE_MASK)!==0&&S++;const _=Ae.calculateBlackPoints(y,x,S,d,g),P=new se(d,g);Ae.calculateThresholdForBlock(y,x,S,d,g,_,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new Ae(l)}static calculateThresholdForBlock(l,d,g,y,x,S,_){const P=x-Ae.BLOCK_SIZE,F=y-Ae.BLOCK_SIZE;for(let K=0;K<g;K++){let ne=K<<Ae.BLOCK_SIZE_POWER;ne>P&&(ne=P);const ue=Ae.cap(K,2,g-3);for(let Ee=0;Ee<d;Ee++){let Oe=Ee<<Ae.BLOCK_SIZE_POWER;Oe>F&&(Oe=F);const De=Ae.cap(Ee,2,d-3);let Ue=0;for(let ft=-2;ft<=2;ft++){const dt=S[ue+ft];Ue+=dt[De-2]+dt[De-1]+dt[De]+dt[De+1]+dt[De+2]}const Ze=Ue/25;Ae.thresholdBlock(l,Oe,ne,Ze,y,_)}}}static cap(l,d,g){return l<d?d:l>g?g:l}static thresholdBlock(l,d,g,y,x,S){for(let _=0,P=g*x+d;_<Ae.BLOCK_SIZE;_++,P+=x)for(let F=0;F<Ae.BLOCK_SIZE;F++)(l[P+F]&255)<=y&&S.set(d+F,g+_)}static calculateBlackPoints(l,d,g,y,x){const S=x-Ae.BLOCK_SIZE,_=y-Ae.BLOCK_SIZE,P=new Array(g);for(let F=0;F<g;F++){P[F]=new Int32Array(d);let K=F<<Ae.BLOCK_SIZE_POWER;K>S&&(K=S);for(let ne=0;ne<d;ne++){let ue=ne<<Ae.BLOCK_SIZE_POWER;ue>_&&(ue=_);let Ee=0,Oe=255,De=0;for(let Ze=0,ft=K*y+ue;Ze<Ae.BLOCK_SIZE;Ze++,ft+=y){for(let dt=0;dt<Ae.BLOCK_SIZE;dt++){const ut=l[ft+dt]&255;Ee+=ut,ut<Oe&&(Oe=ut),ut>De&&(De=ut)}if(De-Oe>Ae.MIN_DYNAMIC_RANGE)for(Ze++,ft+=y;Ze<Ae.BLOCK_SIZE;Ze++,ft+=y)for(let dt=0;dt<Ae.BLOCK_SIZE;dt++)Ee+=l[ft+dt]&255}let Ue=Ee>>Ae.BLOCK_SIZE_POWER*2;if(De-Oe<=Ae.MIN_DYNAMIC_RANGE&&(Ue=Oe/2,F>0&&ne>0)){const Ze=(P[F-1][ne]+2*P[F][ne-1]+P[F-1][ne-1])/4;Oe<Ze&&(Ue=Ze)}P[F][ne]=Ue}}return P}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class Te{constructor(l,d){this.width=l,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,d,g,y){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let d=new ie;for(let g=0;g<this.height;g++){const y=this.getRow(g,l);for(let x=0;x<this.width;x++){const S=y[x]&255;let _;S<64?_="#":S<128?_="+":S<192?_=".":_=" ",d.append(_)}d.append(`
`)}return d.toString()}}class Me extends Te{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,d){const g=this.delegate.getRow(l,d),y=this.getWidth();for(let x=0;x<y;x++)g[x]=255-(g[x]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(d);for(let y=0;y<d;y++)g[y]=255-(l[y]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,d,g,y){return new Me(this.delegate.crop(l,d,g,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Me(this.delegate.rotateCounterClockwise45())}}class Qe extends Te{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=Qe.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const d=l.getContext("2d").getImageData(0,0,l.width,l.height);return Qe.toGrayscaleBuffer(d.data,l.width,l.height)}static toGrayscaleBuffer(l,d,g){const y=new Uint8ClampedArray(d*g);for(let x=0,S=0,_=l.length;x<_;x+=4,S++){let P;if(l[x+3]===0)P=255;else{const K=l[x],ne=l[x+1],ue=l[x+2];P=306*K+601*ne+117*ue+512>>10}y[S]=P}return y}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth(),y=l*g;return d===null?d=this.buffer.slice(y,y+g):(d.length<g&&(d=new Uint8ClampedArray(g)),d.set(this.buffer.slice(y,y+g))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,d,g,y){return super.crop(l,d,g,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const d=this.getTempCanvasElement(),g=d.getContext("2d"),y=l*Qe.DEGREE_TO_RADIANS,x=this.canvas.width,S=this.canvas.height,_=Math.ceil(Math.abs(Math.cos(y))*x+Math.abs(Math.sin(y))*S),P=Math.ceil(Math.abs(Math.sin(y))*x+Math.abs(Math.cos(y))*S);return d.width=_,d.height=P,g.translate(_/2,P/2),g.rotate(y),g.drawImage(this.canvas,x/-2,S/-2),this.buffer=Qe.makeBufferFromCanvasImageData(d),this}invert(){return new Me(this)}}Qe.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(l,d,g){this.deviceId=l,this.label=d,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var V=(globalThis||jp||self||window||void 0)&&(globalThis||jp||self||window||void 0).__awaiter||function(te,l,d,g){function y(x){return x instanceof d?x:new d(function(S){S(x)})}return new(d||(d=Promise))(function(x,S){function _(K){try{F(g.next(K))}catch(ne){S(ne)}}function P(K){try{F(g.throw(K))}catch(ne){S(ne)}}function F(K){K.done?x(K.value):y(K.value).then(_,P)}F((g=g.apply(te,l||[])).next())})};class le{constructor(l,d=500,g){this.reader=l,this.timeBetweenScansMillis=d,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return V(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const g of l){const y=g.kind==="video"?"videoinput":g.kind;if(y!=="videoinput")continue;const x=g.deviceId||g.id,S=g.label||`Video device ${d.length+1}`,_=g.groupId,P={deviceId:x,label:S,kind:y,groupId:_};d.push(P)}return d})}getVideoInputDevices(){return V(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ye(d.deviceId,d.label))})}findDeviceById(l){return V(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,d){return V(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,d)})}decodeOnceFromVideoDevice(l,d){return V(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const y={video:g};return yield this.decodeOnceFromConstraints(y,d)})}decodeOnceFromConstraints(l,d){return V(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,d)})}decodeOnceFromStream(l,d){return V(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,d);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,d,g){return V(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,d,g)})}decodeFromVideoDevice(l,d,g){return V(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const x={video:y};return yield this.decodeFromConstraints(x,d,g)})}decodeFromConstraints(l,d,g){return V(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,d,g)})}decodeFromStream(l,d,g){return V(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,d);return yield this.decodeContinuously(y,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,d){return V(this,void 0,void 0,function*(){const g=this.prepareVideoElement(d);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((d,g)=>this.playVideoOnLoad(l,()=>d()))}playVideoOnLoad(l,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",d),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return V(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,d){const g=document.getElementById(l);if(!g)throw new p(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==d.toLowerCase())throw new p(`element with id '${l}' must be an ${d} element`);return g}decodeFromImage(l,d){if(!l&&!d)throw new p("either imageElement with a src set or an url must be provided");return d&&!l?this.decodeFromImageUrl(d):this.decodeFromImageElement(l)}decodeFromVideo(l,d){if(!l&&!d)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,d,g){if(l===void 0&&d===void 0)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrlContinuously(d,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new p("An image element must be provided.");this.reset();const d=this.prepareImageElement(l);this.imageElement=d;let g;return this.isImageLoaded(d)?g=this.decodeOnce(d,!1,!0):g=this._decodeOnLoadImage(d),g}decodeFromVideoElement(l){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(l,d){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,d)}_decodeFromVideoElementSetup(l){if(!l)throw new p("A video element must be provided.");this.reset();const d=this.prepareVideoElement(l);return this.videoElement=d,d}decodeFromImageUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const g=this._decodeOnLoadImage(d);return d.src=l,g}decodeFromVideoUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),g=this.decodeFromVideoElement(d);return d.src=l,g}decodeFromVideoUrlContinuously(l,d){if(!l)throw new p("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(g,d);return g.src=l,y}_decodeOnLoadImage(l){return new Promise((d,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(d,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return V(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,d){return V(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,d)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let d;return typeof l>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(d=l),d}prepareVideoElement(l){let d;return!l&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(d=l),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(l,d=!0,g=!0){this._stopAsyncDecode=!1;const y=(x,S)=>{if(this._stopAsyncDecode){S(new ae("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const _=this.decode(l);x(_)}catch(_){const P=d&&_ instanceof ae,K=(_ instanceof A||_ instanceof G)&&g;if(P||K)return setTimeout(y,this._timeBetweenDecodingAttempts,x,S);S(_)}};return new Promise((x,S)=>y(x,S))}decodeContinuously(l,d){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);d(y,null),setTimeout(g,this.timeBetweenScansMillis)}catch(y){d(null,y);const x=y instanceof A||y instanceof G,S=y instanceof ae;(x||S)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const d=this.createBinaryBitmap(l);return this.decodeBitmap(d)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,d,g){d||(d={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(l,d,g=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const d=this.getCaptureCanvas(l),g=new Qe(d),y=new Ae(g);return new E(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const d=this.createCaptureCanvas(l);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let g,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),d.style.width=g+"px",d.style.height=y+"px",d.width=g,d.height=y,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,d){try{l.srcObject=d}catch{l.src=URL.createObjectURL(d)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class ce{constructor(l,d,g=d==null?0:8*d.length,y,x,S=I.currentTimeMillis()){this.text=l,this.rawBytes=d,this.numBits=g,this.resultPoints=y,this.format=x,this.timestamp=S,this.text=l,this.rawBytes=d,g==null?this.numBits=d==null?0:8*d.length:this.numBits=g,this.resultPoints=y,this.format=x,this.resultMetadata=null,S==null?this.timestamp=I.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,d)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const d=this.resultPoints;if(d===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(d.length+l.length);I.arraycopy(d,0,g,0,d.length),I.arraycopy(l,0,g,d.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pe;(function(te){te[te.AZTEC=0]="AZTEC",te[te.CODABAR=1]="CODABAR",te[te.CODE_39=2]="CODE_39",te[te.CODE_93=3]="CODE_93",te[te.CODE_128=4]="CODE_128",te[te.DATA_MATRIX=5]="DATA_MATRIX",te[te.EAN_8=6]="EAN_8",te[te.EAN_13=7]="EAN_13",te[te.ITF=8]="ITF",te[te.MAXICODE=9]="MAXICODE",te[te.PDF_417=10]="PDF_417",te[te.QR_CODE=11]="QR_CODE",te[te.RSS_14=12]="RSS_14",te[te.RSS_EXPANDED=13]="RSS_EXPANDED",te[te.UPC_A=14]="UPC_A",te[te.UPC_E=15]="UPC_E",te[te.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var xe=pe,ke;(function(te){te[te.OTHER=0]="OTHER",te[te.ORIENTATION=1]="ORIENTATION",te[te.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",te[te.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",te[te.ISSUE_NUMBER=4]="ISSUE_NUMBER",te[te.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",te[te.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",te[te.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",te[te.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",te[te.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",te[te.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var Fe=ke;class Ie{constructor(l,d,g,y,x=-1,S=-1){this.rawBytes=l,this.text=d,this.byteSegments=g,this.ecLevel=y,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=S,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class He{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,d){return l^d}}class nt{constructor(l,d){if(d.length===0)throw new v;this.field=l;const g=d.length;if(g>1&&d[0]===0){let y=1;for(;y<g&&d[y]===0;)y++;y===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-y),I.arraycopy(d,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const d=this.coefficients;let g;if(l===1){g=0;for(let S=0,_=d.length;S!==_;S++){const P=d[S];g=He.addOrSubtract(g,P)}return g}g=d[0];const y=d.length,x=this.field;for(let S=1;S<y;S++)g=He.addOrSubtract(x.multiply(l,g),d[S]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,g=l.coefficients;if(d.length>g.length){const S=d;d=g,g=S}let y=new Int32Array(g.length);const x=g.length-d.length;I.arraycopy(g,0,y,0,x);for(let S=x;S<g.length;S++)y[S]=He.addOrSubtract(d[S-x],g[S]);return new nt(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const d=this.coefficients,g=d.length,y=l.coefficients,x=y.length,S=new Int32Array(g+x-1),_=this.field;for(let P=0;P<g;P++){const F=d[P];for(let K=0;K<x;K++)S[P+K]=He.addOrSubtract(S[P+K],_.multiply(F,y[K]))}return new nt(_,S)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const d=this.coefficients.length,g=this.field,y=new Int32Array(d),x=this.coefficients;for(let S=0;S<d;S++)y[S]=g.multiply(x[S],l);return new nt(g,y)}multiplyByMonomial(l,d){if(l<0)throw new v;if(d===0)return this.field.getZero();const g=this.coefficients,y=g.length,x=new Int32Array(y+l),S=this.field;for(let _=0;_<y;_++)x[_]=S.multiply(g[_],d);return new nt(S,x)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const d=this.field;let g=d.getZero(),y=this;const x=l.getCoefficient(l.getDegree()),S=d.inverse(x);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const _=y.getDegree()-l.getDegree(),P=d.multiply(y.getCoefficient(y.getDegree()),S),F=l.multiplyByMonomial(_,P),K=d.buildMonomial(_,P);g=g.addOrSubtract(K),y=y.addOrSubtract(F)}return[g,y]}toString(){let l="";for(let d=this.getDegree();d>=0;d--){let g=this.getCoefficient(d);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),d===0||g!==1){const y=this.field.log(g);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}d!==0&&(d===1?l+="x":(l+="x^",l+=d))}}return l}}class Ve extends f{}Ve.kind="ArithmeticException";class gt extends He{constructor(l,d,g){super(),this.primitive=l,this.size=d,this.generatorBase=g;const y=new Int32Array(d);let x=1;for(let _=0;_<d;_++)y[_]=x,x*=2,x>=d&&(x^=l,x&=d-1);this.expTable=y;const S=new Int32Array(d);for(let _=0;_<d-1;_++)S[y[_]]=_;this.logTable=S,this.zero=new nt(this,Int32Array.from([0])),this.one=new nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new v;if(d===0)return this.zero;const g=new Int32Array(l+1);return g[0]=d,new nt(this,g)}inverse(l){if(l===0)throw new Ve;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}gt.AZTEC_DATA_12=new gt(4201,4096,1),gt.AZTEC_DATA_10=new gt(1033,1024,1),gt.AZTEC_DATA_6=new gt(67,64,1),gt.AZTEC_PARAM=new gt(19,16,1),gt.QR_CODE_FIELD_256=new gt(285,256,0),gt.DATA_MATRIX_FIELD_256=new gt(301,256,1),gt.AZTEC_DATA_8=gt.DATA_MATRIX_FIELD_256,gt.MAXICODE_FIELD_64=gt.AZTEC_DATA_6;class St extends f{}St.kind="ReedSolomonException";class be extends f{}be.kind="IllegalStateException";class At{constructor(l){this.field=l}decode(l,d){const g=this.field,y=new nt(g,l),x=new Int32Array(d);let S=!0;for(let Ee=0;Ee<d;Ee++){const Oe=y.evaluateAt(g.exp(Ee+g.getGeneratorBase()));x[x.length-1-Ee]=Oe,Oe!==0&&(S=!1)}if(S)return;const _=new nt(g,x),P=this.runEuclideanAlgorithm(g.buildMonomial(d,1),_,d),F=P[0],K=P[1],ne=this.findErrorLocations(F),ue=this.findErrorMagnitudes(K,ne);for(let Ee=0;Ee<ne.length;Ee++){const Oe=l.length-1-g.log(ne[Ee]);if(Oe<0)throw new St("Bad error location");l[Oe]=gt.addOrSubtract(l[Oe],ue[Ee])}}runEuclideanAlgorithm(l,d,g){if(l.getDegree()<d.getDegree()){const Ee=l;l=d,d=Ee}const y=this.field;let x=l,S=d,_=y.getZero(),P=y.getOne();for(;S.getDegree()>=(g/2|0);){let Ee=x,Oe=_;if(x=S,_=P,x.isZero())throw new St("r_{i-1} was zero");S=Ee;let De=y.getZero();const Ue=x.getCoefficient(x.getDegree()),Ze=y.inverse(Ue);for(;S.getDegree()>=x.getDegree()&&!S.isZero();){const ft=S.getDegree()-x.getDegree(),dt=y.multiply(S.getCoefficient(S.getDegree()),Ze);De=De.addOrSubtract(y.buildMonomial(ft,dt)),S=S.addOrSubtract(x.multiplyByMonomial(ft,dt))}if(P=De.multiply(_).addOrSubtract(Oe),S.getDegree()>=x.getDegree())throw new be("Division algorithm failed to reduce polynomial?")}const F=P.getCoefficient(0);if(F===0)throw new St("sigmaTilde(0) was zero");const K=y.inverse(F),ne=P.multiplyScalar(K),ue=S.multiplyScalar(K);return[ne,ue]}findErrorLocations(l){const d=l.getDegree();if(d===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(d);let y=0;const x=this.field;for(let S=1;S<x.getSize()&&y<d;S++)l.evaluateAt(S)===0&&(g[y]=x.inverse(S),y++);if(y!==d)throw new St("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,d){const g=d.length,y=new Int32Array(g),x=this.field;for(let S=0;S<g;S++){const _=x.inverse(d[S]);let P=1;for(let F=0;F<g;F++)if(S!==F){const K=x.multiply(d[F],_),ne=(K&1)===0?K|1:K&-2;P=x.multiply(P,ne)}y[S]=x.multiply(l.evaluateAt(_),x.inverse(P)),x.getGeneratorBase()!==0&&(y[S]=x.multiply(y[S],_))}return y}}var Dt;(function(te){te[te.UPPER=0]="UPPER",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.DIGIT=3]="DIGIT",te[te.PUNCT=4]="PUNCT",te[te.BINARY=5]="BINARY"})(Dt||(Dt={}));class Tt{decode(l){this.ddata=l;let d=l.getBits(),g=this.extractBits(d),y=this.correctBits(g),x=Tt.convertBoolArrayToByteArray(y),S=Tt.getEncodedData(y),_=new Ie(x,S,null,null);return _.setNumBits(y.length),_}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let d=l.length,g=Dt.UPPER,y=Dt.UPPER,x="",S=0;for(;S<d;)if(y===Dt.BINARY){if(d-S<5)break;let _=Tt.readCode(l,S,5);if(S+=5,_===0){if(d-S<11)break;_=Tt.readCode(l,S,11)+31,S+=11}for(let P=0;P<_;P++){if(d-S<8){S=d;break}const F=Tt.readCode(l,S,8);x+=J.castAsNonUtf8Char(F),S+=8}y=g}else{let _=y===Dt.DIGIT?4:5;if(d-S<_)break;let P=Tt.readCode(l,S,_);S+=_;let F=Tt.getCharacter(y,P);F.startsWith("CTRL_")?(g=y,y=Tt.getTable(F.charAt(5)),F.charAt(6)==="L"&&(g=y)):(x+=F,y=g)}return x}static getTable(l){switch(l){case"L":return Dt.LOWER;case"P":return Dt.PUNCT;case"M":return Dt.MIXED;case"D":return Dt.DIGIT;case"B":return Dt.BINARY;case"U":default:return Dt.UPPER}}static getCharacter(l,d){switch(l){case Dt.UPPER:return Tt.UPPER_TABLE[d];case Dt.LOWER:return Tt.LOWER_TABLE[d];case Dt.MIXED:return Tt.MIXED_TABLE[d];case Dt.PUNCT:return Tt.PUNCT_TABLE[d];case Dt.DIGIT:return Tt.DIGIT_TABLE[d];default:throw new be("Bad table")}}correctBits(l){let d,g;this.ddata.getNbLayers()<=2?(g=6,d=gt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,d=gt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,d=gt.AZTEC_DATA_10):(g=12,d=gt.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),x=l.length/g;if(x<y)throw new G;let S=l.length%g,_=new Int32Array(x);for(let ue=0;ue<x;ue++,S+=g)_[ue]=Tt.readCode(l,S,g);try{new At(d).decode(_,x-y)}catch(ue){throw new G(ue)}let P=(1<<g)-1,F=0;for(let ue=0;ue<y;ue++){let Ee=_[ue];if(Ee===0||Ee===P)throw new G;(Ee===1||Ee===P-1)&&F++}let K=new Array(y*g-F),ne=0;for(let ue=0;ue<y;ue++){let Ee=_[ue];if(Ee===1||Ee===P-1)K.fill(Ee>1,ne,ne+g-1),ne+=g-1;else for(let Oe=g-1;Oe>=0;--Oe)K[ne++]=(Ee&1<<Oe)!==0}return K}extractBits(l){let d=this.ddata.isCompact(),g=this.ddata.getNbLayers(),y=(d?11:14)+g*4,x=new Int32Array(y),S=new Array(this.totalBitsInLayer(g,d));if(d)for(let _=0;_<x.length;_++)x[_]=_;else{let _=y+1+2*U.truncDivision(U.truncDivision(y,2)-1,15),P=y/2,F=U.truncDivision(_,2);for(let K=0;K<P;K++){let ne=K+U.truncDivision(K,15);x[P-K-1]=F-ne-1,x[P+K]=F+ne+1}}for(let _=0,P=0;_<g;_++){let F=(g-_)*4+(d?9:12),K=_*2,ne=y-1-K;for(let ue=0;ue<F;ue++){let Ee=ue*2;for(let Oe=0;Oe<2;Oe++)S[P+Ee+Oe]=l.get(x[K+Oe],x[K+ue]),S[P+2*F+Ee+Oe]=l.get(x[K+ue],x[ne-Oe]),S[P+4*F+Ee+Oe]=l.get(x[ne-Oe],x[ne-ue]),S[P+6*F+Ee+Oe]=l.get(x[ne-ue],x[K+Oe])}P+=F*8}return S}static readCode(l,d,g){let y=0;for(let x=d;x<d+g;x++)y<<=1,l[x]&&(y|=1);return y}static readByte(l,d){let g=l.length-d;return g>=8?Tt.readCode(l,d,8):Tt.readCode(l,d,g)<<8-g}static convertBoolArrayToByteArray(l){let d=new Uint8Array((l.length+7)/8);for(let g=0;g<d.length;g++)d[g]=Tt.readByte(l,8*g);return d}totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}Tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,d,g,y){const x=l-g,S=d-y;return Math.sqrt(x*x+S*S)}static sum(l){let d=0;for(let g=0,y=l.length;g!==y;g++){const x=l[g];d+=x}return d}}class Zt{static floatToIntBits(l){return l}}Zt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class st{constructor(l,d){this.x=l,this.y=d}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof st){const d=l;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*Zt.floatToIntBits(this.x)+Zt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const d=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let x,S,_;if(g>=d&&g>=y?(S=l[0],x=l[1],_=l[2]):y>=g&&y>=d?(S=l[1],x=l[0],_=l[2]):(S=l[2],x=l[0],_=l[1]),this.crossProductZ(x,S,_)<0){const P=x;x=_,_=P}l[0]=x,l[1]=S,l[2]=_}static distance(l,d){return rt.distance(l.x,l.y,d.x,d.y)}static crossProductZ(l,d,g){const y=d.x,x=d.y;return(g.x-y)*(l.y-x)-(g.y-x)*(l.x-y)}}class rn{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class an extends rn{constructor(l,d,g,y,x){super(l,d),this.compact=g,this.nbDatablocks=y,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class dn{constructor(l,d,g,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),d==null&&(d=dn.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const x=d/2|0;if(this.leftInit=g-x,this.rightInit=g+x,this.upInit=y-x,this.downInit=y+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}detect(){let l=this.leftInit,d=this.rightInit,g=this.upInit,y=this.downInit,x=!1,S=!0,_=!1,P=!1,F=!1,K=!1,ne=!1;const ue=this.width,Ee=this.height;for(;S;){S=!1;let Oe=!0;for(;(Oe||!P)&&d<ue;)Oe=this.containsBlackPoint(g,y,d,!1),Oe?(d++,S=!0,P=!0):P||d++;if(d>=ue){x=!0;break}let De=!0;for(;(De||!F)&&y<Ee;)De=this.containsBlackPoint(l,d,y,!0),De?(y++,S=!0,F=!0):F||y++;if(y>=Ee){x=!0;break}let Ue=!0;for(;(Ue||!K)&&l>=0;)Ue=this.containsBlackPoint(g,y,l,!1),Ue?(l--,S=!0,K=!0):K||l--;if(l<0){x=!0;break}let Ze=!0;for(;(Ze||!ne)&&g>=0;)Ze=this.containsBlackPoint(l,d,g,!0),Ze?(g--,S=!0,ne=!0):ne||g--;if(g<0){x=!0;break}S&&(_=!0)}if(!x&&_){const Oe=d-l;let De=null;for(let dt=1;De===null&&dt<Oe;dt++)De=this.getBlackPointOnSegment(l,y-dt,l+dt,y);if(De==null)throw new ae;let Ue=null;for(let dt=1;Ue===null&&dt<Oe;dt++)Ue=this.getBlackPointOnSegment(l,g+dt,l+dt,g);if(Ue==null)throw new ae;let Ze=null;for(let dt=1;Ze===null&&dt<Oe;dt++)Ze=this.getBlackPointOnSegment(d,g+dt,d-dt,g);if(Ze==null)throw new ae;let ft=null;for(let dt=1;ft===null&&dt<Oe;dt++)ft=this.getBlackPointOnSegment(d,y-dt,d-dt,y);if(ft==null)throw new ae;return this.centerEdges(ft,De,Ze,Ue)}else throw new ae}getBlackPointOnSegment(l,d,g,y){const x=rt.round(rt.distance(l,d,g,y)),S=(g-l)/x,_=(y-d)/x,P=this.image;for(let F=0;F<x;F++){const K=rt.round(l+F*S),ne=rt.round(d+F*_);if(P.get(K,ne))return new st(K,ne)}return null}centerEdges(l,d,g,y){const x=l.getX(),S=l.getY(),_=d.getX(),P=d.getY(),F=g.getX(),K=g.getY(),ne=y.getX(),ue=y.getY(),Ee=dn.CORR;return x<this.width/2?[new st(ne-Ee,ue+Ee),new st(_+Ee,P+Ee),new st(F-Ee,K-Ee),new st(x+Ee,S-Ee)]:[new st(ne+Ee,ue+Ee),new st(_+Ee,P-Ee),new st(F-Ee,K+Ee),new st(x-Ee,S-Ee)]}containsBlackPoint(l,d,g,y){const x=this.image;if(y){for(let S=l;S<=d;S++)if(x.get(S,g))return!0}else for(let S=l;S<=d;S++)if(x.get(g,S))return!0;return!1}}dn.INIT_SIZE=10,dn.CORR=1;class Dn{static checkAndNudgePoints(l,d){const g=l.getWidth(),y=l.getHeight();let x=!0;for(let S=0;S<d.length&&x;S+=2){const _=Math.floor(d[S]),P=Math.floor(d[S+1]);if(_<-1||_>g||P<-1||P>y)throw new ae;x=!1,_===-1?(d[S]=0,x=!0):_===g&&(d[S]=g-1,x=!0),P===-1?(d[S+1]=0,x=!0):P===y&&(d[S+1]=y-1,x=!0)}x=!0;for(let S=d.length-2;S>=0&&x;S-=2){const _=Math.floor(d[S]),P=Math.floor(d[S+1]);if(_<-1||_>g||P<-1||P>y)throw new ae;x=!1,_===-1?(d[S]=0,x=!0):_===g&&(d[S]=g-1,x=!0),P===-1?(d[S+1]=0,x=!0):P===y&&(d[S+1]=y-1,x=!0)}}}class sn{constructor(l,d,g,y,x,S,_,P,F){this.a11=l,this.a21=d,this.a31=g,this.a12=y,this.a22=x,this.a32=S,this.a13=_,this.a23=P,this.a33=F}static quadrilateralToQuadrilateral(l,d,g,y,x,S,_,P,F,K,ne,ue,Ee,Oe,De,Ue){const Ze=sn.quadrilateralToSquare(l,d,g,y,x,S,_,P);return sn.squareToQuadrilateral(F,K,ne,ue,Ee,Oe,De,Ue).times(Ze)}transformPoints(l){const d=l.length,g=this.a11,y=this.a12,x=this.a13,S=this.a21,_=this.a22,P=this.a23,F=this.a31,K=this.a32,ne=this.a33;for(let ue=0;ue<d;ue+=2){const Ee=l[ue],Oe=l[ue+1],De=x*Ee+P*Oe+ne;l[ue]=(g*Ee+S*Oe+F)/De,l[ue+1]=(y*Ee+_*Oe+K)/De}}transformPointsWithValues(l,d){const g=this.a11,y=this.a12,x=this.a13,S=this.a21,_=this.a22,P=this.a23,F=this.a31,K=this.a32,ne=this.a33,ue=l.length;for(let Ee=0;Ee<ue;Ee++){const Oe=l[Ee],De=d[Ee],Ue=x*Oe+P*De+ne;l[Ee]=(g*Oe+S*De+F)/Ue,d[Ee]=(y*Oe+_*De+K)/Ue}}static squareToQuadrilateral(l,d,g,y,x,S,_,P){const F=l-g+x-_,K=d-y+S-P;if(F===0&&K===0)return new sn(g-l,x-g,l,y-d,S-y,d,0,0,1);{const ne=g-x,ue=_-x,Ee=y-S,Oe=P-S,De=ne*Oe-ue*Ee,Ue=(F*Oe-ue*K)/De,Ze=(ne*K-F*Ee)/De;return new sn(g-l+Ue*g,_-l+Ze*_,l,y-d+Ue*y,P-d+Ze*P,d,Ue,Ze,1)}}static quadrilateralToSquare(l,d,g,y,x,S,_,P){return sn.squareToQuadrilateral(l,d,g,y,x,S,_,P).buildAdjoint()}buildAdjoint(){return new sn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new sn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Fn extends Dn{sampleGrid(l,d,g,y,x,S,_,P,F,K,ne,ue,Ee,Oe,De,Ue,Ze,ft,dt){const ut=sn.quadrilateralToQuadrilateral(y,x,S,_,P,F,K,ne,ue,Ee,Oe,De,Ue,Ze,ft,dt);return this.sampleGridWithTransform(l,d,g,ut)}sampleGridWithTransform(l,d,g,y){if(d<=0||g<=0)throw new ae;const x=new se(d,g),S=new Float32Array(2*d);for(let _=0;_<g;_++){const P=S.length,F=_+.5;for(let K=0;K<P;K+=2)S[K]=K/2+.5,S[K+1]=F;y.transformPoints(S),Dn.checkAndNudgePoints(l,S);try{for(let K=0;K<P;K+=2)l.get(Math.floor(S[K]),Math.floor(S[K+1]))&&x.set(K/2,_)}catch{throw new ae}}return x}}class Sn{static setGridSampler(l){Sn.gridSampler=l}static getInstance(){return Sn.gridSampler}}Sn.gridSampler=new Fn;class Rt{constructor(l,d){this.x=l,this.y=d}toResultPoint(){return new st(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Tn{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let d=this.getMatrixCenter(),g=this.getBullsEyeCorners(d);if(l){let S=g[0];g[0]=g[2],g[2]=S}this.extractParameters(g);let y=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),x=this.getMatrixCornerPoints(g);return new an(y,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ae;let d=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],d),this.sampleLine(l[1],l[2],d),this.sampleLine(l[2],l[3],d),this.sampleLine(l[3],l[0],d)]);this.shift=this.getRotation(g,d);let y=0;for(let S=0;S<4;S++){let _=g[(this.shift+S)%4];this.compact?(y<<=7,y+=_>>1&127):(y<<=10,y+=(_>>2&992)+(_>>1&31))}let x=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(l,d){let g=0;l.forEach((y,x,S)=>{let _=(y>>d-2<<1)+(y&1);g=(g<<3)+_}),g=((g&1)<<11)+(g>>1);for(let y=0;y<4;y++)if(U.bitCount(g^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new ae}getCorrectedParameterData(l,d){let g,y;d?(g=7,y=2):(g=10,y=4);let x=g-y,S=new Int32Array(g);for(let P=g-1;P>=0;--P)S[P]=l&15,l>>=4;try{new At(gt.AZTEC_PARAM).decode(S,x)}catch{throw new ae}let _=0;for(let P=0;P<y;P++)_=(_<<4)+S[P];return _}getBullsEyeCorners(l){let d=l,g=l,y=l,x=l,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ne=this.getFirstDifferent(d,S,1,-1),ue=this.getFirstDifferent(g,S,1,1),Ee=this.getFirstDifferent(y,S,-1,1),Oe=this.getFirstDifferent(x,S,-1,-1);if(this.nbCenterLayers>2){let De=this.distancePoint(Oe,ne)*this.nbCenterLayers/(this.distancePoint(x,d)*(this.nbCenterLayers+2));if(De<.75||De>1.25||!this.isWhiteOrBlackRectangle(ne,ue,Ee,Oe))break}d=ne,g=ue,y=Ee,x=Oe,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;let _=new st(d.getX()+.5,d.getY()-.5),P=new st(g.getX()+.5,g.getY()+.5),F=new st(y.getX()-.5,y.getY()+.5),K=new st(x.getX()-.5,x.getY()-.5);return this.expandSquare([_,P,F,K],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,d,g,y;try{let _=new dn(this.image).detect();l=_[0],d=_[1],g=_[2],y=_[3]}catch{let P=this.image.getWidth()/2,F=this.image.getHeight()/2;l=this.getFirstDifferent(new Rt(P+7,F-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Rt(P+7,F+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Rt(P-7,F+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Rt(P-7,F-7),!1,-1,-1).toResultPoint()}let x=rt.round((l.getX()+y.getX()+d.getX()+g.getX())/4),S=rt.round((l.getY()+y.getY()+d.getY()+g.getY())/4);try{let _=new dn(this.image,15,x,S).detect();l=_[0],d=_[1],g=_[2],y=_[3]}catch{l=this.getFirstDifferent(new Rt(x+7,S-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Rt(x+7,S+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Rt(x-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Rt(x-7,S-7),!1,-1,-1).toResultPoint()}return x=rt.round((l.getX()+y.getX()+d.getX()+g.getX())/4),S=rt.round((l.getY()+y.getY()+d.getY()+g.getY())/4),new Rt(x,S)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,d,g,y,x){let S=Sn.getInstance(),_=this.getDimension(),P=_/2-this.nbCenterLayers,F=_/2+this.nbCenterLayers;return S.sampleGrid(l,_,_,P,P,F,P,F,F,P,F,d.getX(),d.getY(),g.getX(),g.getY(),y.getX(),y.getY(),x.getX(),x.getY())}sampleLine(l,d,g){let y=0,x=this.distanceResultPoint(l,d),S=x/g,_=l.getX(),P=l.getY(),F=S*(d.getX()-l.getX())/x,K=S*(d.getY()-l.getY())/x;for(let ne=0;ne<g;ne++)this.image.get(rt.round(_+ne*F),rt.round(P+ne*K))&&(y|=1<<g-ne-1);return y}isWhiteOrBlackRectangle(l,d,g,y){let x=3;l=new Rt(l.getX()-x,l.getY()+x),d=new Rt(d.getX()-x,d.getY()-x),g=new Rt(g.getX()+x,g.getY()-x),y=new Rt(y.getX()+x,y.getY()+x);let S=this.getColor(y,l);if(S===0)return!1;let _=this.getColor(l,d);return _!==S||(_=this.getColor(d,g),_!==S)?!1:(_=this.getColor(g,y),_===S)}getColor(l,d){let g=this.distancePoint(l,d),y=(d.getX()-l.getX())/g,x=(d.getY()-l.getY())/g,S=0,_=l.getX(),P=l.getY(),F=this.image.get(l.getX(),l.getY()),K=Math.ceil(g);for(let ue=0;ue<K;ue++)_+=y,P+=x,this.image.get(rt.round(_),rt.round(P))!==F&&S++;let ne=S/g;return ne>.1&&ne<.9?0:ne<=.1===F?1:-1}getFirstDifferent(l,d,g,y){let x=l.getX()+g,S=l.getY()+y;for(;this.isValid(x,S)&&this.image.get(x,S)===d;)x+=g,S+=y;for(x-=g,S-=y;this.isValid(x,S)&&this.image.get(x,S)===d;)x+=g;for(x-=g;this.isValid(x,S)&&this.image.get(x,S)===d;)S+=y;return S-=y,new Rt(x,S)}expandSquare(l,d,g){let y=g/(2*d),x=l[0].getX()-l[2].getX(),S=l[0].getY()-l[2].getY(),_=(l[0].getX()+l[2].getX())/2,P=(l[0].getY()+l[2].getY())/2,F=new st(_+y*x,P+y*S),K=new st(_-y*x,P-y*S);x=l[1].getX()-l[3].getX(),S=l[1].getY()-l[3].getY(),_=(l[1].getX()+l[3].getX())/2,P=(l[1].getY()+l[3].getY())/2;let ne=new st(_+y*x,P+y*S),ue=new st(_-y*x,P-y*S);return[F,ne,K,ue]}isValid(l,d){return l>=0&&l<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(l){let d=rt.round(l.getX()),g=rt.round(l.getY());return this.isValid(d,g)}distancePoint(l,d){return rt.distance(l.getX(),l.getY(),d.getX(),d.getY())}distanceResultPoint(l,d){return rt.distance(l.getX(),l.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Kt{decode(l,d=null){let g=null,y=new Tn(l.getBlackMatrix()),x=null,S=null;try{let K=y.detectMirror(!1);x=K.getPoints(),this.reportFoundResultPoints(d,x),S=new Tt().decode(K)}catch(K){g=K}if(S==null)try{let K=y.detectMirror(!0);x=K.getPoints(),this.reportFoundResultPoints(d,x),S=new Tt().decode(K)}catch(K){throw g??K}let _=new ce(S.getText(),S.getRawBytes(),S.getNumBits(),x,xe.AZTEC,I.currentTimeMillis()),P=S.getByteSegments();P!=null&&_.putMetadata(Fe.BYTE_SEGMENTS,P);let F=S.getECLevel();return F!=null&&_.putMetadata(Fe.ERROR_CORRECTION_LEVEL,F),_}reportFoundResultPoints(l,d){if(l!=null){let g=l.get(Q.NEED_RESULT_POINT_CALLBACK);g!=null&&d.forEach((y,x,S)=>{g.foundPossibleResultPoint(y)})}}reset(){}}class Jr extends le{constructor(l=500){super(new Kt,l)}}class tn{decode(l,d){try{return this.doDecode(l,d)}catch{if(d&&d.get(Q.TRY_HARDER)===!0&&l.isRotateSupported()){const x=l.rotateCounterClockwise(),S=this.doDecode(x,d),_=S.getResultMetadata();let P=270;_!==null&&_.get(Fe.ORIENTATION)===!0&&(P=P+_.get(Fe.ORIENTATION)%360),S.putMetadata(Fe.ORIENTATION,P);const F=S.getResultPoints();if(F!==null){const K=x.getHeight();for(let ne=0;ne<F.length;ne++)F[ne]=new st(K-F[ne].getY()-1,F[ne].getX())}return S}else throw new ae}}reset(){}doDecode(l,d){const g=l.getWidth(),y=l.getHeight();let x=new H(g);const S=d&&d.get(Q.TRY_HARDER)===!0,_=Math.max(1,y>>(S?8:5));let P;S?P=y:P=15;const F=Math.trunc(y/2);for(let K=0;K<P;K++){const ne=Math.trunc((K+1)/2),ue=(K&1)===0,Ee=F+_*(ue?ne:-ne);if(Ee<0||Ee>=y)break;try{x=l.getBlackRow(Ee,x)}catch{continue}for(let Oe=0;Oe<2;Oe++){if(Oe===1&&(x.reverse(),d&&d.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const De=new Map;d.forEach((Ue,Ze)=>De.set(Ze,Ue)),De.delete(Q.NEED_RESULT_POINT_CALLBACK),d=De}try{const De=this.decodeRow(Ee,x,d);if(Oe===1){De.putMetadata(Fe.ORIENTATION,180);const Ue=De.getResultPoints();Ue!==null&&(Ue[0]=new st(g-Ue[0].getX()-1,Ue[0].getY()),Ue[1]=new st(g-Ue[1].getX()-1,Ue[1].getY()))}return De}catch{}}}throw new ae}static recordPattern(l,d,g){const y=g.length;for(let F=0;F<y;F++)g[F]=0;const x=l.getSize();if(d>=x)throw new ae;let S=!l.get(d),_=0,P=d;for(;P<x;){if(l.get(P)!==S)g[_]++;else{if(++_===y)break;g[_]=1,S=!S}P++}if(!(_===y||_===y-1&&P===x))throw new ae}static recordPatternInReverse(l,d,g){let y=g.length,x=l.get(d);for(;d>0&&y>=0;)l.get(--d)!==x&&(y--,x=!x);if(y>=0)throw new ae;tn.recordPattern(l,d+1,g)}static patternMatchVariance(l,d,g){const y=l.length;let x=0,S=0;for(let F=0;F<y;F++)x+=l[F],S+=d[F];if(x<S)return Number.POSITIVE_INFINITY;const _=x/S;g*=_;let P=0;for(let F=0;F<y;F++){const K=l[F],ne=d[F]*_,ue=K>ne?K-ne:ne-K;if(ue>g)return Number.POSITIVE_INFINITY;P+=ue}return P/x}}class ot extends tn{static findStartPattern(l){const d=l.getSize(),g=l.getNextSet(0);let y=0,x=Int32Array.from([0,0,0,0,0,0]),S=g,_=!1;const P=6;for(let F=g;F<d;F++)if(l.get(F)!==_)x[y]++;else{if(y===P-1){let K=ot.MAX_AVG_VARIANCE,ne=-1;for(let ue=ot.CODE_START_A;ue<=ot.CODE_START_C;ue++){const Ee=tn.patternMatchVariance(x,ot.CODE_PATTERNS[ue],ot.MAX_INDIVIDUAL_VARIANCE);Ee<K&&(K=Ee,ne=ue)}if(ne>=0&&l.isRange(Math.max(0,S-(F-S)/2),S,!1))return Int32Array.from([S,F,ne]);S+=x[0]+x[1],x=x.slice(2,x.length-1),x[y-1]=0,x[y]=0,y--}else y++;x[y]=1,_=!_}throw new ae}static decodeCode(l,d,g){tn.recordPattern(l,g,d);let y=ot.MAX_AVG_VARIANCE,x=-1;for(let S=0;S<ot.CODE_PATTERNS.length;S++){const _=ot.CODE_PATTERNS[S],P=this.patternMatchVariance(d,_,ot.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,x=S)}if(x>=0)return x;throw new ae}decodeRow(l,d,g){const y=g&&g.get(Q.ASSUME_GS1)===!0,x=ot.findStartPattern(d),S=x[2];let _=0;const P=new Uint8Array(20);P[_++]=S;let F;switch(S){case ot.CODE_START_A:F=ot.CODE_CODE_A;break;case ot.CODE_START_B:F=ot.CODE_CODE_B;break;case ot.CODE_START_C:F=ot.CODE_CODE_C;break;default:throw new G}let K=!1,ne=!1,ue="",Ee=x[0],Oe=x[1];const De=Int32Array.from([0,0,0,0,0,0]);let Ue=0,Ze=0,ft=S,dt=0,ut=!0,cn=!1,vn=!1;for(;!K;){const al=ne;switch(ne=!1,Ue=Ze,Ze=ot.decodeCode(d,De,Oe),P[_++]=Ze,Ze!==ot.CODE_STOP&&(ut=!0),Ze!==ot.CODE_STOP&&(dt++,ft+=dt*Ze),Ee=Oe,Oe+=De.reduce((Af,Ol)=>Af+Ol,0),Ze){case ot.CODE_START_A:case ot.CODE_START_B:case ot.CODE_START_C:throw new G}switch(F){case ot.CODE_CODE_A:if(Ze<64)vn===cn?ue+=String.fromCharCode(32+Ze):ue+=String.fromCharCode(32+Ze+128),vn=!1;else if(Ze<96)vn===cn?ue+=String.fromCharCode(Ze-64):ue+=String.fromCharCode(Ze+64),vn=!1;else switch(Ze!==ot.CODE_STOP&&(ut=!1),Ze){case ot.CODE_FNC_1:y&&(ue.length===0?ue+="]C1":ue+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_A:!cn&&vn?(cn=!0,vn=!1):cn&&vn?(cn=!1,vn=!1):vn=!0;break;case ot.CODE_SHIFT:ne=!0,F=ot.CODE_CODE_B;break;case ot.CODE_CODE_B:F=ot.CODE_CODE_B;break;case ot.CODE_CODE_C:F=ot.CODE_CODE_C;break;case ot.CODE_STOP:K=!0;break}break;case ot.CODE_CODE_B:if(Ze<96)vn===cn?ue+=String.fromCharCode(32+Ze):ue+=String.fromCharCode(32+Ze+128),vn=!1;else switch(Ze!==ot.CODE_STOP&&(ut=!1),Ze){case ot.CODE_FNC_1:y&&(ue.length===0?ue+="]C1":ue+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_B:!cn&&vn?(cn=!0,vn=!1):cn&&vn?(cn=!1,vn=!1):vn=!0;break;case ot.CODE_SHIFT:ne=!0,F=ot.CODE_CODE_A;break;case ot.CODE_CODE_A:F=ot.CODE_CODE_A;break;case ot.CODE_CODE_C:F=ot.CODE_CODE_C;break;case ot.CODE_STOP:K=!0;break}break;case ot.CODE_CODE_C:if(Ze<100)Ze<10&&(ue+="0"),ue+=Ze;else switch(Ze!==ot.CODE_STOP&&(ut=!1),Ze){case ot.CODE_FNC_1:y&&(ue.length===0?ue+="]C1":ue+="");break;case ot.CODE_CODE_A:F=ot.CODE_CODE_A;break;case ot.CODE_CODE_B:F=ot.CODE_CODE_B;break;case ot.CODE_STOP:K=!0;break}break}al&&(F=F===ot.CODE_CODE_A?ot.CODE_CODE_B:ot.CODE_CODE_A)}const Gr=Oe-Ee;if(Oe=d.getNextUnset(Oe),!d.isRange(Oe,Math.min(d.getSize(),Oe+(Oe-Ee)/2),!1))throw new ae;if(ft-=dt*Ue,ft%103!==Ue)throw new A;const ia=ue.length;if(ia===0)throw new ae;ia>0&&ut&&(F===ot.CODE_CODE_C?ue=ue.substring(0,ia-2):ue=ue.substring(0,ia-1));const Ui=(x[1]+x[0])/2,yr=Ee+Gr/2,zi=P.length,Wa=new Uint8Array(zi);for(let al=0;al<zi;al++)Wa[al]=P[al];const kl=[new st(Ui,l),new st(yr,l)];return new ce(ue,Wa,0,kl,xe.CODE_128,new Date().getTime())}}ot.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ot.MAX_AVG_VARIANCE=.25,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.CODE_SHIFT=98,ot.CODE_CODE_C=99,ot.CODE_CODE_B=100,ot.CODE_CODE_A=101,ot.CODE_FNC_1=102,ot.CODE_FNC_2=97,ot.CODE_FNC_3=96,ot.CODE_FNC_4_A=101,ot.CODE_FNC_4_B=100,ot.CODE_START_A=103,ot.CODE_START_B=104,ot.CODE_START_C=105,ot.CODE_STOP=106;class jt extends tn{constructor(l=!1,d=!1){super(),this.usingCheckDigit=l,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,d,g){let y=this.counters;y.fill(0),this.decodeRowResult="";let x=jt.findAsteriskPattern(d,y),S=d.getNextSet(x[1]),_=d.getSize(),P,F;do{jt.recordPattern(d,S,y);let De=jt.toNarrowWidePattern(y);if(De<0)throw new ae;P=jt.patternToChar(De),this.decodeRowResult+=P,F=S;for(let Ue of y)S+=Ue;S=d.getNextSet(S)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let K=0;for(let De of y)K+=De;let ne=S-F-K;if(S!==_&&ne*2<K)throw new ae;if(this.usingCheckDigit){let De=this.decodeRowResult.length-1,Ue=0;for(let Ze=0;Ze<De;Ze++)Ue+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(De)!==jt.ALPHABET_STRING.charAt(Ue%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,De)}if(this.decodeRowResult.length===0)throw new ae;let ue;this.extendedMode?ue=jt.decodeExtended(this.decodeRowResult):ue=this.decodeRowResult;let Ee=(x[1]+x[0])/2,Oe=F+K/2;return new ce(ue,null,0,[new st(Ee,l),new st(Oe,l)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,d){let g=l.getSize(),y=l.getNextSet(0),x=0,S=y,_=!1,P=d.length;for(let F=y;F<g;F++)if(l.get(F)!==_)d[x]++;else{if(x===P-1){if(this.toNarrowWidePattern(d)===jt.ASTERISK_ENCODING&&l.isRange(Math.max(0,S-Math.floor((F-S)/2)),S,!1))return[S,F];S+=d[0]+d[1],d.copyWithin(0,2,2+x-1),d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,_=!_}throw new ae}static toNarrowWidePattern(l){let d=l.length,g=0,y;do{let x=2147483647;for(let P of l)P<x&&P>g&&(x=P);g=x,y=0;let S=0,_=0;for(let P=0;P<d;P++){let F=l[P];F>g&&(_|=1<<d-1-P,y++,S+=F)}if(y===3){for(let P=0;P<d&&y>0;P++){let F=l[P];if(F>g&&(y--,F*2>=S))return-1}return _}}while(y>3);return-1}static patternToChar(l){for(let d=0;d<jt.CHARACTER_ENCODINGS.length;d++)if(jt.CHARACTER_ENCODINGS[d]===l)return jt.ALPHABET_STRING.charAt(d);if(l===jt.ASTERISK_ENCODING)return"*";throw new ae}static decodeExtended(l){let d=l.length,g="";for(let y=0;y<d;y++){let x=l.charAt(y);if(x==="+"||x==="$"||x==="%"||x==="/"){let S=l.charAt(y+1),_="\0";switch(x){case"+":if(S>="A"&&S<="Z")_=String.fromCharCode(S.charCodeAt(0)+32);else throw new G;break;case"$":if(S>="A"&&S<="Z")_=String.fromCharCode(S.charCodeAt(0)-64);else throw new G;break;case"%":if(S>="A"&&S<="E")_=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")_=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")_=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")_=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")_="\0";else if(S==="V")_="@";else if(S==="W")_="`";else if(S==="X"||S==="Y"||S==="Z")_="";else throw new G;break;case"/":if(S>="A"&&S<="O")_=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")_=":";else throw new G;break}g+=_,y++}else g+=x}return g}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class Ft extends tn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,d,g){let y=this.decodeStart(d),x=this.decodeEnd(d),S=new ie;Ft.decodeMiddle(d,y[1],x[0],S);let _=S.toString(),P=null;g!=null&&(P=g.get(Q.ALLOWED_LENGTHS)),P==null&&(P=Ft.DEFAULT_ALLOWED_LENGTHS);let F=_.length,K=!1,ne=0;for(let Oe of P){if(F===Oe){K=!0;break}Oe>ne&&(ne=Oe)}if(!K&&F>ne&&(K=!0),!K)throw new G;const ue=[new st(y[1],l),new st(x[0],l)];return new ce(_,null,0,ue,xe.ITF,new Date().getTime())}static decodeMiddle(l,d,g,y){let x=new Int32Array(10),S=new Int32Array(5),_=new Int32Array(5);for(x.fill(0),S.fill(0),_.fill(0);d<g;){tn.recordPattern(l,d,x);for(let F=0;F<5;F++){let K=2*F;S[F]=x[K],_[F]=x[K+1]}let P=Ft.decodeDigit(S);y.append(P.toString()),P=this.decodeDigit(_),y.append(P.toString()),x.forEach(function(F){d+=F})}}decodeStart(l){let d=Ft.skipWhiteSpace(l),g=Ft.findGuardPattern(l,d,Ft.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,d){let g=this.narrowLineWidth*10;g=g<d?g:d;for(let y=d-1;g>0&&y>=0&&!l.get(y);y--)g--;if(g!==0)throw new ae}static skipWhiteSpace(l){const d=l.getSize(),g=l.getNextSet(0);if(g===d)throw new ae;return g}decodeEnd(l){l.reverse();try{let d=Ft.skipWhiteSpace(l),g;try{g=Ft.findGuardPattern(l,d,Ft.END_PATTERN_REVERSED[0])}catch(x){x instanceof ae&&(g=Ft.findGuardPattern(l,d,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let y=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-y,g}finally{l.reverse()}}static findGuardPattern(l,d,g){let y=g.length,x=new Int32Array(y),S=l.getSize(),_=!1,P=0,F=d;x.fill(0);for(let K=d;K<S;K++)if(l.get(K)!==_)x[P]++;else{if(P===y-1){if(tn.patternMatchVariance(x,g,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[F,K];F+=x[0]+x[1],I.arraycopy(x,2,x,0,P-1),x[P-1]=0,x[P]=0,P--}else P++;x[P]=1,_=!_}throw new ae}static decodeDigit(l){let d=Ft.MAX_AVG_VARIANCE,g=-1,y=Ft.PATTERNS.length;for(let x=0;x<y;x++){let S=Ft.PATTERNS[x],_=tn.patternMatchVariance(l,S,Ft.MAX_INDIVIDUAL_VARIANCE);_<d?(d=_,g=x):_===d&&(g=-1)}if(g>=0)return g%10;throw new ae}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kt extends tn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let d=!1,g,y=0,x=Int32Array.from([0,0,0]);for(;!d;){x=Int32Array.from([0,0,0]),g=kt.findGuardPattern(l,y,!1,this.START_END_PATTERN,x);let S=g[0];y=g[1];let _=S-(y-S);_>=0&&(d=l.isRange(_,S,!1))}return g}static checkChecksum(l){return kt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let g=parseInt(l.charAt(d-1),10);return kt.getStandardUPCEANChecksum(l.substring(0,d-1))===g}static getStandardUPCEANChecksum(l){let d=l.length,g=0;for(let y=d-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new G;g+=x}g*=3;for(let y=d-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new G;g+=x}return(1e3-g)%10}static decodeEnd(l,d){return kt.findGuardPattern(l,d,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,d,g,y){return this.findGuardPattern(l,d,g,y,new Int32Array(y.length))}static findGuardPattern(l,d,g,y,x){let S=l.getSize();d=g?l.getNextUnset(d):l.getNextSet(d);let _=0,P=d,F=y.length,K=g;for(let ne=d;ne<S;ne++)if(l.get(ne)!==K)x[_]++;else{if(_===F-1){if(tn.patternMatchVariance(x,y,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return Int32Array.from([P,ne]);P+=x[0]+x[1];let ue=x.slice(2,x.length-1);for(let Ee=0;Ee<_-1;Ee++)x[Ee]=ue[Ee];x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,K=!K}throw new ae}static decodeDigit(l,d,g,y){this.recordPattern(l,g,d);let x=this.MAX_AVG_VARIANCE,S=-1,_=y.length;for(let P=0;P<_;P++){let F=y[P],K=tn.patternMatchVariance(d,F,kt.MAX_INDIVIDUAL_VARIANCE);K<x&&(x=K,S=P)}if(S>=0)return S;throw new ae}}kt.MAX_AVG_VARIANCE=.48,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.START_END_PATTERN=Int32Array.from([1,1,1]),kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ir{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,g){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(d,g,y),S=y.toString(),_=ir.parseExtensionString(S),P=[new st((g[0]+g[1])/2,l),new st(x,l)],F=new ce(S,null,0,P,xe.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&F.putAllMetadata(_),F}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),S=d[1],_=0;for(let F=0;F<5&&S<x;F++){let K=kt.decodeDigit(l,y,S,kt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+K%10);for(let ne of y)S+=ne;K>=10&&(_|=1<<4-F),F!==4&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(g.length!==5)throw new ae;let P=this.determineCheckDigit(_);if(ir.extensionChecksum(g.toString())!==P)throw new ae;return S}static extensionChecksum(l){let d=l.length,g=0;for(let y=d-2;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;g*=3;for(let y=d-1;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let d=0;d<10;d++)if(l===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new ae}static parseExtensionString(l){if(l.length!==5)return null;let d=ir.parseExtension5String(l);return d==null?null:new Map([[Fe.SUGGESTED_PRICE,d]])}static parseExtension5String(l){let d;switch(l.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let g=parseInt(l.substring(1)),y=(g/100).toString(),x=g%100,S=x<10?"0"+x:x.toString();return d+y+"."+S}}class hn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,g){let y=this.decodeRowStringBuffer,x=this.decodeMiddle(d,g,y),S=y.toString(),_=hn.parseExtensionString(S),P=[new st((g[0]+g[1])/2,l),new st(x,l)],F=new ce(S,null,0,P,xe.UPC_EAN_EXTENSION,new Date().getTime());return _!=null&&F.putAllMetadata(_),F}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),S=d[1],_=0;for(let P=0;P<2&&S<x;P++){let F=kt.decodeDigit(l,y,S,kt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+F%10);for(let K of y)S+=K;F>=10&&(_|=1<<1-P),P!==1&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(g.length!==2)throw new ae;if(parseInt(g.toString())%4!==_)throw new ae;return S}static parseExtensionString(l){return l.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(l)]])}}class wn{static decodeRow(l,d,g){let y=kt.findGuardPattern(d,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ir().decodeRow(l,d,y)}catch{return new hn().decodeRow(l,d,y)}}}wn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class at extends kt{constructor(){super(),this.decodeRowStringBuffer="",at.L_AND_G_PATTERNS=at.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let d=at.L_PATTERNS[l-10],g=new Int32Array(d.length);for(let y=0;y<d.length;y++)g[y]=d[d.length-y-1];at.L_AND_G_PATTERNS[l]=g}}decodeRow(l,d,g){let y=at.findStartGuardPattern(d),x=g==null?null:g.get(Q.NEED_RESULT_POINT_CALLBACK);if(x!=null){const ut=new st((y[0]+y[1])/2,l);x.foundPossibleResultPoint(ut)}let S=this.decodeMiddle(d,y,this.decodeRowStringBuffer),_=S.rowOffset,P=S.resultString;if(x!=null){const ut=new st(_,l);x.foundPossibleResultPoint(ut)}let F=this.decodeEnd(d,_);if(x!=null){const ut=new st((F[0]+F[1])/2,l);x.foundPossibleResultPoint(ut)}let K=F[1],ne=K+(K-F[0]);if(ne>=d.getSize()||!d.isRange(K,ne,!1))throw new ae;let ue=P.toString();if(ue.length<8)throw new G;if(!at.checkChecksum(ue))throw new A;let Ee=(y[1]+y[0])/2,Oe=(F[1]+F[0])/2,De=this.getBarcodeFormat(),Ue=[new st(Ee,l),new st(Oe,l)],Ze=new ce(ue,null,0,Ue,De,new Date().getTime()),ft=0;try{let ut=wn.decodeRow(l,d,F[1]);Ze.putMetadata(Fe.UPC_EAN_EXTENSION,ut.getText()),Ze.putAllMetadata(ut.getResultMetadata()),Ze.addResultPoints(ut.getResultPoints()),ft=ut.getText().length}catch{}let dt=g==null?null:g.get(Q.ALLOWED_EAN_EXTENSIONS);if(dt!=null){let ut=!1;for(let cn in dt)if(ft.toString()===cn){ut=!0;break}if(!ut)throw new ae}return Ze}decodeEnd(l,d){return at.findGuardPattern(l,d,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return at.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let g=parseInt(l.charAt(d-1),10);return at.getStandardUPCEANChecksum(l.substring(0,d-1))===g}static getStandardUPCEANChecksum(l){let d=l.length,g=0;for(let y=d-1;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new G;g+=x}g*=3;for(let y=d-2;y>=0;y-=2){let x=l.charAt(y).charCodeAt(0)-48;if(x<0||x>9)throw new G;g+=x}return(1e3-g)%10}}class Ct extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),S=d[1],_=0;for(let F=0;F<6&&S<x;F++){let K=at.decodeDigit(l,y,S,at.L_AND_G_PATTERNS);g+=String.fromCharCode(48+K%10);for(let ne of y)S+=ne;K>=10&&(_|=1<<5-F)}g=Ct.determineFirstDigit(g,_),S=at.findGuardPattern(l,S,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let F=0;F<6&&S<x;F++){let K=at.decodeDigit(l,y,S,at.L_PATTERNS);g+=String.fromCharCode(48+K);for(let ne of y)S+=ne}return{rowOffset:S,resultString:g}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(l,d){for(let g=0;g<10;g++)if(d===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new ae}}Ct.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Nt extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,g){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),S=d[1];for(let P=0;P<4&&S<x;P++){let F=at.decodeDigit(l,y,S,at.L_PATTERNS);g+=String.fromCharCode(48+F);for(let K of y)S+=K}S=at.findGuardPattern(l,S,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&S<x;P++){let F=at.decodeDigit(l,y,S,at.L_PATTERNS);g+=String.fromCharCode(48+F);for(let K of y)S+=K}return{rowOffset:S,resultString:g}}getBarcodeFormat(){return xe.EAN_8}}class Vt extends at{constructor(){super(...arguments),this.ean13Reader=new Ct}getBarcodeFormat(){return xe.UPC_A}decode(l,d){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,d,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,d,g))}decodeMiddle(l,d,g){return this.ean13Reader.decodeMiddle(l,d,g)}maybeReturnResult(l){let d=l.getText();if(d.charAt(0)==="0"){let g=new ce(d.substring(1),null,null,l.getResultPoints(),xe.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new ae}reset(){this.ean13Reader.reset()}}class hr extends at{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,d,g){const y=this.decodeMiddleCounters.map(F=>F);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const x=l.getSize();let S=d[1],_=0;for(let F=0;F<6&&S<x;F++){const K=hr.decodeDigit(l,y,S,hr.L_AND_G_PATTERNS);g+=String.fromCharCode(48+K%10);for(let ne of y)S+=ne;K>=10&&(_|=1<<5-F)}let P=hr.determineNumSysAndCheckDigit(g,_);return{rowOffset:S,resultString:P}}decodeEnd(l,d){return hr.findGuardPatternWithoutCounters(l,d,!0,hr.MIDDLE_END_PATTERN)}checkChecksum(l){return at.checkChecksum(hr.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,d){for(let g=0;g<=1;g++)for(let y=0;y<10;y++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][y]){let x=String.fromCharCode(48+g),S=String.fromCharCode(48+y);return x+l+S}throw ae.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(l){const d=l.slice(1,7).split("").map(x=>x.charCodeAt(0)),g=new ie;g.append(l.charAt(0));let y=d[5];switch(y){case 0:case 1:case 2:g.appendChars(d,0,2),g.append(y),g.append("0000"),g.appendChars(d,2,3);break;case 3:g.appendChars(d,0,3),g.append("00000"),g.appendChars(d,3,2);break;case 4:g.appendChars(d,0,4),g.append("00000"),g.append(d[4]);break;default:g.appendChars(d,0,5),g.append("0000"),g.append(y);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}hr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class pr extends tn{constructor(l){super();let d=l==null?null:l.get(Q.POSSIBLE_FORMATS),g=[];r(d)?(g.push(new Ct),g.push(new Vt),g.push(new Nt),g.push(new hr)):(d.indexOf(xe.EAN_13)>-1&&g.push(new Ct),d.indexOf(xe.UPC_A)>-1&&g.push(new Vt),d.indexOf(xe.EAN_8)>-1&&g.push(new Nt),d.indexOf(xe.UPC_E)>-1&&g.push(new hr)),this.readers=g}decodeRow(l,d,g){for(let y of this.readers)try{const x=y.decodeRow(l,d,g),S=x.getBarcodeFormat()===xe.EAN_13&&x.getText().charAt(0)==="0",_=g==null?null:g.get(Q.POSSIBLE_FORMATS),P=_==null||_.includes(xe.UPC_A);if(S&&P){const F=x.getRawBytes(),K=new ce(x.getText().substring(1),F,F?F.length:null,x.getResultPoints(),xe.UPC_A);return K.putAllMetadata(x.getResultMetadata()),K}return x}catch{}throw new ae}reset(){for(let l of this.readers)l.reset()}}class Hn extends tn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,d){for(let g=0;g<d.length;g++)if(tn.patternMatchVariance(l,d[g],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return g;throw new ae}static count(l){return rt.sum(new Int32Array(l))}static increment(l,d){let g=0,y=d[0];for(let x=1;x<l.length;x++)d[x]>y&&(y=d[x],g=x);l[g]++}static decrement(l,d){let g=0,y=d[0];for(let x=1;x<l.length;x++)d[x]<y&&(y=d[x],g=x);l[g]--}static isFinderPattern(l){let d=l[0]+l[1],g=d+l[2]+l[3],y=d/g;if(y>=Hn.MIN_FINDER_PATTERN_RATIO&&y<=Hn.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let _ of l)_>S&&(S=_),_<x&&(x=_);return S<10*x}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nr{constructor(l,d){this.value=l,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof Nr))return!1;const d=l;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class nn{constructor(l,d,g,y,x){this.value=l,this.startEnd=d,this.value=l,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new st(g,x)),this.resultPoints.push(new st(y,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof nn))return!1;const d=l;return this.value===d.value}hashCode(){return this.value}}class Bi{constructor(){}static getRSSvalue(l,d,g){let y=0;for(let P of l)y+=P;let x=0,S=0,_=l.length;for(let P=0;P<_-1;P++){let F;for(F=1,S|=1<<P;F<l[P];F++,S&=~(1<<P)){let K=Bi.combins(y-F-1,_-P-2);if(g&&S===0&&y-F-(_-P-1)>=_-P-1&&(K-=Bi.combins(y-F-(_-P),_-P-2)),_-P-1>1){let ne=0;for(let ue=y-F-(_-P-2);ue>d;ue--)ne+=Bi.combins(y-F-ue-1,_-P-3);K-=ne*(_-1-P)}else y-F>d&&K--;x+=K}y-=F}return x}static combins(l,d){let g,y;l-d>d?(y=d,g=l-d):(y=l-d,g=d);let x=1,S=1;for(let _=l;_>g;_--)x*=_,S<=y&&(x/=S,S++);for(;S<=y;)x/=S,S++;return x}}class is{static buildBitArray(l){let d=l.length*2-1;l[l.length-1].getRightChar()==null&&(d-=1);let g=12*d,y=new H(g),x=0,_=l[0].getRightChar().getValue();for(let P=11;P>=0;--P)(_&1<<P)!=0&&y.set(x),x++;for(let P=1;P<l.length;++P){let F=l[P],K=F.getLeftChar().getValue();for(let ne=11;ne>=0;--ne)(K&1<<ne)!=0&&y.set(x),x++;if(F.getRightChar()!=null){let ne=F.getRightChar().getValue();for(let ue=11;ue>=0;--ue)(ne&1<<ue)!=0&&y.set(x),x++}}return y}}class Ri{constructor(l,d){d?this.decodedInformation=null:(this.finished=l,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sa{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Vn extends Sa{constructor(l,d){super(l),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Vn.FNC1}}Vn.FNC1="$";class Or extends Sa{constructor(l,d,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gr extends Sa{constructor(l,d,g){if(super(l),d<0||d>10||g<0||g>10)throw new G;this.firstDigit=d,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gr.FNC1}isSecondDigitFNC1(){return this.secondDigit===gr.FNC1}isAnyFNC1(){return this.firstDigit===gr.FNC1||this.secondDigit===gr.FNC1}}gr.FNC1=10;class Pt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ae;let d=l.substring(0,2);for(let x of Pt.TWO_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(2,x[2],l):Pt.processFixedAI(2,x[1],l);if(l.length<3)throw new ae;let g=l.substring(0,3);for(let x of Pt.THREE_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(3,x[2],l):Pt.processFixedAI(3,x[1],l);for(let x of Pt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(4,x[2],l):Pt.processFixedAI(4,x[1],l);if(l.length<4)throw new ae;let y=l.substring(0,4);for(let x of Pt.FOUR_DIGIT_DATA_LENGTH)if(x[0]===y)return x[1]===Pt.VARIABLE_LENGTH?Pt.processVariableAI(4,x[2],l):Pt.processFixedAI(4,x[1],l);throw new ae}static processFixedAI(l,d,g){if(g.length<l)throw new ae;let y=g.substring(0,l);if(g.length<l+d)throw new ae;let x=g.substring(l,l+d),S=g.substring(l+d),_="("+y+")"+x,P=Pt.parseFieldsInGeneralPurpose(S);return P==null?_:_+P}static processVariableAI(l,d,g){let y=g.substring(0,l),x;g.length<l+d?x=g.length:x=l+d;let S=g.substring(l,x),_=g.substring(x),P="("+y+")"+S,F=Pt.parseFieldsInGeneralPurpose(_);return F==null?P:P+F}}Pt.VARIABLE_LENGTH=[],Pt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Pt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Pt.VARIABLE_LENGTH,20],["22",Pt.VARIABLE_LENGTH,29],["30",Pt.VARIABLE_LENGTH,8],["37",Pt.VARIABLE_LENGTH,8],["90",Pt.VARIABLE_LENGTH,30],["91",Pt.VARIABLE_LENGTH,30],["92",Pt.VARIABLE_LENGTH,30],["93",Pt.VARIABLE_LENGTH,30],["94",Pt.VARIABLE_LENGTH,30],["95",Pt.VARIABLE_LENGTH,30],["96",Pt.VARIABLE_LENGTH,30],["97",Pt.VARIABLE_LENGTH,3],["98",Pt.VARIABLE_LENGTH,30],["99",Pt.VARIABLE_LENGTH,30]],Pt.THREE_DIGIT_DATA_LENGTH=[["240",Pt.VARIABLE_LENGTH,30],["241",Pt.VARIABLE_LENGTH,30],["242",Pt.VARIABLE_LENGTH,6],["250",Pt.VARIABLE_LENGTH,30],["251",Pt.VARIABLE_LENGTH,30],["253",Pt.VARIABLE_LENGTH,17],["254",Pt.VARIABLE_LENGTH,20],["400",Pt.VARIABLE_LENGTH,30],["401",Pt.VARIABLE_LENGTH,30],["402",17],["403",Pt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Pt.VARIABLE_LENGTH,20],["421",Pt.VARIABLE_LENGTH,15],["422",3],["423",Pt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Pt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Pt.VARIABLE_LENGTH,15],["391",Pt.VARIABLE_LENGTH,18],["392",Pt.VARIABLE_LENGTH,15],["393",Pt.VARIABLE_LENGTH,18],["703",Pt.VARIABLE_LENGTH,30]],Pt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Pt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Pt.VARIABLE_LENGTH,20],["8003",Pt.VARIABLE_LENGTH,30],["8004",Pt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Pt.VARIABLE_LENGTH,30],["8008",Pt.VARIABLE_LENGTH,12],["8018",18],["8020",Pt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Pt.VARIABLE_LENGTH,70],["8200",Pt.VARIABLE_LENGTH,70]];class Ei{constructor(l){this.buffer=new ie,this.information=l}decodeAllCodes(l,d){let g=d,y=null;do{let x=this.decodeGeneralPurposeField(g,y),S=Pt.parseFieldsInGeneralPurpose(x.getNewString());if(S!=null&&l.append(S),x.isRemaining()?y=""+x.getRemainingValue():y=null,g===x.getNewPosition())break;g=x.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let d=l;d<l+3;++d)if(this.information.get(d))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(l,4);return x===0?new gr(this.information.getSize(),gr.FNC1,gr.FNC1):new gr(this.information.getSize(),x-1,gr.FNC1)}let d=this.extractNumericValueFromBitArray(l,7),g=(d-8)/11,y=(d-8)%11;return new gr(l+7,g,y)}extractNumericValueFromBitArray(l,d){return Ei.extractNumericValueFromBitArray(this.information,l,d)}static extractNumericValueFromBitArray(l,d,g){let y=0;for(let x=0;x<g;++x)l.get(d+x)&&(y|=1<<g-x-1);return y}decodeGeneralPurposeField(l,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Or(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Or(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,d;do{let g=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),l=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),l=d.isFinished()):(d=this.parseNumericBlock(),l=d.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let d;return l.isSecondDigitFNC1()?d=new Or(this.current.getPosition(),this.buffer.toString()):d=new Or(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Ri(!0,d)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let d=new Or(this.current.getPosition(),this.buffer.toString());return new Ri(!0,d)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ri(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new Or(this.current.getPosition(),this.buffer.toString());return new Ri(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ri(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new Or(this.current.getPosition(),this.buffer.toString());return new Ri(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ri(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Vn(l+5,Vn.FNC1);if(d>=5&&d<15)return new Vn(l+5,"0"+(d-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new Vn(l+7,""+(g+1));if(g>=90&&g<116)return new Vn(l+7,""+(g+7));let y=this.extractNumericValueFromBitArray(l,8),x;switch(y){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new G}return new Vn(l+8,x)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Vn(l+5,Vn.FNC1);if(d>=5&&d<15)return new Vn(l+5,"0"+(d-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new Vn(l+6,""+(g+33));let y;switch(g){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new be("Decoding invalid alphanumeric value: "+g)}return new Vn(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<5&&d+l<this.information.getSize();++d)if(d===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+d))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let d=l;d<l+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<4&&d+l<this.information.getSize();++d)if(this.information.get(l+d))return!1;return!0}}class mr{constructor(l){this.information=l,this.generalDecoder=new Ei(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Yn extends mr{constructor(l){super(l)}encodeCompressedGtin(l,d){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,d,g)}encodeCompressedGtinWithoutAI(l,d,g){for(let y=0;y<4;++y){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*y,10);x/100===0&&l.append("0"),x/10===0&&l.append("0"),l.append(x)}Yn.appendCheckDigit(l,g)}static appendCheckDigit(l,d){let g=0;for(let y=0;y<13;y++){let x=l.charAt(y+d).charCodeAt(0)-48;g+=(y&1)===0?3*x:x}g=10-g%10,g===10&&(g=0),l.append(g)}}Yn.GTIN_SIZE=40;class hi extends Yn{constructor(l){super(l)}parseInformation(){let l=new ie;l.append("(01)");let d=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,hi.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(l,hi.HEADER_SIZE+44)}}hi.HEADER_SIZE=4;class da extends mr{constructor(l){super(l)}parseInformation(){let l=new ie;return this.getGeneralDecoder().decodeAllCodes(l,da.HEADER_SIZE)}}da.HEADER_SIZE=5;class Ea extends Yn{constructor(l){super(l)}encodeCompressedWeight(l,d,g){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(d,g);this.addWeightCode(l,y);let x=this.checkWeight(y),S=1e5;for(let _=0;_<5;++_)x/S===0&&l.append("0"),S/=10;l.append(x)}}class ha extends Ea{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=ha.HEADER_SIZE+Ea.GTIN_SIZE+ha.WEIGHT_SIZE)throw new ae;let l=new ie;return this.encodeCompressedGtin(l,ha.HEADER_SIZE),this.encodeCompressedWeight(l,ha.HEADER_SIZE+Ea.GTIN_SIZE,ha.WEIGHT_SIZE),l.toString()}}ha.HEADER_SIZE=5,ha.WEIGHT_SIZE=15;class jo extends ha{constructor(l){super(l)}addWeightCode(l,d){l.append("(3103)")}checkWeight(l){return l}}class Bo extends ha{constructor(l){super(l)}addWeightCode(l,d){d<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class Qi extends Yn{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Qi.HEADER_SIZE+Yn.GTIN_SIZE)throw new ae;let l=new ie;this.encodeCompressedGtin(l,Qi.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Qi.HEADER_SIZE+Yn.GTIN_SIZE,Qi.LAST_DIGIT_SIZE);l.append("(392"),l.append(d),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(Qi.HEADER_SIZE+Yn.GTIN_SIZE+Qi.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}Qi.HEADER_SIZE=8,Qi.LAST_DIGIT_SIZE=2;class Pr extends Yn{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<Pr.HEADER_SIZE+Yn.GTIN_SIZE)throw new ae;let l=new ie;this.encodeCompressedGtin(l,Pr.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(Pr.HEADER_SIZE+Yn.GTIN_SIZE,Pr.LAST_DIGIT_SIZE);l.append("(393"),l.append(d),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(Pr.HEADER_SIZE+Yn.GTIN_SIZE+Pr.LAST_DIGIT_SIZE,Pr.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Pr.HEADER_SIZE+Yn.GTIN_SIZE+Pr.LAST_DIGIT_SIZE+Pr.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}Pr.HEADER_SIZE=8,Pr.LAST_DIGIT_SIZE=2,Pr.FIRST_THREE_DIGITS_SIZE=10;class Xn extends Ea{constructor(l,d,g){super(l),this.dateCode=g,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+Xn.GTIN_SIZE+Xn.WEIGHT_SIZE+Xn.DATE_SIZE)throw new ae;let l=new ie;return this.encodeCompressedGtin(l,Xn.HEADER_SIZE),this.encodeCompressedWeight(l,Xn.HEADER_SIZE+Xn.GTIN_SIZE,Xn.WEIGHT_SIZE),this.encodeCompressedDate(l,Xn.HEADER_SIZE+Xn.GTIN_SIZE+Xn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,d){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(d,Xn.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=g%32;g/=32;let x=g%12+1;g/=12;let S=g;S/10==0&&l.append("0"),l.append(S),x/10==0&&l.append("0"),l.append(x),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,d){l.append("("),l.append(this.firstAIdigits),l.append(d/1e5),l.append(")")}checkWeight(l){return l%1e5}}Xn.HEADER_SIZE=8,Xn.WEIGHT_SIZE=20,Xn.DATE_SIZE=16;function el(te){try{if(te.get(1))return new hi(te);if(!te.get(2))return new da(te);switch(Ei.extractNumericValueFromBitArray(te,1,4)){case 4:return new jo(te);case 5:return new Bo(te)}switch(Ei.extractNumericValueFromBitArray(te,1,5)){case 12:return new Qi(te);case 13:return new Pr(te)}switch(Ei.extractNumericValueFromBitArray(te,1,7)){case 56:return new Xn(te,"310","11");case 57:return new Xn(te,"320","11");case 58:return new Xn(te,"310","13");case 59:return new Xn(te,"320","13");case 60:return new Xn(te,"310","15");case 61:return new Xn(te,"320","15");case 62:return new Xn(te,"310","17");case 63:return new Xn(te,"320","17")}}catch(l){throw console.log(l),new be("unknown decoder: "+te)}}class ea{constructor(l,d,g,y){this.leftchar=l,this.rightchar=d,this.finderpattern=g,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,d){return l instanceof ea?ea.equalsOrNull(l.leftchar,d.leftchar)&&ea.equalsOrNull(l.rightchar,d.rightchar)&&ea.equalsOrNull(l.finderpattern,d.finderpattern):!1}static equalsOrNull(l,d){return l===null?d===null:ea.equals(l,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zr{constructor(l,d,g){this.pairs=l,this.rowNumber=d,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,d){return l instanceof Zr?this.checkEqualitity(l,d)&&l.wasReversed===d.wasReversed:!1}checkEqualitity(l,d){if(!l||!d)return;let g;return l.forEach((y,x)=>{d.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(g=!0)})}),g}}class xt extends Hn{constructor(l){super(...arguments),this.pairs=new Array(xt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,d,g){this.pairs.length=0,this.startFromEven=!1;try{return xt.constructResult(this.decodeRow2pairs(l,d))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,xt.constructResult(this.decodeRow2pairs(l,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,d){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,l))}catch(x){if(x instanceof ae){if(!this.pairs.length)throw new ae;g=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ae}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),d}checkRows(l,d){for(let g=d;g<this.rows.length;g++){let y=this.rows[g];this.pairs.length=0;for(let S of l)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!xt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(l);x.push(y);try{return this.checkRows(x,g+1)}catch(S){this.verbose&&console.log(S)}}throw new ae}static isValidSequence(l){for(let d of xt.FINDER_PATTERN_SEQUENCES){if(l.length>d.length)continue;let g=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=d[y]){g=!1;break}if(g)return!0}return!1}storeRow(l,d){let g=0,y=!1,x=!1;for(;g<this.rows.length;){let S=this.rows[g];if(S.getRowNumber()>l){x=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),g++}x||y||xt.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Zr(this.pairs,l,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,d){for(let g of d)if(g.getPairs().length!==l.length){for(let y of g.getPairs())for(let x of l)if(ea.equals(y,x))break}}static isPartialRow(l,d){for(let g of d){let y=!0;for(let x of l){let S=!1;for(let _ of g.getPairs())if(x.equals(_)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let d=is.buildBitArray(l),y=el(d).parseInformation(),x=l[0].getFinderPattern().getResultPoints(),S=l[l.length-1].getFinderPattern().getResultPoints(),_=[x[0],x[1],S[0],S[1]];return new ce(y,null,null,_,xe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),d=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let y=g.getChecksumPortion(),x=2;for(let _=1;_<this.pairs.size();++_){let P=this.pairs.get(_);y+=P.getLeftChar().getChecksumPortion(),x++;let F=P.getRightChar();F!=null&&(y+=F.getChecksumPortion(),x++)}return y%=211,211*(x-4)+y==d.getValue()}static getNextSecondBar(l,d){let g;return l.get(d)?(g=l.getNextUnset(d),g=l.getNextSet(g)):(g=l.getNextSet(d),g=l.getNextUnset(g)),g}retrieveNextPair(l,d,g){let y=d.length%2==0;this.startFromEven&&(y=!y);let x,S=!0,_=-1;do this.findNextPair(l,d,_),x=this.parseFoundFinderPattern(l,g,y),x==null?_=xt.getNextSecondBar(l,this.startEnd[0]):S=!1;while(S);let P=this.decodeDataCharacter(l,x,y,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new ae;let F;try{F=this.decodeDataCharacter(l,x,y,!1)}catch(K){F=null,this.verbose&&console.log(K)}return new ea(P,F,x,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,d,g){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let x=l.getSize(),S;g>=0?S=g:this.isEmptyPair(d)?S=0:S=d[d.length-1].getFinderPattern().getStartEnd()[1];let _=d.length%2!=0;this.startFromEven&&(_=!_);let P=!1;for(;S<x&&(P=!l.get(S),!!P);)S++;let F=0,K=S;for(let ne=S;ne<x;ne++)if(l.get(ne)!=P)y[F]++;else{if(F==3){if(_&&xt.reverseCounters(y),xt.isFinderPattern(y)){this.startEnd[0]=K,this.startEnd[1]=ne;return}_&&xt.reverseCounters(y),K+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,F--}else F++;y[F]=1,P=!P}throw new ae}static reverseCounters(l){let d=l.length;for(let g=0;g<d/2;++g){let y=l[g];l[g]=l[d-g-1],l[d-g-1]=y}}parseFoundFinderPattern(l,d,g){let y,x,S;if(g){let F=this.startEnd[0]-1;for(;F>=0&&!l.get(F);)F--;F++,y=this.startEnd[0]-F,x=F,S=this.startEnd[1]}else x=this.startEnd[0],S=l.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let _=this.getDecodeFinderCounters();I.arraycopy(_,0,_,1,_.length-1),_[0]=y;let P;try{P=this.parseFinderValue(_,xt.FINDER_PATTERNS)}catch{return null}return new nn(P,[x,S],x,S,d)}decodeDataCharacter(l,d,g,y){let x=this.getDataCharacterCounters();for(let yr=0;yr<x.length;yr++)x[yr]=0;if(y)xt.recordPatternInReverse(l,d.getStartEnd()[0],x);else{xt.recordPattern(l,d.getStartEnd()[1],x);for(let yr=0,zi=x.length-1;yr<zi;yr++,zi--){let Wa=x[yr];x[yr]=x[zi],x[zi]=Wa}}let S=17,_=rt.sum(new Int32Array(x))/S,P=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(_-P)/P>.3)throw new ae;let F=this.getOddCounts(),K=this.getEvenCounts(),ne=this.getOddRoundingErrors(),ue=this.getEvenRoundingErrors();for(let yr=0;yr<x.length;yr++){let zi=1*x[yr]/_,Wa=zi+.5;if(Wa<1){if(zi<.3)throw new ae;Wa=1}else if(Wa>8){if(zi>8.7)throw new ae;Wa=8}let kl=yr/2;(yr&1)==0?(F[kl]=Wa,ne[kl]=zi-Wa):(K[kl]=Wa,ue[kl]=zi-Wa)}this.adjustOddEvenCounts(S);let Ee=4*d.getValue()+(g?0:2)+(y?0:1)-1,Oe=0,De=0;for(let yr=F.length-1;yr>=0;yr--){if(xt.isNotA1left(d,g,y)){let zi=xt.WEIGHTS[Ee][2*yr];De+=F[yr]*zi}Oe+=F[yr]}let Ue=0;for(let yr=K.length-1;yr>=0;yr--)if(xt.isNotA1left(d,g,y)){let zi=xt.WEIGHTS[Ee][2*yr+1];Ue+=K[yr]*zi}let Ze=De+Ue;if((Oe&1)!=0||Oe>13||Oe<4)throw new ae;let ft=(13-Oe)/2,dt=xt.SYMBOL_WIDEST[ft],ut=9-dt,cn=Bi.getRSSvalue(F,dt,!0),vn=Bi.getRSSvalue(K,ut,!1),Gr=xt.EVEN_TOTAL_SUBSET[ft],ia=xt.GSUM[ft],Ui=cn*Gr+vn+ia;return new Nr(Ui,Ze)}static isNotA1left(l,d,g){return!(l.getValue()==0&&d&&g)}adjustOddEvenCounts(l){let d=rt.sum(new Int32Array(this.getOddCounts())),g=rt.sum(new Int32Array(this.getEvenCounts())),y=!1,x=!1;d>13?x=!0:d<4&&(y=!0);let S=!1,_=!1;g>13?_=!0:g<4&&(S=!0);let P=d+g-l,F=(d&1)==1,K=(g&1)==0;if(P==1)if(F){if(K)throw new ae;x=!0}else{if(!K)throw new ae;_=!0}else if(P==-1)if(F){if(K)throw new ae;y=!0}else{if(!K)throw new ae;S=!0}else if(P==0){if(F){if(!K)throw new ae;d<g?(y=!0,_=!0):(x=!0,S=!0)}else if(K)throw new ae}else throw new ae;if(y){if(x)throw new ae;xt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&xt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(_)throw new ae;xt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&xt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xt.SYMBOL_WIDEST=[7,5,4,3,1],xt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xt.GSUM=[0,348,1388,2948,3988],xt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xt.FINDER_PAT_A=0,xt.FINDER_PAT_B=1,xt.FINDER_PAT_C=2,xt.FINDER_PAT_D=3,xt.FINDER_PAT_E=4,xt.FINDER_PAT_F=5,xt.FINDER_PATTERN_SEQUENCES=[[xt.FINDER_PAT_A,xt.FINDER_PAT_A],[xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B],[xt.FINDER_PAT_A,xt.FINDER_PAT_C,xt.FINDER_PAT_B,xt.FINDER_PAT_D],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_C],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_D,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_E,xt.FINDER_PAT_B,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_D],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_E],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F],[xt.FINDER_PAT_A,xt.FINDER_PAT_A,xt.FINDER_PAT_B,xt.FINDER_PAT_B,xt.FINDER_PAT_C,xt.FINDER_PAT_D,xt.FINDER_PAT_D,xt.FINDER_PAT_E,xt.FINDER_PAT_E,xt.FINDER_PAT_F,xt.FINDER_PAT_F]],xt.MAX_PAIRS=11;class lo extends Nr{constructor(l,d,g){super(l,d),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ar extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,d,g){const y=this.decodePair(d,!1,l,g);ar.addOrTally(this.possibleLeftPairs,y),d.reverse();let x=this.decodePair(d,!0,l,g);ar.addOrTally(this.possibleRightPairs,x),d.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let _ of this.possibleRightPairs)if(_.getCount()>1&&ar.checkChecksum(S,_))return ar.constructResult(S,_)}throw new ae}static addOrTally(l,d){if(d==null)return;let g=!1;for(let y of l)if(y.getValue()===d.getValue()){y.incrementCount(),g=!0;break}g||l.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,d){let g=4537077*l.getValue()+d.getValue(),y=new String(g).toString(),x=new ie;for(let F=13-y.length;F>0;F--)x.append("0");x.append(y);let S=0;for(let F=0;F<13;F++){let K=x.charAt(F).charCodeAt(0)-48;S+=(F&1)===0?3*K:K}S=10-S%10,S===10&&(S=0),x.append(S.toString());let _=l.getFinderPattern().getResultPoints(),P=d.getFinderPattern().getResultPoints();return new ce(x.toString(),null,0,[_[0],_[1],P[0],P[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(l,d){let g=(l.getChecksumPortion()+16*d.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+d.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,g===y}decodePair(l,d,g,y){try{let x=this.findFinderPattern(l,d),S=this.parseFoundFinderPattern(l,g,d,x),_=y==null?null:y.get(Q.NEED_RESULT_POINT_CALLBACK);if(_!=null){let K=(x[0]+x[1])/2;d&&(K=l.getSize()-1-K),_.foundPossibleResultPoint(new st(K,g))}let P=this.decodeDataCharacter(l,S,!0),F=this.decodeDataCharacter(l,S,!1);return new lo(1597*P.getValue()+F.getValue(),P.getChecksumPortion()+4*F.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(l,d,g){let y=this.getDataCharacterCounters();for(let Ue=0;Ue<y.length;Ue++)y[Ue]=0;if(g)tn.recordPatternInReverse(l,d.getStartEnd()[0],y);else{tn.recordPattern(l,d.getStartEnd()[1]+1,y);for(let Ue=0,Ze=y.length-1;Ue<Ze;Ue++,Ze--){let ft=y[Ue];y[Ue]=y[Ze],y[Ze]=ft}}let x=g?16:15,S=rt.sum(new Int32Array(y))/x,_=this.getOddCounts(),P=this.getEvenCounts(),F=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let Ue=0;Ue<y.length;Ue++){let Ze=y[Ue]/S,ft=Math.floor(Ze+.5);ft<1?ft=1:ft>8&&(ft=8);let dt=Math.floor(Ue/2);(Ue&1)===0?(_[dt]=ft,F[dt]=Ze-ft):(P[dt]=ft,K[dt]=Ze-ft)}this.adjustOddEvenCounts(g,x);let ne=0,ue=0;for(let Ue=_.length-1;Ue>=0;Ue--)ue*=9,ue+=_[Ue],ne+=_[Ue];let Ee=0,Oe=0;for(let Ue=P.length-1;Ue>=0;Ue--)Ee*=9,Ee+=P[Ue],Oe+=P[Ue];let De=ue+3*Ee;if(g){if((ne&1)!==0||ne>12||ne<4)throw new ae;let Ue=(12-ne)/2,Ze=ar.OUTSIDE_ODD_WIDEST[Ue],ft=9-Ze,dt=Bi.getRSSvalue(_,Ze,!1),ut=Bi.getRSSvalue(P,ft,!0),cn=ar.OUTSIDE_EVEN_TOTAL_SUBSET[Ue],vn=ar.OUTSIDE_GSUM[Ue];return new Nr(dt*cn+ut+vn,De)}else{if((Oe&1)!==0||Oe>10||Oe<4)throw new ae;let Ue=(10-Oe)/2,Ze=ar.INSIDE_ODD_WIDEST[Ue],ft=9-Ze,dt=Bi.getRSSvalue(_,Ze,!0),ut=Bi.getRSSvalue(P,ft,!1),cn=ar.INSIDE_ODD_TOTAL_SUBSET[Ue],vn=ar.INSIDE_GSUM[Ue];return new Nr(ut*cn+dt+vn,De)}}findFinderPattern(l,d){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=l.getSize(),x=!1,S=0;for(;S<y&&(x=!l.get(S),d!==x);)S++;let _=0,P=S;for(let F=S;F<y;F++)if(l.get(F)!==x)g[_]++;else{if(_===3){if(Hn.isFinderPattern(g))return[P,F];P+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,_--}else _++;g[_]=1,x=!x}throw new ae}parseFoundFinderPattern(l,d,g,y){let x=l.get(y[0]),S=y[0]-1;for(;S>=0&&x!==l.get(S);)S--;S++;const _=y[0]-S,P=this.getDecodeFinderCounters(),F=new Int32Array(P.length);I.arraycopy(P,0,F,1,P.length-1),F[0]=_;const K=this.parseFinderValue(F,ar.FINDER_PATTERNS);let ne=S,ue=y[1];return g&&(ne=l.getSize()-1-ne,ue=l.getSize()-1-ue),new nn(K,[S,y[1]],ne,ue,d)}adjustOddEvenCounts(l,d){let g=rt.sum(new Int32Array(this.getOddCounts())),y=rt.sum(new Int32Array(this.getEvenCounts())),x=!1,S=!1,_=!1,P=!1;l?(g>12?S=!0:g<4&&(x=!0),y>12?P=!0:y<4&&(_=!0)):(g>11?S=!0:g<5&&(x=!0),y>10?P=!0:y<4&&(_=!0));let F=g+y-d,K=(g&1)===(l?1:0),ne=(y&1)===1;if(F===1)if(K){if(ne)throw new ae;S=!0}else{if(!ne)throw new ae;P=!0}else if(F===-1)if(K){if(ne)throw new ae;x=!0}else{if(!ne)throw new ae;_=!0}else if(F===0){if(K){if(!ne)throw new ae;g<y?(x=!0,P=!0):(S=!0,_=!0)}else if(ne)throw new ae}else throw new ae;if(x){if(S)throw new ae;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(P)throw new ae;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ar.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ar.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ar.OUTSIDE_GSUM=[0,161,961,2015,2715],ar.INSIDE_GSUM=[0,336,1036,1516],ar.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ar.INSIDE_ODD_WIDEST=[2,4,6,8],ar.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ua extends tn{constructor(l,d){super(),this.readers=[],this.verbose=d===!0;const g=l?l.get(Q.POSSIBLE_FORMATS):null,y=l&&l.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(xe.EAN_13)||g.includes(xe.UPC_A)||g.includes(xe.EAN_8)||g.includes(xe.UPC_E))&&this.readers.push(new pr(l)),g.includes(xe.CODE_39)&&this.readers.push(new jt(y)),g.includes(xe.CODE_128)&&this.readers.push(new ot),g.includes(xe.ITF)&&this.readers.push(new Ft),g.includes(xe.RSS_14)&&this.readers.push(new ar),g.includes(xe.RSS_EXPANDED)&&this.readers.push(new xt(this.verbose))):(this.readers.push(new pr(l)),this.readers.push(new jt),this.readers.push(new pr(l)),this.readers.push(new ot),this.readers.push(new Ft),this.readers.push(new ar),this.readers.push(new xt(this.verbose)))}decodeRow(l,d,g){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,d,g)}catch{}throw new ae}reset(){this.readers.forEach(l=>l.reset())}}class Pc extends le{constructor(l=500,d){super(new Ua(d),l,d)}}class Jn{constructor(l,d,g){this.ecCodewords=l,this.ecBlocks=[d],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $n{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qn{constructor(l,d,g,y,x,S){this.versionNumber=l,this.symbolSizeRows=d,this.symbolSizeColumns=g,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=x,this.ecBlocks=S;let _=0;const P=S.getECCodewords(),F=S.getECBlocks();for(let K of F)_+=K.getCount()*(K.getDataCodewords()+P);this.totalCodewords=_}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,d){if((l&1)!==0||(d&1)!==0)throw new G;for(let g of qn.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===d)return g;throw new G}toString(){return""+this.versionNumber}static buildVersions(){return[new qn(1,10,10,8,8,new Jn(5,new $n(1,3))),new qn(2,12,12,10,10,new Jn(7,new $n(1,5))),new qn(3,14,14,12,12,new Jn(10,new $n(1,8))),new qn(4,16,16,14,14,new Jn(12,new $n(1,12))),new qn(5,18,18,16,16,new Jn(14,new $n(1,18))),new qn(6,20,20,18,18,new Jn(18,new $n(1,22))),new qn(7,22,22,20,20,new Jn(20,new $n(1,30))),new qn(8,24,24,22,22,new Jn(24,new $n(1,36))),new qn(9,26,26,24,24,new Jn(28,new $n(1,44))),new qn(10,32,32,14,14,new Jn(36,new $n(1,62))),new qn(11,36,36,16,16,new Jn(42,new $n(1,86))),new qn(12,40,40,18,18,new Jn(48,new $n(1,114))),new qn(13,44,44,20,20,new Jn(56,new $n(1,144))),new qn(14,48,48,22,22,new Jn(68,new $n(1,174))),new qn(15,52,52,24,24,new Jn(42,new $n(2,102))),new qn(16,64,64,14,14,new Jn(56,new $n(2,140))),new qn(17,72,72,16,16,new Jn(36,new $n(4,92))),new qn(18,80,80,18,18,new Jn(48,new $n(4,114))),new qn(19,88,88,20,20,new Jn(56,new $n(4,144))),new qn(20,96,96,22,22,new Jn(68,new $n(4,174))),new qn(21,104,104,24,24,new Jn(56,new $n(6,136))),new qn(22,120,120,18,18,new Jn(68,new $n(6,175))),new qn(23,132,132,20,20,new Jn(62,new $n(8,163))),new qn(24,144,144,22,22,new Jn(62,new $n(8,156),new $n(2,155))),new qn(25,8,18,6,16,new Jn(7,new $n(1,5))),new qn(26,8,32,6,14,new Jn(11,new $n(1,10))),new qn(27,12,26,10,24,new Jn(14,new $n(1,16))),new qn(28,12,36,10,16,new Jn(18,new $n(1,22))),new qn(29,16,36,14,16,new Jn(24,new $n(1,32))),new qn(30,16,48,14,22,new Jn(28,new $n(1,49)))]}}qn.VERSIONS=qn.buildVersions();class Ca{constructor(l){const d=l.getHeight();if(d<8||d>144||(d&1)!==0)throw new G;this.version=Ca.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const d=l.getHeight(),g=l.getWidth();return qn.getVersionForDimensions(d,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let d=0,g=4,y=0;const x=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let _=!1,P=!1,F=!1,K=!1;do if(g===x&&y===0&&!_)l[d++]=this.readCorner1(x,S)&255,g-=2,y+=2,_=!0;else if(g===x-2&&y===0&&(S&3)!==0&&!P)l[d++]=this.readCorner2(x,S)&255,g-=2,y+=2,P=!0;else if(g===x+4&&y===2&&(S&7)===0&&!F)l[d++]=this.readCorner3(x,S)&255,g-=2,y+=2,F=!0;else if(g===x-2&&y===0&&(S&7)===4&&!K)l[d++]=this.readCorner4(x,S)&255,g-=2,y+=2,K=!0;else{do g<x&&y>=0&&!this.readMappingMatrix.get(y,g)&&(l[d++]=this.readUtah(g,y,x,S)&255),g-=2,y+=2;while(g>=0&&y<S);g+=1,y+=3;do g>=0&&y<S&&!this.readMappingMatrix.get(y,g)&&(l[d++]=this.readUtah(g,y,x,S)&255),g+=2,y-=2;while(g<x&&y>=0);g+=3,y+=1}while(g<x||y<S);if(d!==this.version.getTotalCodewords())throw new G;return l}readModule(l,d,g,y){return l<0&&(l+=g,d+=4-(g+4&7)),d<0&&(d+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(d,l),this.mappingBitMatrix.get(d,l)}readUtah(l,d,g,y){let x=0;return this.readModule(l-2,d-2,g,y)&&(x|=1),x<<=1,this.readModule(l-2,d-1,g,y)&&(x|=1),x<<=1,this.readModule(l-1,d-2,g,y)&&(x|=1),x<<=1,this.readModule(l-1,d-1,g,y)&&(x|=1),x<<=1,this.readModule(l-1,d,g,y)&&(x|=1),x<<=1,this.readModule(l,d-2,g,y)&&(x|=1),x<<=1,this.readModule(l,d-1,g,y)&&(x|=1),x<<=1,this.readModule(l,d,g,y)&&(x|=1),x}readCorner1(l,d){let g=0;return this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,1,l,d)&&(g|=1),g<<=1,this.readModule(l-1,2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(2,d-1,l,d)&&(g|=1),g<<=1,this.readModule(3,d-1,l,d)&&(g|=1),g}readCorner2(l,d){let g=0;return this.readModule(l-3,0,l,d)&&(g|=1),g<<=1,this.readModule(l-2,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(0,d-4,l,d)&&(g|=1),g<<=1,this.readModule(0,d-3,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g}readCorner3(l,d){let g=0;return this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(0,d-3,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-3,l,d)&&(g|=1),g<<=1,this.readModule(1,d-2,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g}readCorner4(l,d){let g=0;return this.readModule(l-3,0,l,d)&&(g|=1),g<<=1,this.readModule(l-2,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(2,d-1,l,d)&&(g|=1),g<<=1,this.readModule(3,d-1,l,d)&&(g|=1),g}extractDataRegion(l){const d=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==d)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),S=d/y|0,_=g/x|0,P=S*y,F=_*x,K=new se(F,P);for(let ne=0;ne<S;++ne){const ue=ne*y;for(let Ee=0;Ee<_;++Ee){const Oe=Ee*x;for(let De=0;De<y;++De){const Ue=ne*(y+2)+1+De,Ze=ue+De;for(let ft=0;ft<x;++ft){const dt=Ee*(x+2)+1+ft;if(l.get(dt,Ue)){const ut=Oe+ft;K.set(ut,Ze)}}}}}return K}}class Fo{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d){const g=d.getECBlocks();let y=0;const x=g.getECBlocks();for(let De of x)y+=De.getCount();const S=new Array(y);let _=0;for(let De of x)for(let Ue=0;Ue<De.getCount();Ue++){const Ze=De.getDataCodewords(),ft=g.getECCodewords()+Ze;S[_++]=new Fo(Ze,new Uint8Array(ft))}const F=S[0].codewords.length-g.getECCodewords(),K=F-1;let ne=0;for(let De=0;De<K;De++)for(let Ue=0;Ue<_;Ue++)S[Ue].codewords[De]=l[ne++];const ue=d.getVersionNumber()===24,Ee=ue?8:_;for(let De=0;De<Ee;De++)S[De].codewords[F-1]=l[ne++];const Oe=S[0].codewords.length;for(let De=F;De<Oe;De++)for(let Ue=0;Ue<_;Ue++){const Ze=ue?(Ue+8)%_:Ue,ft=ue&&Ze>7?De-1:De;S[Ze].codewords[ft]=l[ne++]}if(ne!==l.length)throw new v;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class co{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let d=0,g=this.bitOffset,y=this.byteOffset;const x=this.bytes;if(g>0){const S=8-g,_=l<S?l:S,P=S-_,F=255>>8-_<<P;d=(x[y]&F)>>P,l-=_,g+=_,g===8&&(g=0,y++)}if(l>0){for(;l>=8;)d=d<<8|x[y]&255,y++,l-=8;if(l>0){const S=8-l,_=255>>S<<S;d=d<<l|(x[y]&_)>>S,g+=l}}return this.bitOffset=g,this.byteOffset=y,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var An;(function(te){te[te.PAD_ENCODE=0]="PAD_ENCODE",te[te.ASCII_ENCODE=1]="ASCII_ENCODE",te[te.C40_ENCODE=2]="C40_ENCODE",te[te.TEXT_ENCODE=3]="TEXT_ENCODE",te[te.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",te[te.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",te[te.BASE256_ENCODE=6]="BASE256_ENCODE"})(An||(An={}));class yo{static decode(l){const d=new co(l),g=new ie,y=new ie,x=new Array;let S=An.ASCII_ENCODE;do if(S===An.ASCII_ENCODE)S=this.decodeAsciiSegment(d,g,y);else{switch(S){case An.C40_ENCODE:this.decodeC40Segment(d,g);break;case An.TEXT_ENCODE:this.decodeTextSegment(d,g);break;case An.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,g);break;case An.EDIFACT_ENCODE:this.decodeEdifactSegment(d,g);break;case An.BASE256_ENCODE:this.decodeBase256Segment(d,g,x);break;default:throw new G}S=An.ASCII_ENCODE}while(S!==An.PAD_ENCODE&&d.available()>0);return y.length()>0&&g.append(y.toString()),new Ie(l,g.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(l,d,g){let y=!1;do{let x=l.readBits(8);if(x===0)throw new G;if(x<=128)return y&&(x+=128),d.append(String.fromCharCode(x-1)),An.ASCII_ENCODE;if(x===129)return An.PAD_ENCODE;if(x<=229){const S=x-130;S<10&&d.append("0"),d.append(""+S)}else switch(x){case 230:return An.C40_ENCODE;case 231:return An.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:d.append("[)>05"),g.insert(0,"");break;case 237:d.append("[)>06"),g.insert(0,"");break;case 238:return An.ANSIX12_ENCODE;case 239:return An.TEXT_ENCODE;case 240:return An.EDIFACT_ENCODE;case 241:break;default:if(x!==254||l.available()!==0)throw new G;break}}while(l.available()>0);return An.ASCII_ENCODE}static decodeC40Segment(l,d){let g=!1;const y=[];let x=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let _=0;_<3;_++){const P=y[_];switch(x){case 0:if(P<3)x=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const F=this.C40_BASIC_SET_CHARS[P];g?(d.append(String.fromCharCode(F.charCodeAt(0)+128)),g=!1):d.append(F)}else throw new G;break;case 1:g?(d.append(String.fromCharCode(P+128)),g=!1):d.append(String.fromCharCode(P)),x=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const F=this.C40_SHIFT2_SET_CHARS[P];g?(d.append(String.fromCharCode(F.charCodeAt(0)+128)),g=!1):d.append(F)}else switch(P){case 27:d.append("");break;case 30:g=!0;break;default:throw new G}x=0;break;case 3:g?(d.append(String.fromCharCode(P+224)),g=!1):d.append(String.fromCharCode(P+96)),x=0;break;default:throw new G}}}while(l.available()>0)}static decodeTextSegment(l,d){let g=!1,y=[],x=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let _=0;_<3;_++){const P=y[_];switch(x){case 0:if(P<3)x=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const F=this.TEXT_BASIC_SET_CHARS[P];g?(d.append(String.fromCharCode(F.charCodeAt(0)+128)),g=!1):d.append(F)}else throw new G;break;case 1:g?(d.append(String.fromCharCode(P+128)),g=!1):d.append(String.fromCharCode(P)),x=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const F=this.TEXT_SHIFT2_SET_CHARS[P];g?(d.append(String.fromCharCode(F.charCodeAt(0)+128)),g=!1):d.append(F)}else switch(P){case 27:d.append("");break;case 30:g=!0;break;default:throw new G}x=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const F=this.TEXT_SHIFT3_SET_CHARS[P];g?(d.append(String.fromCharCode(F.charCodeAt(0)+128)),g=!1):d.append(F),x=0}else throw new G;break;default:throw new G}}}while(l.available()>0)}static decodeAnsiX12Segment(l,d){const g=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),g);for(let x=0;x<3;x++){const S=g[x];switch(S){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(S<14)d.append(String.fromCharCode(S+44));else if(S<40)d.append(String.fromCharCode(S+51));else throw new G;break}}}while(l.available()>0)}static parseTwoBytes(l,d,g){let y=(l<<8)+d-1,x=Math.floor(y/1600);g[0]=x,y-=x*1600,x=Math.floor(y/40),g[1]=x,g[2]=y-x*40}static decodeEdifactSegment(l,d){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let y=l.readBits(6);if(y===31){const x=8-l.getBitOffset();x!==8&&l.readBits(x);return}(y&32)===0&&(y|=64),d.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,d,g){let y=1+l.getByteOffset();const x=this.unrandomize255State(l.readBits(8),y++);let S;if(x===0?S=l.available()/8|0:x<250?S=x:S=250*(x-249)+this.unrandomize255State(l.readBits(8),y++),S<0)throw new G;const _=new Uint8Array(S);for(let P=0;P<S;P++){if(l.available()<8)throw new G;_[P]=this.unrandomize255State(l.readBits(8),y++)}g.push(_);try{d.append(X.decode(_,J.ISO88591))}catch(P){throw new be("Platform does not support required encoding: "+P.message)}}static unrandomize255State(l,d){const g=149*d%255+1,y=l-g;return y>=0?y:y+256}}yo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yo.TEXT_SHIFT2_SET_CHARS=yo.C40_SHIFT2_SET_CHARS,yo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class as{constructor(){this.rsDecoder=new At(gt.DATA_MATRIX_FIELD_256)}decode(l){const d=new Ca(l),g=d.getVersion(),y=d.readCodewords(),x=Fo.getDataBlocks(y,g);let S=0;for(let F of x)S+=F.getNumDataCodewords();const _=new Uint8Array(S),P=x.length;for(let F=0;F<P;F++){const K=x[F],ne=K.getCodewords(),ue=K.getNumDataCodewords();this.correctErrors(ne,ue);for(let Ee=0;Ee<ue;Ee++)_[Ee*P+F]=ne[Ee]}return yo.decode(_)}correctErrors(l,d){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-d)}catch{throw new A}for(let y=0;y<d;y++)l[y]=g[y]}}class wr{constructor(l){this.image=l,this.rectangleDetector=new dn(this.image)}detect(){const l=this.rectangleDetector.detect();let d=this.detectSolid1(l);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new ae;d=this.shiftToModuleCenter(d);const g=d[0],y=d[1],x=d[2],S=d[3];let _=this.transitionsBetween(g,S)+1,P=this.transitionsBetween(x,S)+1;(_&1)===1&&(_+=1),(P&1)===1&&(P+=1),4*_<7*P&&4*P<7*_&&(_=P=Math.max(_,P));let F=wr.sampleGrid(this.image,g,y,x,S,_,P);return new rn(F,[g,y,x,S])}static shiftPoint(l,d,g){let y=(d.getX()-l.getX())/(g+1),x=(d.getY()-l.getY())/(g+1);return new st(l.getX()+y,l.getY()+x)}static moveAway(l,d,g){let y=l.getX(),x=l.getY();return y<d?y-=1:y+=1,x<g?x-=1:x+=1,new st(y,x)}detectSolid1(l){let d=l[0],g=l[1],y=l[3],x=l[2],S=this.transitionsBetween(d,g),_=this.transitionsBetween(g,y),P=this.transitionsBetween(y,x),F=this.transitionsBetween(x,d),K=S,ne=[x,d,g,y];return K>_&&(K=_,ne[0]=d,ne[1]=g,ne[2]=y,ne[3]=x),K>P&&(K=P,ne[0]=g,ne[1]=y,ne[2]=x,ne[3]=d),K>F&&(ne[0]=y,ne[1]=x,ne[2]=d,ne[3]=g),ne}detectSolid2(l){let d=l[0],g=l[1],y=l[2],x=l[3],S=this.transitionsBetween(d,x),_=wr.shiftPoint(g,y,(S+1)*4),P=wr.shiftPoint(y,g,(S+1)*4),F=this.transitionsBetween(_,d),K=this.transitionsBetween(P,x);return F<K?(l[0]=d,l[1]=g,l[2]=y,l[3]=x):(l[0]=g,l[1]=y,l[2]=x,l[3]=d),l}correctTopRight(l){let d=l[0],g=l[1],y=l[2],x=l[3],S=this.transitionsBetween(d,x),_=this.transitionsBetween(g,x),P=wr.shiftPoint(d,g,(_+1)*4),F=wr.shiftPoint(y,g,(S+1)*4);S=this.transitionsBetween(P,x),_=this.transitionsBetween(F,x);let K=new st(x.getX()+(y.getX()-g.getX())/(S+1),x.getY()+(y.getY()-g.getY())/(S+1)),ne=new st(x.getX()+(d.getX()-g.getX())/(_+1),x.getY()+(d.getY()-g.getY())/(_+1));if(!this.isValid(K))return this.isValid(ne)?ne:null;if(!this.isValid(ne))return K;let ue=this.transitionsBetween(P,K)+this.transitionsBetween(F,K),Ee=this.transitionsBetween(P,ne)+this.transitionsBetween(F,ne);return ue>Ee?K:ne}shiftToModuleCenter(l){let d=l[0],g=l[1],y=l[2],x=l[3],S=this.transitionsBetween(d,x)+1,_=this.transitionsBetween(y,x)+1,P=wr.shiftPoint(d,g,_*4),F=wr.shiftPoint(y,g,S*4);S=this.transitionsBetween(P,x)+1,_=this.transitionsBetween(F,x)+1,(S&1)===1&&(S+=1),(_&1)===1&&(_+=1);let K=(d.getX()+g.getX()+y.getX()+x.getX())/4,ne=(d.getY()+g.getY()+y.getY()+x.getY())/4;d=wr.moveAway(d,K,ne),g=wr.moveAway(g,K,ne),y=wr.moveAway(y,K,ne),x=wr.moveAway(x,K,ne);let ue,Ee;return P=wr.shiftPoint(d,g,_*4),P=wr.shiftPoint(P,x,S*4),ue=wr.shiftPoint(g,d,_*4),ue=wr.shiftPoint(ue,y,S*4),F=wr.shiftPoint(y,x,_*4),F=wr.shiftPoint(F,g,S*4),Ee=wr.shiftPoint(x,y,_*4),Ee=wr.shiftPoint(Ee,d,S*4),[P,ue,F,Ee]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,d,g,y,x,S,_){return Sn.getInstance().sampleGrid(l,S,_,.5,.5,S-.5,.5,S-.5,_-.5,.5,_-.5,d.getX(),d.getY(),x.getX(),x.getY(),y.getX(),y.getY(),g.getX(),g.getY())}transitionsBetween(l,d){let g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),x=Math.trunc(d.getX()),S=Math.trunc(d.getY()),_=Math.abs(S-y)>Math.abs(x-g);if(_){let De=g;g=y,y=De,De=x,x=S,S=De}let P=Math.abs(x-g),F=Math.abs(S-y),K=-P/2,ne=y<S?1:-1,ue=g<x?1:-1,Ee=0,Oe=this.image.get(_?y:g,_?g:y);for(let De=g,Ue=y;De!==x;De+=ue){let Ze=this.image.get(_?Ue:De,_?De:Ue);if(Ze!==Oe&&(Ee++,Oe=Ze),K+=F,K>0){if(Ue===S)break;Ue+=ne,K-=P}}return Ee}}class xo{constructor(){this.decoder=new as}decode(l,d=null){let g,y;if(d!=null&&d.has(Q.PURE_BARCODE)){const F=xo.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(F),y=xo.NO_POINTS}else{const F=new wr(l.getBlackMatrix()).detect();g=this.decoder.decode(F.getBits()),y=F.getPoints()}const x=g.getRawBytes(),S=new ce(g.getText(),x,8*x.length,y,xe.DATA_MATRIX,I.currentTimeMillis()),_=g.getByteSegments();_!=null&&S.putMetadata(Fe.BYTE_SEGMENTS,_);const P=g.getECLevel();return P!=null&&S.putMetadata(Fe.ERROR_CORRECTION_LEVEL,P),S}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(d==null||g==null)throw new ae;const y=this.moduleSize(d,l);let x=d[1];const S=g[1];let _=d[0];const F=(g[0]-_+1)/y,K=(S-x+1)/y;if(F<=0||K<=0)throw new ae;const ne=y/2;x+=ne,_+=ne;const ue=new se(F,K);for(let Ee=0;Ee<K;Ee++){const Oe=x+Ee*y;for(let De=0;De<F;De++)l.get(_+De*y,Oe)&&ue.set(De,Ee)}return ue}static moduleSize(l,d){const g=d.getWidth();let y=l[0];const x=l[1];for(;y<g&&d.get(y,x);)y++;if(y===g)throw new ae;const S=y-l[0];if(S===0)throw new ae;return S}}xo.NO_POINTS=[];class Na extends le{constructor(l=500){super(new xo,l)}}var Vr;(function(te){te[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H"})(Vr||(Vr={}));class In{constructor(l,d,g){this.value=l,this.stringValue=d,this.bits=g,In.FOR_BITS.set(g,this),In.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return In.L;case"M":return In.M;case"Q":return In.Q;case"H":return In.H;default:throw new p(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof In))return!1;const d=l;return this.value===d.value}static forBits(l){if(l<0||l>=In.FOR_BITS.size)throw new v;return In.FOR_BITS.get(l)}}In.FOR_BITS=new Map,In.FOR_VALUE=new Map,In.L=new In(Vr.L,"L",1),In.M=new In(Vr.M,"M",0),In.Q=new In(Vr.Q,"Q",3),In.H=new In(Vr.H,"H",2);class pi{constructor(l){this.errorCorrectionLevel=In.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,d){return U.bitCount(l^d)}static decodeFormatInformation(l,d){const g=pi.doDecodeFormatInformation(l,d);return g!==null?g:pi.doDecodeFormatInformation(l^pi.FORMAT_INFO_MASK_QR,d^pi.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,d){let g=Number.MAX_SAFE_INTEGER,y=0;for(const x of pi.FORMAT_INFO_DECODE_LOOKUP){const S=x[0];if(S===l||S===d)return new pi(x[1]);let _=pi.numBitsDiffering(l,S);_<g&&(y=x[1],g=_),l!==d&&(_=pi.numBitsDiffering(d,S),_<g&&(y=x[1],g=_))}return g<=3?new pi(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof pi))return!1;const d=l;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}pi.FORMAT_INFO_MASK_QR=21522,pi.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ye{constructor(l,...d){this.ecCodewordsPerBlock=l,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const d=this.ecBlocks;for(const g of d)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Se{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(l,d,...g){this.versionNumber=l,this.alignmentPatternCenters=d,this.ecBlocks=g;let y=0;const x=g[0].getECCodewordsPerBlock(),S=g[0].getECBlocks();for(const _ of S)y+=_.getCount()*(_.getDataCodewords()+x);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new G;try{return this.getVersionForNumber((l-17)/4)}catch{throw new G}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return Lt.VERSIONS[l-1]}static decodeVersionInformation(l){let d=Number.MAX_SAFE_INTEGER,g=0;for(let y=0;y<Lt.VERSION_DECODE_INFO.length;y++){const x=Lt.VERSION_DECODE_INFO[y];if(x===l)return Lt.getVersionForNumber(y+7);const S=pi.numBitsDiffering(l,x);S<d&&(g=y+7,d=S)}return d<=3?Lt.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),d=new se(l);d.setRegion(0,0,9,9),d.setRegion(l-8,0,8,9),d.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let y=0;y<g;y++){const x=this.alignmentPatternCenters[y]-2;for(let S=0;S<g;S++)y===0&&(S===0||S===g-1)||y===g-1&&S===0||d.setRegion(this.alignmentPatternCenters[S]-2,x,5,5)}return d.setRegion(6,9,1,l-17),d.setRegion(9,6,l-17,1),this.versionNumber>6&&(d.setRegion(l-11,0,3,6),d.setRegion(0,l-11,6,3)),d}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new Ye(7,new Se(1,19)),new Ye(10,new Se(1,16)),new Ye(13,new Se(1,13)),new Ye(17,new Se(1,9))),new Lt(2,Int32Array.from([6,18]),new Ye(10,new Se(1,34)),new Ye(16,new Se(1,28)),new Ye(22,new Se(1,22)),new Ye(28,new Se(1,16))),new Lt(3,Int32Array.from([6,22]),new Ye(15,new Se(1,55)),new Ye(26,new Se(1,44)),new Ye(18,new Se(2,17)),new Ye(22,new Se(2,13))),new Lt(4,Int32Array.from([6,26]),new Ye(20,new Se(1,80)),new Ye(18,new Se(2,32)),new Ye(26,new Se(2,24)),new Ye(16,new Se(4,9))),new Lt(5,Int32Array.from([6,30]),new Ye(26,new Se(1,108)),new Ye(24,new Se(2,43)),new Ye(18,new Se(2,15),new Se(2,16)),new Ye(22,new Se(2,11),new Se(2,12))),new Lt(6,Int32Array.from([6,34]),new Ye(18,new Se(2,68)),new Ye(16,new Se(4,27)),new Ye(24,new Se(4,19)),new Ye(28,new Se(4,15))),new Lt(7,Int32Array.from([6,22,38]),new Ye(20,new Se(2,78)),new Ye(18,new Se(4,31)),new Ye(18,new Se(2,14),new Se(4,15)),new Ye(26,new Se(4,13),new Se(1,14))),new Lt(8,Int32Array.from([6,24,42]),new Ye(24,new Se(2,97)),new Ye(22,new Se(2,38),new Se(2,39)),new Ye(22,new Se(4,18),new Se(2,19)),new Ye(26,new Se(4,14),new Se(2,15))),new Lt(9,Int32Array.from([6,26,46]),new Ye(30,new Se(2,116)),new Ye(22,new Se(3,36),new Se(2,37)),new Ye(20,new Se(4,16),new Se(4,17)),new Ye(24,new Se(4,12),new Se(4,13))),new Lt(10,Int32Array.from([6,28,50]),new Ye(18,new Se(2,68),new Se(2,69)),new Ye(26,new Se(4,43),new Se(1,44)),new Ye(24,new Se(6,19),new Se(2,20)),new Ye(28,new Se(6,15),new Se(2,16))),new Lt(11,Int32Array.from([6,30,54]),new Ye(20,new Se(4,81)),new Ye(30,new Se(1,50),new Se(4,51)),new Ye(28,new Se(4,22),new Se(4,23)),new Ye(24,new Se(3,12),new Se(8,13))),new Lt(12,Int32Array.from([6,32,58]),new Ye(24,new Se(2,92),new Se(2,93)),new Ye(22,new Se(6,36),new Se(2,37)),new Ye(26,new Se(4,20),new Se(6,21)),new Ye(28,new Se(7,14),new Se(4,15))),new Lt(13,Int32Array.from([6,34,62]),new Ye(26,new Se(4,107)),new Ye(22,new Se(8,37),new Se(1,38)),new Ye(24,new Se(8,20),new Se(4,21)),new Ye(22,new Se(12,11),new Se(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new Ye(30,new Se(3,115),new Se(1,116)),new Ye(24,new Se(4,40),new Se(5,41)),new Ye(20,new Se(11,16),new Se(5,17)),new Ye(24,new Se(11,12),new Se(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new Ye(22,new Se(5,87),new Se(1,88)),new Ye(24,new Se(5,41),new Se(5,42)),new Ye(30,new Se(5,24),new Se(7,25)),new Ye(24,new Se(11,12),new Se(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new Ye(24,new Se(5,98),new Se(1,99)),new Ye(28,new Se(7,45),new Se(3,46)),new Ye(24,new Se(15,19),new Se(2,20)),new Ye(30,new Se(3,15),new Se(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new Ye(28,new Se(1,107),new Se(5,108)),new Ye(28,new Se(10,46),new Se(1,47)),new Ye(28,new Se(1,22),new Se(15,23)),new Ye(28,new Se(2,14),new Se(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new Ye(30,new Se(5,120),new Se(1,121)),new Ye(26,new Se(9,43),new Se(4,44)),new Ye(28,new Se(17,22),new Se(1,23)),new Ye(28,new Se(2,14),new Se(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new Ye(28,new Se(3,113),new Se(4,114)),new Ye(26,new Se(3,44),new Se(11,45)),new Ye(26,new Se(17,21),new Se(4,22)),new Ye(26,new Se(9,13),new Se(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new Ye(28,new Se(3,107),new Se(5,108)),new Ye(26,new Se(3,41),new Se(13,42)),new Ye(30,new Se(15,24),new Se(5,25)),new Ye(28,new Se(15,15),new Se(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new Ye(28,new Se(4,116),new Se(4,117)),new Ye(26,new Se(17,42)),new Ye(28,new Se(17,22),new Se(6,23)),new Ye(30,new Se(19,16),new Se(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new Ye(28,new Se(2,111),new Se(7,112)),new Ye(28,new Se(17,46)),new Ye(30,new Se(7,24),new Se(16,25)),new Ye(24,new Se(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new Ye(30,new Se(4,121),new Se(5,122)),new Ye(28,new Se(4,47),new Se(14,48)),new Ye(30,new Se(11,24),new Se(14,25)),new Ye(30,new Se(16,15),new Se(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new Ye(30,new Se(6,117),new Se(4,118)),new Ye(28,new Se(6,45),new Se(14,46)),new Ye(30,new Se(11,24),new Se(16,25)),new Ye(30,new Se(30,16),new Se(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new Ye(26,new Se(8,106),new Se(4,107)),new Ye(28,new Se(8,47),new Se(13,48)),new Ye(30,new Se(7,24),new Se(22,25)),new Ye(30,new Se(22,15),new Se(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new Ye(28,new Se(10,114),new Se(2,115)),new Ye(28,new Se(19,46),new Se(4,47)),new Ye(28,new Se(28,22),new Se(6,23)),new Ye(30,new Se(33,16),new Se(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new Ye(30,new Se(8,122),new Se(4,123)),new Ye(28,new Se(22,45),new Se(3,46)),new Ye(30,new Se(8,23),new Se(26,24)),new Ye(30,new Se(12,15),new Se(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new Ye(30,new Se(3,117),new Se(10,118)),new Ye(28,new Se(3,45),new Se(23,46)),new Ye(30,new Se(4,24),new Se(31,25)),new Ye(30,new Se(11,15),new Se(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new Ye(30,new Se(7,116),new Se(7,117)),new Ye(28,new Se(21,45),new Se(7,46)),new Ye(30,new Se(1,23),new Se(37,24)),new Ye(30,new Se(19,15),new Se(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new Ye(30,new Se(5,115),new Se(10,116)),new Ye(28,new Se(19,47),new Se(10,48)),new Ye(30,new Se(15,24),new Se(25,25)),new Ye(30,new Se(23,15),new Se(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new Ye(30,new Se(13,115),new Se(3,116)),new Ye(28,new Se(2,46),new Se(29,47)),new Ye(30,new Se(42,24),new Se(1,25)),new Ye(30,new Se(23,15),new Se(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new Ye(30,new Se(17,115)),new Ye(28,new Se(10,46),new Se(23,47)),new Ye(30,new Se(10,24),new Se(35,25)),new Ye(30,new Se(19,15),new Se(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new Ye(30,new Se(17,115),new Se(1,116)),new Ye(28,new Se(14,46),new Se(21,47)),new Ye(30,new Se(29,24),new Se(19,25)),new Ye(30,new Se(11,15),new Se(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new Ye(30,new Se(13,115),new Se(6,116)),new Ye(28,new Se(14,46),new Se(23,47)),new Ye(30,new Se(44,24),new Se(7,25)),new Ye(30,new Se(59,16),new Se(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ye(30,new Se(12,121),new Se(7,122)),new Ye(28,new Se(12,47),new Se(26,48)),new Ye(30,new Se(39,24),new Se(14,25)),new Ye(30,new Se(22,15),new Se(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ye(30,new Se(6,121),new Se(14,122)),new Ye(28,new Se(6,47),new Se(34,48)),new Ye(30,new Se(46,24),new Se(10,25)),new Ye(30,new Se(2,15),new Se(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ye(30,new Se(17,122),new Se(4,123)),new Ye(28,new Se(29,46),new Se(14,47)),new Ye(30,new Se(49,24),new Se(10,25)),new Ye(30,new Se(24,15),new Se(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ye(30,new Se(4,122),new Se(18,123)),new Ye(28,new Se(13,46),new Se(32,47)),new Ye(30,new Se(48,24),new Se(14,25)),new Ye(30,new Se(42,15),new Se(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ye(30,new Se(20,117),new Se(4,118)),new Ye(28,new Se(40,47),new Se(7,48)),new Ye(30,new Se(43,24),new Se(22,25)),new Ye(30,new Se(10,15),new Se(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ye(30,new Se(19,118),new Se(6,119)),new Ye(28,new Se(18,47),new Se(31,48)),new Ye(30,new Se(34,24),new Se(34,25)),new Ye(30,new Se(20,15),new Se(61,16)))];var si;(function(te){te[te.DATA_MASK_000=0]="DATA_MASK_000",te[te.DATA_MASK_001=1]="DATA_MASK_001",te[te.DATA_MASK_010=2]="DATA_MASK_010",te[te.DATA_MASK_011=3]="DATA_MASK_011",te[te.DATA_MASK_100=4]="DATA_MASK_100",te[te.DATA_MASK_101=5]="DATA_MASK_101",te[te.DATA_MASK_110=6]="DATA_MASK_110",te[te.DATA_MASK_111=7]="DATA_MASK_111"})(si||(si={}));class pa{constructor(l,d){this.value=l,this.isMasked=d}unmaskBitMatrix(l,d){for(let g=0;g<d;g++)for(let y=0;y<d;y++)this.isMasked(g,y)&&l.flip(y,g)}}pa.values=new Map([[si.DATA_MASK_000,new pa(si.DATA_MASK_000,(te,l)=>(te+l&1)===0)],[si.DATA_MASK_001,new pa(si.DATA_MASK_001,(te,l)=>(te&1)===0)],[si.DATA_MASK_010,new pa(si.DATA_MASK_010,(te,l)=>l%3===0)],[si.DATA_MASK_011,new pa(si.DATA_MASK_011,(te,l)=>(te+l)%3===0)],[si.DATA_MASK_100,new pa(si.DATA_MASK_100,(te,l)=>(Math.floor(te/2)+Math.floor(l/3)&1)===0)],[si.DATA_MASK_101,new pa(si.DATA_MASK_101,(te,l)=>te*l%6===0)],[si.DATA_MASK_110,new pa(si.DATA_MASK_110,(te,l)=>te*l%6<3)],[si.DATA_MASK_111,new pa(si.DATA_MASK_111,(te,l)=>(te+l+te*l%3&1)===0)]]);class Uo{constructor(l){const d=l.getHeight();if(d<21||(d&3)!==1)throw new G;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let x=0;x<6;x++)l=this.copyBit(x,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let x=5;x>=0;x--)l=this.copyBit(8,x,l);const d=this.bitMatrix.getHeight();let g=0;const y=d-7;for(let x=d-1;x>=y;x--)g=this.copyBit(8,x,g);for(let x=d-8;x<d;x++)g=this.copyBit(x,8,g);if(this.parsedFormatInfo=pi.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new G}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),d=Math.floor((l-17)/4);if(d<=6)return Lt.getVersionForNumber(d);let g=0;const y=l-11;for(let S=5;S>=0;S--)for(let _=l-9;_>=y;_--)g=this.copyBit(_,S,g);let x=Lt.decodeVersionInformation(g);if(x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;g=0;for(let S=5;S>=0;S--)for(let _=l-9;_>=y;_--)g=this.copyBit(S,_,g);if(x=Lt.decodeVersionInformation(g),x!==null&&x.getDimensionForVersion()===l)return this.parsedVersion=x,x;throw new G}copyBit(l,d,g){return(this.isMirror?this.bitMatrix.get(d,l):this.bitMatrix.get(l,d))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),d=this.readVersion(),g=pa.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,y);const x=d.buildFunctionPattern();let S=!0;const _=new Uint8Array(d.getTotalCodewords());let P=0,F=0,K=0;for(let ne=y-1;ne>0;ne-=2){ne===6&&ne--;for(let ue=0;ue<y;ue++){const Ee=S?y-1-ue:ue;for(let Oe=0;Oe<2;Oe++)x.get(ne-Oe,Ee)||(K++,F<<=1,this.bitMatrix.get(ne-Oe,Ee)&&(F|=1),K===8&&(_[P++]=F,K=0,F=0))}S=!S}if(P!==d.getTotalCodewords())throw new G;return _}remask(){if(this.parsedFormatInfo===null)return;const l=pa.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let d=0,g=l.getWidth();d<g;d++)for(let y=d+1,x=l.getHeight();y<x;y++)l.get(d,y)!==l.get(y,d)&&(l.flip(y,d),l.flip(d,y))}}class ks{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d,g){if(l.length!==d.getTotalCodewords())throw new v;const y=d.getECBlocksForLevel(g);let x=0;const S=y.getECBlocks();for(const Oe of S)x+=Oe.getCount();const _=new Array(x);let P=0;for(const Oe of S)for(let De=0;De<Oe.getCount();De++){const Ue=Oe.getDataCodewords(),Ze=y.getECCodewordsPerBlock()+Ue;_[P++]=new ks(Ue,new Uint8Array(Ze))}const F=_[0].codewords.length;let K=_.length-1;for(;K>=0&&_[K].codewords.length!==F;)K--;K++;const ne=F-y.getECCodewordsPerBlock();let ue=0;for(let Oe=0;Oe<ne;Oe++)for(let De=0;De<P;De++)_[De].codewords[Oe]=l[ue++];for(let Oe=K;Oe<P;Oe++)_[Oe].codewords[ne]=l[ue++];const Ee=_[0].codewords.length;for(let Oe=ne;Oe<Ee;Oe++)for(let De=0;De<P;De++){const Ue=De<K?Oe:Oe+1;_[De].codewords[Ue]=l[ue++]}return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _a;(function(te){te[te.TERMINATOR=0]="TERMINATOR",te[te.NUMERIC=1]="NUMERIC",te[te.ALPHANUMERIC=2]="ALPHANUMERIC",te[te.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",te[te.BYTE=4]="BYTE",te[te.ECI=5]="ECI",te[te.KANJI=6]="KANJI",te[te.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",te[te.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",te[te.HANZI=9]="HANZI"})(_a||(_a={}));class ln{constructor(l,d,g,y){this.value=l,this.stringValue=d,this.characterCountBitsForVersions=g,this.bits=y,ln.FOR_BITS.set(y,this),ln.FOR_VALUE.set(l,this)}static forBits(l){const d=ln.FOR_BITS.get(l);if(d===void 0)throw new v;return d}getCharacterCountBits(l){const d=l.getVersionNumber();let g;return d<=9?g=0:d<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof ln))return!1;const d=l;return this.value===d.value}toString(){return this.stringValue}}ln.FOR_BITS=new Map,ln.FOR_VALUE=new Map,ln.TERMINATOR=new ln(_a.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ln.NUMERIC=new ln(_a.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ln.ALPHANUMERIC=new ln(_a.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ln.STRUCTURED_APPEND=new ln(_a.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ln.BYTE=new ln(_a.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ln.ECI=new ln(_a.ECI,"ECI",Int32Array.from([0,0,0]),7),ln.KANJI=new ln(_a.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ln.FNC1_FIRST_POSITION=new ln(_a.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ln.FNC1_SECOND_POSITION=new ln(_a.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ln.HANZI=new ln(_a.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _r{static decode(l,d,g,y){const x=new co(l);let S=new ie;const _=new Array;let P=-1,F=-1;try{let K=null,ne=!1,ue;do{if(x.available()<4)ue=ln.TERMINATOR;else{const Ee=x.readBits(4);ue=ln.forBits(Ee)}switch(ue){case ln.TERMINATOR:break;case ln.FNC1_FIRST_POSITION:case ln.FNC1_SECOND_POSITION:ne=!0;break;case ln.STRUCTURED_APPEND:if(x.available()<16)throw new G;P=x.readBits(8),F=x.readBits(8);break;case ln.ECI:const Ee=_r.parseECIValue(x);if(K=Y.getCharacterSetECIByValue(Ee),K===null)throw new G;break;case ln.HANZI:const Oe=x.readBits(4),De=x.readBits(ue.getCharacterCountBits(d));Oe===_r.GB2312_SUBSET&&_r.decodeHanziSegment(x,S,De);break;default:const Ue=x.readBits(ue.getCharacterCountBits(d));switch(ue){case ln.NUMERIC:_r.decodeNumericSegment(x,S,Ue);break;case ln.ALPHANUMERIC:_r.decodeAlphanumericSegment(x,S,Ue,ne);break;case ln.BYTE:_r.decodeByteSegment(x,S,Ue,K,_,y);break;case ln.KANJI:_r.decodeKanjiSegment(x,S,Ue);break;default:throw new G}break}}while(ue!==ln.TERMINATOR)}catch{throw new G}return new Ie(l,S.toString(),_.length===0?null:_,g===null?null:g.toString(),P,F)}static decodeHanziSegment(l,d,g){if(g*13>l.available())throw new G;const y=new Uint8Array(2*g);let x=0;for(;g>0;){const S=l.readBits(13);let _=S/96<<8&4294967295|S%96;_<959?_+=41377:_+=42657,y[x]=_>>8&255,y[x+1]=_&255,x+=2,g--}try{d.append(X.decode(y,J.GB2312))}catch(S){throw new G(S)}}static decodeKanjiSegment(l,d,g){if(g*13>l.available())throw new G;const y=new Uint8Array(2*g);let x=0;for(;g>0;){const S=l.readBits(13);let _=S/192<<8&4294967295|S%192;_<7936?_+=33088:_+=49472,y[x]=_>>8,y[x+1]=_,x+=2,g--}try{d.append(X.decode(y,J.SHIFT_JIS))}catch(S){throw new G(S)}}static decodeByteSegment(l,d,g,y,x,S){if(8*g>l.available())throw new G;const _=new Uint8Array(g);for(let F=0;F<g;F++)_[F]=l.readBits(8);let P;y===null?P=J.guessEncoding(_,S):P=y.getName();try{d.append(X.decode(_,P))}catch(F){throw new G(F)}x.push(_)}static toAlphaNumericChar(l){if(l>=_r.ALPHANUMERIC_CHARS.length)throw new G;return _r.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,d,g,y){const x=d.length();for(;g>1;){if(l.available()<11)throw new G;const S=l.readBits(11);d.append(_r.toAlphaNumericChar(Math.floor(S/45))),d.append(_r.toAlphaNumericChar(S%45)),g-=2}if(g===1){if(l.available()<6)throw new G;d.append(_r.toAlphaNumericChar(l.readBits(6)))}if(y)for(let S=x;S<d.length();S++)d.charAt(S)==="%"&&(S<d.length()-1&&d.charAt(S+1)==="%"?d.deleteCharAt(S+1):d.setCharAt(S,""))}static decodeNumericSegment(l,d,g){for(;g>=3;){if(l.available()<10)throw new G;const y=l.readBits(10);if(y>=1e3)throw new G;d.append(_r.toAlphaNumericChar(Math.floor(y/100))),d.append(_r.toAlphaNumericChar(Math.floor(y/10)%10)),d.append(_r.toAlphaNumericChar(y%10)),g-=3}if(g===2){if(l.available()<7)throw new G;const y=l.readBits(7);if(y>=100)throw new G;d.append(_r.toAlphaNumericChar(Math.floor(y/10))),d.append(_r.toAlphaNumericChar(y%10))}else if(g===1){if(l.available()<4)throw new G;const y=l.readBits(4);if(y>=10)throw new G;d.append(_r.toAlphaNumericChar(y))}}static parseECIValue(l){const d=l.readBits(8);if((d&128)===0)return d&127;if((d&192)===128){const g=l.readBits(8);return(d&63)<<8&4294967295|g}if((d&224)===192){const g=l.readBits(16);return(d&31)<<16&4294967295|g}throw new G}}_r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_r.GB2312_SUBSET=1;class nc{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const d=l[0];l[0]=l[2],l[2]=d}}class Tu{constructor(){this.rsDecoder=new At(gt.QR_CODE_FIELD_256)}decodeBooleanArray(l,d){return this.decodeBitMatrix(se.parseFromBooleanArray(l),d)}decodeBitMatrix(l,d){const g=new Uo(l);let y=null;try{return this.decodeBitMatrixParser(g,d)}catch(x){y=x}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const x=this.decodeBitMatrixParser(g,d);return x.setOther(new nc(!0)),x}catch(x){throw y!==null?y:x}}decodeBitMatrixParser(l,d){const g=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),x=l.readCodewords(),S=ks.getDataBlocks(x,g,y);let _=0;for(const K of S)_+=K.getNumDataCodewords();const P=new Uint8Array(_);let F=0;for(const K of S){const ne=K.getCodewords(),ue=K.getNumDataCodewords();this.correctErrors(ne,ue);for(let Ee=0;Ee<ue;Ee++)P[F++]=ne[Ee]}return _r.decode(P,g,y,d)}correctErrors(l,d){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-d)}catch{throw new A}for(let y=0;y<d;y++)l[y]=g[y]}}class ga extends st{constructor(l,d,g){super(l,d),this.estimatedModuleSize=g}aboutEquals(l,d,g){if(Math.abs(d-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,d,g){const y=(this.getX()+d)/2,x=(this.getY()+l)/2,S=(this.estimatedModuleSize+g)/2;return new ga(y,x,S)}}class za{constructor(l,d,g,y,x,S,_){this.image=l,this.startX=d,this.startY=g,this.width=y,this.height=x,this.moduleSize=S,this.resultPointCallback=_,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,d=this.height,g=this.width,y=l+g,x=this.startY+d/2,S=new Int32Array(3),_=this.image;for(let P=0;P<d;P++){const F=x+((P&1)===0?Math.floor((P+1)/2):-Math.floor((P+1)/2));S[0]=0,S[1]=0,S[2]=0;let K=l;for(;K<y&&!_.get(K,F);)K++;let ne=0;for(;K<y;){if(_.get(K,F))if(ne===1)S[1]++;else if(ne===2){if(this.foundPatternCross(S)){const ue=this.handlePossibleCenter(S,F,K);if(ue!==null)return ue}S[0]=S[2],S[1]=1,S[2]=0,ne=1}else S[++ne]++;else ne===1&&ne++,S[ne]++;K++}if(this.foundPatternCross(S)){const ue=this.handlePossibleCenter(S,F,y);if(ue!==null)return ue}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae}static centerFromEnd(l,d){return d-l[2]-l[1]/2}foundPatternCross(l){const d=this.moduleSize,g=d/2;for(let y=0;y<3;y++)if(Math.abs(d-l[y])>=g)return!1;return!0}crossCheckVertical(l,d,g,y){const x=this.image,S=x.getHeight(),_=this.crossCheckStateCount;_[0]=0,_[1]=0,_[2]=0;let P=l;for(;P>=0&&x.get(d,P)&&_[1]<=g;)_[1]++,P--;if(P<0||_[1]>g)return NaN;for(;P>=0&&!x.get(d,P)&&_[0]<=g;)_[0]++,P--;if(_[0]>g)return NaN;for(P=l+1;P<S&&x.get(d,P)&&_[1]<=g;)_[1]++,P++;if(P===S||_[1]>g)return NaN;for(;P<S&&!x.get(d,P)&&_[2]<=g;)_[2]++,P++;if(_[2]>g)return NaN;const F=_[0]+_[1]+_[2];return 5*Math.abs(F-y)>=2*y?NaN:this.foundPatternCross(_)?za.centerFromEnd(_,P):NaN}handlePossibleCenter(l,d,g){const y=l[0]+l[1]+l[2],x=za.centerFromEnd(l,g),S=this.crossCheckVertical(d,x,2*l[1],y);if(!isNaN(S)){const _=(l[0]+l[1]+l[2])/3;for(const F of this.possibleCenters)if(F.aboutEquals(_,S,x))return F.combineEstimate(S,x,_);const P=new ga(x,S,_);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class zo extends st{constructor(l,d,g,y){super(l,d),this.estimatedModuleSize=g,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,d,g){if(Math.abs(d-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,d,g){const y=this.count+1,x=(this.count*this.getX()+d)/y,S=(this.count*this.getY()+l)/y,_=(this.count*this.estimatedModuleSize+g)/y;return new zo(x,S,_,y)}}class Cl{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Dr{constructor(l,d){this.image=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const d=l!=null&&l.get(Q.TRY_HARDER)!==void 0,g=l!=null&&l.get(Q.PURE_BARCODE)!==void 0,y=this.image,x=y.getHeight(),S=y.getWidth();let _=Math.floor(3*x/(4*Dr.MAX_MODULES));(_<Dr.MIN_SKIP||d)&&(_=Dr.MIN_SKIP);let P=!1;const F=new Int32Array(5);for(let ne=_-1;ne<x&&!P;ne+=_){F[0]=0,F[1]=0,F[2]=0,F[3]=0,F[4]=0;let ue=0;for(let Ee=0;Ee<S;Ee++)if(y.get(Ee,ne))(ue&1)===1&&ue++,F[ue]++;else if((ue&1)===0)if(ue===4)if(Dr.foundPatternCross(F)){if(this.handlePossibleCenter(F,ne,Ee,g)===!0)if(_=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const De=this.findRowSkip();De>F[2]&&(ne+=De-F[2]-_,Ee=S-1)}else{F[0]=F[2],F[1]=F[3],F[2]=F[4],F[3]=1,F[4]=0,ue=3;continue}ue=0,F[0]=0,F[1]=0,F[2]=0,F[3]=0,F[4]=0}else F[0]=F[2],F[1]=F[3],F[2]=F[4],F[3]=1,F[4]=0,ue=3;else F[++ue]++;else F[ue]++;Dr.foundPatternCross(F)&&this.handlePossibleCenter(F,ne,S,g)===!0&&(_=F[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const K=this.selectBestPatterns();return st.orderBestPatterns(K),new Cl(K)}static centerFromEnd(l,d){return d-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let d=0;for(let x=0;x<5;x++){const S=l[x];if(S===0)return!1;d+=S}if(d<7)return!1;const g=d/7,y=g/2;return Math.abs(g-l[0])<y&&Math.abs(g-l[1])<y&&Math.abs(3*g-l[2])<3*y&&Math.abs(g-l[3])<y&&Math.abs(g-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,d,g,y){const x=this.getCrossCheckStateCount();let S=0;const _=this.image;for(;l>=S&&d>=S&&_.get(d-S,l-S);)x[2]++,S++;if(l<S||d<S)return!1;for(;l>=S&&d>=S&&!_.get(d-S,l-S)&&x[1]<=g;)x[1]++,S++;if(l<S||d<S||x[1]>g)return!1;for(;l>=S&&d>=S&&_.get(d-S,l-S)&&x[0]<=g;)x[0]++,S++;if(x[0]>g)return!1;const P=_.getHeight(),F=_.getWidth();for(S=1;l+S<P&&d+S<F&&_.get(d+S,l+S);)x[2]++,S++;if(l+S>=P||d+S>=F)return!1;for(;l+S<P&&d+S<F&&!_.get(d+S,l+S)&&x[3]<g;)x[3]++,S++;if(l+S>=P||d+S>=F||x[3]>=g)return!1;for(;l+S<P&&d+S<F&&_.get(d+S,l+S)&&x[4]<g;)x[4]++,S++;if(x[4]>=g)return!1;const K=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(K-y)<2*y&&Dr.foundPatternCross(x)}crossCheckVertical(l,d,g,y){const x=this.image,S=x.getHeight(),_=this.getCrossCheckStateCount();let P=l;for(;P>=0&&x.get(d,P);)_[2]++,P--;if(P<0)return NaN;for(;P>=0&&!x.get(d,P)&&_[1]<=g;)_[1]++,P--;if(P<0||_[1]>g)return NaN;for(;P>=0&&x.get(d,P)&&_[0]<=g;)_[0]++,P--;if(_[0]>g)return NaN;for(P=l+1;P<S&&x.get(d,P);)_[2]++,P++;if(P===S)return NaN;for(;P<S&&!x.get(d,P)&&_[3]<g;)_[3]++,P++;if(P===S||_[3]>=g)return NaN;for(;P<S&&x.get(d,P)&&_[4]<g;)_[4]++,P++;if(_[4]>=g)return NaN;const F=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(F-y)>=2*y?NaN:Dr.foundPatternCross(_)?Dr.centerFromEnd(_,P):NaN}crossCheckHorizontal(l,d,g,y){const x=this.image,S=x.getWidth(),_=this.getCrossCheckStateCount();let P=l;for(;P>=0&&x.get(P,d);)_[2]++,P--;if(P<0)return NaN;for(;P>=0&&!x.get(P,d)&&_[1]<=g;)_[1]++,P--;if(P<0||_[1]>g)return NaN;for(;P>=0&&x.get(P,d)&&_[0]<=g;)_[0]++,P--;if(_[0]>g)return NaN;for(P=l+1;P<S&&x.get(P,d);)_[2]++,P++;if(P===S)return NaN;for(;P<S&&!x.get(P,d)&&_[3]<g;)_[3]++,P++;if(P===S||_[3]>=g)return NaN;for(;P<S&&x.get(P,d)&&_[4]<g;)_[4]++,P++;if(_[4]>=g)return NaN;const F=_[0]+_[1]+_[2]+_[3]+_[4];return 5*Math.abs(F-y)>=y?NaN:Dr.foundPatternCross(_)?Dr.centerFromEnd(_,P):NaN}handlePossibleCenter(l,d,g,y){const x=l[0]+l[1]+l[2]+l[3]+l[4];let S=Dr.centerFromEnd(l,g),_=this.crossCheckVertical(d,Math.floor(S),l[2],x);if(!isNaN(_)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(_),l[2],x),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(_),Math.floor(S),l[2],x)))){const P=x/7;let F=!1;const K=this.possibleCenters;for(let ne=0,ue=K.length;ne<ue;ne++){const Ee=K[ne];if(Ee.aboutEquals(P,_,S)){K[ne]=Ee.combineEstimate(_,S,P),F=!0;break}}if(!F){const ne=new zo(S,_,P);K.push(ne),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ne)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const g of this.possibleCenters)if(g.getCount()>=Dr.CENTER_QUORUM)if(d==null)d=g;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-g.getX())-Math.abs(d.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,d=0;const g=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=Dr.CENTER_QUORUM&&(l++,d+=S.getEstimatedModuleSize());if(l<3)return!1;const y=d/g;let x=0;for(const S of this.possibleCenters)x+=Math.abs(S.getEstimatedModuleSize()-y);return x<=.05*d}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ae;const d=this.possibleCenters;let g;if(l>3){let y=0,x=0;for(const P of this.possibleCenters){const F=P.getEstimatedModuleSize();y+=F,x+=F*F}g=y/l;let S=Math.sqrt(x/l-g*g);d.sort((P,F)=>{const K=Math.abs(F.getEstimatedModuleSize()-g),ne=Math.abs(P.getEstimatedModuleSize()-g);return K<ne?-1:K>ne?1:0});const _=Math.max(.2*g,S);for(let P=0;P<d.length&&d.length>3;P++){const F=d[P];Math.abs(F.getEstimatedModuleSize()-g)>_&&(d.splice(P,1),P--)}}if(d.length>3){let y=0;for(const x of d)y+=x.getEstimatedModuleSize();g=y/d.length,d.sort((x,S)=>{if(S.getCount()===x.getCount()){const _=Math.abs(S.getEstimatedModuleSize()-g),P=Math.abs(x.getEstimatedModuleSize()-g);return _<P?1:_>P?-1:0}else return S.getCount()-x.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}Dr.CENTER_QUORUM=2,Dr.MIN_SKIP=3,Dr.MAX_MODULES=57;class un{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);const g=new Dr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const d=l.getTopLeft(),g=l.getTopRight(),y=l.getBottomLeft(),x=this.calculateModuleSize(d,g,y);if(x<1)throw new ae("No pattern found in proccess finder.");const S=un.computeDimension(d,g,y,x),_=Lt.getProvisionalVersionForDimension(S),P=_.getDimensionForVersion()-7;let F=null;if(_.getAlignmentPatternCenters().length>0){const Ee=g.getX()-d.getX()+y.getX(),Oe=g.getY()-d.getY()+y.getY(),De=1-3/P,Ue=Math.floor(d.getX()+De*(Ee-d.getX())),Ze=Math.floor(d.getY()+De*(Oe-d.getY()));for(let ft=4;ft<=16;ft<<=1)try{F=this.findAlignmentInRegion(x,Ue,Ze,ft);break}catch(dt){if(!(dt instanceof ae))throw dt}}const K=un.createTransform(d,g,y,F,S),ne=un.sampleGrid(this.image,K,S);let ue;return F===null?ue=[y,d,g]:ue=[y,d,g,F],new rn(ne,ue)}static createTransform(l,d,g,y,x){const S=x-3.5;let _,P,F,K;return y!==null?(_=y.getX(),P=y.getY(),F=S-3,K=F):(_=d.getX()-l.getX()+g.getX(),P=d.getY()-l.getY()+g.getY(),F=S,K=S),sn.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,F,K,3.5,S,l.getX(),l.getY(),d.getX(),d.getY(),_,P,g.getX(),g.getY())}static sampleGrid(l,d,g){return Sn.getInstance().sampleGridWithTransform(l,g,g,d)}static computeDimension(l,d,g,y){const x=rt.round(st.distance(l,d)/y),S=rt.round(st.distance(l,g)/y);let _=Math.floor((x+S)/2)+7;switch(_&3){case 0:_++;break;case 2:_--;break;case 3:throw new ae("Dimensions could be not found.")}return _}calculateModuleSize(l,d,g){return(this.calculateModuleSizeOneWay(l,d)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,d){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(d.getX()),Math.floor(d.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?y/7:isNaN(y)?g/7:(g+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,d,g,y){let x=this.sizeOfBlackWhiteBlackRun(l,d,g,y),S=1,_=l-(g-l);_<0?(S=l/(l-_),_=0):_>=this.image.getWidth()&&(S=(this.image.getWidth()-1-l)/(_-l),_=this.image.getWidth()-1);let P=Math.floor(d-(y-d)*S);return S=1,P<0?(S=d/(d-P),P=0):P>=this.image.getHeight()&&(S=(this.image.getHeight()-1-d)/(P-d),P=this.image.getHeight()-1),_=Math.floor(l+(_-l)*S),x+=this.sizeOfBlackWhiteBlackRun(l,d,_,P),x-1}sizeOfBlackWhiteBlackRun(l,d,g,y){const x=Math.abs(y-d)>Math.abs(g-l);if(x){let Ee=l;l=d,d=Ee,Ee=g,g=y,y=Ee}const S=Math.abs(g-l),_=Math.abs(y-d);let P=-S/2;const F=l<g?1:-1,K=d<y?1:-1;let ne=0;const ue=g+F;for(let Ee=l,Oe=d;Ee!==ue;Ee+=F){const De=x?Oe:Ee,Ue=x?Ee:Oe;if(ne===1===this.image.get(De,Ue)){if(ne===2)return rt.distance(Ee,Oe,l,d);ne++}if(P+=_,P>0){if(Oe===y)break;Oe+=K,P-=S}}return ne===2?rt.distance(g+F,y,l,d):NaN}findAlignmentInRegion(l,d,g,y){const x=Math.floor(y*l),S=Math.max(0,d-x),_=Math.min(this.image.getWidth()-1,d+x);if(_-S<l*3)throw new ae("Alignment top exceeds estimated module size.");const P=Math.max(0,g-x),F=Math.min(this.image.getHeight()-1,g+x);if(F-P<l*3)throw new ae("Alignment bottom exceeds estimated module size.");return new za(this.image,S,P,_-S,F-P,l,this.resultPointCallback).find()}}class qo{constructor(){this.decoder=new Tu}getDecoder(){return this.decoder}decode(l,d){let g,y;if(d!=null&&d.get(Q.PURE_BARCODE)!==void 0){const P=qo.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(P,d),y=qo.NO_POINTS}else{const P=new un(l.getBlackMatrix()).detect(d);g=this.decoder.decodeBitMatrix(P.getBits(),d),y=P.getPoints()}g.getOther()instanceof nc&&g.getOther().applyMirroredCorrection(y);const x=new ce(g.getText(),g.getRawBytes(),void 0,y,xe.QR_CODE,void 0),S=g.getByteSegments();S!==null&&x.putMetadata(Fe.BYTE_SEGMENTS,S);const _=g.getECLevel();return _!==null&&x.putMetadata(Fe.ERROR_CORRECTION_LEVEL,_),g.hasStructuredAppend()&&(x.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),x.putMetadata(Fe.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),x}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(d===null||g===null)throw new ae;const y=this.moduleSize(d,l);let x=d[1],S=g[1],_=d[0],P=g[0];if(_>=P||x>=S)throw new ae;if(S-x!==P-_&&(P=_+(S-x),P>=l.getWidth()))throw new ae;const F=Math.round((P-_+1)/y),K=Math.round((S-x+1)/y);if(F<=0||K<=0)throw new ae;if(K!==F)throw new ae;const ne=Math.floor(y/2);x+=ne,_+=ne;const ue=_+Math.floor((F-1)*y)-P;if(ue>0){if(ue>ne)throw new ae;_-=ue}const Ee=x+Math.floor((K-1)*y)-S;if(Ee>0){if(Ee>ne)throw new ae;x-=Ee}const Oe=new se(F,K);for(let De=0;De<K;De++){const Ue=x+Math.floor(De*y);for(let Ze=0;Ze<F;Ze++)l.get(_+Math.floor(Ze*y),Ue)&&Oe.set(Ze,De)}return Oe}static moduleSize(l,d){const g=d.getHeight(),y=d.getWidth();let x=l[0],S=l[1],_=!0,P=0;for(;x<y&&S<g;){if(_!==d.get(x,S)){if(++P===5)break;_=!_}x++,S++}if(x===y||S===g)throw new ae;return(x-l[0])/7}}qo.NO_POINTS=new Array;class pn{PDF417Common(){}static getBitCountSum(l){return rt.sum(l)}static toIntArray(l){if(l==null||!l.length)return pn.EMPTY_INT_ARRAY;const d=new Int32Array(l.length);let g=0;for(const y of l)d[g++]=y;return d}static getCodeword(l){const d=q.binarySearch(pn.SYMBOL_TABLE,l&262143);return d<0?-1:(pn.CODEWORD_TABLE[d]-1)%pn.NUMBER_OF_CODEWORDS}}pn.NUMBER_OF_CODEWORDS=929,pn.MAX_CODEWORDS_IN_BARCODE=pn.NUMBER_OF_CODEWORDS-1,pn.MIN_ROWS_IN_BARCODE=3,pn.MAX_ROWS_IN_BARCODE=90,pn.MODULES_IN_CODEWORD=17,pn.MODULES_IN_STOP_PATTERN=18,pn.BARS_IN_MODULE=8,pn.EMPTY_INT_ARRAY=new Int32Array([]),pn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Iu{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class gn{static detectMultiple(l,d,g){let y=l.getBlackMatrix(),x=gn.detect(g,y);return x.length||(y=y.clone(),y.rotate180(),x=gn.detect(g,y)),new Iu(y,x)}static detect(l,d){const g=new Array;let y=0,x=0,S=!1;for(;y<d.getHeight();){const _=gn.findVertices(d,y,x);if(_[0]==null&&_[3]==null){if(!S)break;S=!1,x=0;for(const P of g)P[1]!=null&&(y=Math.trunc(Math.max(y,P[1].getY()))),P[3]!=null&&(y=Math.max(y,Math.trunc(P[3].getY())));y+=gn.ROW_STEP;continue}if(S=!0,g.push(_),!l)break;_[2]!=null?(x=Math.trunc(_[2].getX()),y=Math.trunc(_[2].getY())):(x=Math.trunc(_[4].getX()),y=Math.trunc(_[4].getY()))}return g}static findVertices(l,d,g){const y=l.getHeight(),x=l.getWidth(),S=new Array(8);return gn.copyToResult(S,gn.findRowsWithPattern(l,y,x,d,g,gn.START_PATTERN),gn.INDEXES_START_PATTERN),S[4]!=null&&(g=Math.trunc(S[4].getX()),d=Math.trunc(S[4].getY())),gn.copyToResult(S,gn.findRowsWithPattern(l,y,x,d,g,gn.STOP_PATTERN),gn.INDEXES_STOP_PATTERN),S}static copyToResult(l,d,g){for(let y=0;y<g.length;y++)l[g[y]]=d[y]}static findRowsWithPattern(l,d,g,y,x,S){const _=new Array(4);let P=!1;const F=new Int32Array(S.length);for(;y<d;y+=gn.ROW_STEP){let ne=gn.findGuardPattern(l,x,y,g,!1,S,F);if(ne!=null){for(;y>0;){const ue=gn.findGuardPattern(l,x,--y,g,!1,S,F);if(ue!=null)ne=ue;else{y++;break}}_[0]=new st(ne[0],y),_[1]=new st(ne[1],y),P=!0;break}}let K=y+1;if(P){let ne=0,ue=Int32Array.from([Math.trunc(_[0].getX()),Math.trunc(_[1].getX())]);for(;K<d;K++){const Ee=gn.findGuardPattern(l,ue[0],K,g,!1,S,F);if(Ee!=null&&Math.abs(ue[0]-Ee[0])<gn.MAX_PATTERN_DRIFT&&Math.abs(ue[1]-Ee[1])<gn.MAX_PATTERN_DRIFT)ue=Ee,ne=0;else{if(ne>gn.SKIPPED_ROW_COUNT_MAX)break;ne++}}K-=ne+1,_[2]=new st(ue[0],K),_[3]=new st(ue[1],K)}return K-y<gn.BARCODE_MIN_HEIGHT&&q.fill(_,null),_}static findGuardPattern(l,d,g,y,x,S,_){q.fillWithin(_,0,_.length,0);let P=d,F=0;for(;l.get(P,g)&&P>0&&F++<gn.MAX_PIXEL_DRIFT;)P--;let K=P,ne=0,ue=S.length;for(let Ee=x;K<y;K++)if(l.get(K,g)!==Ee)_[ne]++;else{if(ne===ue-1){if(gn.patternMatchVariance(_,S,gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE)return new Int32Array([P,K]);P+=_[0]+_[1],I.arraycopy(_,2,_,0,ne-1),_[ne-1]=0,_[ne]=0,ne--}else ne++;_[ne]=1,Ee=!Ee}return ne===ue-1&&gn.patternMatchVariance(_,S,gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE?new Int32Array([P,K-1]):null}static patternMatchVariance(l,d,g){let y=l.length,x=0,S=0;for(let F=0;F<y;F++)x+=l[F],S+=d[F];if(x<S)return 1/0;let _=x/S;g*=_;let P=0;for(let F=0;F<y;F++){let K=l[F],ne=d[F]*_,ue=K>ne?K-ne:ne-K;if(ue>g)return 1/0;P+=ue}return P/x}}gn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),gn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),gn.MAX_AVG_VARIANCE=.42,gn.MAX_INDIVIDUAL_VARIANCE=.8,gn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),gn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),gn.MAX_PIXEL_DRIFT=3,gn.MAX_PATTERN_DRIFT=5,gn.SKIPPED_ROW_COUNT_MAX=25,gn.ROW_STEP=5,gn.BARCODE_MIN_HEIGHT=10;class Qn{constructor(l,d){if(d.length===0)throw new v;this.field=l;let g=d.length;if(g>1&&d[0]===0){let y=1;for(;y<g&&d[y]===0;)y++;y===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-y),I.arraycopy(d,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let x of this.coefficients)y=this.field.add(y,x);return y}let d=this.coefficients[0],g=this.coefficients.length;for(let y=1;y<g;y++)d=this.field.add(this.field.multiply(l,d),this.coefficients[y]);return d}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,g=l.coefficients;if(d.length>g.length){let S=d;d=g,g=S}let y=new Int32Array(g.length),x=g.length-d.length;I.arraycopy(g,0,y,0,x);for(let S=x;S<g.length;S++)y[S]=this.field.add(d[S-x],g[S]);return new Qn(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Qn?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Qn(this.field,new Int32Array([0]));let d=this.coefficients,g=d.length,y=l.coefficients,x=y.length,S=new Int32Array(g+x-1);for(let _=0;_<g;_++){let P=d[_];for(let F=0;F<x;F++)S[_+F]=this.field.add(S[_+F],this.field.multiply(P,y[F]))}return new Qn(this.field,S)}negative(){let l=this.coefficients.length,d=new Int32Array(l);for(let g=0;g<l;g++)d[g]=this.field.subtract(0,this.coefficients[g]);return new Qn(this.field,d)}multiplyScalar(l){if(l===0)return new Qn(this.field,new Int32Array([0]));if(l===1)return this;let d=this.coefficients.length,g=new Int32Array(d);for(let y=0;y<d;y++)g[y]=this.field.multiply(this.coefficients[y],l);return new Qn(this.field,g)}multiplyByMonomial(l,d){if(l<0)throw new v;if(d===0)return new Qn(this.field,new Int32Array([0]));let g=this.coefficients.length,y=new Int32Array(g+l);for(let x=0;x<g;x++)y[x]=this.field.multiply(this.coefficients[x],d);return new Qn(this.field,y)}toString(){let l=new ie;for(let d=this.getDegree();d>=0;d--){let g=this.getCoefficient(d);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(d===0||g!==1)&&l.append(g),d!==0&&(d===1?l.append("x"):(l.append("x^"),l.append(d))))}return l.toString()}}class Dc{add(l,d){return(l+d)%this.modulus}subtract(l,d){return(this.modulus+l-d)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new Ve;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Os extends Dc{constructor(l,d){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let y=0;y<l;y++)this.expTable[y]=g,g=g*d%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new Qn(this,new Int32Array([0])),this.one=new Qn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new v;if(d===0)return this.zero;let g=new Int32Array(l+1);return g[0]=d,new Qn(this,g)}}Os.PDF417_GF=new Os(pn.NUMBER_OF_CODEWORDS,3);class qa{constructor(){this.field=Os.PDF417_GF}decode(l,d,g){let y=new Qn(this.field,l),x=new Int32Array(d),S=!1;for(let Oe=d;Oe>0;Oe--){let De=y.evaluateAt(this.field.exp(Oe));x[d-Oe]=De,De!==0&&(S=!0)}if(!S)return 0;let _=this.field.getOne();if(g!=null)for(const Oe of g){let De=this.field.exp(l.length-1-Oe),Ue=new Qn(this.field,new Int32Array([this.field.subtract(0,De),1]));_=_.multiply(Ue)}let P=new Qn(this.field,x),F=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),P,d),K=F[0],ne=F[1],ue=this.findErrorLocations(K),Ee=this.findErrorMagnitudes(ne,K,ue);for(let Oe=0;Oe<ue.length;Oe++){let De=l.length-1-this.field.log(ue[Oe]);if(De<0)throw A.getChecksumInstance();l[De]=this.field.subtract(l[De],Ee[Oe])}return ue.length}runEuclideanAlgorithm(l,d,g){if(l.getDegree()<d.getDegree()){let ue=l;l=d,d=ue}let y=l,x=d,S=this.field.getZero(),_=this.field.getOne();for(;x.getDegree()>=Math.round(g/2);){let ue=y,Ee=S;if(y=x,S=_,y.isZero())throw A.getChecksumInstance();x=ue;let Oe=this.field.getZero(),De=y.getCoefficient(y.getDegree()),Ue=this.field.inverse(De);for(;x.getDegree()>=y.getDegree()&&!x.isZero();){let Ze=x.getDegree()-y.getDegree(),ft=this.field.multiply(x.getCoefficient(x.getDegree()),Ue);Oe=Oe.add(this.field.buildMonomial(Ze,ft)),x=x.subtract(y.multiplyByMonomial(Ze,ft))}_=Oe.multiply(S).subtract(Ee).negative()}let P=_.getCoefficient(0);if(P===0)throw A.getChecksumInstance();let F=this.field.inverse(P),K=_.multiply(F),ne=x.multiply(F);return[K,ne]}findErrorLocations(l){let d=l.getDegree(),g=new Int32Array(d),y=0;for(let x=1;x<this.field.getSize()&&y<d;x++)l.evaluateAt(x)===0&&(g[y]=this.field.inverse(x),y++);if(y!==d)throw A.getChecksumInstance();return g}findErrorMagnitudes(l,d,g){let y=d.getDegree(),x=new Int32Array(y);for(let F=1;F<=y;F++)x[y-F]=this.field.multiply(F,d.getCoefficient(F));let S=new Qn(this.field,x),_=g.length,P=new Int32Array(_);for(let F=0;F<_;F++){let K=this.field.inverse(g[F]),ne=this.field.subtract(0,l.evaluateAt(K)),ue=this.field.inverse(S.evaluateAt(K));P[F]=this.field.multiply(ne,ue)}return P}}class uo{constructor(l,d,g,y,x){l instanceof uo?this.constructor_2(l):this.constructor_1(l,d,g,y,x)}constructor_1(l,d,g,y,x){const S=d==null||g==null,_=y==null||x==null;if(S&&_)throw new ae;S?(d=new st(0,y.getY()),g=new st(0,x.getY())):_&&(y=new st(l.getWidth()-1,d.getY()),x=new st(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=d,this.bottomLeft=g,this.topRight=y,this.bottomRight=x,this.minX=Math.trunc(Math.min(d.getX(),g.getX())),this.maxX=Math.trunc(Math.max(y.getX(),x.getX())),this.minY=Math.trunc(Math.min(d.getY(),y.getY())),this.maxY=Math.trunc(Math.max(g.getY(),x.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,d){return l==null?d:d==null?l:new uo(l.image,l.topLeft,l.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(l,d,g){let y=this.topLeft,x=this.bottomLeft,S=this.topRight,_=this.bottomRight;if(l>0){let P=g?this.topLeft:this.topRight,F=Math.trunc(P.getY()-l);F<0&&(F=0);let K=new st(P.getX(),F);g?y=K:S=K}if(d>0){let P=g?this.bottomLeft:this.bottomRight,F=Math.trunc(P.getY()+d);F>=this.image.getHeight()&&(F=this.image.getHeight()-1);let K=new st(P.getX(),F);g?x=K:_=K}return new uo(this.image,y,x,S,_)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class os{constructor(l,d,g,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=d,this.rowCountLowerPart=g,this.rowCount=d+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class tl{constructor(){this.buffer=""}static form(l,d){let g=-1;function y(S,_,P,F,K,ne){if(S==="%%")return"%";if(d[++g]===void 0)return;S=F?parseInt(F.substr(1)):void 0;let ue=K?parseInt(K.substr(1)):void 0,Ee;switch(ne){case"s":Ee=d[g];break;case"c":Ee=d[g][0];break;case"f":Ee=parseFloat(d[g]).toFixed(S);break;case"p":Ee=parseFloat(d[g]).toPrecision(S);break;case"e":Ee=parseFloat(d[g]).toExponential(S);break;case"x":Ee=parseInt(d[g]).toString(ue||16);break;case"d":Ee=parseFloat(parseInt(d[g],ue||10).toPrecision(S)).toFixed(0);break}Ee=typeof Ee=="object"?JSON.stringify(Ee):(+Ee).toString(ue);let Oe=parseInt(P),De=P&&P[0]+""=="0"?"0":" ";for(;Ee.length<Oe;)Ee=_!==void 0?Ee+De:De+Ee;return Ee}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(x,y)}format(l,...d){this.buffer+=tl.form(l,d)}toString(){return this.buffer}}class ma{constructor(l){this.boundingBox=new uo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let d=this.getCodeword(l);if(d!=null)return d;for(let g=1;g<ma.MAX_NEARBY_DISTANCE;g++){let y=this.imageRowToCodewordIndex(l)-g;if(y>=0&&(d=this.codewords[y],d!=null)||(y=this.imageRowToCodewordIndex(l)+g,y<this.codewords.length&&(d=this.codewords[y],d!=null)))return d}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,d){this.codewords[this.imageRowToCodewordIndex(l)]=d}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new tl;let d=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",d++);continue}l.format("%3d: %3d|%3d%n",d++,g.getRowNumber(),g.getValue())}return l.toString()}}ma.MAX_NEARBY_DISTANCE=5;class ss{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let d=this.values.get(l);d==null&&(d=0),d++,this.values.set(l,d)}getValue(){let l=-1,d=new Array;for(const[g,y]of this.values.entries()){const x={getKey:()=>g,getValue:()=>y};x.getValue()>l?(l=x.getValue(),d=[],d.push(x.getKey())):x.getValue()===l&&d.push(x.getKey())}return pn.toIntArray(d)}getConfidence(l){return this.values.get(l)}}class Nl extends ma{constructor(l,d){super(l),this._isLeft=d}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,l);let g=this.getBoundingBox(),y=this._isLeft?g.getTopLeft():g.getTopRight(),x=this._isLeft?g.getBottomLeft():g.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),_=this.imageRowToCodewordIndex(Math.trunc(x.getY())),P=-1,F=1,K=0;for(let ne=S;ne<_;ne++){if(d[ne]==null)continue;let ue=d[ne],Ee=ue.getRowNumber()-P;if(Ee===0)K++;else if(Ee===1)F=Math.max(F,K),K=1,P=ue.getRowNumber();else if(Ee<0||ue.getRowNumber()>=l.getRowCount()||Ee>ne)d[ne]=null;else{let Oe;F>2?Oe=(F-2)*Ee:Oe=Ee;let De=Oe>=ne;for(let Ue=1;Ue<=Oe&&!De;Ue++)De=d[ne-Ue]!=null;De?d[ne]=null:(P=ue.getRowNumber(),K=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let d=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=d.length)continue;d[y]++}return d}adjustIncompleteIndicatorColumnRowNumbers(l){let d=this.getBoundingBox(),g=this._isLeft?d.getTopLeft():d.getTopRight(),y=this._isLeft?d.getBottomLeft():d.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),_=this.getCodewords(),P=-1;for(let F=x;F<S;F++){if(_[F]==null)continue;let K=_[F];K.setRowNumberAsRowIndicatorColumn();let ne=K.getRowNumber()-P;ne===0||(ne===1?P=K.getRowNumber():K.getRowNumber()>=l.getRowCount()?_[F]=null:P=K.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),d=new ss,g=new ss,y=new ss,x=new ss;for(let _ of l){if(_==null)continue;_.setRowNumberAsRowIndicatorColumn();let P=_.getValue()%30,F=_.getRowNumber();switch(this._isLeft||(F+=2),F%3){case 0:g.setValue(P*3+1);break;case 1:x.setValue(P/3),y.setValue(P%3);break;case 2:d.setValue(P+1);break}}if(d.getValue().length===0||g.getValue().length===0||y.getValue().length===0||x.getValue().length===0||d.getValue()[0]<1||g.getValue()[0]+y.getValue()[0]<pn.MIN_ROWS_IN_BARCODE||g.getValue()[0]+y.getValue()[0]>pn.MAX_ROWS_IN_BARCODE)return null;let S=new os(d.getValue()[0],g.getValue()[0],y.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(l,S),S}removeIncorrectCodewords(l,d){for(let g=0;g<l.length;g++){let y=l[g];if(l[g]==null)continue;let x=y.getValue()%30,S=y.getRowNumber();if(S>d.getRowCount()){l[g]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:x*3+1!==d.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(x/3)!==d.getErrorCorrectionLevel()||x%3!==d.getRowCountLowerPart())&&(l[g]=null);break;case 2:x+1!==d.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class li{constructor(l,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=pn.MAX_CODEWORDS_IN_BARCODE,d;do d=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let g=this.detectionResultColumns[d].getCodewords();for(let y=0;y<g.length;y++)g[y]!=null&&(g[y].hasValidRowNumber()||this.adjustRowNumbers(d,y,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&d[g]!=null&&l[g].getRowNumber()===d[g].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let x=this.detectionResultColumns[y].getCodewords()[g];x!=null&&(x.setRowNumber(l[g].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<d.length;g++){if(d[g]==null)continue;let y=d[g].getRowNumber(),x=0;for(let S=this.barcodeColumnCount+1;S>0&&x<this.ADJUST_ROW_NUMBER_SKIP;S--){let _=this.detectionResultColumns[S].getCodewords()[g];_!=null&&(x=li.adjustRowNumberIfValid(y,x,_),_.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,d=this.detectionResultColumns[0].getCodewords();for(let g=0;g<d.length;g++){if(d[g]==null)continue;let y=d[g].getRowNumber(),x=0;for(let S=1;S<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;S++){let _=this.detectionResultColumns[S].getCodewords()[g];_!=null&&(x=li.adjustRowNumberIfValid(y,x,_),_.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,d,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),d=0):++d),d}adjustRowNumbers(l,d,g){if(!this.detectionResultColumns[l-1])return;let y=g[d],x=this.detectionResultColumns[l-1].getCodewords(),S=x;this.detectionResultColumns[l+1]!=null&&(S=this.detectionResultColumns[l+1].getCodewords());let _=new Array(14);_[2]=x[d],_[3]=S[d],d>0&&(_[0]=g[d-1],_[4]=x[d-1],_[5]=S[d-1]),d>1&&(_[8]=g[d-2],_[10]=x[d-2],_[11]=S[d-2]),d<g.length-1&&(_[1]=g[d+1],_[6]=x[d+1],_[7]=S[d+1]),d<g.length-2&&(_[9]=g[d+2],_[12]=x[d+2],_[13]=S[d+2]);for(let P of _)if(li.adjustRowNumber(y,P))return}static adjustRowNumber(l,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===l.getBucket()?(l.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,d){this.detectionResultColumns[l]=d}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new tl;for(let g=0;g<l.getCodewords().length;g++){d.format("CW %3d:",g);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){d.format("    |   ");continue}let x=this.detectionResultColumns[y].getCodewords()[g];if(x==null){d.format("    |   ");continue}d.format(" %3d|%3d",x.getRowNumber(),x.getValue())}d.format("%n")}return d.toString()}}class Ha{constructor(l,d,g,y){this.rowNumber=Ha.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(d),this.bucket=Math.trunc(g),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Ha.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Ha.BARCODE_ROW_UNKNOWN=-1;class Lr{static initialize(){for(let l=0;l<pn.SYMBOL_TABLE.length;l++){let d=pn.SYMBOL_TABLE[l],g=d&1;for(let y=0;y<pn.BARS_IN_MODULE;y++){let x=0;for(;(d&1)===g;)x+=1,d>>=1;g=d&1,Lr.RATIOS_TABLE[l]||(Lr.RATIOS_TABLE[l]=new Array(pn.BARS_IN_MODULE)),Lr.RATIOS_TABLE[l][pn.BARS_IN_MODULE-y-1]=Math.fround(x/pn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let d=Lr.getDecodedCodewordValue(Lr.sampleBitCounts(l));return d!==-1?d:Lr.getClosestDecodedValue(l)}static sampleBitCounts(l){let d=rt.sum(l),g=new Int32Array(pn.BARS_IN_MODULE),y=0,x=0;for(let S=0;S<pn.MODULES_IN_CODEWORD;S++){let _=d/(2*pn.MODULES_IN_CODEWORD)+S*d/pn.MODULES_IN_CODEWORD;x+l[y]<=_&&(x+=l[y],y++),g[y]++}return g}static getDecodedCodewordValue(l){let d=Lr.getBitValue(l);return pn.getCodeword(d)===-1?-1:d}static getBitValue(l){let d=0;for(let g=0;g<l.length;g++)for(let y=0;y<l[g];y++)d=d<<1|(g%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(l){let d=rt.sum(l),g=new Array(pn.BARS_IN_MODULE);if(d>1)for(let S=0;S<g.length;S++)g[S]=Math.fround(l[S]/d);let y=Zt.MAX_VALUE,x=-1;this.bSymbolTableReady||Lr.initialize();for(let S=0;S<Lr.RATIOS_TABLE.length;S++){let _=0,P=Lr.RATIOS_TABLE[S];for(let F=0;F<pn.BARS_IN_MODULE;F++){let K=Math.fround(P[F]-g[F]);if(_+=Math.fround(K*K),_>=y)break}_<y&&(y=_,x=pn.SYMBOL_TABLE[S])}return x}}Lr.bSymbolTableReady=!1,Lr.RATIOS_TABLE=new Array(pn.SYMBOL_TABLE.length).map(te=>new Array(pn.BARS_IN_MODULE));class ls{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class _l{static parseLong(l,d=void 0){return parseInt(l,d)}}class nl extends f{}nl.kind="NullPointerException";class Rs{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,d,g){if(l==null)throw new nl;if(d<0||d>l.length||g<0||d+g>l.length||d+g<0)throw new R;if(g===0)return;for(let y=0;y<g;y++)this.write(l[d+y])}flush(){}close(){}}class Ps extends f{}class Tl extends Rs{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new Ps;g=U.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,d,g){if(d<0||d>l.length||g<0||d+g-l.length>0)throw new R;this.ensureCapacity(this.count+g),I.arraycopy(l,d,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var or;(function(te){te[te.ALPHA=0]="ALPHA",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.PUNCT=3]="PUNCT",te[te.ALPHA_SHIFT=4]="ALPHA_SHIFT",te[te.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(or||(or={}));function cs(){if(typeof window<"u")return window.BigInt||null;if(typeof jp<"u")return jp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bo;function Ho(te){if(typeof bo>"u"&&(bo=cs()),bo===null)throw new Error("BigInt is not supported!");return bo(te)}function Ds(){let te=[];te[0]=Ho(1);let l=Ho(900);te[1]=l;for(let d=2;d<16;d++)te[d]=te[d-1]*l;return te}class tt{static decode(l,d){let g=new ie(""),y=Y.ISO8859_1;g.enableDecoding(y);let x=1,S=l[x++],_=new ls;for(;x<l[0];){switch(S){case tt.TEXT_COMPACTION_MODE_LATCH:x=tt.textCompaction(l,x,g);break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:x=tt.byteCompaction(S,l,y,x,g);break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[x++]);break;case tt.NUMERIC_COMPACTION_MODE_LATCH:x=tt.numericCompaction(l,x,g);break;case tt.ECI_CHARSET:Y.getCharacterSetECIByValue(l[x++]);break;case tt.ECI_GENERAL_PURPOSE:x+=2;break;case tt.ECI_USER_DEFINED:x++;break;case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=tt.decodeMacroBlock(l,x,_);break;case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:throw new G;default:x--,x=tt.textCompaction(l,x,g);break}if(x<l.length)S=l[x++];else throw G.getFormatInstance()}if(g.length()===0)throw G.getFormatInstance();let P=new Ie(null,g.toString(),null,d);return P.setOther(_),P}static decodeMacroBlock(l,d,g){if(d+tt.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw G.getFormatInstance();let y=new Int32Array(tt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let _=0;_<tt.NUMBER_OF_SEQUENCE_CODEWORDS;_++,d++)y[_]=l[d];g.setSegmentIndex(U.parseInt(tt.decodeBase900toBase10(y,tt.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new ie;d=tt.textCompaction(l,d,x),g.setFileId(x.toString());let S=-1;for(l[d]===tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=d+1);d<l[0];)switch(l[d]){case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,l[d]){case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let _=new ie;d=tt.textCompaction(l,d+1,_),g.setFileName(_.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new ie;d=tt.textCompaction(l,d+1,P),g.setSender(P.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let F=new ie;d=tt.textCompaction(l,d+1,F),g.setAddressee(F.toString());break;case tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let K=new ie;d=tt.numericCompaction(l,d+1,K),g.setSegmentCount(U.parseInt(K.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ne=new ie;d=tt.numericCompaction(l,d+1,ne),g.setTimestamp(_l.parseLong(ne.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ue=new ie;d=tt.numericCompaction(l,d+1,ue),g.setChecksum(U.parseInt(ue.toString()));break;case tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ee=new ie;d=tt.numericCompaction(l,d+1,Ee),g.setFileSize(_l.parseLong(Ee.toString()));break;default:throw G.getFormatInstance()}break;case tt.MACRO_PDF417_TERMINATOR:d++,g.setLastSegment(!0);break;default:throw G.getFormatInstance()}if(S!==-1){let _=d-S;g.isLastSegment()&&_--,g.setOptionalData(q.copyOfRange(l,S,S+_))}return d}static textCompaction(l,d,g){let y=new Int32Array((l[0]-d)*2),x=new Int32Array((l[0]-d)*2),S=0,_=!1;for(;d<l[0]&&!_;){let P=l[d++];if(P<tt.TEXT_COMPACTION_MODE_LATCH)y[S]=P/30,y[S+1]=P%30,S+=2;else switch(P){case tt.TEXT_COMPACTION_MODE_LATCH:y[S++]=tt.TEXT_COMPACTION_MODE_LATCH;break;case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:d--,_=!0;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=l[d++],x[S]=P,S++;break}}return tt.decodeTextCompaction(y,x,S,g),d}static decodeTextCompaction(l,d,g,y){let x=or.ALPHA,S=or.ALPHA,_=0;for(;_<g;){let P=l[_],F="";switch(x){case or.ALPHA:if(P<26)F=String.fromCharCode(65+P);else switch(P){case 26:F=" ";break;case tt.LL:x=or.LOWER;break;case tt.ML:x=or.MIXED;break;case tt.PS:S=x,x=or.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[_]);break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break;case or.LOWER:if(P<26)F=String.fromCharCode(97+P);else switch(P){case 26:F=" ";break;case tt.AS:S=x,x=or.ALPHA_SHIFT;break;case tt.ML:x=or.MIXED;break;case tt.PS:S=x,x=or.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[_]);break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break;case or.MIXED:if(P<tt.PL)F=tt.MIXED_CHARS[P];else switch(P){case tt.PL:x=or.PUNCT;break;case 26:F=" ";break;case tt.LL:x=or.LOWER;break;case tt.AL:x=or.ALPHA;break;case tt.PS:S=x,x=or.PUNCT_SHIFT;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[_]);break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break;case or.PUNCT:if(P<tt.PAL)F=tt.PUNCT_CHARS[P];else switch(P){case tt.PAL:x=or.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[_]);break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break;case or.ALPHA_SHIFT:if(x=S,P<26)F=String.fromCharCode(65+P);else switch(P){case 26:F=" ";break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break;case or.PUNCT_SHIFT:if(x=S,P<tt.PAL)F=tt.PUNCT_CHARS[P];else switch(P){case tt.PAL:x=or.ALPHA;break;case tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[_]);break;case tt.TEXT_COMPACTION_MODE_LATCH:x=or.ALPHA;break}break}F!==""&&y.append(F),_++}}static byteCompaction(l,d,g,y,x){let S=new Tl,_=0,P=0,F=!1;switch(l){case tt.BYTE_COMPACTION_MODE_LATCH:let K=new Int32Array(6),ne=d[y++];for(;y<d[0]&&!F;)switch(K[_++]=ne,P=900*P+ne,ne=d[y++],ne){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:y--,F=!0;break;default:if(_%5===0&&_>0){for(let ue=0;ue<6;++ue)S.write(Number(Ho(P)>>Ho(8*(5-ue))));P=0,_=0}break}y===d[0]&&ne<tt.TEXT_COMPACTION_MODE_LATCH&&(K[_++]=ne);for(let ue=0;ue<_;ue++)S.write(K[ue]);break;case tt.BYTE_COMPACTION_MODE_LATCH_6:for(;y<d[0]&&!F;){let ue=d[y++];if(ue<tt.TEXT_COMPACTION_MODE_LATCH)_++,P=900*P+ue;else switch(ue){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.NUMERIC_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:y--,F=!0;break}if(_%5===0&&_>0){for(let Ee=0;Ee<6;++Ee)S.write(Number(Ho(P)>>Ho(8*(5-Ee))));P=0,_=0}}break}return x.append(X.decode(S.toByteArray(),g)),y}static numericCompaction(l,d,g){let y=0,x=!1,S=new Int32Array(tt.MAX_NUMERIC_CODEWORDS);for(;d<l[0]&&!x;){let _=l[d++];if(d===l[0]&&(x=!0),_<tt.TEXT_COMPACTION_MODE_LATCH)S[y]=_,y++;else switch(_){case tt.TEXT_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH:case tt.BYTE_COMPACTION_MODE_LATCH_6:case tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case tt.MACRO_PDF417_TERMINATOR:d--,x=!0;break}(y%tt.MAX_NUMERIC_CODEWORDS===0||_===tt.NUMERIC_COMPACTION_MODE_LATCH||x)&&y>0&&(g.append(tt.decodeBase900toBase10(S,y)),y=0)}return d}static decodeBase900toBase10(l,d){let g=Ho(0);for(let x=0;x<d;x++)g+=tt.EXP900[d-x-1]*Ho(l[x]);let y=g.toString();if(y.charAt(0)!=="1")throw new G;return y.substring(1)}}tt.TEXT_COMPACTION_MODE_LATCH=900,tt.BYTE_COMPACTION_MODE_LATCH=901,tt.NUMERIC_COMPACTION_MODE_LATCH=902,tt.BYTE_COMPACTION_MODE_LATCH_6=924,tt.ECI_USER_DEFINED=925,tt.ECI_GENERAL_PURPOSE=926,tt.ECI_CHARSET=927,tt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,tt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,tt.MACRO_PDF417_TERMINATOR=922,tt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,tt.MAX_NUMERIC_CODEWORDS=15,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,tt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,tt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,tt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,tt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,tt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,tt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,tt.PL=25,tt.LL=27,tt.AS=27,tt.ML=28,tt.AL=28,tt.PS=29,tt.PAL=29,tt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,tt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",tt.EXP900=cs()?Ds():[],tt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class B{constructor(){}static decode(l,d,g,y,x,S,_){let P=new uo(l,d,g,y,x),F=null,K=null,ne;for(let Oe=!0;;Oe=!1){if(d!=null&&(F=B.getRowIndicatorColumn(l,P,d,!0,S,_)),y!=null&&(K=B.getRowIndicatorColumn(l,P,y,!1,S,_)),ne=B.merge(F,K),ne==null)throw ae.getNotFoundInstance();let De=ne.getBoundingBox();if(Oe&&De!=null&&(De.getMinY()<P.getMinY()||De.getMaxY()>P.getMaxY()))P=De;else break}ne.setBoundingBox(P);let ue=ne.getBarcodeColumnCount()+1;ne.setDetectionResultColumn(0,F),ne.setDetectionResultColumn(ue,K);let Ee=F!=null;for(let Oe=1;Oe<=ue;Oe++){let De=Ee?Oe:ue-Oe;if(ne.getDetectionResultColumn(De)!==void 0)continue;let Ue;De===0||De===ue?Ue=new Nl(P,De===0):Ue=new ma(P),ne.setDetectionResultColumn(De,Ue);let Ze=-1,ft=Ze;for(let dt=P.getMinY();dt<=P.getMaxY();dt++){if(Ze=B.getStartColumn(ne,De,dt,Ee),Ze<0||Ze>P.getMaxX()){if(ft===-1)continue;Ze=ft}let ut=B.detectCodeword(l,P.getMinX(),P.getMaxX(),Ee,Ze,dt,S,_);ut!=null&&(Ue.setCodeword(dt,ut),ft=Ze,S=Math.min(S,ut.getWidth()),_=Math.max(_,ut.getWidth()))}}return B.createDecoderResult(ne)}static merge(l,d){if(l==null&&d==null)return null;let g=B.getBarcodeMetadata(l,d);if(g==null)return null;let y=uo.merge(B.adjustBoundingBox(l),B.adjustBoundingBox(d));return new li(g,y)}static adjustBoundingBox(l){if(l==null)return null;let d=l.getRowHeights();if(d==null)return null;let g=B.getMax(d),y=0;for(let _ of d)if(y+=g-_,_>0)break;let x=l.getCodewords();for(let _=0;y>0&&x[_]==null;_++)y--;let S=0;for(let _=d.length-1;_>=0&&(S+=g-d[_],!(d[_]>0));_--);for(let _=x.length-1;S>0&&x[_]==null;_--)S--;return l.getBoundingBox().addMissingRows(y,S,l.isLeft())}static getMax(l){let d=-1;for(let g of l)d=Math.max(d,g);return d}static getBarcodeMetadata(l,d){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let y;return d==null||(y=d.getBarcodeMetadata())==null?g:g.getColumnCount()!==y.getColumnCount()&&g.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&g.getRowCount()!==y.getRowCount()?null:g}static getRowIndicatorColumn(l,d,g,y,x,S){let _=new Nl(d,y);for(let P=0;P<2;P++){let F=P===0?1:-1,K=Math.trunc(Math.trunc(g.getX()));for(let ne=Math.trunc(Math.trunc(g.getY()));ne<=d.getMaxY()&&ne>=d.getMinY();ne+=F){let ue=B.detectCodeword(l,0,l.getWidth(),y,K,ne,x,S);ue!=null&&(_.setCodeword(ne,ue),y?K=ue.getStartX():K=ue.getEndX())}}return _}static adjustCodewordCount(l,d){let g=d[0][1],y=g.getValue(),x=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-B.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(x<1||x>pn.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();g.setValue(x)}else y[0]!==x&&g.setValue(x)}static createDecoderResult(l){let d=B.createBarcodeMatrix(l);B.adjustCodewordCount(l,d);let g=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),x=[],S=new Array;for(let P=0;P<l.getBarcodeRowCount();P++)for(let F=0;F<l.getBarcodeColumnCount();F++){let K=d[P][F+1].getValue(),ne=P*l.getBarcodeColumnCount()+F;K.length===0?g.push(ne):K.length===1?y[ne]=K[0]:(S.push(ne),x.push(K))}let _=new Array(x.length);for(let P=0;P<_.length;P++)_[P]=x[P];return B.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,pn.toIntArray(g),pn.toIntArray(S),_)}static createDecoderResultFromAmbiguousValues(l,d,g,y,x){let S=new Int32Array(y.length),_=100;for(;_-- >0;){for(let P=0;P<S.length;P++)d[y[P]]=x[P][S[P]];try{return B.decodeCodewords(d,l,g)}catch(P){if(!(P instanceof A))throw P}if(S.length===0)throw A.getChecksumInstance();for(let P=0;P<S.length;P++)if(S[P]<x[P].length-1){S[P]++;break}else if(S[P]=0,P===S.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(l){let d=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<d.length;y++)for(let x=0;x<d[y].length;x++)d[y][x]=new ss;let g=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let x of y.getCodewords())if(x!=null){let S=x.getRowNumber();if(S>=0){if(S>=d.length)continue;d[S][g].setValue(x.getValue())}}}g++}return d}static isValidBarcodeColumn(l,d){return d>=0&&d<=l.getBarcodeColumnCount()+1}static getStartColumn(l,d,g,y){let x=y?1:-1,S=null;if(B.isValidBarcodeColumn(l,d-x)&&(S=l.getDetectionResultColumn(d-x).getCodeword(g)),S!=null)return y?S.getEndX():S.getStartX();if(S=l.getDetectionResultColumn(d).getCodewordNearby(g),S!=null)return y?S.getStartX():S.getEndX();if(B.isValidBarcodeColumn(l,d-x)&&(S=l.getDetectionResultColumn(d-x).getCodewordNearby(g)),S!=null)return y?S.getEndX():S.getStartX();let _=0;for(;B.isValidBarcodeColumn(l,d-x);){d-=x;for(let P of l.getDetectionResultColumn(d).getCodewords())if(P!=null)return(y?P.getEndX():P.getStartX())+x*_*(P.getEndX()-P.getStartX());_++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,d,g,y,x,S,_,P){x=B.adjustCodewordStartColumn(l,d,g,y,x,S);let F=B.getModuleBitCount(l,d,g,y,x,S);if(F==null)return null;let K,ne=rt.sum(F);if(y)K=x+ne;else{for(let Oe=0;Oe<F.length/2;Oe++){let De=F[Oe];F[Oe]=F[F.length-1-Oe],F[F.length-1-Oe]=De}K=x,x=K-ne}if(!B.checkCodewordSkew(ne,_,P))return null;let ue=Lr.getDecodedValue(F),Ee=pn.getCodeword(ue);return Ee===-1?null:new Ha(x,K,B.getCodewordBucketNumber(ue),Ee)}static getModuleBitCount(l,d,g,y,x,S){let _=x,P=new Int32Array(8),F=0,K=y?1:-1,ne=y;for(;(y?_<g:_>=d)&&F<P.length;)l.get(_,S)===ne?(P[F]++,_+=K):(F++,ne=!ne);return F===P.length||_===(y?g:d)&&F===P.length-1?P:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,d,g,y,x,S){let _=x,P=y?-1:1;for(let F=0;F<2;F++){for(;(y?_>=d:_<g)&&y===l.get(_,S);){if(Math.abs(x-_)>B.CODEWORD_SKEW_SIZE)return x;_+=P}P=-P,y=!y}return _}static checkCodewordSkew(l,d,g){return d-B.CODEWORD_SKEW_SIZE<=l&&l<=g+B.CODEWORD_SKEW_SIZE}static decodeCodewords(l,d,g){if(l.length===0)throw G.getFormatInstance();let y=1<<d+1,x=B.correctErrors(l,g,y);B.verifyCodewordCount(l,y);let S=tt.decode(l,""+d);return S.setErrorsCorrected(x),S.setErasures(g.length),S}static correctErrors(l,d,g){if(d!=null&&d.length>g/2+B.MAX_ERRORS||g<0||g>B.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return B.errorCorrection.decode(l,g,d)}static verifyCodewordCount(l,d){if(l.length<4)throw G.getFormatInstance();let g=l[0];if(g>l.length)throw G.getFormatInstance();if(g===0)if(d<l.length)l[0]=l.length-d;else throw G.getFormatInstance()}static getBitCountForCodeword(l){let d=new Int32Array(8),g=0,y=d.length-1;for(;!((l&1)!==g&&(g=l&1,y--,y<0));)d[y]++,l>>=1;return d}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return B.getCodewordBucketNumber(B.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let d=new tl;for(let g=0;g<l.length;g++){d.format("Row %2d: ",g);for(let y=0;y<l[g].length;y++){let x=l[g][y];x.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}d.format("%n")}return d.toString()}}B.CODEWORD_SKEW_SIZE=2,B.MAX_ERRORS=3,B.MAX_EC_CODEWORDS=512,B.errorCorrection=new qa;class re{decode(l,d=null){let g=re.decode(l,d,!1);if(g==null||g.length===0||g[0]==null)throw ae.getNotFoundInstance();return g[0]}decodeMultiple(l,d=null){try{return re.decode(l,d,!0)}catch(g){throw g instanceof G||g instanceof A?ae.getNotFoundInstance():g}}static decode(l,d,g){const y=new Array,x=gn.detectMultiple(l,d,g);for(const S of x.getPoints()){const _=B.decode(x.getBits(),S[4],S[5],S[6],S[7],re.getMinCodewordWidth(S),re.getMaxCodewordWidth(S)),P=new ce(_.getText(),_.getRawBytes(),void 0,S,xe.PDF_417);P.putMetadata(Fe.ERROR_CORRECTION_LEVEL,_.getECLevel());const F=_.getOther();F!=null&&P.putMetadata(Fe.PDF417_EXTRA_METADATA,F),y.push(P)}return y.map(S=>S)}static getMaxWidth(l,d){return l==null||d==null?0:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMinWidth(l,d){return l==null||d==null?U.MAX_VALUE:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(re.getMaxWidth(l[0],l[4]),re.getMaxWidth(l[6],l[2])*pn.MODULES_IN_CODEWORD/pn.MODULES_IN_STOP_PATTERN),Math.max(re.getMaxWidth(l[1],l[5]),re.getMaxWidth(l[7],l[3])*pn.MODULES_IN_CODEWORD/pn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(re.getMinWidth(l[0],l[4]),re.getMinWidth(l[6],l[2])*pn.MODULES_IN_CODEWORD/pn.MODULES_IN_STOP_PATTERN),Math.min(re.getMinWidth(l[1],l[5]),re.getMinWidth(l[7],l[3])*pn.MODULES_IN_CODEWORD/pn.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ce extends f{}Ce.kind="ReaderException";class Pe{constructor(l,d){this.verbose=l===!0,d&&this.setHints(d)}decode(l,d){return d&&this.setHints(d),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const d=!r(l)&&l.get(Q.TRY_HARDER)===!0,g=r(l)?null:l.get(Q.POSSIBLE_FORMATS),y=new Array;if(!r(g)){const x=g.some(S=>S===xe.UPC_A||S===xe.UPC_E||S===xe.EAN_13||S===xe.EAN_8||S===xe.CODABAR||S===xe.CODE_39||S===xe.CODE_93||S===xe.CODE_128||S===xe.ITF||S===xe.RSS_14||S===xe.RSS_EXPANDED);x&&!d&&y.push(new Ua(l,this.verbose)),g.includes(xe.QR_CODE)&&y.push(new qo),g.includes(xe.DATA_MATRIX)&&y.push(new xo),g.includes(xe.AZTEC)&&y.push(new Kt),g.includes(xe.PDF_417)&&y.push(new re),x&&d&&y.push(new Ua(l,this.verbose))}y.length===0&&(d||y.push(new Ua(l,this.verbose)),y.push(new qo),y.push(new xo),y.push(new Kt),y.push(new re),d&&y.push(new Ua(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new Ce("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(l,this.hints)}catch(g){if(g instanceof Ce)continue}throw new ae("No MultiFormat Readers were able to detect the code.")}}class ze extends le{constructor(l=null,d=500){const g=new Pe;g.setHints(l),super(g,d)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class pt extends le{constructor(l=500){super(new re,l)}}class wt extends le{constructor(l=500){super(new qo,l)}}var qt;(function(te){te[te.ERROR_CORRECTION=0]="ERROR_CORRECTION",te[te.CHARACTER_SET=1]="CHARACTER_SET",te[te.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",te[te.MIN_SIZE=3]="MIN_SIZE",te[te.MAX_SIZE=4]="MAX_SIZE",te[te.MARGIN=5]="MARGIN",te[te.PDF417_COMPACT=6]="PDF417_COMPACT",te[te.PDF417_COMPACTION=7]="PDF417_COMPACTION",te[te.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",te[te.AZTEC_LAYERS=9]="AZTEC_LAYERS",te[te.QR_VERSION=10]="QR_VERSION"})(qt||(qt={}));var Mt=qt;class bn{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new nt(l,Int32Array.from([1])))}buildGenerator(l){const d=this.cachedGenerators;if(l>=d.length){let g=d[d.length-1];const y=this.field;for(let x=d.length;x<=l;x++){const S=g.multiply(new nt(y,Int32Array.from([1,y.exp(x-1+y.getGeneratorBase())])));d.push(S),g=S}}return d[l]}encode(l,d){if(d===0)throw new v("No error correction bytes");const g=l.length-d;if(g<=0)throw new v("No data bytes provided");const y=this.buildGenerator(d),x=new Int32Array(g);I.arraycopy(l,0,x,0,g);let S=new nt(this.field,x);S=S.multiplyByMonomial(d,1);const P=S.divide(y)[1].getCoefficients(),F=d-P.length;for(let K=0;K<F;K++)l[g+K]=0;I.arraycopy(P,0,l,g+F,P.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(l){return Gt.applyMaskPenaltyRule1Internal(l,!0)+Gt.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let d=0;const g=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let S=0;S<x-1;S++){const _=g[S];for(let P=0;P<y-1;P++){const F=_[P];F===_[P+1]&&F===g[S+1][P]&&F===g[S+1][P+1]&&d++}}return Gt.N2*d}static applyMaskPenaltyRule3(l){let d=0;const g=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let S=0;S<x;S++)for(let _=0;_<y;_++){const P=g[S];_+6<y&&P[_]===1&&P[_+1]===0&&P[_+2]===1&&P[_+3]===1&&P[_+4]===1&&P[_+5]===0&&P[_+6]===1&&(Gt.isWhiteHorizontal(P,_-4,_)||Gt.isWhiteHorizontal(P,_+7,_+11))&&d++,S+6<x&&g[S][_]===1&&g[S+1][_]===0&&g[S+2][_]===1&&g[S+3][_]===1&&g[S+4][_]===1&&g[S+5][_]===0&&g[S+6][_]===1&&(Gt.isWhiteVertical(g,_,S-4,S)||Gt.isWhiteVertical(g,_,S+7,S+11))&&d++}return d*Gt.N3}static isWhiteHorizontal(l,d,g){d=Math.max(d,0),g=Math.min(g,l.length);for(let y=d;y<g;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,d,g,y){g=Math.max(g,0),y=Math.min(y,l.length);for(let x=g;x<y;x++)if(l[x][d]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let d=0;const g=l.getArray(),y=l.getWidth(),x=l.getHeight();for(let P=0;P<x;P++){const F=g[P];for(let K=0;K<y;K++)F[K]===1&&d++}const S=l.getHeight()*l.getWidth();return Math.floor(Math.abs(d*2-S)*10/S)*Gt.N4}static getDataMaskBit(l,d,g){let y,x;switch(l){case 0:y=g+d&1;break;case 1:y=g&1;break;case 2:y=d%3;break;case 3:y=(g+d)%3;break;case 4:y=Math.floor(g/2)+Math.floor(d/3)&1;break;case 5:x=g*d,y=(x&1)+x%3;break;case 6:x=g*d,y=(x&1)+x%3&1;break;case 7:x=g*d,y=x%3+(g+d&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,d){let g=0;const y=d?l.getHeight():l.getWidth(),x=d?l.getWidth():l.getHeight(),S=l.getArray();for(let _=0;_<y;_++){let P=0,F=-1;for(let K=0;K<x;K++){const ne=d?S[_][K]:S[K][_];ne===F?P++:(P>=5&&(g+=Gt.N1+(P-5)),P=1,F=ne)}P>=5&&(g+=Gt.N1+(P-5))}return g}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Wn{constructor(l,d){this.width=l,this.height=d;const g=new Array(d);for(let y=0;y!==d;y++)g[y]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,d){return this.bytes[d][l]}getArray(){return this.bytes}setNumber(l,d,g){this.bytes[d][l]=g}setBoolean(l,d,g){this.bytes[d][l]=g?1:0}clear(l){for(const d of this.bytes)q.fill(d,l)}equals(l){if(!(l instanceof Wn))return!1;const d=l;if(this.width!==d.width||this.height!==d.height)return!1;for(let g=0,y=this.height;g<y;++g){const x=this.bytes[g],S=d.bytes[g];for(let _=0,P=this.width;_<P;++_)if(x[_]!==S[_])return!1}return!0}toString(){const l=new ie;for(let d=0,g=this.height;d<g;++d){const y=this.bytes[d];for(let x=0,S=this.width;x<S;++x)switch(y[x]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class vr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new ie;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<vr.NUM_MASK_PATTERNS}}vr.NUM_MASK_PATTERNS=8;class Nn extends f{}Nn.kind="WriterException";class Ot{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,d,g,y,x){Ot.clearMatrix(x),Ot.embedBasicPatterns(g,x),Ot.embedTypeInfo(d,y,x),Ot.maybeEmbedVersionInfo(g,x),Ot.embedDataBits(l,y,x)}static embedBasicPatterns(l,d){Ot.embedPositionDetectionPatternsAndSeparators(d),Ot.embedDarkDotAtLeftBottomCorner(d),Ot.maybeEmbedPositionAdjustmentPatterns(l,d),Ot.embedTimingPatterns(d)}static embedTypeInfo(l,d,g){const y=new H;Ot.makeTypeInfoBits(l,d,y);for(let x=0,S=y.getSize();x<S;++x){const _=y.get(y.getSize()-1-x),P=Ot.TYPE_INFO_COORDINATES[x],F=P[0],K=P[1];if(g.setBoolean(F,K,_),x<8){const ne=g.getWidth()-x-1;g.setBoolean(ne,8,_)}else{const ue=g.getHeight()-7+(x-8);g.setBoolean(8,ue,_)}}}static maybeEmbedVersionInfo(l,d){if(l.getVersionNumber()<7)return;const g=new H;Ot.makeVersionInfoBits(l,g);let y=17;for(let x=0;x<6;++x)for(let S=0;S<3;++S){const _=g.get(y);y--,d.setBoolean(x,d.getHeight()-11+S,_),d.setBoolean(d.getHeight()-11+S,x,_)}}static embedDataBits(l,d,g){let y=0,x=-1,S=g.getWidth()-1,_=g.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);_>=0&&_<g.getHeight();){for(let P=0;P<2;++P){const F=S-P;if(!Ot.isEmpty(g.get(F,_)))continue;let K;y<l.getSize()?(K=l.get(y),++y):K=!1,d!==255&&Gt.getDataMaskBit(d,F,_)&&(K=!K),g.setBoolean(F,_,K)}_+=x}x=-x,_+=x,S-=2}if(y!==l.getSize())throw new Nn("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-U.numberOfLeadingZeros(l)}static calculateBCHCode(l,d){if(d===0)throw new v("0 polynomial");const g=Ot.findMSBSet(d);for(l<<=g-1;Ot.findMSBSet(l)>=g;)l^=d<<Ot.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,d,g){if(!vr.isValidMaskPattern(d))throw new Nn("Invalid mask pattern");const y=l.getBits()<<3|d;g.appendBits(y,5);const x=Ot.calculateBCHCode(y,Ot.TYPE_INFO_POLY);g.appendBits(x,10);const S=new H;if(S.appendBits(Ot.TYPE_INFO_MASK_PATTERN,15),g.xor(S),g.getSize()!==15)throw new Nn("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,d){d.appendBits(l.getVersionNumber(),6);const g=Ot.calculateBCHCode(l.getVersionNumber(),Ot.VERSION_INFO_POLY);if(d.appendBits(g,12),d.getSize()!==18)throw new Nn("should not happen but we got: "+d.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let d=8;d<l.getWidth()-8;++d){const g=(d+1)%2;Ot.isEmpty(l.get(d,6))&&l.setNumber(d,6,g),Ot.isEmpty(l.get(6,d))&&l.setNumber(6,d,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new Nn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,d,g){for(let y=0;y<8;++y){if(!Ot.isEmpty(g.get(l+y,d)))throw new Nn;g.setNumber(l+y,d,0)}}static embedVerticalSeparationPattern(l,d,g){for(let y=0;y<7;++y){if(!Ot.isEmpty(g.get(l,d+y)))throw new Nn;g.setNumber(l,d+y,0)}}static embedPositionAdjustmentPattern(l,d,g){for(let y=0;y<5;++y){const x=Ot.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)g.setNumber(l+S,d+y,x[S])}}static embedPositionDetectionPattern(l,d,g){for(let y=0;y<7;++y){const x=Ot.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)g.setNumber(l+S,d+y,x[S])}}static embedPositionDetectionPatternsAndSeparators(l){const d=Ot.POSITION_DETECTION_PATTERN[0].length;Ot.embedPositionDetectionPattern(0,0,l),Ot.embedPositionDetectionPattern(l.getWidth()-d,0,l),Ot.embedPositionDetectionPattern(0,l.getWidth()-d,l);const g=8;Ot.embedHorizontalSeparationPattern(0,g-1,l),Ot.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),Ot.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const y=7;Ot.embedVerticalSeparationPattern(y,0,l),Ot.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),Ot.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,d){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,y=Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let x=0,S=y.length;x!==S;x++){const _=y[x];if(_>=0)for(let P=0;P!==S;P++){const F=y[P];F>=0&&Ot.isEmpty(d.get(F,_))&&Ot.embedPositionAdjustmentPattern(F-2,_-2,d)}}}}Ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ot.VERSION_INFO_POLY=7973,Ot.TYPE_INFO_POLY=1335,Ot.TYPE_INFO_MASK_PATTERN=21522;class Pi{constructor(l,d){this.dataBytes=l,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mn{constructor(){}static calculateMaskPenalty(l){return Gt.applyMaskPenaltyRule1(l)+Gt.applyMaskPenaltyRule2(l)+Gt.applyMaskPenaltyRule3(l)+Gt.applyMaskPenaltyRule4(l)}static encode(l,d,g=null){let y=Mn.DEFAULT_BYTE_MODE_ENCODING;const x=g!==null&&g.get(Mt.CHARACTER_SET)!==void 0;x&&(y=g.get(Mt.CHARACTER_SET).toString());const S=this.chooseMode(l,y),_=new H;if(S===ln.BYTE&&(x||Mn.DEFAULT_BYTE_MODE_ENCODING!==y)){const dt=Y.getCharacterSetECIByName(y);dt!==void 0&&this.appendECI(dt,_)}this.appendModeInfo(S,_);const P=new H;this.appendBytes(l,S,P,y);let F;if(g!==null&&g.get(Mt.QR_VERSION)!==void 0){const dt=Number.parseInt(g.get(Mt.QR_VERSION).toString(),10);F=Lt.getVersionForNumber(dt);const ut=this.calculateBitsNeeded(S,_,P,F);if(!this.willFit(ut,F,d))throw new Nn("Data too big for requested version")}else F=this.recommendVersion(d,S,_,P);const K=new H;K.appendBitArray(_);const ne=S===ln.BYTE?P.getSizeInBytes():l.length;this.appendLengthInfo(ne,F,S,K),K.appendBitArray(P);const ue=F.getECBlocksForLevel(d),Ee=F.getTotalCodewords()-ue.getTotalECCodewords();this.terminateBits(Ee,K);const Oe=this.interleaveWithECBytes(K,F.getTotalCodewords(),Ee,ue.getNumBlocks()),De=new vr;De.setECLevel(d),De.setMode(S),De.setVersion(F);const Ue=F.getDimensionForVersion(),Ze=new Wn(Ue,Ue),ft=this.chooseMaskPattern(Oe,d,F,Ze);return De.setMaskPattern(ft),Ot.buildMatrix(Oe,d,F,ft,Ze),De.setMatrix(Ze),De}static recommendVersion(l,d,g,y){const x=this.calculateBitsNeeded(d,g,y,Lt.getVersionForNumber(1)),S=this.chooseVersion(x,l),_=this.calculateBitsNeeded(d,g,y,S);return this.chooseVersion(_,l)}static calculateBitsNeeded(l,d,g,y){return d.getSize()+l.getCharacterCountBits(y)+g.getSize()}static getAlphanumericCode(l){return l<Mn.ALPHANUMERIC_TABLE.length?Mn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,d=null){if(Y.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(l))return ln.KANJI;let g=!1,y=!1;for(let x=0,S=l.length;x<S;++x){const _=l.charAt(x);if(Mn.isDigit(_))g=!0;else if(this.getAlphanumericCode(_.charCodeAt(0))!==-1)y=!0;else return ln.BYTE}return y?ln.ALPHANUMERIC:g?ln.NUMERIC:ln.BYTE}static isOnlyDoubleByteKanji(l){let d;try{d=X.encode(l,Y.SJIS)}catch{return!1}const g=d.length;if(g%2!==0)return!1;for(let y=0;y<g;y+=2){const x=d[y]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(l,d,g,y){let x=Number.MAX_SAFE_INTEGER,S=-1;for(let _=0;_<vr.NUM_MASK_PATTERNS;_++){Ot.buildMatrix(l,d,g,_,y);let P=this.calculateMaskPenalty(y);P<x&&(x=P,S=_)}return S}static chooseVersion(l,d){for(let g=1;g<=40;g++){const y=Lt.getVersionForNumber(g);if(Mn.willFit(l,y,d))return y}throw new Nn("Data too big")}static willFit(l,d,g){const y=d.getTotalCodewords(),S=d.getECBlocksForLevel(g).getTotalECCodewords(),_=y-S,P=(l+7)/8;return _>=P}static terminateBits(l,d){const g=l*8;if(d.getSize()>g)throw new Nn("data bits cannot fit in the QR Code"+d.getSize()+" > "+g);for(let S=0;S<4&&d.getSize()<g;++S)d.appendBit(!1);const y=d.getSize()&7;if(y>0)for(let S=y;S<8;S++)d.appendBit(!1);const x=l-d.getSizeInBytes();for(let S=0;S<x;++S)d.appendBits((S&1)===0?236:17,8);if(d.getSize()!==g)throw new Nn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,d,g,y,x,S){if(y>=g)throw new Nn("Block ID too large");const _=l%g,P=g-_,F=Math.floor(l/g),K=F+1,ne=Math.floor(d/g),ue=ne+1,Ee=F-ne,Oe=K-ue;if(Ee!==Oe)throw new Nn("EC bytes mismatch");if(g!==P+_)throw new Nn("RS blocks mismatch");if(l!==(ne+Ee)*P+(ue+Oe)*_)throw new Nn("Total bytes mismatch");y<P?(x[0]=ne,S[0]=Ee):(x[0]=ue,S[0]=Oe)}static interleaveWithECBytes(l,d,g,y){if(l.getSizeInBytes()!==g)throw new Nn("Number of bits and data bytes does not match");let x=0,S=0,_=0;const P=new Array;for(let K=0;K<y;++K){const ne=new Int32Array(1),ue=new Int32Array(1);Mn.getNumDataBytesAndNumECBytesForBlockID(d,g,y,K,ne,ue);const Ee=ne[0],Oe=new Uint8Array(Ee);l.toBytes(8*x,Oe,0,Ee);const De=Mn.generateECBytes(Oe,ue[0]);P.push(new Pi(Oe,De)),S=Math.max(S,Ee),_=Math.max(_,De.length),x+=ne[0]}if(g!==x)throw new Nn("Data bytes does not match offset");const F=new H;for(let K=0;K<S;++K)for(const ne of P){const ue=ne.getDataBytes();K<ue.length&&F.appendBits(ue[K],8)}for(let K=0;K<_;++K)for(const ne of P){const ue=ne.getErrorCorrectionBytes();K<ue.length&&F.appendBits(ue[K],8)}if(d!==F.getSizeInBytes())throw new Nn("Interleaving error: "+d+" and "+F.getSizeInBytes()+" differ.");return F}static generateECBytes(l,d){const g=l.length,y=new Int32Array(g+d);for(let S=0;S<g;S++)y[S]=l[S]&255;new bn(gt.QR_CODE_FIELD_256).encode(y,d);const x=new Uint8Array(d);for(let S=0;S<d;S++)x[S]=y[g+S];return x}static appendModeInfo(l,d){d.appendBits(l.getBits(),4)}static appendLengthInfo(l,d,g,y){const x=g.getCharacterCountBits(d);if(l>=1<<x)throw new Nn(l+" is bigger than "+((1<<x)-1));y.appendBits(l,x)}static appendBytes(l,d,g,y){switch(d){case ln.NUMERIC:Mn.appendNumericBytes(l,g);break;case ln.ALPHANUMERIC:Mn.appendAlphanumericBytes(l,g);break;case ln.BYTE:Mn.append8BitBytes(l,g,y);break;case ln.KANJI:Mn.appendKanjiBytes(l,g);break;default:throw new Nn("Invalid mode: "+d)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const d=Mn.getDigit(l);return d>=0&&d<=9}static appendNumericBytes(l,d){const g=l.length;let y=0;for(;y<g;){const x=Mn.getDigit(l.charAt(y));if(y+2<g){const S=Mn.getDigit(l.charAt(y+1)),_=Mn.getDigit(l.charAt(y+2));d.appendBits(x*100+S*10+_,10),y+=3}else if(y+1<g){const S=Mn.getDigit(l.charAt(y+1));d.appendBits(x*10+S,7),y+=2}else d.appendBits(x,4),y++}}static appendAlphanumericBytes(l,d){const g=l.length;let y=0;for(;y<g;){const x=Mn.getAlphanumericCode(l.charCodeAt(y));if(x===-1)throw new Nn;if(y+1<g){const S=Mn.getAlphanumericCode(l.charCodeAt(y+1));if(S===-1)throw new Nn;d.appendBits(x*45+S,11),y+=2}else d.appendBits(x,6),y++}}static append8BitBytes(l,d,g){let y;try{y=X.encode(l,g)}catch(x){throw new Nn(x)}for(let x=0,S=y.length;x!==S;x++){const _=y[x];d.appendBits(_,8)}}static appendKanjiBytes(l,d){let g;try{g=X.encode(l,Y.SJIS)}catch(x){throw new Nn(x)}const y=g.length;for(let x=0;x<y;x+=2){const S=g[x]&255,_=g[x+1]&255,P=S<<8&4294967295|_;let F=-1;if(P>=33088&&P<=40956?F=P-33088:P>=57408&&P<=60351&&(F=P-49472),F===-1)throw new Nn("Invalid byte sequence");const K=(F>>8)*192+(F&255);d.appendBits(K,13)}}static appendECI(l,d){d.appendBits(ln.ECI.getBits(),4),d.appendBits(l.getValue(),8)}}Mn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mn.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class Qr{write(l,d,g,y=null){if(l.length===0)throw new v("Found empty contents");if(d<0||g<0)throw new v("Requested dimensions are too small: "+d+"x"+g);let x=In.L,S=Qr.QUIET_ZONE_SIZE;y!==null&&(y.get(Mt.ERROR_CORRECTION)!==void 0&&(x=In.fromString(y.get(Mt.ERROR_CORRECTION).toString())),y.get(Mt.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Mt.MARGIN).toString(),10)));const _=Mn.encode(l,x,y);return this.renderResult(_,d,g,S)}writeToDom(l,d,g,y,x=null){typeof l=="string"&&(l=document.querySelector(l));const S=this.write(d,g,y,x);l&&l.appendChild(S)}renderResult(l,d,g,y){const x=l.getMatrix();if(x===null)throw new be;const S=x.getWidth(),_=x.getHeight(),P=S+y*2,F=_+y*2,K=Math.max(d,P),ne=Math.max(g,F),ue=Math.min(Math.floor(K/P),Math.floor(ne/F)),Ee=Math.floor((K-S*ue)/2),Oe=Math.floor((ne-_*ue)/2),De=this.createSVGElement(K,ne);for(let Ue=0,Ze=Oe;Ue<_;Ue++,Ze+=ue)for(let ft=0,dt=Ee;ft<S;ft++,dt+=ue)if(x.get(ft,Ue)===1){const ut=this.createSvgRectElement(dt,Ze,ue,ue);De.appendChild(ut)}return De}createSVGElement(l,d){const g=document.createElementNS(Qr.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",d.toString()),g}createSvgRectElement(l,d,g,y){const x=document.createElementNS(Qr.SVG_NS,"rect");return x.setAttributeNS(null,"x",l.toString()),x.setAttributeNS(null,"y",d.toString()),x.setAttributeNS(null,"height",g.toString()),x.setAttributeNS(null,"width",y.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Qr.QUIET_ZONE_SIZE=4,Qr.SVG_NS="http://www.w3.org/2000/svg";class Va{encode(l,d,g,y,x){if(l.length===0)throw new v("Found empty contents");if(d!==xe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+d);if(g<0||y<0)throw new v(`Requested dimensions are too small: ${g}x${y}`);let S=In.L,_=Va.QUIET_ZONE_SIZE;x!==null&&(x.get(Mt.ERROR_CORRECTION)!==void 0&&(S=In.fromString(x.get(Mt.ERROR_CORRECTION).toString())),x.get(Mt.MARGIN)!==void 0&&(_=Number.parseInt(x.get(Mt.MARGIN).toString(),10)));const P=Mn.encode(l,S,x);return Va.renderResult(P,g,y,_)}static renderResult(l,d,g,y){const x=l.getMatrix();if(x===null)throw new be;const S=x.getWidth(),_=x.getHeight(),P=S+y*2,F=_+y*2,K=Math.max(d,P),ne=Math.max(g,F),ue=Math.min(Math.floor(K/P),Math.floor(ne/F)),Ee=Math.floor((K-S*ue)/2),Oe=Math.floor((ne-_*ue)/2),De=new se(K,ne);for(let Ue=0,Ze=Oe;Ue<_;Ue++,Ze+=ue)for(let ft=0,dt=Ee;ft<S;ft++,dt+=ue)x.get(ft,Ue)===1&&De.setRegion(dt,Ze,ue,ue);return De}}Va.QUIET_ZONE_SIZE=4;class Vo{encode(l,d,g,y,x){let S;switch(d){case xe.QR_CODE:S=new Va;break;default:throw new v("No encoder available for format "+d)}return S.encode(l,d,g,y,x)}}class Fi extends Te{constructor(l,d,g,y,x,S,_,P){if(super(S,_),this.yuvData=l,this.dataWidth=d,this.dataHeight=g,this.left=y,this.top=x,y+S>d||x+_>g)throw new v("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(S,_)}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth();(d==null||d.length<g)&&(d=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,y,d,0,g),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.yuvData;const g=l*d,y=new Uint8ClampedArray(g);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return I.arraycopy(this.yuvData,x,y,0,g),y;for(let S=0;S<d;S++){const _=S*l;I.arraycopy(this.yuvData,x,y,_,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,d,g,y){return new Fi(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+d,g,y,!1)}renderThumbnail(){const l=this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*d),y=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let S=0;S<d;S++){const _=S*l;for(let P=0;P<l;P++){const F=y[x+P*Fi.THUMBNAIL_SCALE_FACTOR]&255;g[_+P]=4278190080|F*65793}x+=this.dataWidth*Fi.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,d){const g=this.yuvData;for(let y=0,x=this.top*this.dataWidth+this.left;y<d;y++,x+=this.dataWidth){const S=x+l/2;for(let _=x,P=x+l-1;_<S;_++,P--){const F=g[_];g[_]=g[P],g[P]=F}}}invert(){return new Me(this)}}Fi.THUMBNAIL_SCALE_FACTOR=2;class Il extends Te{constructor(l,d,g,y,x,S,_){if(super(d,g),this.dataWidth=y,this.dataHeight=x,this.left=S,this.top=_,l.BYTES_PER_ELEMENT===4){const P=d*g,F=new Uint8ClampedArray(P);for(let K=0;K<P;K++){const ne=l[K],ue=ne>>16&255,Ee=ne>>7&510,Oe=ne&255;F[K]=(ue+Ee+Oe)/4&255}this.luminances=F}else this.luminances=l;if(y===void 0&&(this.dataWidth=d),x===void 0&&(this.dataHeight=g),S===void 0&&(this.left=0),_===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+g>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth();(d==null||d.length<g)&&(d=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,y,d,0,g),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.luminances;const g=l*d,y=new Uint8ClampedArray(g);let x=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return I.arraycopy(this.luminances,x,y,0,g),y;for(let S=0;S<d;S++){const _=S*l;I.arraycopy(this.luminances,x,y,_,l),x+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,d,g,y){return new Il(this.luminances,g,y,this.dataWidth,this.dataHeight,this.left+l,this.top+d)}invert(){return new Me(this)}}class Ml extends Y{static forName(l){return this.getCharacterSetECIByName(l)}}class wo{}wo.ISO_8859_1=Y.ISO8859_1;class Ao{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class rl{static singletonList(l){return[l]}static min(l,d){return l.sort(d)[0]}}class Ls{constructor(l){this.previous=l}getPrevious(){return this.previous}}class ei extends Ls{constructor(l,d,g){super(l),this.value=d,this.bitCount=g}appendTo(l,d){l.appendBits(this.value,this.bitCount)}add(l,d){return new ei(this,l,d)}addBinaryShift(l,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ei(this,l,d)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+U.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class us extends ei{constructor(l,d,g){super(l,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=g}appendTo(l,d){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(d[this.binaryShiftStart+g],8)}addBinaryShift(l,d){return new us(this,l,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function il(te,l,d){return new us(te,l,d)}function fs(te,l,d){return new ei(te,l,d)}const ds=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ci=0,So=1,ta=2,rc=3,ui=4,Go=new ei(null,0,0),Yo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Lc(te){for(let l of te)q.fill(l,-1);return te[ci][ui]=0,te[So][ui]=0,te[So][ci]=28,te[rc][ui]=0,te[ta][ui]=0,te[ta][ci]=15,te}const Eo=Lc(q.createInt32Array(6,6));class na{constructor(l,d,g,y){this.token=l,this.mode=d,this.binaryShiftByteCount=g,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,d){let g=this.bitCount,y=this.token;if(l!==this.mode){let S=Yo[this.mode][l];y=fs(y,S&65535,S>>16),g+=S>>16}let x=l===ta?4:5;return y=fs(y,d,x),new na(y,l,0,g+x)}shiftAndAppend(l,d){let g=this.token,y=this.mode===ta?4:5;return g=fs(g,Eo[this.mode][l],y),g=fs(g,d,5),new na(g,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let d=this.token,g=this.mode,y=this.bitCount;if(this.mode===ui||this.mode===ta){let _=Yo[g][ci];d=fs(d,_&65535,_>>16),y+=_>>16,g=ci}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new na(d,g,this.binaryShiftByteCount+1,y+x);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(l+1)),S}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=il(d,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new na(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let d=this.bitCount+(Yo[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?d+=na.calculateBinaryShiftCost(l)-na.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(d+=10),d<=l.bitCount}toBitArray(l){let d=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())d.unshift(y);let g=new H;for(const y of d)y.appendTo(g,l);return g}toString(){return J.format("%s bits=%d bytes=%d",ds[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}na.INITIAL_STATE=new na(Go,ci,0,0);function Ga(te){const l=J.getCharCode(" "),d=J.getCharCode("."),g=J.getCharCode(",");te[ci][l]=1;const y=J.getCharCode("Z"),x=J.getCharCode("A");for(let ue=x;ue<=y;ue++)te[ci][ue]=ue-x+2;te[So][l]=1;const S=J.getCharCode("z"),_=J.getCharCode("a");for(let ue=_;ue<=S;ue++)te[So][ue]=ue-_+2;te[ta][l]=1;const P=J.getCharCode("9"),F=J.getCharCode("0");for(let ue=F;ue<=P;ue++)te[ta][ue]=ue-F+2;te[ta][g]=12,te[ta][d]=13;const K=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ue=0;ue<K.length;ue++)te[rc][J.getCharCode(K[ue])]=ue;const ne=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ue=0;ue<ne.length;ue++)J.getCharCode(ne[ue])>0&&(te[ui][J.getCharCode(ne[ue])]=ue);return te}const ra=Ga(q.createInt32Array(5,256));class Ya{constructor(l){this.text=l}encode(){const l=J.getCharCode(" "),d=J.getCharCode(`
`);let g=rl.singletonList(na.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let S,_=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case J.getCharCode("\r"):S=_===d?2:0;break;case J.getCharCode("."):S=_===l?3:0;break;case J.getCharCode(","):S=_===l?4:0;break;case J.getCharCode(":"):S=_===l?5:0;break;default:S=0}S>0?(g=Ya.updateStateListForPair(g,x,S),x++):g=this.updateStateListForChar(g,x)}return rl.min(g,(x,S)=>x.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,d){const g=[];for(let y of l)this.updateStateForChar(y,d,g);return Ya.simplifyStates(g)}updateStateForChar(l,d,g){let y=this.text[d]&255,x=ra[l.getMode()][y]>0,S=null;for(let _=0;_<=ui;_++){let P=ra[_][y];if(P>0){if(S==null&&(S=l.endBinaryShift(d)),!x||_===l.getMode()||_===ta){const F=S.latchAndAppend(_,P);g.push(F)}if(!x&&Eo[l.getMode()][_]>=0){const F=S.shiftAndAppend(_,P);g.push(F)}}}if(l.getBinaryShiftByteCount()>0||ra[l.getMode()][y]===0){let _=l.addBinaryShiftChar(d);g.push(_)}}static updateStateListForPair(l,d,g){const y=[];for(let x of l)this.updateStateForPair(x,d,g,y);return this.simplifyStates(y)}static updateStateForPair(l,d,g,y){let x=l.endBinaryShift(d);if(y.push(x.latchAndAppend(ui,g)),l.getMode()!==ui&&y.push(x.shiftAndAppend(ui,g)),g===3||g===4){let S=x.latchAndAppend(ta,16-g).latchAndAppend(ta,1);y.push(S)}if(l.getBinaryShiftByteCount()>0){let S=l.addBinaryShiftChar(d).addBinaryShiftChar(d+1);y.push(S)}}static simplifyStates(l){let d=[];for(const g of l){let y=!0;for(const x of d){if(x.isBetterThanOrEqualTo(g)){y=!1;break}g.isBetterThanOrEqualTo(x)&&(d=d.filter(S=>S!==x))}y&&d.push(g)}return d}}class Rn{constructor(){}static encodeBytes(l){return Rn.encode(l,Rn.DEFAULT_EC_PERCENT,Rn.DEFAULT_AZTEC_LAYERS)}static encode(l,d,g){let y=new Ya(l).encode(),x=U.truncDivision(y.getSize()*d,100)+11,S=y.getSize()+x,_,P,F,K,ne;if(g!==Rn.DEFAULT_AZTEC_LAYERS){if(_=g<0,P=Math.abs(g),P>(_?Rn.MAX_NB_BITS_COMPACT:Rn.MAX_NB_BITS))throw new v(J.format("Illegal value %s for layers",g));F=Rn.totalBitsInLayer(P,_),K=Rn.WORD_SIZE[P];let ut=F-F%K;if(ne=Rn.stuffBits(y,K),ne.getSize()+x>ut)throw new v("Data to large for user specified layer");if(_&&ne.getSize()>K*64)throw new v("Data to large for user specified layer")}else{K=0,ne=null;for(let ut=0;;ut++){if(ut>Rn.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(_=ut<=3,P=_?ut+1:ut,F=Rn.totalBitsInLayer(P,_),S>F)continue;(ne==null||K!==Rn.WORD_SIZE[P])&&(K=Rn.WORD_SIZE[P],ne=Rn.stuffBits(y,K));let cn=F-F%K;if(!(_&&ne.getSize()>K*64)&&ne.getSize()+x<=cn)break}}let ue=Rn.generateCheckWords(ne,F,K),Ee=ne.getSize()/K,Oe=Rn.generateModeMessage(_,P,Ee),De=(_?11:14)+P*4,Ue=new Int32Array(De),Ze;if(_){Ze=De;for(let ut=0;ut<Ue.length;ut++)Ue[ut]=ut}else{Ze=De+1+2*U.truncDivision(U.truncDivision(De,2)-1,15);let ut=U.truncDivision(De,2),cn=U.truncDivision(Ze,2);for(let vn=0;vn<ut;vn++){let Gr=vn+U.truncDivision(vn,15);Ue[ut-vn-1]=cn-Gr-1,Ue[ut+vn]=cn+Gr+1}}let ft=new se(Ze);for(let ut=0,cn=0;ut<P;ut++){let vn=(P-ut)*4+(_?9:12);for(let Gr=0;Gr<vn;Gr++){let ia=Gr*2;for(let Ui=0;Ui<2;Ui++)ue.get(cn+ia+Ui)&&ft.set(Ue[ut*2+Ui],Ue[ut*2+Gr]),ue.get(cn+vn*2+ia+Ui)&&ft.set(Ue[ut*2+Gr],Ue[De-1-ut*2-Ui]),ue.get(cn+vn*4+ia+Ui)&&ft.set(Ue[De-1-ut*2-Ui],Ue[De-1-ut*2-Gr]),ue.get(cn+vn*6+ia+Ui)&&ft.set(Ue[De-1-ut*2-Gr],Ue[ut*2+Ui])}cn+=vn*8}if(Rn.drawModeMessage(ft,_,Ze,Oe),_)Rn.drawBullsEye(ft,U.truncDivision(Ze,2),5);else{Rn.drawBullsEye(ft,U.truncDivision(Ze,2),7);for(let ut=0,cn=0;ut<U.truncDivision(De,2)-1;ut+=15,cn+=16)for(let vn=U.truncDivision(Ze,2)&1;vn<Ze;vn+=2)ft.set(U.truncDivision(Ze,2)-cn,vn),ft.set(U.truncDivision(Ze,2)+cn,vn),ft.set(vn,U.truncDivision(Ze,2)-cn),ft.set(vn,U.truncDivision(Ze,2)+cn)}let dt=new Ao;return dt.setCompact(_),dt.setSize(Ze),dt.setLayers(P),dt.setCodeWords(Ee),dt.setMatrix(ft),dt}static drawBullsEye(l,d,g){for(let y=0;y<g;y+=2)for(let x=d-y;x<=d+y;x++)l.set(x,d-y),l.set(x,d+y),l.set(d-y,x),l.set(d+y,x);l.set(d-g,d-g),l.set(d-g+1,d-g),l.set(d-g,d-g+1),l.set(d+g,d-g),l.set(d+g,d-g+1),l.set(d+g,d+g-1)}static generateModeMessage(l,d,g){let y=new H;return l?(y.appendBits(d-1,2),y.appendBits(g-1,6),y=Rn.generateCheckWords(y,28,4)):(y.appendBits(d-1,5),y.appendBits(g-1,11),y=Rn.generateCheckWords(y,40,4)),y}static drawModeMessage(l,d,g,y){let x=U.truncDivision(g,2);if(d)for(let S=0;S<7;S++){let _=x-3+S;y.get(S)&&l.set(_,x-5),y.get(S+7)&&l.set(x+5,_),y.get(20-S)&&l.set(_,x+5),y.get(27-S)&&l.set(x-5,_)}else for(let S=0;S<10;S++){let _=x-5+S+U.truncDivision(S,5);y.get(S)&&l.set(_,x-7),y.get(S+10)&&l.set(x+7,_),y.get(29-S)&&l.set(_,x+7),y.get(39-S)&&l.set(x-7,_)}}static generateCheckWords(l,d,g){let y=l.getSize()/g,x=new bn(Rn.getGF(g)),S=U.truncDivision(d,g),_=Rn.bitsToWords(l,g,S);x.encode(_,S-y);let P=d%g,F=new H;F.appendBits(0,P);for(const K of Array.from(_))F.appendBits(K,g);return F}static bitsToWords(l,d,g){let y=new Int32Array(g),x,S;for(x=0,S=l.getSize()/d;x<S;x++){let _=0;for(let P=0;P<d;P++)_|=l.get(x*d+P)?1<<d-P-1:0;y[x]=_}return y}static getGF(l){switch(l){case 4:return gt.AZTEC_PARAM;case 6:return gt.AZTEC_DATA_6;case 8:return gt.AZTEC_DATA_8;case 10:return gt.AZTEC_DATA_10;case 12:return gt.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,d){let g=new H,y=l.getSize(),x=(1<<d)-2;for(let S=0;S<y;S+=d){let _=0;for(let P=0;P<d;P++)(S+P>=y||l.get(S+P))&&(_|=1<<d-1-P);(_&x)===x?(g.appendBits(_&x,d),S--):(_&x)===0?(g.appendBits(_|1,d),S--):g.appendBits(_,d)}return g}static totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}Rn.DEFAULT_EC_PERCENT=33,Rn.DEFAULT_AZTEC_LAYERS=0,Rn.MAX_NB_BITS=32,Rn.MAX_NB_BITS_COMPACT=4,Rn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Co{encode(l,d,g,y){return this.encodeWithHints(l,d,g,y,null)}encodeWithHints(l,d,g,y,x){let S=wo.ISO_8859_1,_=Rn.DEFAULT_EC_PERCENT,P=Rn.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Mt.CHARACTER_SET)&&(S=Ml.forName(x.get(Mt.CHARACTER_SET).toString())),x.has(Mt.ERROR_CORRECTION)&&(_=U.parseInt(x.get(Mt.ERROR_CORRECTION).toString())),x.has(Mt.AZTEC_LAYERS)&&(P=U.parseInt(x.get(Mt.AZTEC_LAYERS).toString()))),Co.encodeLayers(l,d,g,y,S,_,P)}static encodeLayers(l,d,g,y,x,S,_){if(d!==xe.AZTEC)throw new v("Can only encode AZTEC, but got "+d);let P=Rn.encode(J.getBytes(l,x),S,_);return Co.renderResult(P,g,y)}static renderResult(l,d,g){let y=l.getMatrix();if(y==null)throw new be;let x=y.getWidth(),S=y.getHeight(),_=Math.max(d,x),P=Math.max(g,S),F=Math.min(_/x,P/S),K=(_-x*F)/2,ne=(P-S*F)/2,ue=new se(_,P);for(let Ee=0,Oe=ne;Ee<S;Ee++,Oe+=F)for(let De=0,Ue=K;De<x;De++,Ue+=F)y.get(De,Ee)&&ue.setRegion(Ue,Oe,F,F);return ue}}n.AbstractExpandedDecoder=mr,n.ArgumentException=p,n.ArithmeticException=Ve,n.AztecCode=Ao,n.AztecCodeReader=Kt,n.AztecCodeWriter=Co,n.AztecDecoder=Tt,n.AztecDetector=Tn,n.AztecDetectorResult=an,n.AztecEncoder=Rn,n.AztecHighLevelEncoder=Ya,n.AztecPoint=Rt,n.BarcodeFormat=xe,n.Binarizer=k,n.BinaryBitmap=E,n.BitArray=H,n.BitMatrix=se,n.BitSource=co,n.BrowserAztecCodeReader=Jr,n.BrowserBarcodeReader=Pc,n.BrowserCodeReader=le,n.BrowserDatamatrixCodeReader=Na,n.BrowserMultiFormatReader=ze,n.BrowserPDF417Reader=pt,n.BrowserQRCodeReader=wt,n.BrowserQRCodeSvgWriter=Qr,n.CharacterSetECI=Y,n.ChecksumException=A,n.Code128Reader=ot,n.Code39Reader=jt,n.DataMatrixDecodedBitStreamParser=yo,n.DataMatrixReader=xo,n.DecodeHintType=Q,n.DecoderResult=Ie,n.DefaultGridSampler=Fn,n.DetectorResult=rn,n.EAN13Reader=Ct,n.EncodeHintType=Mt,n.Exception=f,n.FormatException=G,n.GenericGF=gt,n.GenericGFPoly=nt,n.GlobalHistogramBinarizer=he,n.GridSampler=Dn,n.GridSamplerInstance=Sn,n.HTMLCanvasElementLuminanceSource=Qe,n.HybridBinarizer=Ae,n.ITFReader=Ft,n.IllegalArgumentException=v,n.IllegalStateException=be,n.InvertedLuminanceSource=Me,n.LuminanceSource=Te,n.MathUtils=rt,n.MultiFormatOneDReader=Ua,n.MultiFormatReader=Pe,n.MultiFormatWriter=Vo,n.NotFoundException=ae,n.OneDReader=tn,n.PDF417DecodedBitStreamParser=tt,n.PDF417DecoderErrorCorrection=qa,n.PDF417Reader=re,n.PDF417ResultMetadata=ls,n.PerspectiveTransform=sn,n.PlanarYUVLuminanceSource=Fi,n.QRCodeByteMatrix=Wn,n.QRCodeDataMask=pa,n.QRCodeDecodedBitStreamParser=_r,n.QRCodeDecoderErrorCorrectionLevel=In,n.QRCodeDecoderFormatInformation=pi,n.QRCodeEncoder=Mn,n.QRCodeEncoderQRCode=vr,n.QRCodeMaskUtil=Gt,n.QRCodeMatrixUtil=Ot,n.QRCodeMode=ln,n.QRCodeReader=qo,n.QRCodeVersion=Lt,n.QRCodeWriter=Va,n.RGBLuminanceSource=Il,n.RSS14Reader=ar,n.RSSExpandedReader=xt,n.ReaderException=Ce,n.ReedSolomonDecoder=At,n.ReedSolomonEncoder=bn,n.ReedSolomonException=St,n.Result=ce,n.ResultMetadataType=Fe,n.ResultPoint=st,n.StringUtils=J,n.UnsupportedOperationException=me,n.VideoInputDevice=ye,n.WhiteRectangleDetector=dn,n.WriterException=Nn,n.ZXingArrays=q,n.ZXingCharset=Ml,n.ZXingInteger=U,n.ZXingStandardCharsets=wo,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=X,n.ZXingSystem=I,n.createAbstractExpandedDecoder=el,Object.defineProperty(n,"__esModule",{value:!0})}))})(Gh,Gh.exports)),Gh.exports}var xi=_ae();const Tae=Jl(xi),Iae=sM({__proto__:null,default:Tae},[xi]);var n8=(function(){function e(t,n,r){if(this.formatMap=new Map([[Yt.QR_CODE,xi.BarcodeFormat.QR_CODE],[Yt.AZTEC,xi.BarcodeFormat.AZTEC],[Yt.CODABAR,xi.BarcodeFormat.CODABAR],[Yt.CODE_39,xi.BarcodeFormat.CODE_39],[Yt.CODE_93,xi.BarcodeFormat.CODE_93],[Yt.CODE_128,xi.BarcodeFormat.CODE_128],[Yt.DATA_MATRIX,xi.BarcodeFormat.DATA_MATRIX],[Yt.MAXICODE,xi.BarcodeFormat.MAXICODE],[Yt.ITF,xi.BarcodeFormat.ITF],[Yt.EAN_13,xi.BarcodeFormat.EAN_13],[Yt.EAN_8,xi.BarcodeFormat.EAN_8],[Yt.PDF_417,xi.BarcodeFormat.PDF_417],[Yt.RSS_14,xi.BarcodeFormat.RSS_14],[Yt.RSS_EXPANDED,xi.BarcodeFormat.RSS_EXPANDED],[Yt.UPC_A,xi.BarcodeFormat.UPC_A],[Yt.UPC_E,xi.BarcodeFormat.UPC_E],[Yt.UPC_EAN_EXTENSION,xi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Iae)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(xi.DecodeHintType.POSSIBLE_FORMATS,i),a.set(xi.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new xi.MultiFormatReader(this.verbose,this.hints),r=new xi.HTMLCanvasElementLuminanceSource(t),i=new xi.BinaryBitmap(new xi.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:WP.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),Mae=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},kae=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},r8=(function(){function e(t,n,r){if(this.formatMap=new Map([[Yt.QR_CODE,"qr_code"],[Yt.AZTEC,"aztec"],[Yt.CODABAR,"codabar"],[Yt.CODE_39,"code_39"],[Yt.CODE_93,"code_93"],[Yt.CODE_128,"code_128"],[Yt.DATA_MATRIX,"data_matrix"],[Yt.ITF,"itf"],[Yt.EAN_13,"ean_13"],[Yt.EAN_8,"ean_8"],[Yt.PDF_417,"pdf417"],[Yt.UPC_A,"upc_a"],[Yt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Mae(this,void 0,void 0,function(){var n,r;return kae(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:WP.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var s=a[i],c=s.boundingBox.width*s.boundingBox.height;c>r&&(r=c,n=s)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),i8=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},a8=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Oae=(function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&r8.isSupported()?(this.primaryDecoder=new r8(t,r,i),this.secondaryDecoder=new n8(t,r,i)):this.primaryDecoder=new n8(t,r,i)}return e.prototype.decodeAsync=function(t){return i8(this,void 0,void 0,function(){var n;return a8(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return i8(this,void 0,void 0,function(){var n,r;return a8(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),MS=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Mm=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},km=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},JP=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),Rae=(function(e){MS(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(JP),Pae=(function(e){MS(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(Rae),Dae=(function(e){MS(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(JP),Lae=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Pae(this.track)},e.prototype.torchFeature=function(){return new Dae(this.track)},e})(),jae=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Mm(this,void 0,void 0,function(){var a,s;return km(this,function(c){switch(c.label){case 0:return a=new e(t,n,i),r.aspectRatio?(s={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:c.sent(),c.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Mm(this,void 0,void 0,function(){return km(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,s=0;t.mediaStream.getVideoTracks().forEach(function(c){t.mediaStream.removeTrack(c),c.stop(),++s,s>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Lae(this.getFirstTrackOrFail())},e})(),Bae=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Mm(this,void 0,void 0,function(){return km(this,function(i){return[2,jae.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Mm(this,void 0,void 0,function(){var n,r;return km(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),o8=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},s8=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Fae=(function(){function e(){}return e.failIfNotSupported=function(){return o8(this,void 0,void 0,function(){return s8(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return o8(this,void 0,void 0,function(){return s8(this,function(n){return[2,Bae.create(t)]})})},e})(),Uae=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},zae=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},qae=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=u0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=u0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Uae(this,void 0,void 0,function(){var t,n,r,i,a,s,c;return zae(this,function(h){switch(h.label){case 0:return t=function(f){for(var p=f.getVideoTracks(),v=0,E=p;v<E.length;v++){var A=E[v];A.enabled=!1,A.stop(),f.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),i=[],a=0,s=r;a<s.length;a++)c=s[a],c.kind==="videoinput"&&i.push({id:c.deviceId,label:c.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var s=[],c=0,h=a;c<h.length;c++){var f=h[c];f.kind==="video"&&s.push({id:f.id,label:f.label})}t(s)},i=MediaStreamTrack;i.getSources(r)})},e})(),Ki;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ki||(Ki={}));var Hae=(function(){function e(){this.state=Ki.NOT_STARTED,this.onGoingTransactionNewState=Ki.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ki.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ki.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ki.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ki.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ki.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ki.UNKNOWN:throw"Transition from unknown is not allowed";case Ki.NOT_STARTED:this.failIfNewStateIs(t,[Ki.PAUSED]);break;case Ki.SCANNING:break;case Ki.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),Vae=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ki.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ki.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ki.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ki.PAUSED},e})(),Gae=(function(){function e(){}return e.create=function(){return new Vae(new Hae)},e})(),Yae=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),qs=(function(e){Yae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(ql),Wae=(function(){function e(t,n){this.logger=n,this.fps=qs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=qs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?XP.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!xc(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),l8=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new $P(this.verbose),this.qrcode=new Oae(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Gae.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var s;i?s=i:s=this.verbose?this.logger.log:function(){};var c=Wae.create(n,this.logger);this.clearElement();var h=!1;c.videoConstraints&&(c.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=h,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:qs.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var v=this,E=this.stateManagerProxy.startTransition(Ki.SCANNING);return new Promise(function(A,k){var I=f?c.videoConstraints:v.createVideoConstraints(t);if(!I){E.cancel(),k("videoConstraints should be defined");return}var R={};(!f||c.aspectRatio)&&(R.aspectRatio=c.aspectRatio);var L={onRenderSurfaceReady:function(q,U){v.setupUi(q,U,c),v.isScanning=!0,v.foreverScan(c,r,s)}};Fae.failIfNotSupported().then(function(q){q.create(I).then(function(U){return U.render(a.element,R,L).then(function(H){v.renderedCamera=H,E.execute(),A(null)}).catch(function(H){E.cancel(),k(H)})}).catch(function(U){E.cancel(),k(u0.errorGettingUserMedia(U))})}).catch(function(q){E.cancel(),k(u0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ki.PAUSED),this.showPausedState(),(xc(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Ki.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ki.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(qs.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(xc(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var s=new Image;s.onload=function(){var c=s.width,h=s.height,f=document.getElementById(r.elementId),p=f.clientWidth?f.clientWidth:qs.DEFAULT_WIDTH,v=Math.max(f.clientHeight?f.clientHeight:h,qs.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(c,h,p,v);if(n){var A=r.createCanvasElement(p,v,"qr-canvas-visible");A.style.display="inline-block",f.appendChild(A);var k=A.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=p,k.canvas.height=v,k.drawImage(s,0,0,c,h,E.x,E.y,E.width,E.height)}var I=qs.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(s.width,E.width),L=Math.max(s.height,E.height),q=R+2*I,U=L+2*I,H=r.createCanvasElement(q,U);f.appendChild(H);var W=H.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=q,W.canvas.height=U,W.drawImage(s,0,0,c,h,I,I,R,L);try{r.qrcode.decodeRobustlyAsync(H).then(function(Q){i(QT.createFromQrcodeResult(Q))}).catch(a)}catch(Q){a("QR code parse error, error = ".concat(Q))}},s.onerror=a,s.onabort=a,s.onstalled=a,s.onsuspend=a,s.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return qae.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!XP.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Yt.QR_CODE,Yt.AZTEC,Yt.CODABAR,Yt.CODE_39,Yt.CODE_93,Yt.CODE_128,Yt.DATA_MATRIX,Yt.MAXICODE,Yt.ITF,Yt.EAN_13,Yt.EAN_8,Yt.PDF_417,Yt.RSS_14,Yt.RSS_EXPANDED,Yt.UPC_A,Yt.UPC_E,Yt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var s=a[i];Eae(s)?r.push(s):this.logger.warn("Invalid format: ".concat(s," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(xc(t))return!0;if(!xc(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(xc(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return xc(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(t,n,a),c=function(f){if(f<qs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qs.MIN_QR_BOX_SIZE,"px.")},h=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};c(s.width),c(s.height),s.width=h(s.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=xc(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var s=r.isShadedBoxEnabled()&&a.height<=n,c={x:0,y:0,width:t,height:n},h=s?this.getShadedRegionBounds(t,n,a):c,f=this.createCanvasElement(h.width,h.height),p={willReadFrequently:!0},v=f.getContext("2d",p);v.canvas.width=h.width,v.canvas.height=h.height,this.element.append(f),s&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=v,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=u0.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,QT.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=u0.codeParseError(i);return n(a,KP.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),s=a.videoWidth/a.clientWidth,c=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*s,f=this.qrRegion.height*c,p=this.qrRegion.x*s,v=this.qrRegion.y*c;this.context.drawImage(a,p,v,h,f,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(A){!A&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",s=function(k){if(k in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},c=Object.keys(t);if(c.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(c.length," keys");var h=Object.keys(t)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var f=t.facingMode;if(typeof f=="string"){if(s(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(s(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var p=typeof f;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,s=(i-n)/2;return{x:a,y:s,width:t,height:n}}else{var c=t,h=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(c,"X").concat(h)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?qs.BORDER_SHADER_MATCH_COLOR:qs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,s=document.createElement("canvas");return s.style.width="".concat(i,"px"),s.style.height="".concat(a,"px"),s.style.display="none",s.id=xc(r)?"qr-canvas":r,s},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var s=(n-i.width)/2,c=(r-i.height)/2;if(a.style.borderLeft="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(qs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var h=5,f=40;this.insertShaderBorders(a,f,h,-h,null,0,!0),this.insertShaderBorders(a,f,h,-h,null,0,!1),this.insertShaderBorders(a,f,h,null,-h,0,!0),this.insertShaderBorders(a,f,h,null,-h,0,!1),this.insertShaderBorders(a,h,f+h,-h,null,-h,!0),this.insertShaderBorders(a,h,f+h,null,-h,-h,!0),this.insertShaderBorders(a,h,f+h,-h,null,-h,!1),this.insertShaderBorders(a,h,f+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,s,c){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=qs.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),i!==null&&(h.style.top="".concat(i,"px")),a!==null&&(h.style.bottom="".concat(a,"px")),c?h.style.left="".concat(s,"px"):h.style.right="".concat(s,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),kS="data:image/svg+xml;base64,",Kae=kS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",$ae=kS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",c8=kS+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Xae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",u8=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),Jae=(function(){function e(){this.data=u8.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=u8.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),Zae=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=e8.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=e8.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),Qae=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=c8,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Xae,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=c8,this.infoIcon.style.opacity="0.6")},e})(),eoe=(function(){function e(){var t=this;this.infoDiv=new Zae,this.infoIcon=new Qae(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),toe=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},noe=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},f8=(function(){function e(){}return e.hasPermissions=function(){return toe(this,void 0,void 0,function(){var t,n,r,i;return noe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),Qu=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===pf.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===pf.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ql.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ql.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!ql.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),Ws=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),lu=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Ws.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),ZP=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function c(p){try{f(r.next(p))}catch(v){s(v)}}function h(p){try{f(r.throw(p))}catch(v){s(v)}}function f(p){p.done?a(p.value):i(p.value).then(c,h)}f((r=r.apply(e,t||[])).next())})},QP=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(p){return h([f,p])}}function h(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},d8=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return ZP(this,void 0,void 0,function(){var t,n;return QP(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ur.torchOffButton():Ur.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ur.torchOnFailedMessage():Ur.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),roe=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=lu.createElement("button",Ws.TORCH_BUTTON_ID),this.torchController=new d8(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ur.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return ZP(r,void 0,void 0,function(){return QP(this,function(s){switch(s.label){case 0:return[4,i.torchController.flipState()];case 1:return s.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ws.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ws.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ws.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ws.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new d8(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ur.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e})(),ioe=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=lu.createElement("button",Ws.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(c){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=lu.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(c){if(!(c==null||c.target==null)){var h=c.target;if(!(h.files&&h.files.length===0)){var f=h.files,p=f[0],v=p.name;a.setImageNameToButton(v),r(p)}}});var s=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(s),this.fileBasedScanRegion.addEventListener("dragenter",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(c){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),c.stopPropagation(),c.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(c){c.stopPropagation(),c.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var h=c.dataTransfer;if(h){var f=h.files;if(!f||f.length===0)return;for(var p=!1,v=0;v<f.length;++v){var E=f.item(v);if(E){var A=/image.*/;if(E.type.match(A)){p=!0;var k=E.name;a.setImageNameToButton(k),r(E),s.innerText=Ur.dragAndDropMessage();break}}}p||(s.innerText=Ur.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ur.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var s=Ur.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=s},e.prototype.setInitialValueToButton=function(){var t=Ur.fileSelectionChooseImage()+" - "+Ur.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e})(),aoe=(function(){function e(t){this.selectElement=lu.createElement("select",Ws.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Ur.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,s=0,c=this.cameras;s<c.length;s++){var h=c[s],f=h.id,p=h.label==null?f:h.label;(!p||p==="")&&(p=[Ur.anonymousCameraPrefix(),a++].join(" "));var v=document.createElement("option");v.value=f,v.innerText=p,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),ooe=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=lu.createElement("input",Ws.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ur.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ur.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),Hs;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Hs||(Hs={}));function soe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function loe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var eD=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Qu(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new $P(this.verbose),this.persistedDataManager=new Jae,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,s){if(t)t(a,s);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Ur.lastMatch(a),Hs.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,s){n&&n(a,s)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new l8(this.getScanRegionId(),loe(this.config,this.verbose))},e.prototype.pause=function(t){(xc(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ql.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ql.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ql.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ql.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ql.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ql.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ql.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Qu.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new eoe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Ur.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,n)};l8.getCameras().then(function(s){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),s&&s.length>0?(t.removeChild(n),i.renderCameraSelection(s)):(i.setHeaderMessage(Ur.noCameraFound(),Hs.STATUS_WARNING),a())}).catch(function(s){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(s,Hs.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=lu.createElement("button",this.getCameraPermissionButtonId());i.innerText=Ur.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Qu.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){f8.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Qu.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Qu.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Qu.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ur.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(s){r.resetHeaderMessage(),r.qrCodeSuccessCallback(s.decodedText,s)}).catch(function(s){r.setHeaderMessage(s,Hs.STATUS_WARNING),r.qrCodeErrorCallback(s,KP.createFrom(s))}))};this.fileSelectionUi=ioe.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=ooe.create(i,!1),s=function(I){var R=I.zoomFeature();if(R.isSupported()){a.setOnCameraZoomValueChangeCallback(function(q){R.apply(q)});var L=1;n.config.defaultZoomValueIfSupported&&(L=n.config.defaultZoomValueIfSupported),L=Cae(L,R.min(),R.max()),a.setValues(R.min(),R.max(),L,R.step()),a.show()}},c=aoe.create(i,t),h=document.createElement("span"),f=lu.createElement("button",Ws.CAMERA_START_BUTTON_ID);f.innerText=Ur.scanButtonStartScanningText(),h.appendChild(f);var p=lu.createElement("button",Ws.CAMERA_STOP_BUTTON_ID);p.innerText=Ur.scanButtonStopScanningText(),p.style.display="none",p.disabled=!0,h.appendChild(p);var v,E=function(I){if(!I.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(I.torchFeature()):v=roe.create(h,I.torchFeature(),{display:"none",marginLeft:"5px"},function(R){r.setHeaderMessage(R,Hs.STATUS_WARNING)}),v.show()};i.appendChild(h);var A=function(I){I||(f.style.display="none"),f.innerText=Ur.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,I&&(f.style.display="inline-block")};if(f.addEventListener("click",function(I){f.innerText=Ur.scanButtonScanningStarting(),c.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var R=c.getValue();r.persistedDataManager.setLastUsedCameraId(R),r.html5Qrcode.start(R,soe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(L){p.disabled=!1,p.style.display="inline-block",A(!1);var q=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(q),n.config.showZoomSliderIfSupported===!0&&s(q)}).catch(function(L){r.showHideScanTypeSwapLink(!0),c.enable(),A(!0),r.setHeaderMessage(L,Hs.STATUS_WARNING)})}),c.hasSingleItem()&&f.click(),p.addEventListener("click",function(I){if(!r.html5Qrcode)throw"html5Qrcode not defined";p.disabled=!0,r.html5Qrcode.stop().then(function(R){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),c.enable(),f.disabled=!1,p.style.display="none",f.style.display="inline-block",v&&(v.reset(),v.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(R){p.disabled=!1,r.setHeaderMessage(R,Hs.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var k=r.persistedDataManager.getLastUsedCameraId();c.hasValue(k)?(c.setValue(k),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ur.textIfCameraScanSelected(),r=Ur.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var s=lu.createElement("span",this.getDashboardSectionSwapLinkId());s.style.textDecoration="underline",s.style.cursor="pointer",s.innerText=Qu.isCameraScanType(this.currentScanType)?n:r,s.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Qu.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),s.innerText=r,t.currentScanType=pf.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),s.innerText=n,t.currentScanType=pf.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(s),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){f8.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Hs.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Hs.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Hs.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Hs.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Kae,this.cameraScanImage.alt=Ur.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=$ae,this.fileScanImage.alt=Ur.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ws.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ws.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const coe=({products:e,onEdit:t,onDelete:n,onAdd:r,isDark:i,onToggleTheme:a})=>{const[s,c]=j.useState(""),[h,f]=j.useState("all"),[p,v]=j.useState(!1),[E,A]=j.useState("LIST"),[k,I]=j.useState("NAME_ASC"),[R,L]=j.useState(""),[q,U]=j.useState(""),[H,W]=j.useState(!1),Q=e.filter(G=>{const ee=G.name.toLowerCase().includes(s.toLowerCase())||G.category.toLowerCase().includes(s.toLowerCase())||G.id.toLowerCase().includes(s.toLowerCase())||G.barcode&&G.barcode.includes(s),Y=h==="all"||G.category===h,me=R?parseFloat(R):0,X=q?parseFloat(q):1/0,J=G.price>=me&&G.price<=X;return ee&&Y&&J}).sort((G,ee)=>{switch(k){case"NAME_ASC":return G.name.localeCompare(ee.name);case"NAME_DESC":return ee.name.localeCompare(G.name);case"PRICE_ASC":return G.price-ee.price;case"PRICE_DESC":return ee.price-G.price;case"STOCK_ASC":return G.stock-ee.stock;case"STOCK_DESC":return ee.stock-G.stock;default:return 0}});return j.useEffect(()=>{let G=null;return H&&(G=new eD("reader",{fps:10,qrbox:{width:250,height:250}},!1),G.render(ee=>{W(!1),G.clear();const Y=e.find(me=>me.barcode===ee);Y?t(Y):window.confirm(`Producto no encontrado (Cdigo: ${ee}). Deseas crearlo?`)?r(ee):c(ee)},ee=>{})),()=>{if(G)try{G.clear()}catch(ee){console.error(ee)}}},[H,e]),b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 space-y-3 shadow-sm border-b border-slate-200 dark:border-slate-800 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Inventario"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:i?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})}),b.jsx("button",{onClick:()=>v(!p),className:`p-2 rounded-full border transition-colors ${p?"bg-blue-100 text-blue-600 border-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:border-blue-800":"bg-white text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:b.jsx(SB,{size:20})}),b.jsx("button",{onClick:()=>A(E==="LIST"?"GRID":"LIST"),className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:E==="LIST"?b.jsx(IB,{size:20}):b.jsx(DB,{size:20})})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar producto, cdigo...",value:s,onChange:G=>c(G.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-800 dark:text-slate-100 placeholder-slate-400 transition-colors"})]}),b.jsx("button",{onClick:()=>W(!0),className:"bg-slate-800 dark:bg-slate-700 text-white p-3 rounded-xl",children:b.jsx(BM,{size:20})})]}),H&&b.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-slate-900 rounded-2xl p-4 relative",children:[b.jsx("button",{onClick:()=>W(!1),className:"absolute top-2 right-2 p-2 bg-slate-100 dark:bg-slate-800 rounded-full z-10",children:b.jsx(io,{size:20})}),b.jsx("h3",{className:"text-center font-bold mb-4 dark:text-white",children:"Escanear Cdigo"}),b.jsx("div",{id:"reader",className:"overflow-hidden rounded-lg"})]})}),p&&b.jsxs("div",{className:"space-y-3 animate-slide-up bg-slate-100 dark:bg-slate-900/50 p-3 rounded-xl",children:[b.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-1",children:[b.jsx("button",{onClick:()=>f("all"),className:`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${h==="all"?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,children:"Todos"}),Object.values(Zo).map(G=>b.jsx("button",{onClick:()=>f(G),className:`px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${h===G?"bg-blue-600 text-white":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,children:G},G))]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 rounded-lg p-2 border border-slate-200 dark:border-slate-700",children:[b.jsx("span",{className:"text-xs text-slate-500",children:"Precio"}),b.jsx("input",{type:"number",placeholder:"Min",value:R,onChange:G=>L(G.target.value),className:"w-full bg-transparent text-sm outline-none dark:text-white"}),b.jsx("span",{className:"text-slate-300",children:"-"}),b.jsx("input",{type:"number",placeholder:"Max",value:q,onChange:G=>U(G.target.value),className:"w-full bg-transparent text-sm outline-none dark:text-white"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Cj,{size:16,className:"absolute left-3 top-3 text-slate-400"}),b.jsxs("select",{value:k,onChange:G=>I(G.target.value),className:"w-full pl-9 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm outline-none appearance-none dark:text-white",children:[b.jsx("option",{value:"NAME_ASC",children:"Nombre (A-Z)"}),b.jsx("option",{value:"NAME_DESC",children:"Nombre (Z-A)"}),b.jsx("option",{value:"PRICE_ASC",children:"Precio (Menor)"}),b.jsx("option",{value:"PRICE_DESC",children:"Precio (Mayor)"}),b.jsx("option",{value:"STOCK_ASC",children:"Stock (Menor)"}),b.jsx("option",{value:"STOCK_DESC",children:"Stock (Mayor)"})]})]})]})]})]}),b.jsx("div",{className:`flex-1 overflow-y-auto p-4 ${E==="GRID"?"grid grid-cols-2 gap-3 content-start":"space-y-3"}`,children:Q.length===0?b.jsx("div",{className:"col-span-full text-center py-10 text-slate-400",children:b.jsx("p",{children:"No se encontraron productos."})}):Q.map(G=>{const ee=G.price-G.cost;return E==="GRID"?b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-3 border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col justify-between active:scale-[0.98] transition-all",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-start mb-1",children:[b.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${G.stock<=G.minStock?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500"}`,children:[G.stock," un."]}),G.stock<=G.minStock&&b.jsx(S4,{size:14,className:"text-orange-500"})]}),b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm line-clamp-2 h-10 mb-1",children:G.name}),b.jsx("p",{className:"text-xs text-slate-400 mb-2 truncate",children:G.category})]}),b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsx("p",{className:"font-bold text-blue-600 dark:text-blue-400",children:zn(G.price)}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>t(G),className:"p-1.5 bg-slate-50 dark:bg-slate-800 rounded text-blue-500",children:b.jsx(Jh,{size:14})}),b.jsx("button",{onClick:()=>n(G.id),className:"p-1.5 bg-slate-50 dark:bg-slate-800 rounded text-red-400",children:b.jsx(Js,{size:14})})]})]})]},G.id):b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-800 shadow-sm flex items-center justify-between active:scale-[0.99] transition-all",children:[b.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 truncate",children:G.name}),G.stock<=G.minStock&&b.jsx(S4,{size:16,className:"text-orange-500 flex-shrink-0"})]}),b.jsxs("p",{className:"text-xs text-slate-400 font-mono mb-1",children:["ID: ",G.id]}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:G.category}),b.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-sm",children:[b.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 mr-1",children:zn(G.price)}),b.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${G.stock<=G.minStock?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"}`,children:["Stock: ",G.stock]}),b.jsxs("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 flex items-center gap-1",children:[b.jsx(Zf,{size:12}),"+",zn(ee)]})]})]}),b.jsxs("div",{className:"flex flex-col gap-2 border-l border-slate-100 dark:border-slate-800 pl-3",children:[b.jsx("button",{onClick:()=>t(G),className:"p-2 text-blue-500 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",children:b.jsx(Jh,{size:18})}),b.jsx("button",{onClick:()=>n(G.id),className:"p-2 text-red-400 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:b.jsx(Js,{size:18})})]})]},G.id)})}),b.jsx("button",{onClick:()=>r(),className:"fixed bottom-24 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-lg shadow-blue-600/30 transition-all hover:scale-105 active:scale-95 z-20",children:b.jsx(mf,{size:28})})]})};var uoe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let foe,doe;function hoe(){return{geminiUrl:foe,vertexUrl:doe}}function poe(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const s=hoe();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nu{}function Bt(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function T(e,t,n){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const c=s.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[c])){const h=e[c];if(Array.isArray(n))for(let f=0;f<h.length;f++){const p=h[f];T(p,t.slice(a+1),n[f])}else for(const f of h)T(f,t.slice(a+1),n)}return}else if(s.endsWith("[0]")){const c=s.slice(0,-3);c in e||(e[c]=[{}]);const h=e[c];T(h[0],t.slice(a+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function C(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(c=>C(c,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function goe(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),s=new Set;let c=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){c=h;break}if(c!==-1&&a.length>c)for(let h=c;h<a.length;h++){const f=a[h];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Vw(e,i,a,0,s)}}function Vw(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const s=a.slice(0,-2),c=e;if(s in c&&Array.isArray(c[s]))for(const h of c[s])Vw(h,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,c=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),h={};for(const f of c)h[f]=s[f];for(const[f,p]of Object.entries(h)){const v=[];for(const E of n.slice(r))E==="*"?v.push(f):v.push(E);T(s,v,p)}for(const f of c)delete s[f]}}else{const s=e;a in s&&Vw(s[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OS(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function moe(e){const t={},n=C(e,["operationName"]);n!=null&&T(t,["operationName"],n);const r=C(e,["resourceName"]);return r!=null&&T(t,["_url","resourceName"],r),t}function voe(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response","generateVideoResponse"]);return s!=null&&T(t,["response"],xoe(s)),t}function yoe(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response"]);return s!=null&&T(t,["response"],boe(s)),t}function xoe(e){const t={},n=C(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>woe(s))),T(t,["generatedVideos"],a)}const r=C(e,["raiMediaFilteredCount"]);r!=null&&T(t,["raiMediaFilteredCount"],r);const i=C(e,["raiMediaFilteredReasons"]);return i!=null&&T(t,["raiMediaFilteredReasons"],i),t}function boe(e){const t={},n=C(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Aoe(s))),T(t,["generatedVideos"],a)}const r=C(e,["raiMediaFilteredCount"]);r!=null&&T(t,["raiMediaFilteredCount"],r);const i=C(e,["raiMediaFilteredReasons"]);return i!=null&&T(t,["raiMediaFilteredReasons"],i),t}function woe(e){const t={},n=C(e,["video"]);return n!=null&&T(t,["video"],Toe(n)),t}function Aoe(e){const t={},n=C(e,["_self"]);return n!=null&&T(t,["video"],Ioe(n)),t}function Soe(e){const t={},n=C(e,["operationName"]);return n!=null&&T(t,["_url","operationName"],n),t}function Eoe(e){const t={},n=C(e,["operationName"]);return n!=null&&T(t,["_url","operationName"],n),t}function Coe(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response"]);return s!=null&&T(t,["response"],Noe(s)),t}function Noe(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["parent"]);r!=null&&T(t,["parent"],r);const i=C(e,["documentName"]);return i!=null&&T(t,["documentName"],i),t}function tD(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response"]);return s!=null&&T(t,["response"],_oe(s)),t}function _oe(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["parent"]);r!=null&&T(t,["parent"],r);const i=C(e,["documentName"]);return i!=null&&T(t,["documentName"],i),t}function Toe(e){const t={},n=C(e,["uri"]);n!=null&&T(t,["uri"],n);const r=C(e,["encodedVideo"]);r!=null&&T(t,["videoBytes"],OS(r));const i=C(e,["encoding"]);return i!=null&&T(t,["mimeType"],i),t}function Ioe(e){const t={},n=C(e,["gcsUri"]);n!=null&&T(t,["uri"],n);const r=C(e,["bytesBase64Encoded"]);r!=null&&T(t,["videoBytes"],OS(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var h8;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(h8||(h8={}));var p8;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(p8||(p8={}));var g8;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(g8||(g8={}));var ai;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ai||(ai={}));var m8;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(m8||(m8={}));var v8;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(v8||(v8={}));var y8;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(y8||(y8={}));var x8;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(x8||(x8={}));var b8;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(b8||(b8={}));var w8;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(w8||(w8={}));var A8;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(A8||(A8={}));var S8;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(S8||(S8={}));var E8;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(E8||(E8={}));var C8;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(C8||(C8={}));var N8;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(N8||(N8={}));var _8;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_8||(_8={}));var T8;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(T8||(T8={}));var I8;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(I8||(I8={}));var M8;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(M8||(M8={}));var Om;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Om||(Om={}));var k8;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(k8||(k8={}));var O8;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(O8||(O8={}));var R8;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(R8||(R8={}));var Gw;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Gw||(Gw={}));var P8;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(P8||(P8={}));var D8;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(D8||(D8={}));var L8;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(L8||(L8={}));var j8;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(j8||(j8={}));var B8;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(B8||(B8={}));var F8;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(F8||(F8={}));var U8;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(U8||(U8={}));var z8;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(z8||(z8={}));var q8;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(q8||(q8={}));var H8;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(H8||(H8={}));var V8;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(V8||(V8={}));var G8;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(G8||(G8={}));var Y8;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Y8||(Y8={}));var W8;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(W8||(W8={}));var K8;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(K8||(K8={}));var $8;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})($8||($8={}));var X8;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(X8||(X8={}));var J8;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(J8||(J8={}));var Z8;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Z8||(Z8={}));var Q8;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Q8||(Q8={}));var eI;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(eI||(eI={}));var tI;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(tI||(tI={}));var nI;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nI||(nI={}));var rI;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(rI||(rI={}));var iI;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(iI||(iI={}));var aI;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(aI||(aI={}));var oI;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(oI||(oI={}));var sI;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(sI||(sI={}));var lI;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(lI||(lI={}));var cI;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cI||(cI={}));var uI;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(uI||(uI={}));var f0;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(f0||(f0={}));class Yw{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Uh{get text(){var t,n,r,i,a,s,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const v=[];for(const E of(h=(c=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[A,k]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(k!==null||k!==void 0)&&v.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;p=!0,f+=E.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,i,a,s,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const v of(h=(c=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&h!==void 0?h:[]){for(const[E,A]of Object.entries(v))E!=="inlineData"&&(A!==null||A!==void 0)&&p.push(E);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,a,s,c,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(c=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,a,s,c,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(h=(c=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,a,s,c,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(h=(c=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||h===void 0?void 0:h.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class fI{}class dI{}class Moe{}class koe{}class Ooe{}class Roe{}class hI{}class pI{}class gI{}class Poe{}class Rm{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Rm;let i;const a=t;return n?i=yoe(a):i=voe(a),Object.assign(r,i),r}}class mI{}class vI{}class yI{}class xI{}class Doe{}class Loe{}class joe{}class RS{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new RS,a=Coe(t);return Object.assign(r,a),r}}class Boe{}class Foe{}class Uoe{}class bI{}class zoe{get text(){var t,n,r;let i="",a=!1;const s=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,f]of Object.entries(c))h!=="text"&&h!=="thought"&&f!==null&&s.push(h);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,i+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,h]of Object.entries(s))c!=="inlineData"&&h!==null&&a.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qoe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class PS{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new PS,a=tD(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cr(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function nD(e,t){const n=Cr(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function rD(e){return Array.isArray(e)?e.map(t=>Pm(t)):[Pm(e)]}function Pm(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function iD(e){const t=Pm(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function aD(e){const t=Pm(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function wI(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function oD(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>wI(t)):[wI(e)]}function Ww(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function AI(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function SI(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Po(e){if(e==null)throw new Error("ContentUnion is required");return Ww(e)?e:{role:"user",parts:oD(e)}}function DS(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Po(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Po(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Po(n)):[Po(t)]}function vl(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(AI(e)||SI(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Po(e)]}const t=[],n=[],r=Ww(e[0]);for(const i of e){const a=Ww(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(AI(i)||SI(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:oD(n)}),t}function Hoe(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ai).includes(n[0].toUpperCase())?n[0].toUpperCase():ai.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ai).includes(r.toUpperCase())?r.toUpperCase():ai.TYPE_UNSPECIFIED})}}function v0(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Hoe(e.type,t);for(const[s,c]of Object.entries(e))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(ai).includes(c.toUpperCase())?c.toUpperCase():ai.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=v0(c);else if(r.includes(s)){const h=[];for(const f of c){if(f.type=="null"){t.nullable=!0;continue}h.push(v0(f))}t[s]=h}else if(i.includes(s)){const h={};for(const[f,p]of Object.entries(c))h[f]=v0(p);t[s]=h}else{if(s==="additionalProperties")continue;t[s]=c}return t}function LS(e){return v0(e)}function jS(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function BS(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function K0(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=v0(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=v0(t.response));return e}function $0(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Voe(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function _u(e,t){if(typeof t!="string")throw new Error("name must be a string");return Voe(e,t,"cachedContents")}function sD(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function wf(e){return OS(e)}function Goe(e){return e!=null&&typeof e=="object"&&"name"in e}function Yoe(e){return e!=null&&typeof e=="object"&&"video"in e}function Woe(e){return e!=null&&typeof e=="object"&&"uri"in e}function lD(e){var t;let n;if(Goe(e)&&(n=e.name),!(Woe(e)&&(n=e.uri,n===void 0))&&!(Yoe(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cD(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function uD(e){for(const t of["models","tunedModels","publisherModels"])if(Koe(e,t))return e[t];return[]}function Koe(e,t){return e!==null&&typeof e=="object"&&t in e}function $oe(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Xoe(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=$oe(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function fD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Joe(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function dD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const h=s.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function X0(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zoe(e){const t={},n=C(e,["responsesFile"]);n!=null&&T(t,["fileName"],n);const r=C(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Ose(s))),T(t,["inlinedResponses"],a)}const i=C(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["inlinedEmbedContentResponses"],a)}return t}function Qoe(e){const t={},n=C(e,["predictionsFormat"]);n!=null&&T(t,["format"],n);const r=C(e,["gcsDestination","outputUriPrefix"]);r!=null&&T(t,["gcsUri"],r);const i=C(e,["bigqueryDestination","outputUri"]);return i!=null&&T(t,["bigqueryUri"],i),t}function ese(e){const t={},n=C(e,["format"]);n!=null&&T(t,["predictionsFormat"],n);const r=C(e,["gcsUri"]);r!=null&&T(t,["gcsDestination","outputUriPrefix"],r);const i=C(e,["bigqueryUri"]);if(i!=null&&T(t,["bigqueryDestination","outputUri"],i),C(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(C(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(C(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Eg(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata","displayName"]);r!=null&&T(t,["displayName"],r);const i=C(e,["metadata","state"]);i!=null&&T(t,["state"],hD(i));const a=C(e,["metadata","createTime"]);a!=null&&T(t,["createTime"],a);const s=C(e,["metadata","endTime"]);s!=null&&T(t,["endTime"],s);const c=C(e,["metadata","updateTime"]);c!=null&&T(t,["updateTime"],c);const h=C(e,["metadata","model"]);h!=null&&T(t,["model"],h);const f=C(e,["metadata","output"]);return f!=null&&T(t,["dest"],Zoe(dD(f))),t}function Kw(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["displayName"]);r!=null&&T(t,["displayName"],r);const i=C(e,["state"]);i!=null&&T(t,["state"],hD(i));const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["createTime"]);s!=null&&T(t,["createTime"],s);const c=C(e,["startTime"]);c!=null&&T(t,["startTime"],c);const h=C(e,["endTime"]);h!=null&&T(t,["endTime"],h);const f=C(e,["updateTime"]);f!=null&&T(t,["updateTime"],f);const p=C(e,["model"]);p!=null&&T(t,["model"],p);const v=C(e,["inputConfig"]);v!=null&&T(t,["src"],tse(v));const E=C(e,["outputConfig"]);E!=null&&T(t,["dest"],Qoe(dD(E)));const A=C(e,["completionStats"]);return A!=null&&T(t,["completionStats"],A),t}function tse(e){const t={},n=C(e,["instancesFormat"]);n!=null&&T(t,["format"],n);const r=C(e,["gcsSource","uris"]);r!=null&&T(t,["gcsUri"],r);const i=C(e,["bigquerySource","inputUri"]);return i!=null&&T(t,["bigqueryUri"],i),t}function nse(e,t){const n={};if(C(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(C(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(C(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=C(t,["fileName"]);r!=null&&T(n,["fileName"],r);const i=C(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>kse(e,s))),T(n,["requests","requests"],a)}return n}function rse(e){const t={},n=C(e,["format"]);n!=null&&T(t,["instancesFormat"],n);const r=C(e,["gcsUri"]);r!=null&&T(t,["gcsSource","uris"],r);const i=C(e,["bigqueryUri"]);if(i!=null&&T(t,["bigquerySource","inputUri"],i),C(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(C(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function ise(e){const t={},n=C(e,["data"]);if(n!=null&&T(t,["data"],n),C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function ase(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function ose(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function sse(e){const t={},n=C(e,["content"]);n!=null&&T(t,["content"],n);const r=C(e,["citationMetadata"]);r!=null&&T(t,["citationMetadata"],lse(r));const i=C(e,["tokenCount"]);i!=null&&T(t,["tokenCount"],i);const a=C(e,["finishReason"]);a!=null&&T(t,["finishReason"],a);const s=C(e,["avgLogprobs"]);s!=null&&T(t,["avgLogprobs"],s);const c=C(e,["groundingMetadata"]);c!=null&&T(t,["groundingMetadata"],c);const h=C(e,["index"]);h!=null&&T(t,["index"],h);const f=C(e,["logprobsResult"]);f!=null&&T(t,["logprobsResult"],f);const p=C(e,["safetyRatings"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>A)),T(t,["safetyRatings"],E)}const v=C(e,["urlContextMetadata"]);return v!=null&&T(t,["urlContextMetadata"],v),t}function lse(e){const t={},n=C(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(t,["citations"],r)}return t}function pD(e){const t={},n=C(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Fse(a))),T(t,["parts"],i)}const r=C(e,["role"]);return r!=null&&T(t,["role"],r),t}function cse(e,t){const n={},r=C(e,["displayName"]);if(t!==void 0&&r!=null&&T(t,["batch","displayName"],r),C(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function use(e,t){const n={},r=C(e,["displayName"]);t!==void 0&&r!=null&&T(t,["displayName"],r);const i=C(e,["dest"]);return t!==void 0&&i!=null&&T(t,["outputConfig"],ese(Joe(i))),n}function EI(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["src"]);i!=null&&T(n,["batch","inputConfig"],nse(e,fD(e,i)));const a=C(t,["config"]);return a!=null&&cse(a,n),n}function fse(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["model"],Cr(e,r));const i=C(t,["src"]);i!=null&&T(n,["inputConfig"],rse(fD(e,i)));const a=C(t,["config"]);return a!=null&&use(a,n),n}function dse(e,t){const n={},r=C(e,["displayName"]);return t!==void 0&&r!=null&&T(t,["batch","displayName"],r),n}function hse(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["src"]);i!=null&&T(n,["batch","inputConfig"],bse(e,i));const a=C(t,["config"]);return a!=null&&dse(a,n),n}function pse(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function gse(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function mse(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["name"]);r!=null&&T(t,["name"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);return a!=null&&T(t,["error"],a),t}function vse(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["name"]);r!=null&&T(t,["name"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);return a!=null&&T(t,["error"],a),t}function yse(e,t){const n={},r=C(t,["contents"]);if(r!=null){let a=DS(e,r);Array.isArray(a)&&(a=a.map(s=>s)),T(n,["requests[]","request","content"],a)}const i=C(t,["config"]);return i!=null&&(T(n,["_self"],xse(i,n)),goe(n,{"requests[].*":"requests[].request.*"})),n}function xse(e,t){const n={},r=C(e,["taskType"]);t!==void 0&&r!=null&&T(t,["requests[]","taskType"],r);const i=C(e,["title"]);t!==void 0&&i!=null&&T(t,["requests[]","title"],i);const a=C(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&T(t,["requests[]","outputDimensionality"],a),C(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(C(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bse(e,t){const n={},r=C(t,["fileName"]);r!=null&&T(n,["file_name"],r);const i=C(t,["inlinedRequests"]);return i!=null&&T(n,["requests"],yse(e,i)),n}function wse(e){const t={};if(C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=C(e,["fileUri"]);n!=null&&T(t,["fileUri"],n);const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function Ase(e){const t={},n=C(e,["id"]);n!=null&&T(t,["id"],n);const r=C(e,["args"]);r!=null&&T(t,["args"],r);const i=C(e,["name"]);if(i!=null&&T(t,["name"],i),C(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(C(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Sse(e){const t={},n=C(e,["mode"]);n!=null&&T(t,["mode"],n);const r=C(e,["allowedFunctionNames"]);if(r!=null&&T(t,["allowedFunctionNames"],r),C(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ese(e,t,n){const r={},i=C(t,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],pD(Po(i)));const a=C(t,["temperature"]);a!=null&&T(r,["temperature"],a);const s=C(t,["topP"]);s!=null&&T(r,["topP"],s);const c=C(t,["topK"]);c!=null&&T(r,["topK"],c);const h=C(t,["candidateCount"]);h!=null&&T(r,["candidateCount"],h);const f=C(t,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const p=C(t,["stopSequences"]);p!=null&&T(r,["stopSequences"],p);const v=C(t,["responseLogprobs"]);v!=null&&T(r,["responseLogprobs"],v);const E=C(t,["logprobs"]);E!=null&&T(r,["logprobs"],E);const A=C(t,["presencePenalty"]);A!=null&&T(r,["presencePenalty"],A);const k=C(t,["frequencyPenalty"]);k!=null&&T(r,["frequencyPenalty"],k);const I=C(t,["seed"]);I!=null&&T(r,["seed"],I);const R=C(t,["responseMimeType"]);R!=null&&T(r,["responseMimeType"],R);const L=C(t,["responseSchema"]);L!=null&&T(r,["responseSchema"],LS(L));const q=C(t,["responseJsonSchema"]);if(q!=null&&T(r,["responseJsonSchema"],q),C(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(C(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=C(t,["safetySettings"]);if(n!==void 0&&U!=null){let ie=U;Array.isArray(ie)&&(ie=ie.map(se=>Use(se))),T(n,["safetySettings"],ie)}const H=C(t,["tools"]);if(n!==void 0&&H!=null){let ie=$0(H);Array.isArray(ie)&&(ie=ie.map(se=>qse(K0(se)))),T(n,["tools"],ie)}const W=C(t,["toolConfig"]);if(n!==void 0&&W!=null&&T(n,["toolConfig"],zse(W)),C(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=C(t,["cachedContent"]);n!==void 0&&Q!=null&&T(n,["cachedContent"],_u(e,Q));const G=C(t,["responseModalities"]);G!=null&&T(r,["responseModalities"],G);const ee=C(t,["mediaResolution"]);ee!=null&&T(r,["mediaResolution"],ee);const Y=C(t,["speechConfig"]);if(Y!=null&&T(r,["speechConfig"],jS(Y)),C(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=C(t,["thinkingConfig"]);me!=null&&T(r,["thinkingConfig"],me);const X=C(t,["imageConfig"]);X!=null&&T(r,["imageConfig"],Mse(X));const J=C(t,["enableEnhancedCivicAnswers"]);return J!=null&&T(r,["enableEnhancedCivicAnswers"],J),r}function Cse(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>sse(f))),T(t,["candidates"],h)}const i=C(e,["modelVersion"]);i!=null&&T(t,["modelVersion"],i);const a=C(e,["promptFeedback"]);a!=null&&T(t,["promptFeedback"],a);const s=C(e,["responseId"]);s!=null&&T(t,["responseId"],s);const c=C(e,["usageMetadata"]);return c!=null&&T(t,["usageMetadata"],c),t}function Nse(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function _se(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],X0(e,r)),n}function Tse(e){const t={};if(C(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=C(e,["enableWidget"]);return n!=null&&T(t,["enableWidget"],n),t}function Ise(e){const t={};if(C(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(C(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=C(e,["timeRangeFilter"]);return n!=null&&T(t,["timeRangeFilter"],n),t}function Mse(e){const t={},n=C(e,["aspectRatio"]);n!=null&&T(t,["aspectRatio"],n);const r=C(e,["imageSize"]);if(r!=null&&T(t,["imageSize"],r),C(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(C(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kse(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["request","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let c=vl(i);Array.isArray(c)&&(c=c.map(h=>pD(h))),T(n,["request","contents"],c)}const a=C(t,["metadata"]);a!=null&&T(n,["metadata"],a);const s=C(t,["config"]);return s!=null&&T(n,["request","generationConfig"],Ese(e,s,C(n,["request"],{}))),n}function Ose(e){const t={},n=C(e,["response"]);n!=null&&T(t,["response"],Cse(n));const r=C(e,["error"]);return r!=null&&T(t,["error"],r),t}function Rse(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);if(t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),C(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Pse(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);t!==void 0&&i!=null&&T(t,["_query","pageToken"],i);const a=C(e,["filter"]);return t!==void 0&&a!=null&&T(t,["_query","filter"],a),n}function Dse(e){const t={},n=C(e,["config"]);return n!=null&&Rse(n,t),t}function Lse(e){const t={},n=C(e,["config"]);return n!=null&&Pse(n,t),t}function jse(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Eg(s))),T(t,["batchJobs"],a)}return t}function Bse(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Kw(s))),T(t,["batchJobs"],a)}return t}function Fse(e){const t={},n=C(e,["mediaResolution"]);n!=null&&T(t,["mediaResolution"],n);const r=C(e,["codeExecutionResult"]);r!=null&&T(t,["codeExecutionResult"],r);const i=C(e,["executableCode"]);i!=null&&T(t,["executableCode"],i);const a=C(e,["fileData"]);a!=null&&T(t,["fileData"],wse(a));const s=C(e,["functionCall"]);s!=null&&T(t,["functionCall"],Ase(s));const c=C(e,["functionResponse"]);c!=null&&T(t,["functionResponse"],c);const h=C(e,["inlineData"]);h!=null&&T(t,["inlineData"],ise(h));const f=C(e,["text"]);f!=null&&T(t,["text"],f);const p=C(e,["thought"]);p!=null&&T(t,["thought"],p);const v=C(e,["thoughtSignature"]);v!=null&&T(t,["thoughtSignature"],v);const E=C(e,["videoMetadata"]);return E!=null&&T(t,["videoMetadata"],E),t}function Use(e){const t={},n=C(e,["category"]);if(n!=null&&T(t,["category"],n),C(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=C(e,["threshold"]);return r!=null&&T(t,["threshold"],r),t}function zse(e){const t={},n=C(e,["functionCallingConfig"]);n!=null&&T(t,["functionCallingConfig"],Sse(n));const r=C(e,["retrievalConfig"]);return r!=null&&T(t,["retrievalConfig"],r),t}function qse(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>v)),T(t,["functionDeclarations"],p)}if(C(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=C(e,["googleSearchRetrieval"]);r!=null&&T(t,["googleSearchRetrieval"],r);const i=C(e,["computerUse"]);i!=null&&T(t,["computerUse"],i);const a=C(e,["fileSearch"]);a!=null&&T(t,["fileSearch"],a);const s=C(e,["codeExecution"]);if(s!=null&&T(t,["codeExecution"],s),C(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=C(e,["googleMaps"]);c!=null&&T(t,["googleMaps"],Tse(c));const h=C(e,["googleSearch"]);h!=null&&T(t,["googleSearch"],Ise(h));const f=C(e,["urlContext"]);return f!=null&&T(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xu;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(xu||(xu={}));class pd{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hse extends Nu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(xu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=EI(this.apiClient,t),r=n._url,i=Bt("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,h=c.requests,f=[];for(const p of h){const v=Object.assign({},p);if(v.systemInstruction){const E=v.systemInstruction;delete v.systemInstruction;const A=v.request;A.systemInstruction=E,v.request=A}f.push(v)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=fse(this.apiClient,t);return c=Bt("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Kw(p))}else{const f=EI(this.apiClient,t);return c=Bt("{model}:batchGenerateContent",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>Eg(p))}}async createEmbeddingsInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hse(this.apiClient,t);return a=Bt("{model}:asyncBatchEmbedContent",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>Eg(h))}}async get(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=_se(this.apiClient,t);return c=Bt("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Kw(p))}else{const f=Nse(this.apiClient,t);return c=Bt("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>Eg(p))}}async cancel(t){var n,r,i,a;let s="",c={};if(this.apiClient.isVertexAI()){const h=ose(this.apiClient,t);s=Bt("batchPredictionJobs/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const h=ase(this.apiClient,t);s=Bt("batches/{name}:cancel",h._url),c=h._query,delete h._url,delete h._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Lse(t);return c=Bt("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Bse(p),E=new bI;return Object.assign(E,v),E})}else{const f=Dse(t);return c=Bt("batches",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=jse(p),E=new bI;return Object.assign(E,v),E})}}async delete(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=gse(this.apiClient,t);return c=Bt("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>vse(p))}else{const f=pse(this.apiClient,t);return c=Bt("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>mse(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vse(e){const t={},n=C(e,["data"]);if(n!=null&&T(t,["data"],n),C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function CI(e){const t={},n=C(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>hle(a))),T(t,["parts"],i)}const r=C(e,["role"]);return r!=null&&T(t,["role"],r),t}function Gse(e,t){const n={},r=C(e,["ttl"]);t!==void 0&&r!=null&&T(t,["ttl"],r);const i=C(e,["expireTime"]);t!==void 0&&i!=null&&T(t,["expireTime"],i);const a=C(e,["displayName"]);t!==void 0&&a!=null&&T(t,["displayName"],a);const s=C(e,["contents"]);if(t!==void 0&&s!=null){let p=vl(s);Array.isArray(p)&&(p=p.map(v=>CI(v))),T(t,["contents"],p)}const c=C(e,["systemInstruction"]);t!==void 0&&c!=null&&T(t,["systemInstruction"],CI(Po(c)));const h=C(e,["tools"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>gle(v))),T(t,["tools"],p)}const f=C(e,["toolConfig"]);if(t!==void 0&&f!=null&&T(t,["toolConfig"],ple(f)),C(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Yse(e,t){const n={},r=C(e,["ttl"]);t!==void 0&&r!=null&&T(t,["ttl"],r);const i=C(e,["expireTime"]);t!==void 0&&i!=null&&T(t,["expireTime"],i);const a=C(e,["displayName"]);t!==void 0&&a!=null&&T(t,["displayName"],a);const s=C(e,["contents"]);if(t!==void 0&&s!=null){let v=vl(s);Array.isArray(v)&&(v=v.map(E=>E)),T(t,["contents"],v)}const c=C(e,["systemInstruction"]);t!==void 0&&c!=null&&T(t,["systemInstruction"],Po(c));const h=C(e,["tools"]);if(t!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>mle(E))),T(t,["tools"],v)}const f=C(e,["toolConfig"]);t!==void 0&&f!=null&&T(t,["toolConfig"],f);const p=C(e,["kmsKeyName"]);return t!==void 0&&p!=null&&T(t,["encryption_spec","kmsKeyName"],p),n}function Wse(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["model"],nD(e,r));const i=C(t,["config"]);return i!=null&&Gse(i,n),n}function Kse(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["model"],nD(e,r));const i=C(t,["config"]);return i!=null&&Yse(i,n),n}function $se(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],_u(e,r)),n}function Xse(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],_u(e,r)),n}function Jse(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function Zse(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function Qse(e){const t={};if(C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=C(e,["fileUri"]);n!=null&&T(t,["fileUri"],n);const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function ele(e){const t={},n=C(e,["id"]);n!=null&&T(t,["id"],n);const r=C(e,["args"]);r!=null&&T(t,["args"],r);const i=C(e,["name"]);if(i!=null&&T(t,["name"],i),C(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(C(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tle(e){const t={},n=C(e,["mode"]);n!=null&&T(t,["mode"],n);const r=C(e,["allowedFunctionNames"]);if(r!=null&&T(t,["allowedFunctionNames"],r),C(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nle(e){const t={};if(C(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=C(e,["description"]);n!=null&&T(t,["description"],n);const r=C(e,["name"]);r!=null&&T(t,["name"],r);const i=C(e,["parameters"]);i!=null&&T(t,["parameters"],i);const a=C(e,["parametersJsonSchema"]);a!=null&&T(t,["parametersJsonSchema"],a);const s=C(e,["response"]);s!=null&&T(t,["response"],s);const c=C(e,["responseJsonSchema"]);return c!=null&&T(t,["responseJsonSchema"],c),t}function rle(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],_u(e,r)),n}function ile(e,t){const n={},r=C(t,["name"]);return r!=null&&T(n,["_url","name"],_u(e,r)),n}function ale(e){const t={};if(C(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=C(e,["enableWidget"]);return n!=null&&T(t,["enableWidget"],n),t}function ole(e){const t={};if(C(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(C(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=C(e,["timeRangeFilter"]);return n!=null&&T(t,["timeRangeFilter"],n),t}function sle(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);return t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),n}function lle(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);return t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),n}function cle(e){const t={},n=C(e,["config"]);return n!=null&&sle(n,t),t}function ule(e){const t={},n=C(e,["config"]);return n!=null&&lle(n,t),t}function fle(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["cachedContents"],a)}return t}function dle(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["cachedContents"],a)}return t}function hle(e){const t={},n=C(e,["mediaResolution"]);n!=null&&T(t,["mediaResolution"],n);const r=C(e,["codeExecutionResult"]);r!=null&&T(t,["codeExecutionResult"],r);const i=C(e,["executableCode"]);i!=null&&T(t,["executableCode"],i);const a=C(e,["fileData"]);a!=null&&T(t,["fileData"],Qse(a));const s=C(e,["functionCall"]);s!=null&&T(t,["functionCall"],ele(s));const c=C(e,["functionResponse"]);c!=null&&T(t,["functionResponse"],c);const h=C(e,["inlineData"]);h!=null&&T(t,["inlineData"],Vse(h));const f=C(e,["text"]);f!=null&&T(t,["text"],f);const p=C(e,["thought"]);p!=null&&T(t,["thought"],p);const v=C(e,["thoughtSignature"]);v!=null&&T(t,["thoughtSignature"],v);const E=C(e,["videoMetadata"]);return E!=null&&T(t,["videoMetadata"],E),t}function ple(e){const t={},n=C(e,["functionCallingConfig"]);n!=null&&T(t,["functionCallingConfig"],tle(n));const r=C(e,["retrievalConfig"]);return r!=null&&T(t,["retrievalConfig"],r),t}function gle(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>v)),T(t,["functionDeclarations"],p)}if(C(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=C(e,["googleSearchRetrieval"]);r!=null&&T(t,["googleSearchRetrieval"],r);const i=C(e,["computerUse"]);i!=null&&T(t,["computerUse"],i);const a=C(e,["fileSearch"]);a!=null&&T(t,["fileSearch"],a);const s=C(e,["codeExecution"]);if(s!=null&&T(t,["codeExecution"],s),C(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=C(e,["googleMaps"]);c!=null&&T(t,["googleMaps"],ale(c));const h=C(e,["googleSearch"]);h!=null&&T(t,["googleSearch"],ole(h));const f=C(e,["urlContext"]);return f!=null&&T(t,["urlContext"],f),t}function mle(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>nle(E))),T(t,["functionDeclarations"],v)}const r=C(e,["retrieval"]);r!=null&&T(t,["retrieval"],r);const i=C(e,["googleSearchRetrieval"]);i!=null&&T(t,["googleSearchRetrieval"],i);const a=C(e,["computerUse"]);if(a!=null&&T(t,["computerUse"],a),C(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=C(e,["codeExecution"]);s!=null&&T(t,["codeExecution"],s);const c=C(e,["enterpriseWebSearch"]);c!=null&&T(t,["enterpriseWebSearch"],c);const h=C(e,["googleMaps"]);h!=null&&T(t,["googleMaps"],h);const f=C(e,["googleSearch"]);f!=null&&T(t,["googleSearch"],f);const p=C(e,["urlContext"]);return p!=null&&T(t,["urlContext"],p),t}function vle(e,t){const n={},r=C(e,["ttl"]);t!==void 0&&r!=null&&T(t,["ttl"],r);const i=C(e,["expireTime"]);return t!==void 0&&i!=null&&T(t,["expireTime"],i),n}function yle(e,t){const n={},r=C(e,["ttl"]);t!==void 0&&r!=null&&T(t,["ttl"],r);const i=C(e,["expireTime"]);return t!==void 0&&i!=null&&T(t,["expireTime"],i),n}function xle(e,t){const n={},r=C(t,["name"]);r!=null&&T(n,["_url","name"],_u(e,r));const i=C(t,["config"]);return i!=null&&vle(i,n),n}function ble(e,t){const n={},r=C(t,["name"]);r!=null&&T(n,["_url","name"],_u(e,r));const i=C(t,["config"]);return i!=null&&yle(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wle extends Nu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(xu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Kse(this.apiClient,t);return c=Bt("cachedContents",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=Wse(this.apiClient,t);return c=Bt("cachedContents",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async get(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=ile(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=rle(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async delete(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Xse(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Zse(p),E=new yI;return Object.assign(E,v),E})}else{const f=$se(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Jse(p),E=new yI;return Object.assign(E,v),E})}}async update(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=ble(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>p)}else{const f=xle(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>p)}}async listInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=ule(t);return c=Bt("cachedContents",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=dle(p),E=new xI;return Object.assign(E,v),E})}else{const f=cle(t);return c=Bt("cachedContents",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=fle(p),E=new xI;return Object.assign(E,v),E})}}}function Dm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function NI(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(e){return this instanceof Pn?(this.v=e,this):new Pn(e)}function Wl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(A){return function(k){return Promise.resolve(k).then(A,v)}}function c(A,k){r[A]&&(i[A]=function(I){return new Promise(function(R,L){a.push([A,I,R,L])>1||h(A,I)})},k&&(i[A]=k(i[A])))}function h(A,k){try{f(r[A](k))}catch(I){E(a[0][3],I)}}function f(A){A.value instanceof Pn?Promise.resolve(A.value.v).then(p,v):E(a[0][2],A)}function p(A){h("next",A)}function v(A){h("throw",A)}function E(A,k){A(k),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Kl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof NI=="function"?NI(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(c,h){s=e[a](s),i(c,h,s.done,s.value)})}}function i(a,s,c,h){Promise.resolve(h).then(function(f){a({value:f,done:c})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ale(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:gD(n)}function gD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Sle(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function _I(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!gD(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class Ele{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Cle(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Cle{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Sle(a)}async sendMessage(t){var n;await this.sendPromise;const r=Po(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,c;const h=await i,f=(s=(a=h.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,p=h.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let E=[];p!=null&&(E=(c=p.slice(v))!==null&&c!==void 0?c:[]);const A=f?[f]:[];this.recordHistory(r,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Po(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?_I(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Wl(this,arguments,function*(){var i,a,s,c,h,f;const p=[];try{for(var v=!0,E=Kl(t),A;A=yield Pn(E.next()),i=A.done,!i;v=!0){c=A.value,v=!1;const k=c;if(Ale(k)){const I=(f=(h=k.candidates)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.content;I!==void 0&&p.push(I)}yield yield Pn(k)}}catch(k){a={error:k}}finally{try{!v&&!i&&(s=E.return)&&(yield Pn(s.call(E)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._I(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wv extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nle(e){const t={},n=C(e,["file"]);return n!=null&&T(t,["file"],n),t}function _le(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function Tle(e){const t={},n=C(e,["name"]);return n!=null&&T(t,["_url","file"],lD(n)),t}function Ile(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function Mle(e){const t={},n=C(e,["name"]);return n!=null&&T(t,["_url","file"],lD(n)),t}function kle(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);return t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),n}function Ole(e){const t={},n=C(e,["config"]);return n!=null&&kle(n,t),t}function Rle(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ple extends Nu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(xu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ole(t);return a=Bt("files",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=Rle(h),p=new Boe;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Nle(t);return a=Bt("upload/v1beta/files",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=_le(h),p=new Foe;return Object.assign(p,f),p})}}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Mle(t);return a=Bt("files/{file}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Tle(t);return a=Bt("files/{file}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=Ile(h),p=new Uoe;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cg(e){const t={},n=C(e,["data"]);if(n!=null&&T(t,["data"],n),C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function Dle(e){const t={},n=C(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Jle(a))),T(t,["parts"],i)}const r=C(e,["role"]);return r!=null&&T(t,["role"],r),t}function Lle(e){const t={};if(C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=C(e,["fileUri"]);n!=null&&T(t,["fileUri"],n);const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function jle(e){const t={},n=C(e,["id"]);n!=null&&T(t,["id"],n);const r=C(e,["args"]);r!=null&&T(t,["args"],r);const i=C(e,["name"]);if(i!=null&&T(t,["name"],i),C(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(C(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ble(e){const t={};if(C(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=C(e,["description"]);n!=null&&T(t,["description"],n);const r=C(e,["name"]);r!=null&&T(t,["name"],r);const i=C(e,["parameters"]);i!=null&&T(t,["parameters"],i);const a=C(e,["parametersJsonSchema"]);a!=null&&T(t,["parametersJsonSchema"],a);const s=C(e,["response"]);s!=null&&T(t,["response"],s);const c=C(e,["responseJsonSchema"]);return c!=null&&T(t,["responseJsonSchema"],c),t}function Fle(e){const t={},n=C(e,["modelSelectionConfig"]);n!=null&&T(t,["modelConfig"],n);const r=C(e,["responseJsonSchema"]);r!=null&&T(t,["responseJsonSchema"],r);const i=C(e,["audioTimestamp"]);i!=null&&T(t,["audioTimestamp"],i);const a=C(e,["candidateCount"]);a!=null&&T(t,["candidateCount"],a);const s=C(e,["enableAffectiveDialog"]);s!=null&&T(t,["enableAffectiveDialog"],s);const c=C(e,["frequencyPenalty"]);c!=null&&T(t,["frequencyPenalty"],c);const h=C(e,["logprobs"]);h!=null&&T(t,["logprobs"],h);const f=C(e,["maxOutputTokens"]);f!=null&&T(t,["maxOutputTokens"],f);const p=C(e,["mediaResolution"]);p!=null&&T(t,["mediaResolution"],p);const v=C(e,["presencePenalty"]);v!=null&&T(t,["presencePenalty"],v);const E=C(e,["responseLogprobs"]);E!=null&&T(t,["responseLogprobs"],E);const A=C(e,["responseMimeType"]);A!=null&&T(t,["responseMimeType"],A);const k=C(e,["responseModalities"]);k!=null&&T(t,["responseModalities"],k);const I=C(e,["responseSchema"]);I!=null&&T(t,["responseSchema"],I);const R=C(e,["routingConfig"]);R!=null&&T(t,["routingConfig"],R);const L=C(e,["seed"]);L!=null&&T(t,["seed"],L);const q=C(e,["speechConfig"]);q!=null&&T(t,["speechConfig"],mD(q));const U=C(e,["stopSequences"]);U!=null&&T(t,["stopSequences"],U);const H=C(e,["temperature"]);H!=null&&T(t,["temperature"],H);const W=C(e,["thinkingConfig"]);W!=null&&T(t,["thinkingConfig"],W);const Q=C(e,["topK"]);Q!=null&&T(t,["topK"],Q);const G=C(e,["topP"]);if(G!=null&&T(t,["topP"],G),C(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Ule(e){const t={};if(C(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=C(e,["enableWidget"]);return n!=null&&T(t,["enableWidget"],n),t}function zle(e){const t={};if(C(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(C(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=C(e,["timeRangeFilter"]);return n!=null&&T(t,["timeRangeFilter"],n),t}function qle(e,t){const n={},r=C(e,["generationConfig"]);t!==void 0&&r!=null&&T(t,["setup","generationConfig"],r);const i=C(e,["responseModalities"]);t!==void 0&&i!=null&&T(t,["setup","generationConfig","responseModalities"],i);const a=C(e,["temperature"]);t!==void 0&&a!=null&&T(t,["setup","generationConfig","temperature"],a);const s=C(e,["topP"]);t!==void 0&&s!=null&&T(t,["setup","generationConfig","topP"],s);const c=C(e,["topK"]);t!==void 0&&c!=null&&T(t,["setup","generationConfig","topK"],c);const h=C(e,["maxOutputTokens"]);t!==void 0&&h!=null&&T(t,["setup","generationConfig","maxOutputTokens"],h);const f=C(e,["mediaResolution"]);t!==void 0&&f!=null&&T(t,["setup","generationConfig","mediaResolution"],f);const p=C(e,["seed"]);t!==void 0&&p!=null&&T(t,["setup","generationConfig","seed"],p);const v=C(e,["speechConfig"]);t!==void 0&&v!=null&&T(t,["setup","generationConfig","speechConfig"],BS(v));const E=C(e,["thinkingConfig"]);t!==void 0&&E!=null&&T(t,["setup","generationConfig","thinkingConfig"],E);const A=C(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&T(t,["setup","generationConfig","enableAffectiveDialog"],A);const k=C(e,["systemInstruction"]);t!==void 0&&k!=null&&T(t,["setup","systemInstruction"],Dle(Po(k)));const I=C(e,["tools"]);if(t!==void 0&&I!=null){let Q=$0(I);Array.isArray(Q)&&(Q=Q.map(G=>Qle(K0(G)))),T(t,["setup","tools"],Q)}const R=C(e,["sessionResumption"]);t!==void 0&&R!=null&&T(t,["setup","sessionResumption"],Zle(R));const L=C(e,["inputAudioTranscription"]);t!==void 0&&L!=null&&T(t,["setup","inputAudioTranscription"],L);const q=C(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&T(t,["setup","outputAudioTranscription"],q);const U=C(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&T(t,["setup","realtimeInputConfig"],U);const H=C(e,["contextWindowCompression"]);t!==void 0&&H!=null&&T(t,["setup","contextWindowCompression"],H);const W=C(e,["proactivity"]);if(t!==void 0&&W!=null&&T(t,["setup","proactivity"],W),C(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Hle(e,t){const n={},r=C(e,["generationConfig"]);t!==void 0&&r!=null&&T(t,["setup","generationConfig"],Fle(r));const i=C(e,["responseModalities"]);t!==void 0&&i!=null&&T(t,["setup","generationConfig","responseModalities"],i);const a=C(e,["temperature"]);t!==void 0&&a!=null&&T(t,["setup","generationConfig","temperature"],a);const s=C(e,["topP"]);t!==void 0&&s!=null&&T(t,["setup","generationConfig","topP"],s);const c=C(e,["topK"]);t!==void 0&&c!=null&&T(t,["setup","generationConfig","topK"],c);const h=C(e,["maxOutputTokens"]);t!==void 0&&h!=null&&T(t,["setup","generationConfig","maxOutputTokens"],h);const f=C(e,["mediaResolution"]);t!==void 0&&f!=null&&T(t,["setup","generationConfig","mediaResolution"],f);const p=C(e,["seed"]);t!==void 0&&p!=null&&T(t,["setup","generationConfig","seed"],p);const v=C(e,["speechConfig"]);t!==void 0&&v!=null&&T(t,["setup","generationConfig","speechConfig"],mD(BS(v)));const E=C(e,["thinkingConfig"]);t!==void 0&&E!=null&&T(t,["setup","generationConfig","thinkingConfig"],E);const A=C(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&T(t,["setup","generationConfig","enableAffectiveDialog"],A);const k=C(e,["systemInstruction"]);t!==void 0&&k!=null&&T(t,["setup","systemInstruction"],Po(k));const I=C(e,["tools"]);if(t!==void 0&&I!=null){let G=$0(I);Array.isArray(G)&&(G=G.map(ee=>ece(K0(ee)))),T(t,["setup","tools"],G)}const R=C(e,["sessionResumption"]);t!==void 0&&R!=null&&T(t,["setup","sessionResumption"],R);const L=C(e,["inputAudioTranscription"]);t!==void 0&&L!=null&&T(t,["setup","inputAudioTranscription"],L);const q=C(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&T(t,["setup","outputAudioTranscription"],q);const U=C(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&T(t,["setup","realtimeInputConfig"],U);const H=C(e,["contextWindowCompression"]);t!==void 0&&H!=null&&T(t,["setup","contextWindowCompression"],H);const W=C(e,["proactivity"]);t!==void 0&&W!=null&&T(t,["setup","proactivity"],W);const Q=C(e,["explicitVadSignal"]);return t!==void 0&&Q!=null&&T(t,["setup","explicitVadSignal"],Q),n}function Vle(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["setup","model"],Cr(e,r));const i=C(t,["config"]);return i!=null&&T(n,["config"],qle(i,n)),n}function Gle(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["setup","model"],Cr(e,r));const i=C(t,["config"]);return i!=null&&T(n,["config"],Hle(i,n)),n}function Yle(e){const t={},n=C(e,["musicGenerationConfig"]);return n!=null&&T(t,["musicGenerationConfig"],n),t}function Wle(e){const t={},n=C(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(t,["weightedPrompts"],r)}return t}function Kle(e){const t={},n=C(e,["media"]);if(n!=null){let f=rD(n);Array.isArray(f)&&(f=f.map(p=>Cg(p))),T(t,["mediaChunks"],f)}const r=C(e,["audio"]);r!=null&&T(t,["audio"],Cg(aD(r)));const i=C(e,["audioStreamEnd"]);i!=null&&T(t,["audioStreamEnd"],i);const a=C(e,["video"]);a!=null&&T(t,["video"],Cg(iD(a)));const s=C(e,["text"]);s!=null&&T(t,["text"],s);const c=C(e,["activityStart"]);c!=null&&T(t,["activityStart"],c);const h=C(e,["activityEnd"]);return h!=null&&T(t,["activityEnd"],h),t}function $le(e){const t={},n=C(e,["media"]);if(n!=null){let f=rD(n);Array.isArray(f)&&(f=f.map(p=>p)),T(t,["mediaChunks"],f)}const r=C(e,["audio"]);r!=null&&T(t,["audio"],aD(r));const i=C(e,["audioStreamEnd"]);i!=null&&T(t,["audioStreamEnd"],i);const a=C(e,["video"]);a!=null&&T(t,["video"],iD(a));const s=C(e,["text"]);s!=null&&T(t,["text"],s);const c=C(e,["activityStart"]);c!=null&&T(t,["activityStart"],c);const h=C(e,["activityEnd"]);return h!=null&&T(t,["activityEnd"],h),t}function Xle(e){const t={},n=C(e,["setupComplete"]);n!=null&&T(t,["setupComplete"],n);const r=C(e,["serverContent"]);r!=null&&T(t,["serverContent"],r);const i=C(e,["toolCall"]);i!=null&&T(t,["toolCall"],i);const a=C(e,["toolCallCancellation"]);a!=null&&T(t,["toolCallCancellation"],a);const s=C(e,["usageMetadata"]);s!=null&&T(t,["usageMetadata"],tce(s));const c=C(e,["goAway"]);c!=null&&T(t,["goAway"],c);const h=C(e,["sessionResumptionUpdate"]);h!=null&&T(t,["sessionResumptionUpdate"],h);const f=C(e,["voiceActivityDetectionSignal"]);return f!=null&&T(t,["voiceActivityDetectionSignal"],f),t}function Jle(e){const t={},n=C(e,["mediaResolution"]);n!=null&&T(t,["mediaResolution"],n);const r=C(e,["codeExecutionResult"]);r!=null&&T(t,["codeExecutionResult"],r);const i=C(e,["executableCode"]);i!=null&&T(t,["executableCode"],i);const a=C(e,["fileData"]);a!=null&&T(t,["fileData"],Lle(a));const s=C(e,["functionCall"]);s!=null&&T(t,["functionCall"],jle(s));const c=C(e,["functionResponse"]);c!=null&&T(t,["functionResponse"],c);const h=C(e,["inlineData"]);h!=null&&T(t,["inlineData"],Cg(h));const f=C(e,["text"]);f!=null&&T(t,["text"],f);const p=C(e,["thought"]);p!=null&&T(t,["thought"],p);const v=C(e,["thoughtSignature"]);v!=null&&T(t,["thoughtSignature"],v);const E=C(e,["videoMetadata"]);return E!=null&&T(t,["videoMetadata"],E),t}function Zle(e){const t={},n=C(e,["handle"]);if(n!=null&&T(t,["handle"],n),C(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function mD(e){const t={},n=C(e,["voiceConfig"]);n!=null&&T(t,["voiceConfig"],n);const r=C(e,["languageCode"]);if(r!=null&&T(t,["languageCode"],r),C(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Qle(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>v)),T(t,["functionDeclarations"],p)}if(C(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=C(e,["googleSearchRetrieval"]);r!=null&&T(t,["googleSearchRetrieval"],r);const i=C(e,["computerUse"]);i!=null&&T(t,["computerUse"],i);const a=C(e,["fileSearch"]);a!=null&&T(t,["fileSearch"],a);const s=C(e,["codeExecution"]);if(s!=null&&T(t,["codeExecution"],s),C(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=C(e,["googleMaps"]);c!=null&&T(t,["googleMaps"],Ule(c));const h=C(e,["googleSearch"]);h!=null&&T(t,["googleSearch"],zle(h));const f=C(e,["urlContext"]);return f!=null&&T(t,["urlContext"],f),t}function ece(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>Ble(E))),T(t,["functionDeclarations"],v)}const r=C(e,["retrieval"]);r!=null&&T(t,["retrieval"],r);const i=C(e,["googleSearchRetrieval"]);i!=null&&T(t,["googleSearchRetrieval"],i);const a=C(e,["computerUse"]);if(a!=null&&T(t,["computerUse"],a),C(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=C(e,["codeExecution"]);s!=null&&T(t,["codeExecution"],s);const c=C(e,["enterpriseWebSearch"]);c!=null&&T(t,["enterpriseWebSearch"],c);const h=C(e,["googleMaps"]);h!=null&&T(t,["googleMaps"],h);const f=C(e,["googleSearch"]);f!=null&&T(t,["googleSearch"],f);const p=C(e,["urlContext"]);return p!=null&&T(t,["urlContext"],p),t}function tce(e){const t={},n=C(e,["promptTokenCount"]);n!=null&&T(t,["promptTokenCount"],n);const r=C(e,["cachedContentTokenCount"]);r!=null&&T(t,["cachedContentTokenCount"],r);const i=C(e,["candidatesTokenCount"]);i!=null&&T(t,["responseTokenCount"],i);const a=C(e,["toolUsePromptTokenCount"]);a!=null&&T(t,["toolUsePromptTokenCount"],a);const s=C(e,["thoughtsTokenCount"]);s!=null&&T(t,["thoughtsTokenCount"],s);const c=C(e,["totalTokenCount"]);c!=null&&T(t,["totalTokenCount"],c);const h=C(e,["promptTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(k=>k)),T(t,["promptTokensDetails"],A)}const f=C(e,["cacheTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(k=>k)),T(t,["cacheTokensDetails"],A)}const p=C(e,["candidatesTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(k=>k)),T(t,["responseTokensDetails"],A)}const v=C(e,["toolUsePromptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(k=>k)),T(t,["toolUsePromptTokensDetails"],A)}const E=C(e,["trafficType"]);return E!=null&&T(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nce(e){const t={},n=C(e,["data"]);if(n!=null&&T(t,["data"],n),C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function rce(e){const t={},n=C(e,["content"]);n!=null&&T(t,["content"],n);const r=C(e,["citationMetadata"]);r!=null&&T(t,["citationMetadata"],ice(r));const i=C(e,["tokenCount"]);i!=null&&T(t,["tokenCount"],i);const a=C(e,["finishReason"]);a!=null&&T(t,["finishReason"],a);const s=C(e,["avgLogprobs"]);s!=null&&T(t,["avgLogprobs"],s);const c=C(e,["groundingMetadata"]);c!=null&&T(t,["groundingMetadata"],c);const h=C(e,["index"]);h!=null&&T(t,["index"],h);const f=C(e,["logprobsResult"]);f!=null&&T(t,["logprobsResult"],f);const p=C(e,["safetyRatings"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(A=>A)),T(t,["safetyRatings"],E)}const v=C(e,["urlContextMetadata"]);return v!=null&&T(t,["urlContextMetadata"],v),t}function ice(e){const t={},n=C(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(t,["citations"],r)}return t}function ace(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let a=vl(i);Array.isArray(a)&&(a=a.map(s=>s)),T(n,["contents"],a)}return n}function oce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(t,["tokensInfo"],i)}return t}function sce(e){const t={},n=C(e,["values"]);n!=null&&T(t,["values"],n);const r=C(e,["statistics"]);return r!=null&&T(t,["statistics"],lce(r)),t}function lce(e){const t={},n=C(e,["truncated"]);n!=null&&T(t,["truncated"],n);const r=C(e,["token_count"]);return r!=null&&T(t,["tokenCount"],r),t}function Kv(e){const t={},n=C(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>vue(a))),T(t,["parts"],i)}const r=C(e,["role"]);return r!=null&&T(t,["role"],r),t}function cce(e){const t={},n=C(e,["controlType"]);n!=null&&T(t,["controlType"],n);const r=C(e,["enableControlImageComputation"]);return r!=null&&T(t,["computeControl"],r),t}function uce(e){const t={};if(C(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(C(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(C(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fce(e,t){const n={},r=C(e,["systemInstruction"]);t!==void 0&&r!=null&&T(t,["systemInstruction"],Po(r));const i=C(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>wD(c))),T(t,["tools"],s)}const a=C(e,["generationConfig"]);return t!==void 0&&a!=null&&T(t,["generationConfig"],nue(a)),n}function dce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let s=vl(i);Array.isArray(s)&&(s=s.map(c=>Kv(c))),T(n,["contents"],s)}const a=C(t,["config"]);return a!=null&&uce(a),n}function hce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let s=vl(i);Array.isArray(s)&&(s=s.map(c=>c)),T(n,["contents"],s)}const a=C(t,["config"]);return a!=null&&fce(a,n),n}function pce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["totalTokens"]);r!=null&&T(t,["totalTokens"],r);const i=C(e,["cachedContentTokenCount"]);return i!=null&&T(t,["cachedContentTokenCount"],i),t}function gce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["totalTokens"]);return r!=null&&T(t,["totalTokens"],r),t}function mce(e,t){const n={},r=C(t,["model"]);return r!=null&&T(n,["_url","name"],Cr(e,r)),n}function vce(e,t){const n={},r=C(t,["model"]);return r!=null&&T(n,["_url","name"],Cr(e,r)),n}function yce(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function xce(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}function bce(e,t){const n={},r=C(e,["outputGcsUri"]);t!==void 0&&r!=null&&T(t,["parameters","storageUri"],r);const i=C(e,["negativePrompt"]);t!==void 0&&i!=null&&T(t,["parameters","negativePrompt"],i);const a=C(e,["numberOfImages"]);t!==void 0&&a!=null&&T(t,["parameters","sampleCount"],a);const s=C(e,["aspectRatio"]);t!==void 0&&s!=null&&T(t,["parameters","aspectRatio"],s);const c=C(e,["guidanceScale"]);t!==void 0&&c!=null&&T(t,["parameters","guidanceScale"],c);const h=C(e,["seed"]);t!==void 0&&h!=null&&T(t,["parameters","seed"],h);const f=C(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&T(t,["parameters","safetySetting"],f);const p=C(e,["personGeneration"]);t!==void 0&&p!=null&&T(t,["parameters","personGeneration"],p);const v=C(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&T(t,["parameters","includeSafetyAttributes"],v);const E=C(e,["includeRaiReason"]);t!==void 0&&E!=null&&T(t,["parameters","includeRaiReason"],E);const A=C(e,["language"]);t!==void 0&&A!=null&&T(t,["parameters","language"],A);const k=C(e,["outputMimeType"]);t!==void 0&&k!=null&&T(t,["parameters","outputOptions","mimeType"],k);const I=C(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&T(t,["parameters","outputOptions","compressionQuality"],I);const R=C(e,["addWatermark"]);t!==void 0&&R!=null&&T(t,["parameters","addWatermark"],R);const L=C(e,["labels"]);t!==void 0&&L!=null&&T(t,["labels"],L);const q=C(e,["editMode"]);t!==void 0&&q!=null&&T(t,["parameters","editMode"],q);const U=C(e,["baseSteps"]);return t!==void 0&&U!=null&&T(t,["parameters","editConfig","baseSteps"],U),n}function wce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const a=C(t,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Sue(h))),T(n,["instances[0]","referenceImages"],c)}const s=C(t,["config"]);return s!=null&&bce(s,n),n}function Ace(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>$v(a))),T(t,["generatedImages"],i)}return t}function Sce(e,t){const n={},r=C(e,["taskType"]);t!==void 0&&r!=null&&T(t,["requests[]","taskType"],r);const i=C(e,["title"]);t!==void 0&&i!=null&&T(t,["requests[]","title"],i);const a=C(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&T(t,["requests[]","outputDimensionality"],a),C(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(C(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ece(e,t){const n={},r=C(e,["taskType"]);t!==void 0&&r!=null&&T(t,["instances[]","task_type"],r);const i=C(e,["title"]);t!==void 0&&i!=null&&T(t,["instances[]","title"],i);const a=C(e,["outputDimensionality"]);t!==void 0&&a!=null&&T(t,["parameters","outputDimensionality"],a);const s=C(e,["mimeType"]);t!==void 0&&s!=null&&T(t,["instances[]","mimeType"],s);const c=C(e,["autoTruncate"]);return t!==void 0&&c!=null&&T(t,["parameters","autoTruncate"],c),n}function Cce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let c=DS(e,i);Array.isArray(c)&&(c=c.map(h=>h)),T(n,["requests[]","content"],c)}const a=C(t,["config"]);a!=null&&Sce(a,n);const s=C(t,["model"]);return s!==void 0&&T(n,["requests[]","model"],Cr(e,s)),n}function Nce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let s=DS(e,i);Array.isArray(s)&&(s=s.map(c=>c)),T(n,["instances[]","content"],s)}const a=C(t,["config"]);return a!=null&&Ece(a,n),n}function _ce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["embeddings"],a)}const i=C(e,["metadata"]);return i!=null&&T(t,["metadata"],i),t}function Tce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>sce(s))),T(t,["embeddings"],a)}const i=C(e,["metadata"]);return i!=null&&T(t,["metadata"],i),t}function Ice(e){const t={},n=C(e,["endpoint"]);n!=null&&T(t,["name"],n);const r=C(e,["deployedModelId"]);return r!=null&&T(t,["deployedModelId"],r),t}function Mce(e){const t={};if(C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=C(e,["fileUri"]);n!=null&&T(t,["fileUri"],n);const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function kce(e){const t={},n=C(e,["id"]);n!=null&&T(t,["id"],n);const r=C(e,["args"]);r!=null&&T(t,["args"],r);const i=C(e,["name"]);if(i!=null&&T(t,["name"],i),C(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(C(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Oce(e){const t={},n=C(e,["mode"]);n!=null&&T(t,["mode"],n);const r=C(e,["allowedFunctionNames"]);if(r!=null&&T(t,["allowedFunctionNames"],r),C(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Rce(e){const t={};if(C(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=C(e,["description"]);n!=null&&T(t,["description"],n);const r=C(e,["name"]);r!=null&&T(t,["name"],r);const i=C(e,["parameters"]);i!=null&&T(t,["parameters"],i);const a=C(e,["parametersJsonSchema"]);a!=null&&T(t,["parametersJsonSchema"],a);const s=C(e,["response"]);s!=null&&T(t,["response"],s);const c=C(e,["responseJsonSchema"]);return c!=null&&T(t,["responseJsonSchema"],c),t}function Pce(e,t,n){const r={},i=C(t,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],Kv(Po(i)));const a=C(t,["temperature"]);a!=null&&T(r,["temperature"],a);const s=C(t,["topP"]);s!=null&&T(r,["topP"],s);const c=C(t,["topK"]);c!=null&&T(r,["topK"],c);const h=C(t,["candidateCount"]);h!=null&&T(r,["candidateCount"],h);const f=C(t,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const p=C(t,["stopSequences"]);p!=null&&T(r,["stopSequences"],p);const v=C(t,["responseLogprobs"]);v!=null&&T(r,["responseLogprobs"],v);const E=C(t,["logprobs"]);E!=null&&T(r,["logprobs"],E);const A=C(t,["presencePenalty"]);A!=null&&T(r,["presencePenalty"],A);const k=C(t,["frequencyPenalty"]);k!=null&&T(r,["frequencyPenalty"],k);const I=C(t,["seed"]);I!=null&&T(r,["seed"],I);const R=C(t,["responseMimeType"]);R!=null&&T(r,["responseMimeType"],R);const L=C(t,["responseSchema"]);L!=null&&T(r,["responseSchema"],LS(L));const q=C(t,["responseJsonSchema"]);if(q!=null&&T(r,["responseJsonSchema"],q),C(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(C(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=C(t,["safetySettings"]);if(n!==void 0&&U!=null){let ie=U;Array.isArray(ie)&&(ie=ie.map(se=>Eue(se))),T(n,["safetySettings"],ie)}const H=C(t,["tools"]);if(n!==void 0&&H!=null){let ie=$0(H);Array.isArray(ie)&&(ie=ie.map(se=>kue(K0(se)))),T(n,["tools"],ie)}const W=C(t,["toolConfig"]);if(n!==void 0&&W!=null&&T(n,["toolConfig"],Mue(W)),C(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=C(t,["cachedContent"]);n!==void 0&&Q!=null&&T(n,["cachedContent"],_u(e,Q));const G=C(t,["responseModalities"]);G!=null&&T(r,["responseModalities"],G);const ee=C(t,["mediaResolution"]);ee!=null&&T(r,["mediaResolution"],ee);const Y=C(t,["speechConfig"]);if(Y!=null&&T(r,["speechConfig"],jS(Y)),C(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=C(t,["thinkingConfig"]);me!=null&&T(r,["thinkingConfig"],me);const X=C(t,["imageConfig"]);X!=null&&T(r,["imageConfig"],sue(X));const J=C(t,["enableEnhancedCivicAnswers"]);return J!=null&&T(r,["enableEnhancedCivicAnswers"],J),r}function Dce(e,t,n){const r={},i=C(t,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],Po(i));const a=C(t,["temperature"]);a!=null&&T(r,["temperature"],a);const s=C(t,["topP"]);s!=null&&T(r,["topP"],s);const c=C(t,["topK"]);c!=null&&T(r,["topK"],c);const h=C(t,["candidateCount"]);h!=null&&T(r,["candidateCount"],h);const f=C(t,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const p=C(t,["stopSequences"]);p!=null&&T(r,["stopSequences"],p);const v=C(t,["responseLogprobs"]);v!=null&&T(r,["responseLogprobs"],v);const E=C(t,["logprobs"]);E!=null&&T(r,["logprobs"],E);const A=C(t,["presencePenalty"]);A!=null&&T(r,["presencePenalty"],A);const k=C(t,["frequencyPenalty"]);k!=null&&T(r,["frequencyPenalty"],k);const I=C(t,["seed"]);I!=null&&T(r,["seed"],I);const R=C(t,["responseMimeType"]);R!=null&&T(r,["responseMimeType"],R);const L=C(t,["responseSchema"]);L!=null&&T(r,["responseSchema"],LS(L));const q=C(t,["responseJsonSchema"]);q!=null&&T(r,["responseJsonSchema"],q);const U=C(t,["routingConfig"]);U!=null&&T(r,["routingConfig"],U);const H=C(t,["modelSelectionConfig"]);H!=null&&T(r,["modelConfig"],H);const W=C(t,["safetySettings"]);if(n!==void 0&&W!=null){let he=W;Array.isArray(he)&&(he=he.map(Ae=>Ae)),T(n,["safetySettings"],he)}const Q=C(t,["tools"]);if(n!==void 0&&Q!=null){let he=$0(Q);Array.isArray(he)&&(he=he.map(Ae=>wD(K0(Ae)))),T(n,["tools"],he)}const G=C(t,["toolConfig"]);n!==void 0&&G!=null&&T(n,["toolConfig"],G);const ee=C(t,["labels"]);n!==void 0&&ee!=null&&T(n,["labels"],ee);const Y=C(t,["cachedContent"]);n!==void 0&&Y!=null&&T(n,["cachedContent"],_u(e,Y));const me=C(t,["responseModalities"]);me!=null&&T(r,["responseModalities"],me);const X=C(t,["mediaResolution"]);X!=null&&T(r,["mediaResolution"],X);const J=C(t,["speechConfig"]);J!=null&&T(r,["speechConfig"],bD(jS(J)));const ie=C(t,["audioTimestamp"]);ie!=null&&T(r,["audioTimestamp"],ie);const se=C(t,["thinkingConfig"]);se!=null&&T(r,["thinkingConfig"],se);const ae=C(t,["imageConfig"]);if(ae!=null&&T(r,["imageConfig"],lue(ae)),C(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function TI(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let s=vl(i);Array.isArray(s)&&(s=s.map(c=>Kv(c))),T(n,["contents"],s)}const a=C(t,["config"]);return a!=null&&T(n,["generationConfig"],Pce(e,a,n)),n}function II(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["contents"]);if(i!=null){let s=vl(i);Array.isArray(s)&&(s=s.map(c=>c)),T(n,["contents"],s)}const a=C(t,["config"]);return a!=null&&T(n,["generationConfig"],Dce(e,a,n)),n}function MI(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>rce(f))),T(t,["candidates"],h)}const i=C(e,["modelVersion"]);i!=null&&T(t,["modelVersion"],i);const a=C(e,["promptFeedback"]);a!=null&&T(t,["promptFeedback"],a);const s=C(e,["responseId"]);s!=null&&T(t,["responseId"],s);const c=C(e,["usageMetadata"]);return c!=null&&T(t,["usageMetadata"],c),t}function kI(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),T(t,["candidates"],f)}const i=C(e,["createTime"]);i!=null&&T(t,["createTime"],i);const a=C(e,["modelVersion"]);a!=null&&T(t,["modelVersion"],a);const s=C(e,["promptFeedback"]);s!=null&&T(t,["promptFeedback"],s);const c=C(e,["responseId"]);c!=null&&T(t,["responseId"],c);const h=C(e,["usageMetadata"]);return h!=null&&T(t,["usageMetadata"],h),t}function Lce(e,t){const n={};if(C(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(C(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=C(e,["numberOfImages"]);t!==void 0&&r!=null&&T(t,["parameters","sampleCount"],r);const i=C(e,["aspectRatio"]);t!==void 0&&i!=null&&T(t,["parameters","aspectRatio"],i);const a=C(e,["guidanceScale"]);if(t!==void 0&&a!=null&&T(t,["parameters","guidanceScale"],a),C(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=C(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&T(t,["parameters","safetySetting"],s);const c=C(e,["personGeneration"]);t!==void 0&&c!=null&&T(t,["parameters","personGeneration"],c);const h=C(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&T(t,["parameters","includeSafetyAttributes"],h);const f=C(e,["includeRaiReason"]);t!==void 0&&f!=null&&T(t,["parameters","includeRaiReason"],f);const p=C(e,["language"]);t!==void 0&&p!=null&&T(t,["parameters","language"],p);const v=C(e,["outputMimeType"]);t!==void 0&&v!=null&&T(t,["parameters","outputOptions","mimeType"],v);const E=C(e,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&T(t,["parameters","outputOptions","compressionQuality"],E),C(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(C(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=C(e,["imageSize"]);if(t!==void 0&&A!=null&&T(t,["parameters","sampleImageSize"],A),C(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function jce(e,t){const n={},r=C(e,["outputGcsUri"]);t!==void 0&&r!=null&&T(t,["parameters","storageUri"],r);const i=C(e,["negativePrompt"]);t!==void 0&&i!=null&&T(t,["parameters","negativePrompt"],i);const a=C(e,["numberOfImages"]);t!==void 0&&a!=null&&T(t,["parameters","sampleCount"],a);const s=C(e,["aspectRatio"]);t!==void 0&&s!=null&&T(t,["parameters","aspectRatio"],s);const c=C(e,["guidanceScale"]);t!==void 0&&c!=null&&T(t,["parameters","guidanceScale"],c);const h=C(e,["seed"]);t!==void 0&&h!=null&&T(t,["parameters","seed"],h);const f=C(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&T(t,["parameters","safetySetting"],f);const p=C(e,["personGeneration"]);t!==void 0&&p!=null&&T(t,["parameters","personGeneration"],p);const v=C(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&T(t,["parameters","includeSafetyAttributes"],v);const E=C(e,["includeRaiReason"]);t!==void 0&&E!=null&&T(t,["parameters","includeRaiReason"],E);const A=C(e,["language"]);t!==void 0&&A!=null&&T(t,["parameters","language"],A);const k=C(e,["outputMimeType"]);t!==void 0&&k!=null&&T(t,["parameters","outputOptions","mimeType"],k);const I=C(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&T(t,["parameters","outputOptions","compressionQuality"],I);const R=C(e,["addWatermark"]);t!==void 0&&R!=null&&T(t,["parameters","addWatermark"],R);const L=C(e,["labels"]);t!==void 0&&L!=null&&T(t,["labels"],L);const q=C(e,["imageSize"]);t!==void 0&&q!=null&&T(t,["parameters","sampleImageSize"],q);const U=C(e,["enhancePrompt"]);return t!==void 0&&U!=null&&T(t,["parameters","enhancePrompt"],U),n}function Bce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const a=C(t,["config"]);return a!=null&&Lce(a,n),n}function Fce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const a=C(t,["config"]);return a!=null&&jce(a,n),n}function Uce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Zce(s))),T(t,["generatedImages"],a)}const i=C(e,["positivePromptSafetyAttributes"]);return i!=null&&T(t,["positivePromptSafetyAttributes"],yD(i)),t}function zce(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>$v(s))),T(t,["generatedImages"],a)}const i=C(e,["positivePromptSafetyAttributes"]);return i!=null&&T(t,["positivePromptSafetyAttributes"],xD(i)),t}function qce(e,t){const n={},r=C(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&T(t,["parameters","sampleCount"],r),C(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(C(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=C(e,["durationSeconds"]);if(t!==void 0&&i!=null&&T(t,["parameters","durationSeconds"],i),C(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=C(e,["aspectRatio"]);t!==void 0&&a!=null&&T(t,["parameters","aspectRatio"],a);const s=C(e,["resolution"]);t!==void 0&&s!=null&&T(t,["parameters","resolution"],s);const c=C(e,["personGeneration"]);if(t!==void 0&&c!=null&&T(t,["parameters","personGeneration"],c),C(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=C(e,["negativePrompt"]);t!==void 0&&h!=null&&T(t,["parameters","negativePrompt"],h);const f=C(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&T(t,["parameters","enhancePrompt"],f),C(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=C(e,["lastFrame"]);t!==void 0&&p!=null&&T(t,["instances[0]","lastFrame"],Xv(p));const v=C(e,["referenceImages"]);if(t!==void 0&&v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>Vue(A))),T(t,["instances[0]","referenceImages"],E)}if(C(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(C(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Hce(e,t){const n={},r=C(e,["numberOfVideos"]);t!==void 0&&r!=null&&T(t,["parameters","sampleCount"],r);const i=C(e,["outputGcsUri"]);t!==void 0&&i!=null&&T(t,["parameters","storageUri"],i);const a=C(e,["fps"]);t!==void 0&&a!=null&&T(t,["parameters","fps"],a);const s=C(e,["durationSeconds"]);t!==void 0&&s!=null&&T(t,["parameters","durationSeconds"],s);const c=C(e,["seed"]);t!==void 0&&c!=null&&T(t,["parameters","seed"],c);const h=C(e,["aspectRatio"]);t!==void 0&&h!=null&&T(t,["parameters","aspectRatio"],h);const f=C(e,["resolution"]);t!==void 0&&f!=null&&T(t,["parameters","resolution"],f);const p=C(e,["personGeneration"]);t!==void 0&&p!=null&&T(t,["parameters","personGeneration"],p);const v=C(e,["pubsubTopic"]);t!==void 0&&v!=null&&T(t,["parameters","pubsubTopic"],v);const E=C(e,["negativePrompt"]);t!==void 0&&E!=null&&T(t,["parameters","negativePrompt"],E);const A=C(e,["enhancePrompt"]);t!==void 0&&A!=null&&T(t,["parameters","enhancePrompt"],A);const k=C(e,["generateAudio"]);t!==void 0&&k!=null&&T(t,["parameters","generateAudio"],k);const I=C(e,["lastFrame"]);t!==void 0&&I!=null&&T(t,["instances[0]","lastFrame"],Ql(I));const R=C(e,["referenceImages"]);if(t!==void 0&&R!=null){let U=R;Array.isArray(U)&&(U=U.map(H=>Gue(H))),T(t,["instances[0]","referenceImages"],U)}const L=C(e,["mask"]);t!==void 0&&L!=null&&T(t,["instances[0]","mask"],Hue(L));const q=C(e,["compressionQuality"]);return t!==void 0&&q!=null&&T(t,["parameters","compressionQuality"],q),n}function Vce(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response","generateVideoResponse"]);return s!=null&&T(t,["response"],Kce(s)),t}function Gce(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response"]);return s!=null&&T(t,["response"],$ce(s)),t}function Yce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const a=C(t,["image"]);a!=null&&T(n,["instances[0]","image"],Xv(a));const s=C(t,["video"]);s!=null&&T(n,["instances[0]","video"],AD(s));const c=C(t,["source"]);c!=null&&Xce(c,n);const h=C(t,["config"]);return h!=null&&qce(h,n),n}function Wce(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const a=C(t,["image"]);a!=null&&T(n,["instances[0]","image"],Ql(a));const s=C(t,["video"]);s!=null&&T(n,["instances[0]","video"],SD(s));const c=C(t,["source"]);c!=null&&Jce(c,n);const h=C(t,["config"]);return h!=null&&Hce(h,n),n}function Kce(e){const t={},n=C(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>eue(s))),T(t,["generatedVideos"],a)}const r=C(e,["raiMediaFilteredCount"]);r!=null&&T(t,["raiMediaFilteredCount"],r);const i=C(e,["raiMediaFilteredReasons"]);return i!=null&&T(t,["raiMediaFilteredReasons"],i),t}function $ce(e){const t={},n=C(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>tue(s))),T(t,["generatedVideos"],a)}const r=C(e,["raiMediaFilteredCount"]);r!=null&&T(t,["raiMediaFilteredCount"],r);const i=C(e,["raiMediaFilteredReasons"]);return i!=null&&T(t,["raiMediaFilteredReasons"],i),t}function Xce(e,t){const n={},r=C(e,["prompt"]);t!==void 0&&r!=null&&T(t,["instances[0]","prompt"],r);const i=C(e,["image"]);t!==void 0&&i!=null&&T(t,["instances[0]","image"],Xv(i));const a=C(e,["video"]);return t!==void 0&&a!=null&&T(t,["instances[0]","video"],AD(a)),n}function Jce(e,t){const n={},r=C(e,["prompt"]);t!==void 0&&r!=null&&T(t,["instances[0]","prompt"],r);const i=C(e,["image"]);t!==void 0&&i!=null&&T(t,["instances[0]","image"],Ql(i));const a=C(e,["video"]);return t!==void 0&&a!=null&&T(t,["instances[0]","video"],SD(a)),n}function Zce(e){const t={},n=C(e,["_self"]);n!=null&&T(t,["image"],cue(n));const r=C(e,["raiFilteredReason"]);r!=null&&T(t,["raiFilteredReason"],r);const i=C(e,["_self"]);return i!=null&&T(t,["safetyAttributes"],yD(i)),t}function $v(e){const t={},n=C(e,["_self"]);n!=null&&T(t,["image"],vD(n));const r=C(e,["raiFilteredReason"]);r!=null&&T(t,["raiFilteredReason"],r);const i=C(e,["_self"]);i!=null&&T(t,["safetyAttributes"],xD(i));const a=C(e,["prompt"]);return a!=null&&T(t,["enhancedPrompt"],a),t}function Qce(e){const t={},n=C(e,["_self"]);n!=null&&T(t,["mask"],vD(n));const r=C(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(t,["labels"],i)}return t}function eue(e){const t={},n=C(e,["video"]);return n!=null&&T(t,["video"],zue(n)),t}function tue(e){const t={},n=C(e,["_self"]);return n!=null&&T(t,["video"],que(n)),t}function nue(e){const t={},n=C(e,["modelSelectionConfig"]);n!=null&&T(t,["modelConfig"],n);const r=C(e,["responseJsonSchema"]);r!=null&&T(t,["responseJsonSchema"],r);const i=C(e,["audioTimestamp"]);i!=null&&T(t,["audioTimestamp"],i);const a=C(e,["candidateCount"]);a!=null&&T(t,["candidateCount"],a);const s=C(e,["enableAffectiveDialog"]);s!=null&&T(t,["enableAffectiveDialog"],s);const c=C(e,["frequencyPenalty"]);c!=null&&T(t,["frequencyPenalty"],c);const h=C(e,["logprobs"]);h!=null&&T(t,["logprobs"],h);const f=C(e,["maxOutputTokens"]);f!=null&&T(t,["maxOutputTokens"],f);const p=C(e,["mediaResolution"]);p!=null&&T(t,["mediaResolution"],p);const v=C(e,["presencePenalty"]);v!=null&&T(t,["presencePenalty"],v);const E=C(e,["responseLogprobs"]);E!=null&&T(t,["responseLogprobs"],E);const A=C(e,["responseMimeType"]);A!=null&&T(t,["responseMimeType"],A);const k=C(e,["responseModalities"]);k!=null&&T(t,["responseModalities"],k);const I=C(e,["responseSchema"]);I!=null&&T(t,["responseSchema"],I);const R=C(e,["routingConfig"]);R!=null&&T(t,["routingConfig"],R);const L=C(e,["seed"]);L!=null&&T(t,["seed"],L);const q=C(e,["speechConfig"]);q!=null&&T(t,["speechConfig"],bD(q));const U=C(e,["stopSequences"]);U!=null&&T(t,["stopSequences"],U);const H=C(e,["temperature"]);H!=null&&T(t,["temperature"],H);const W=C(e,["thinkingConfig"]);W!=null&&T(t,["thinkingConfig"],W);const Q=C(e,["topK"]);Q!=null&&T(t,["topK"],Q);const G=C(e,["topP"]);if(G!=null&&T(t,["topP"],G),C(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rue(e,t){const n={},r=C(t,["model"]);return r!=null&&T(n,["_url","name"],Cr(e,r)),n}function iue(e,t){const n={},r=C(t,["model"]);return r!=null&&T(n,["_url","name"],Cr(e,r)),n}function aue(e){const t={};if(C(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=C(e,["enableWidget"]);return n!=null&&T(t,["enableWidget"],n),t}function oue(e){const t={};if(C(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(C(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=C(e,["timeRangeFilter"]);return n!=null&&T(t,["timeRangeFilter"],n),t}function sue(e){const t={},n=C(e,["aspectRatio"]);n!=null&&T(t,["aspectRatio"],n);const r=C(e,["imageSize"]);if(r!=null&&T(t,["imageSize"],r),C(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(C(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function lue(e){const t={},n=C(e,["aspectRatio"]);n!=null&&T(t,["aspectRatio"],n);const r=C(e,["imageSize"]);r!=null&&T(t,["imageSize"],r);const i=C(e,["outputMimeType"]);i!=null&&T(t,["imageOutputOptions","mimeType"],i);const a=C(e,["outputCompressionQuality"]);return a!=null&&T(t,["imageOutputOptions","compressionQuality"],a),t}function cue(e){const t={},n=C(e,["bytesBase64Encoded"]);n!=null&&T(t,["imageBytes"],wf(n));const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function vD(e){const t={},n=C(e,["gcsUri"]);n!=null&&T(t,["gcsUri"],n);const r=C(e,["bytesBase64Encoded"]);r!=null&&T(t,["imageBytes"],wf(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["mimeType"],i),t}function Xv(e){const t={};if(C(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=C(e,["imageBytes"]);n!=null&&T(t,["bytesBase64Encoded"],wf(n));const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function Ql(e){const t={},n=C(e,["gcsUri"]);n!=null&&T(t,["gcsUri"],n);const r=C(e,["imageBytes"]);r!=null&&T(t,["bytesBase64Encoded"],wf(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["mimeType"],i),t}function uue(e,t,n){const r={},i=C(t,["pageSize"]);n!==void 0&&i!=null&&T(n,["_query","pageSize"],i);const a=C(t,["pageToken"]);n!==void 0&&a!=null&&T(n,["_query","pageToken"],a);const s=C(t,["filter"]);n!==void 0&&s!=null&&T(n,["_query","filter"],s);const c=C(t,["queryBase"]);return n!==void 0&&c!=null&&T(n,["_url","models_url"],cD(e,c)),r}function fue(e,t,n){const r={},i=C(t,["pageSize"]);n!==void 0&&i!=null&&T(n,["_query","pageSize"],i);const a=C(t,["pageToken"]);n!==void 0&&a!=null&&T(n,["_query","pageToken"],a);const s=C(t,["filter"]);n!==void 0&&s!=null&&T(n,["_query","filter"],s);const c=C(t,["queryBase"]);return n!==void 0&&c!=null&&T(n,["_url","models_url"],cD(e,c)),r}function due(e,t){const n={},r=C(t,["config"]);return r!=null&&uue(e,r,n),n}function hue(e,t){const n={},r=C(t,["config"]);return r!=null&&fue(e,r,n),n}function pue(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["_self"]);if(i!=null){let a=uD(i);Array.isArray(a)&&(a=a.map(s=>$w(s))),T(t,["models"],a)}return t}function gue(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["_self"]);if(i!=null){let a=uD(i);Array.isArray(a)&&(a=a.map(s=>Xw(s))),T(t,["models"],a)}return t}function mue(e){const t={},n=C(e,["maskMode"]);n!=null&&T(t,["maskMode"],n);const r=C(e,["segmentationClasses"]);r!=null&&T(t,["maskClasses"],r);const i=C(e,["maskDilation"]);return i!=null&&T(t,["dilation"],i),t}function $w(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["displayName"]);r!=null&&T(t,["displayName"],r);const i=C(e,["description"]);i!=null&&T(t,["description"],i);const a=C(e,["version"]);a!=null&&T(t,["version"],a);const s=C(e,["_self"]);s!=null&&T(t,["tunedModelInfo"],Oue(s));const c=C(e,["inputTokenLimit"]);c!=null&&T(t,["inputTokenLimit"],c);const h=C(e,["outputTokenLimit"]);h!=null&&T(t,["outputTokenLimit"],h);const f=C(e,["supportedGenerationMethods"]);f!=null&&T(t,["supportedActions"],f);const p=C(e,["temperature"]);p!=null&&T(t,["temperature"],p);const v=C(e,["maxTemperature"]);v!=null&&T(t,["maxTemperature"],v);const E=C(e,["topP"]);E!=null&&T(t,["topP"],E);const A=C(e,["topK"]);A!=null&&T(t,["topK"],A);const k=C(e,["thinking"]);return k!=null&&T(t,["thinking"],k),t}function Xw(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["displayName"]);r!=null&&T(t,["displayName"],r);const i=C(e,["description"]);i!=null&&T(t,["description"],i);const a=C(e,["versionId"]);a!=null&&T(t,["version"],a);const s=C(e,["deployedModels"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(E=>Ice(E))),T(t,["endpoints"],v)}const c=C(e,["labels"]);c!=null&&T(t,["labels"],c);const h=C(e,["_self"]);h!=null&&T(t,["tunedModelInfo"],Rue(h));const f=C(e,["defaultCheckpointId"]);f!=null&&T(t,["defaultCheckpointId"],f);const p=C(e,["checkpoints"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(E=>E)),T(t,["checkpoints"],v)}return t}function vue(e){const t={},n=C(e,["mediaResolution"]);n!=null&&T(t,["mediaResolution"],n);const r=C(e,["codeExecutionResult"]);r!=null&&T(t,["codeExecutionResult"],r);const i=C(e,["executableCode"]);i!=null&&T(t,["executableCode"],i);const a=C(e,["fileData"]);a!=null&&T(t,["fileData"],Mce(a));const s=C(e,["functionCall"]);s!=null&&T(t,["functionCall"],kce(s));const c=C(e,["functionResponse"]);c!=null&&T(t,["functionResponse"],c);const h=C(e,["inlineData"]);h!=null&&T(t,["inlineData"],nce(h));const f=C(e,["text"]);f!=null&&T(t,["text"],f);const p=C(e,["thought"]);p!=null&&T(t,["thought"],p);const v=C(e,["thoughtSignature"]);v!=null&&T(t,["thoughtSignature"],v);const E=C(e,["videoMetadata"]);return E!=null&&T(t,["videoMetadata"],E),t}function yue(e){const t={},n=C(e,["productImage"]);return n!=null&&T(t,["image"],Ql(n)),t}function xue(e,t){const n={},r=C(e,["numberOfImages"]);t!==void 0&&r!=null&&T(t,["parameters","sampleCount"],r);const i=C(e,["baseSteps"]);t!==void 0&&i!=null&&T(t,["parameters","baseSteps"],i);const a=C(e,["outputGcsUri"]);t!==void 0&&a!=null&&T(t,["parameters","storageUri"],a);const s=C(e,["seed"]);t!==void 0&&s!=null&&T(t,["parameters","seed"],s);const c=C(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&T(t,["parameters","safetySetting"],c);const h=C(e,["personGeneration"]);t!==void 0&&h!=null&&T(t,["parameters","personGeneration"],h);const f=C(e,["addWatermark"]);t!==void 0&&f!=null&&T(t,["parameters","addWatermark"],f);const p=C(e,["outputMimeType"]);t!==void 0&&p!=null&&T(t,["parameters","outputOptions","mimeType"],p);const v=C(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&T(t,["parameters","outputOptions","compressionQuality"],v);const E=C(e,["enhancePrompt"]);t!==void 0&&E!=null&&T(t,["parameters","enhancePrompt"],E);const A=C(e,["labels"]);return t!==void 0&&A!=null&&T(t,["labels"],A),n}function bue(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["source"]);i!=null&&Aue(i,n);const a=C(t,["config"]);return a!=null&&xue(a,n),n}function wue(e){const t={},n=C(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$v(i))),T(t,["generatedImages"],r)}return t}function Aue(e,t){const n={},r=C(e,["prompt"]);t!==void 0&&r!=null&&T(t,["instances[0]","prompt"],r);const i=C(e,["personImage"]);t!==void 0&&i!=null&&T(t,["instances[0]","personImage","image"],Ql(i));const a=C(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>yue(c))),T(t,["instances[0]","productImages"],s)}return n}function Sue(e){const t={},n=C(e,["referenceImage"]);n!=null&&T(t,["referenceImage"],Ql(n));const r=C(e,["referenceId"]);r!=null&&T(t,["referenceId"],r);const i=C(e,["referenceType"]);i!=null&&T(t,["referenceType"],i);const a=C(e,["maskImageConfig"]);a!=null&&T(t,["maskImageConfig"],mue(a));const s=C(e,["controlImageConfig"]);s!=null&&T(t,["controlImageConfig"],cce(s));const c=C(e,["styleImageConfig"]);c!=null&&T(t,["styleImageConfig"],c);const h=C(e,["subjectImageConfig"]);return h!=null&&T(t,["subjectImageConfig"],h),t}function yD(e){const t={},n=C(e,["safetyAttributes","categories"]);n!=null&&T(t,["categories"],n);const r=C(e,["safetyAttributes","scores"]);r!=null&&T(t,["scores"],r);const i=C(e,["contentType"]);return i!=null&&T(t,["contentType"],i),t}function xD(e){const t={},n=C(e,["safetyAttributes","categories"]);n!=null&&T(t,["categories"],n);const r=C(e,["safetyAttributes","scores"]);r!=null&&T(t,["scores"],r);const i=C(e,["contentType"]);return i!=null&&T(t,["contentType"],i),t}function Eue(e){const t={},n=C(e,["category"]);if(n!=null&&T(t,["category"],n),C(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=C(e,["threshold"]);return r!=null&&T(t,["threshold"],r),t}function Cue(e){const t={},n=C(e,["image"]);return n!=null&&T(t,["image"],Ql(n)),t}function Nue(e,t){const n={},r=C(e,["mode"]);t!==void 0&&r!=null&&T(t,["parameters","mode"],r);const i=C(e,["maxPredictions"]);t!==void 0&&i!=null&&T(t,["parameters","maxPredictions"],i);const a=C(e,["confidenceThreshold"]);t!==void 0&&a!=null&&T(t,["parameters","confidenceThreshold"],a);const s=C(e,["maskDilation"]);t!==void 0&&s!=null&&T(t,["parameters","maskDilation"],s);const c=C(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&T(t,["parameters","binaryColorThreshold"],c);const h=C(e,["labels"]);return t!==void 0&&h!=null&&T(t,["labels"],h),n}function _ue(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["source"]);i!=null&&Iue(i,n);const a=C(t,["config"]);return a!=null&&Nue(a,n),n}function Tue(e){const t={},n=C(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qce(i))),T(t,["generatedMasks"],r)}return t}function Iue(e,t){const n={},r=C(e,["prompt"]);t!==void 0&&r!=null&&T(t,["instances[0]","prompt"],r);const i=C(e,["image"]);t!==void 0&&i!=null&&T(t,["instances[0]","image"],Ql(i));const a=C(e,["scribbleImage"]);return t!==void 0&&a!=null&&T(t,["instances[0]","scribble"],Cue(a)),n}function bD(e){const t={},n=C(e,["voiceConfig"]);n!=null&&T(t,["voiceConfig"],n);const r=C(e,["languageCode"]);if(r!=null&&T(t,["languageCode"],r),C(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Mue(e){const t={},n=C(e,["functionCallingConfig"]);n!=null&&T(t,["functionCallingConfig"],Oce(n));const r=C(e,["retrievalConfig"]);return r!=null&&T(t,["retrievalConfig"],r),t}function kue(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>v)),T(t,["functionDeclarations"],p)}if(C(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=C(e,["googleSearchRetrieval"]);r!=null&&T(t,["googleSearchRetrieval"],r);const i=C(e,["computerUse"]);i!=null&&T(t,["computerUse"],i);const a=C(e,["fileSearch"]);a!=null&&T(t,["fileSearch"],a);const s=C(e,["codeExecution"]);if(s!=null&&T(t,["codeExecution"],s),C(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=C(e,["googleMaps"]);c!=null&&T(t,["googleMaps"],aue(c));const h=C(e,["googleSearch"]);h!=null&&T(t,["googleSearch"],oue(h));const f=C(e,["urlContext"]);return f!=null&&T(t,["urlContext"],f),t}function wD(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(E=>Rce(E))),T(t,["functionDeclarations"],v)}const r=C(e,["retrieval"]);r!=null&&T(t,["retrieval"],r);const i=C(e,["googleSearchRetrieval"]);i!=null&&T(t,["googleSearchRetrieval"],i);const a=C(e,["computerUse"]);if(a!=null&&T(t,["computerUse"],a),C(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=C(e,["codeExecution"]);s!=null&&T(t,["codeExecution"],s);const c=C(e,["enterpriseWebSearch"]);c!=null&&T(t,["enterpriseWebSearch"],c);const h=C(e,["googleMaps"]);h!=null&&T(t,["googleMaps"],h);const f=C(e,["googleSearch"]);f!=null&&T(t,["googleSearch"],f);const p=C(e,["urlContext"]);return p!=null&&T(t,["urlContext"],p),t}function Oue(e){const t={},n=C(e,["baseModel"]);n!=null&&T(t,["baseModel"],n);const r=C(e,["createTime"]);r!=null&&T(t,["createTime"],r);const i=C(e,["updateTime"]);return i!=null&&T(t,["updateTime"],i),t}function Rue(e){const t={},n=C(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(t,["baseModel"],n);const r=C(e,["createTime"]);r!=null&&T(t,["createTime"],r);const i=C(e,["updateTime"]);return i!=null&&T(t,["updateTime"],i),t}function Pue(e,t){const n={},r=C(e,["displayName"]);t!==void 0&&r!=null&&T(t,["displayName"],r);const i=C(e,["description"]);t!==void 0&&i!=null&&T(t,["description"],i);const a=C(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&T(t,["defaultCheckpointId"],a),n}function Due(e,t){const n={},r=C(e,["displayName"]);t!==void 0&&r!=null&&T(t,["displayName"],r);const i=C(e,["description"]);t!==void 0&&i!=null&&T(t,["description"],i);const a=C(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&T(t,["defaultCheckpointId"],a),n}function Lue(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","name"],Cr(e,r));const i=C(t,["config"]);return i!=null&&Pue(i,n),n}function jue(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["config"]);return i!=null&&Due(i,n),n}function Bue(e,t){const n={},r=C(e,["outputGcsUri"]);t!==void 0&&r!=null&&T(t,["parameters","storageUri"],r);const i=C(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&T(t,["parameters","safetySetting"],i);const a=C(e,["personGeneration"]);t!==void 0&&a!=null&&T(t,["parameters","personGeneration"],a);const s=C(e,["includeRaiReason"]);t!==void 0&&s!=null&&T(t,["parameters","includeRaiReason"],s);const c=C(e,["outputMimeType"]);t!==void 0&&c!=null&&T(t,["parameters","outputOptions","mimeType"],c);const h=C(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&T(t,["parameters","outputOptions","compressionQuality"],h);const f=C(e,["enhanceInputImage"]);t!==void 0&&f!=null&&T(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=C(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&T(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const v=C(e,["labels"]);t!==void 0&&v!=null&&T(t,["labels"],v);const E=C(e,["numberOfImages"]);t!==void 0&&E!=null&&T(t,["parameters","sampleCount"],E);const A=C(e,["mode"]);return t!==void 0&&A!=null&&T(t,["parameters","mode"],A),n}function Fue(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["_url","model"],Cr(e,r));const i=C(t,["image"]);i!=null&&T(n,["instances[0]","image"],Ql(i));const a=C(t,["upscaleFactor"]);a!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=C(t,["config"]);return s!=null&&Bue(s,n),n}function Uue(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>$v(a))),T(t,["generatedImages"],i)}return t}function zue(e){const t={},n=C(e,["uri"]);n!=null&&T(t,["uri"],n);const r=C(e,["encodedVideo"]);r!=null&&T(t,["videoBytes"],wf(r));const i=C(e,["encoding"]);return i!=null&&T(t,["mimeType"],i),t}function que(e){const t={},n=C(e,["gcsUri"]);n!=null&&T(t,["uri"],n);const r=C(e,["bytesBase64Encoded"]);r!=null&&T(t,["videoBytes"],wf(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["mimeType"],i),t}function Hue(e){const t={},n=C(e,["image"]);n!=null&&T(t,["_self"],Ql(n));const r=C(e,["maskMode"]);return r!=null&&T(t,["maskMode"],r),t}function Vue(e){const t={},n=C(e,["image"]);n!=null&&T(t,["image"],Xv(n));const r=C(e,["referenceType"]);return r!=null&&T(t,["referenceType"],r),t}function Gue(e){const t={},n=C(e,["image"]);n!=null&&T(t,["image"],Ql(n));const r=C(e,["referenceType"]);return r!=null&&T(t,["referenceType"],r),t}function AD(e){const t={},n=C(e,["uri"]);n!=null&&T(t,["uri"],n);const r=C(e,["videoBytes"]);r!=null&&T(t,["encodedVideo"],wf(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["encoding"],i),t}function SD(e){const t={},n=C(e,["uri"]);n!=null&&T(t,["gcsUri"],n);const r=C(e,["videoBytes"]);r!=null&&T(t,["bytesBase64Encoded"],wf(r));const i=C(e,["mimeType"]);return i!=null&&T(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yue(e,t){const n={},r=C(e,["displayName"]);return t!==void 0&&r!=null&&T(t,["displayName"],r),n}function Wue(e){const t={},n=C(e,["config"]);return n!=null&&Yue(n,t),t}function Kue(e,t){const n={},r=C(e,["force"]);return t!==void 0&&r!=null&&T(t,["_query","force"],r),n}function $ue(e){const t={},n=C(e,["name"]);n!=null&&T(t,["_url","name"],n);const r=C(e,["config"]);return r!=null&&Kue(r,t),t}function Xue(e){const t={},n=C(e,["name"]);return n!=null&&T(t,["_url","name"],n),t}function Jue(e,t){const n={},r=C(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["customMetadata"],a)}const i=C(e,["chunkingConfig"]);return t!==void 0&&i!=null&&T(t,["chunkingConfig"],i),n}function Zue(e){const t={},n=C(e,["name"]);n!=null&&T(t,["name"],n);const r=C(e,["metadata"]);r!=null&&T(t,["metadata"],r);const i=C(e,["done"]);i!=null&&T(t,["done"],i);const a=C(e,["error"]);a!=null&&T(t,["error"],a);const s=C(e,["response"]);return s!=null&&T(t,["response"],efe(s)),t}function Que(e){const t={},n=C(e,["fileSearchStoreName"]);n!=null&&T(t,["_url","file_search_store_name"],n);const r=C(e,["fileName"]);r!=null&&T(t,["fileName"],r);const i=C(e,["config"]);return i!=null&&Jue(i,t),t}function efe(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["parent"]);r!=null&&T(t,["parent"],r);const i=C(e,["documentName"]);return i!=null&&T(t,["documentName"],i),t}function tfe(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);return t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),n}function nfe(e){const t={},n=C(e,["config"]);return n!=null&&tfe(n,t),t}function rfe(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["fileSearchStores"],a)}return t}function ED(e,t){const n={},r=C(e,["mimeType"]);t!==void 0&&r!=null&&T(t,["mimeType"],r);const i=C(e,["displayName"]);t!==void 0&&i!=null&&T(t,["displayName"],i);const a=C(e,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>h)),T(t,["customMetadata"],c)}const s=C(e,["chunkingConfig"]);return t!==void 0&&s!=null&&T(t,["chunkingConfig"],s),n}function ife(e){const t={},n=C(e,["fileSearchStoreName"]);n!=null&&T(t,["_url","file_search_store_name"],n);const r=C(e,["config"]);return r!=null&&ED(r,t),t}function afe(e){const t={},n=C(e,["sdkHttpResponse"]);return n!=null&&T(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ofe="Content-Type",sfe="X-Server-Timeout",lfe="User-Agent",Jw="x-goog-api-client",cfe="1.33.0",ufe=`google-genai-sdk/${cfe}`,ffe="v1beta1",dfe="v1beta";class hfe{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ffe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dfe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,c]of Object.entries(t.queryParams))i.searchParams.append(s,String(c));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return n&&n.extraBody!==null&&pfe(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await OI(i),new Yw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await OI(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Wl(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const c="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield Pn(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=a.decode(p,{stream:!0});try{const k=JSON.parse(v);if("error"in k){const I=JSON.parse(JSON.stringify(k.error)),R=I.status,L=I.code,q=`got status: ${R}. ${JSON.stringify(k)}`;if(L>=400&&L<600)throw new Wv({message:q,status:L})}}catch(k){if(k.name==="ApiError")throw k}s+=v;let E=-1,A=0;for(;;){E=-1,A=0;for(const R of h){const L=s.indexOf(R);L!==-1&&(E===-1||L<E)&&(E=L,A=R.length)}if(E===-1)break;const k=s.substring(0,E);s=s.substring(E+A);const I=k.trim();if(I.startsWith(c)){const R=I.substring(c.length).trim();try{const L=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Pn(new Yw(L))}catch(L){throw new Error(`exception parsing stream chunk ${R}. ${L}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=ufe+" "+this.clientOptions.userAgentExtra;return t[lfe]=n,t[Jw]=n,t[ofe]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(sfe,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const h={file:i},f=this.getFileName(t),p=Bt("upload/v1beta/files",h._url),v=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,h,n==null?void 0:n.httpOptions);return a.upload(t,v,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),c=String(s.size),h=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),v={};r!=null&&ED(r,v);const E=await this.fetchUploadUrl(f,c,h,p,v,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,s){var c;let h={};s?h=s:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:h});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function OI(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Wv({message:i,status:n}):new Error(i)}}function pfe(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const c=Object.assign({},a);for(const h in s)if(Object.prototype.hasOwnProperty.call(s,h)){const f=s[h],p=c[h];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[h]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[h]=f)}return c}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gfe="mcp_used/unknown";let mfe=!1;function CD(e){for(const t of e)if(vfe(t)||typeof t=="object"&&"inputSchema"in t)return!0;return mfe}function ND(e){var t;const n=(t=e[Jw])!==null&&t!==void 0?t:"";e[Jw]=(n+` ${gfe}`).trimStart()}function vfe(e){return e!==null&&typeof e=="object"&&e instanceof FS}function yfe(e){return Wl(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield Pn(n.listTools({cursor:i}));for(const c of s.tools)yield yield Pn(c),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class FS{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new FS(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const p of this.mcpClients)try{for(var c=!0,h=(n=void 0,Kl(yfe(p))),f;f=await h.next(),t=f.done,!t;c=!0){i=f.value,c=!1;const v=i;s.push(v);const E=v.name;if(a[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);a[E]=p}}catch(v){n={error:v}}finally{try{!c&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Xoe(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xfe(e,t,n){const r=new qoe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class bfe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Sfe(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(U=>{f=U}),v=t.callbacks,E=function(){f({})},A=this.apiClient,k={onopen:E,onmessage:U=>{xfe(A,v.onmessage,U)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(U){}},I=this.webSocketFactory.create(h,Afe(s),k);I.connect(),await p;const q={setup:{model:Cr(this.apiClient,t.model)}};return I.send(JSON.stringify(q)),new wfe(I,this.apiClient)}}class wfe{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Wle(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Yle(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(f0.PLAY)}pause(){this.sendPlaybackControl(f0.PAUSE)}stop(){this.sendPlaybackControl(f0.STOP)}resetContext(){this.sendPlaybackControl(f0.RESET_CONTEXT)}close(){this.conn.close()}}function Afe(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Sfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Efe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Cfe(e,t,n){const r=new zoe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=Xle(a);Object.assign(r,s)}else Object.assign(r,a);t(r)}class Nfe{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new bfe(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,s,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const v=this.apiClient.getHeaders();t.config&&t.config.tools&&CD(t.config.tools)&&ND(v);const E=Mfe(v);if(this.apiClient.isVertexAI())p=`${h}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,p);else{const Y=this.apiClient.getApiKey();let me="BidiGenerateContent",X="key";Y!=null&&Y.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",X="access_token"),p=`${h}/ws/google.ai.generativelanguage.${f}.GenerativeService.${me}?${X}=${Y}`}let A=()=>{};const k=new Promise(Y=>{A=Y}),I=t.callbacks,R=function(){var Y;(Y=I==null?void 0:I.onopen)===null||Y===void 0||Y.call(I),A({})},L=this.apiClient,q={onopen:R,onmessage:Y=>{Cfe(L,I.onmessage,Y)},onerror:(n=I==null?void 0:I.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(r=I==null?void 0:I.onclose)!==null&&r!==void 0?r:function(Y){}},U=this.webSocketFactory.create(p,Ife(E),q);U.connect(),await k;let H=Cr(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const Y=this.apiClient.getProject(),me=this.apiClient.getLocation();H=`projects/${Y}/locations/${me}/`+H}let W={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Om.AUDIO]}:t.config.responseModalities=[Om.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(c=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],G=[];for(const Y of Q)if(this.isCallableTool(Y)){const me=Y;G.push(await me.tool())}else G.push(Y);G.length>0&&(t.config.tools=G);const ee={model:H,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=Gle(this.apiClient,ee):W=Vle(this.apiClient,ee),delete W.config,U.send(JSON.stringify(W)),new Tfe(U,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const _fe={turnComplete:!0};class Tfe{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=vl(n.turns),t.isVertexAI()||(r=r.map(i=>Kv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Efe)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},_fe),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$le(t)}:n={realtimeInput:Kle(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ife(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Mfe(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RI=10;function PI(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(y0(s)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function y0(e){return"callTool"in e&&typeof e.callTool=="function"}function kfe(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>y0(i)))!==null&&r!==void 0?r:!1}function DI(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(y0(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function LI(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ofe extends Nu{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,s,c;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kfe(n)||PI(n.config))return await this.generateContentInternal(h);const f=DI(n);if(f.length>0){const I=f.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let p,v;const E=vl(h.contents),A=(a=(i=(r=h.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:RI;let k=0;for(;k<A&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const I=p.candidates[0].content,R=[];for(const L of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(y0(L)){const U=await L.callTool(p.functionCalls);R.push(...U)}k++,v={role:"user",parts:R},h.contents=vl(h.contents),h.contents.push(I),h.contents.push(v),LI(h.config)&&(E.push(I),E.push(v))}return LI(h.config)&&(p.automaticFunctionCallingHistory=E),p},this.generateContentStream=async n=>{var r,i,a,s,c;if(this.maybeMoveToResponseJsonSchem(n),PI(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const h=DI(n);if(h.length>0){const v=h.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=h==null?void 0:h.safetyAttributes:s.push(h);let c;return a?c={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new pd(xu.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,c,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((h=(c=n.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const s=await Promise.all(a.map(async h=>y0(h)?await h.tool():h)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(c.config.tools=s,t.config&&t.config.tools&&CD(t.config.tools)){const h=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},h);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),ND(f),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(y0(s)){const c=s,h=await c.tool();for(const f of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,c)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:RI;let s=!1,c=0;const h=await this.initAfcToolsMap(t);return(function(f,p,v){return Wl(this,arguments,function*(){for(var E,A,k,I,R,L;c<a;){s&&(c++,s=!1);const W=yield Pn(f.processParamsMaybeAddMcpUsage(v)),Q=yield Pn(f.generateContentStreamInternal(W)),G=[],ee=[];try{for(var q=!0,U=(A=void 0,Kl(Q)),H;H=yield Pn(U.next()),E=H.done,!E;q=!0){I=H.value,q=!1;const Y=I;if(yield yield Pn(Y),Y.candidates&&(!((R=Y.candidates[0])===null||R===void 0)&&R.content)){ee.push(Y.candidates[0].content);for(const me of(L=Y.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(c<a&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(me.functionCall.name)){const X=yield Pn(p.get(me.functionCall.name).callTool([me.functionCall]));G.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(Y){A={error:Y}}finally{try{!q&&!E&&(k=U.return)&&(yield Pn(k.call(U)))}finally{if(A)throw A.error}}if(G.length>0){s=!0;const Y=new Uh;Y.candidates=[{content:{role:"user",parts:G}}],yield yield Pn(Y);const me=[];me.push(...ee),me.push({role:"user",parts:G});const X=vl(v.contents).concat(me);v.contents=X}else break}})})(this,h,t)}async generateContentInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=II(this.apiClient,t);return c=Bt("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=kI(p),E=new Uh;return Object.assign(E,v),E})}else{const f=TI(this.apiClient,t);return c=Bt("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=MI(p),E=new Uh;return Object.assign(E,v),E})}}async generateContentStreamInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=II(this.apiClient,t);return c=Bt("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(v){return Wl(this,arguments,function*(){var E,A,k,I;try{for(var R=!0,L=Kl(v),q;q=yield Pn(L.next()),E=q.done,!E;R=!0){I=q.value,R=!1;const U=I,H=kI(yield Pn(U.json()));H.sdkHttpResponse={headers:U.headers};const W=new Uh;Object.assign(W,H),yield yield Pn(W)}}catch(U){A={error:U}}finally{try{!R&&!E&&(k=L.return)&&(yield Pn(k.call(L)))}finally{if(A)throw A.error}}})})}else{const f=TI(this.apiClient,t);return c=Bt("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(v){return Wl(this,arguments,function*(){var E,A,k,I;try{for(var R=!0,L=Kl(v),q;q=yield Pn(L.next()),E=q.done,!E;R=!0){I=q.value,R=!1;const U=I,H=MI(yield Pn(U.json()));H.sdkHttpResponse={headers:U.headers};const W=new Uh;Object.assign(W,H),yield yield Pn(W)}}catch(U){A={error:U}}finally{try{!R&&!E&&(k=L.return)&&(yield Pn(k.call(L)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Nce(this.apiClient,t);return c=Bt("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Tce(p),E=new fI;return Object.assign(E,v),E})}else{const f=Cce(this.apiClient,t);return c=Bt("{model}:batchEmbedContents",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=_ce(p),E=new fI;return Object.assign(E,v),E})}}async generateImagesInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Fce(this.apiClient,t);return c=Bt("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=zce(p),E=new dI;return Object.assign(E,v),E})}else{const f=Bce(this.apiClient,t);return c=Bt("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Uce(p),E=new dI;return Object.assign(E,v),E})}}async editImageInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=wce(this.apiClient,t);return a=Bt("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=Ace(h),p=new Moe;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=Fue(this.apiClient,t);return a=Bt("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=Uue(h),p=new koe;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=bue(this.apiClient,t);return a=Bt("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=wue(h),p=new Ooe;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=_ue(this.apiClient,t);return a=Bt("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Tue(h),p=new Roe;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=iue(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Xw(p))}else{const f=rue(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>$w(p))}}async listInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=hue(this.apiClient,t);return c=Bt("{models_url}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=gue(p),E=new hI;return Object.assign(E,v),E})}else{const f=due(this.apiClient,t);return c=Bt("{models_url}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=pue(p),E=new hI;return Object.assign(E,v),E})}}async update(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=jue(this.apiClient,t);return c=Bt("{model}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Xw(p))}else{const f=Lue(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>$w(p))}}async delete(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=vce(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=xce(p),E=new pI;return Object.assign(E,v),E})}else{const f=mce(this.apiClient,t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=yce(p),E=new pI;return Object.assign(E,v),E})}}async countTokens(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=hce(this.apiClient,t);return c=Bt("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=gce(p),E=new gI;return Object.assign(E,v),E})}else{const f=dce(this.apiClient,t);return c=Bt("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=pce(p),E=new gI;return Object.assign(E,v),E})}}async computeTokens(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=ace(this.apiClient,t);return a=Bt("{model}:computeTokens",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=oce(h),p=new Poe;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Wce(this.apiClient,t);return c=Bt("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>{const v=Gce(p),E=new Rm;return Object.assign(E,v),E})}else{const f=Yce(this.apiClient,t);return c=Bt("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s.then(p=>{const v=Vce(p),E=new Rm;return Object.assign(E,v),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rfe extends Nu{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Eoe(t);return c=Bt("{operationName}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s}else{const f=Soe(t);return c=Bt("{operationName}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=moe(t);return a=Bt("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pfe(e){const t={},n=C(e,["data"]);if(n!=null&&T(t,["data"],n),C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function Dfe(e){const t={},n=C(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Vfe(a))),T(t,["parts"],i)}const r=C(e,["role"]);return r!=null&&T(t,["role"],r),t}function Lfe(e,t,n){const r={},i=C(t,["expireTime"]);n!==void 0&&i!=null&&T(n,["expireTime"],i);const a=C(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&T(n,["newSessionExpireTime"],a);const s=C(t,["uses"]);n!==void 0&&s!=null&&T(n,["uses"],s);const c=C(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&T(n,["bidiGenerateContentSetup"],Hfe(e,c));const h=C(t,["lockAdditionalFields"]);return n!==void 0&&h!=null&&T(n,["fieldMask"],h),r}function jfe(e,t){const n={},r=C(t,["config"]);return r!=null&&T(n,["config"],Lfe(e,r,n)),n}function Bfe(e){const t={};if(C(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=C(e,["fileUri"]);n!=null&&T(t,["fileUri"],n);const r=C(e,["mimeType"]);return r!=null&&T(t,["mimeType"],r),t}function Ffe(e){const t={},n=C(e,["id"]);n!=null&&T(t,["id"],n);const r=C(e,["args"]);r!=null&&T(t,["args"],r);const i=C(e,["name"]);if(i!=null&&T(t,["name"],i),C(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(C(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ufe(e){const t={};if(C(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=C(e,["enableWidget"]);return n!=null&&T(t,["enableWidget"],n),t}function zfe(e){const t={};if(C(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(C(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=C(e,["timeRangeFilter"]);return n!=null&&T(t,["timeRangeFilter"],n),t}function qfe(e,t){const n={},r=C(e,["generationConfig"]);t!==void 0&&r!=null&&T(t,["setup","generationConfig"],r);const i=C(e,["responseModalities"]);t!==void 0&&i!=null&&T(t,["setup","generationConfig","responseModalities"],i);const a=C(e,["temperature"]);t!==void 0&&a!=null&&T(t,["setup","generationConfig","temperature"],a);const s=C(e,["topP"]);t!==void 0&&s!=null&&T(t,["setup","generationConfig","topP"],s);const c=C(e,["topK"]);t!==void 0&&c!=null&&T(t,["setup","generationConfig","topK"],c);const h=C(e,["maxOutputTokens"]);t!==void 0&&h!=null&&T(t,["setup","generationConfig","maxOutputTokens"],h);const f=C(e,["mediaResolution"]);t!==void 0&&f!=null&&T(t,["setup","generationConfig","mediaResolution"],f);const p=C(e,["seed"]);t!==void 0&&p!=null&&T(t,["setup","generationConfig","seed"],p);const v=C(e,["speechConfig"]);t!==void 0&&v!=null&&T(t,["setup","generationConfig","speechConfig"],BS(v));const E=C(e,["thinkingConfig"]);t!==void 0&&E!=null&&T(t,["setup","generationConfig","thinkingConfig"],E);const A=C(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&T(t,["setup","generationConfig","enableAffectiveDialog"],A);const k=C(e,["systemInstruction"]);t!==void 0&&k!=null&&T(t,["setup","systemInstruction"],Dfe(Po(k)));const I=C(e,["tools"]);if(t!==void 0&&I!=null){let Q=$0(I);Array.isArray(Q)&&(Q=Q.map(G=>Yfe(K0(G)))),T(t,["setup","tools"],Q)}const R=C(e,["sessionResumption"]);t!==void 0&&R!=null&&T(t,["setup","sessionResumption"],Gfe(R));const L=C(e,["inputAudioTranscription"]);t!==void 0&&L!=null&&T(t,["setup","inputAudioTranscription"],L);const q=C(e,["outputAudioTranscription"]);t!==void 0&&q!=null&&T(t,["setup","outputAudioTranscription"],q);const U=C(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&T(t,["setup","realtimeInputConfig"],U);const H=C(e,["contextWindowCompression"]);t!==void 0&&H!=null&&T(t,["setup","contextWindowCompression"],H);const W=C(e,["proactivity"]);if(t!==void 0&&W!=null&&T(t,["setup","proactivity"],W),C(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Hfe(e,t){const n={},r=C(t,["model"]);r!=null&&T(n,["setup","model"],Cr(e,r));const i=C(t,["config"]);return i!=null&&T(n,["config"],qfe(i,n)),n}function Vfe(e){const t={},n=C(e,["mediaResolution"]);n!=null&&T(t,["mediaResolution"],n);const r=C(e,["codeExecutionResult"]);r!=null&&T(t,["codeExecutionResult"],r);const i=C(e,["executableCode"]);i!=null&&T(t,["executableCode"],i);const a=C(e,["fileData"]);a!=null&&T(t,["fileData"],Bfe(a));const s=C(e,["functionCall"]);s!=null&&T(t,["functionCall"],Ffe(s));const c=C(e,["functionResponse"]);c!=null&&T(t,["functionResponse"],c);const h=C(e,["inlineData"]);h!=null&&T(t,["inlineData"],Pfe(h));const f=C(e,["text"]);f!=null&&T(t,["text"],f);const p=C(e,["thought"]);p!=null&&T(t,["thought"],p);const v=C(e,["thoughtSignature"]);v!=null&&T(t,["thoughtSignature"],v);const E=C(e,["videoMetadata"]);return E!=null&&T(t,["videoMetadata"],E),t}function Gfe(e){const t={},n=C(e,["handle"]);if(n!=null&&T(t,["handle"],n),C(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Yfe(e){const t={},n=C(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(v=>v)),T(t,["functionDeclarations"],p)}if(C(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=C(e,["googleSearchRetrieval"]);r!=null&&T(t,["googleSearchRetrieval"],r);const i=C(e,["computerUse"]);i!=null&&T(t,["computerUse"],i);const a=C(e,["fileSearch"]);a!=null&&T(t,["fileSearch"],a);const s=C(e,["codeExecution"]);if(s!=null&&T(t,["codeExecution"],s),C(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=C(e,["googleMaps"]);c!=null&&T(t,["googleMaps"],Ufe(c));const h=C(e,["googleSearch"]);h!=null&&T(t,["googleSearch"],zfe(h));const f=C(e,["urlContext"]);return f!=null&&T(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wfe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function Kfe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=Wfe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const h=[];a&&h.push(a),c.length>0&&h.push(...c),h.length>0?e.fieldMask=h.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class $fe extends Nu{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=jfe(this.apiClient,t);a=Bt("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;const h=Kfe(c,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xfe(e,t){const n={},r=C(e,["force"]);return t!==void 0&&r!=null&&T(t,["_query","force"],r),n}function Jfe(e){const t={},n=C(e,["name"]);n!=null&&T(t,["_url","name"],n);const r=C(e,["config"]);return r!=null&&Xfe(r,t),t}function Zfe(e){const t={},n=C(e,["name"]);return n!=null&&T(t,["_url","name"],n),t}function Qfe(e,t){const n={},r=C(e,["pageSize"]);t!==void 0&&r!=null&&T(t,["_query","pageSize"],r);const i=C(e,["pageToken"]);return t!==void 0&&i!=null&&T(t,["_query","pageToken"],i),n}function ede(e){const t={},n=C(e,["parent"]);n!=null&&T(t,["_url","parent"],n);const r=C(e,["config"]);return r!=null&&Qfe(r,t),t}function tde(e){const t={},n=C(e,["sdkHttpResponse"]);n!=null&&T(t,["sdkHttpResponse"],n);const r=C(e,["nextPageToken"]);r!=null&&T(t,["nextPageToken"],r);const i=C(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),T(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nde extends Nu{constructor(t){super(),this.apiClient=t,this.list=async n=>new pd(xu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zfe(t);return a=Bt("{name}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Jfe(t);i=Bt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ede(t);return a=Bt("{parent}/documents",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=tde(h),p=new Doe;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rde extends Nu{constructor(t,n=new nde(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new pd(xu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Wue(t);return a=Bt("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Xue(t);return a=Bt("{name}",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=$ue(t);i=Bt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nfe(t);return a=Bt("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=rfe(h),p=new Loe;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ife(t);return a=Bt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=afe(h),p=new joe;return Object.assign(p,f),p})}}async importFile(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Que(t);return a=Bt("{file_search_store_name}:importFile",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Zue(h),p=new RS;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _D=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return _D=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const ide=()=>_D();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zw(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Qw=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wl extends Error{}class ns extends wl{constructor(t,n,r,i){super(`${ns.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Jv({message:r,cause:Qw(n)});const a=n;return t===400?new ID(t,a,r,i):t===401?new MD(t,a,r,i):t===403?new kD(t,a,r,i):t===404?new OD(t,a,r,i):t===409?new RD(t,a,r,i):t===422?new PD(t,a,r,i):t===429?new DD(t,a,r,i):t>=500?new LD(t,a,r,i):new ns(t,a,r,i)}}class e5 extends ns{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Jv extends ns{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class TD extends Jv{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ID extends ns{}class MD extends ns{}class kD extends ns{}class OD extends ns{}class RD extends ns{}class PD extends ns{}class DD extends ns{}class LD extends ns{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ade=/^[a-z][a-z0-9+.-]*:/i,ode=e=>ade.test(e);let t5=e=>(t5=Array.isArray,t5(e));const sde=t5;let lde=sde;const jI=lde;function cde(e){if(!e)return!0;for(const t in e)return!1;return!0}function ude(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const fde=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new wl(`${e} must be an integer`);if(t<0)throw new wl(`${e} must be a positive integer`);return t},dde=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hde=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i0="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pde(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gde=()=>{var e,t,n,r,i;const a=pde();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i0,"X-Stainless-OS":FI(Deno.build.os),"X-Stainless-Arch":BI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i0,"X-Stainless-OS":FI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":BI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=mde();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":i0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mde(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const BI=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",FI=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let ng;const vde=()=>ng??(ng=gde());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yde(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jD(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function xde(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return jD({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function BD(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bde(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wde=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FD=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ib(e,t,n){return FD(),new File(e,t??"unknown_file",n)}function Ade(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Sde=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ede=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&UD(e),Cde=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Nde(e,t,n){if(FD(),e=await e,Ede(e))return e instanceof File?e:ib([await e.arrayBuffer()],e.name);if(Cde(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ib(await n5(i),t,n)}const r=await n5(e);if(t||(t=Ade(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ib(r,t,n)}async function n5(e){var t,n,r,i,a;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(UD(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Sde(e))try{for(var c=!0,h=Kl(e),f;f=await h.next(),t=f.done,!t;c=!0){i=f.value,c=!1;const p=i;s.push(...await n5(p))}}catch(p){n={error:p}}finally{try{!c&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}else{const p=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${_de(e)}`)}return s}function _de(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zD{constructor(t){this._client=t}}zD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const UI=Object.freeze(Object.create(null)),Tde=(e=qD)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((p,v,E)=>{var A,k,I;/[?#]/.test(v)&&(i=!0);const R=r[E];let L=(i?encodeURIComponent:e)(""+R);return E!==r.length&&(R==null||typeof R=="object"&&R.toString===((I=Object.getPrototypeOf((k=Object.getPrototypeOf((A=R.hasOwnProperty)!==null&&A!==void 0?A:UI))!==null&&k!==void 0?k:UI))===null||I===void 0?void 0:I.toString))&&(L=R+"",a.push({start:p.length+v.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),p+v+(E===r.length?"":L)},""),c=s.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=h.exec(c))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((p,v)=>p.start-v.start),a.length>0){let p=0;const v=a.reduce((E,A)=>{const k=" ".repeat(A.start-p),I="^".repeat(A.length);return p=A.start+A.length,E+k+I},"");throw new wl(`Path parameters result in path with invalid segments:
${a.map(E=>E.error).join(`
`)}
${s}
${v}`)}return s}),rg=Tde(qD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HD extends zD{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=Dm(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new wl("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new wl("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(rg`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(rg`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(rg`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,c=Dm(a,["api_version"]);return this._client.get(rg`/${s}/interactions/${t}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}HD._key=Object.freeze(["interactions"]);class VD extends HD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ide(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let ig;function US(e){let t;return(ig??(t=new globalThis.TextEncoder,ig=t.encode.bind(t)))(e)}let ag;function zI(e){let t;return(ag??(t=new globalThis.TextDecoder,ag=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?US(t):t;this.buffer=Ide([this.buffer,n]);const r=[];let i;for(;(i=Mde(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(zI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=zI(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Zv.NEWLINE_CHARS=new Set([`
`,"\r"]);Zv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Mde(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function kde(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm={off:0,error:200,warn:300,info:400,debug:500},qI=(e,t,n)=>{if(e){if(ude(Lm,e))return e;Xo(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Lm))}`)}};function Yh(){}function og(e,t,n){return!t||Lm[e]>Lm[n]?Yh:t[e].bind(t)}const Ode={error:Yh,warn:Yh,info:Yh,debug:Yh};let HI=new WeakMap;function Xo(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Ode;const i=HI.get(n);if(i&&i[0]===r)return i[1];const a={error:og("error",n,r),warn:og("warn",n,r),info:og("info",n,r),debug:og("debug",n,r)};return HI.set(n,[r,a]),a}const Uf=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d0{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?Xo(r):console;function s(){return Wl(this,arguments,function*(){var h,f,p,v;if(i)throw new wl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let E=!1;try{try{for(var A=!0,k=Kl(Rde(t,n)),I;I=yield Pn(k.next()),h=I.done,!h;A=!0){v=I.value,A=!1;const R=v;if(!E)if(R.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Pn(JSON.parse(R.data))}catch(L){throw a.error("Could not parse message into JSON:",R.data),a.error("From chunk:",R.raw),L}}}catch(R){f={error:R}}finally{try{!A&&!h&&(p=k.return)&&(yield Pn(p.call(k)))}finally{if(f)throw f.error}}E=!0}catch(R){if(Zw(R))return yield Pn(void 0);throw R}finally{E||n.abort()}})}return new d0(s,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Wl(this,arguments,function*(){var h,f,p,v;const E=new Zv,A=BD(t);try{for(var k=!0,I=Kl(A),R;R=yield Pn(I.next()),h=R.done,!h;k=!0){v=R.value,k=!1;const L=v;for(const q of E.decode(L))yield yield Pn(q)}}catch(L){f={error:L}}finally{try{!k&&!h&&(p=I.return)&&(yield Pn(p.call(I)))}finally{if(f)throw f.error}}for(const L of E.flush())yield yield Pn(L)})}function s(){return Wl(this,arguments,function*(){var h,f,p,v;if(i)throw new wl("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let E=!1;try{try{for(var A=!0,k=Kl(a()),I;I=yield Pn(k.next()),h=I.done,!h;A=!0){v=I.value,A=!1;const R=v;E||R&&(yield yield Pn(JSON.parse(R)))}}catch(R){f={error:R}}finally{try{!A&&!h&&(p=k.return)&&(yield Pn(p.call(k)))}finally{if(f)throw f.error}}E=!0}catch(R){if(Zw(R))return yield Pn(void 0);throw R}finally{E||n.abort()}})}return new d0(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();t.push(s),n.push(s)}return a.shift()}});return[new d0(()=>i(t),this.controller,this.client),new d0(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return jD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=US(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Rde(e,t){return Wl(this,arguments,function*(){var r,i,a,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new wl("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new wl("Attempted to iterate over a response with no body");const c=new Dde,h=new Zv,f=BD(e.body);try{for(var p=!0,v=Kl(Pde(f)),E;E=yield Pn(v.next()),r=E.done,!r;p=!0){s=E.value,p=!1;const A=s;for(const k of h.decode(A)){const I=c.decode(k);I&&(yield yield Pn(I))}}}catch(A){i={error:A}}finally{try{!p&&!r&&(a=v.return)&&(yield Pn(a.call(v)))}finally{if(i)throw i.error}}for(const A of h.flush()){const k=c.decode(A);k&&(yield yield Pn(k))}})}function Pde(e){return Wl(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var c=!0,h=Kl(e),f;f=yield Pn(h.next()),n=f.done,!n;c=!0){a=f.value,c=!1;const p=a;if(p==null)continue;const v=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?US(p):p;let E=new Uint8Array(s.length+v.length);E.set(s),E.set(v,s.length),s=E;let A;for(;(A=kde(s))!==-1;)yield yield Pn(s.slice(0,A)),s=s.slice(A)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=h.return)&&(yield Pn(i.call(h)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Pn(s))})}class Dde{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Lde(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Lde(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jde(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var c;if(t.options.stream)return Xo(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):d0.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const h=n.headers.get("content-type"),f=(c=h==null?void 0:h.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Xo(e).debug(`[${r}] response parsed`,Uf({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends Promise{constructor(t,n,r=jde){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new zS(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GD=Symbol("brand.privateNullableHeaders");function*Bde(e){if(!e)return;if(GD in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():jI(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=jI(r[1])?r[1]:[r[1]];let s=!1;for(const c of a)c!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,c])}}const ab=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,s]of Bde(r)){const c=a.toLowerCase();i.has(c)||(t.delete(a),i.add(c)),s===null?(t.delete(a),n.add(c)):(t.append(a,s),n.delete(c))}}return{[GD]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ob=e=>{var t,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(t=uoe)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YD;class Qv{constructor(t){var n,r,i,a,s,c,h,f=t===void 0?{}:t,{baseURL:p=ob("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=ob("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=f,A=Dm(f,["baseURL","apiKey","apiVersion"]);const k=Object.assign(Object.assign({apiKey:v,apiVersion:E},A),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=k.baseURL,this.timeout=(r=k.timeout)!==null&&r!==void 0?r:Qv.DEFAULT_TIMEOUT,this.logger=(i=k.logger)!==null&&i!==void 0?i:console;const I="warn";this.logLevel=I,this.logLevel=(s=(a=qI(k.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:qI(ob("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:I,this.fetchOptions=k.fetchOptions,this.maxRetries=(c=k.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(h=k.fetch)!==null&&h!==void 0?h:yde(),this.encoder=wde,this._options=k,this.apiKey=v,this.apiVersion=E}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return ab([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new wl(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${i0}`}defaultIdempotencyKey(){return`stainless-node-retry-${ide()}`}makeStatusError(t,n,r,i){return ns.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=ode(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return cde(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new zS(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,s;const c=await t,h=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=h),await this.prepareOptions(c);const{req:f,url:p,timeout:v}=await this.buildRequest(c,{retryCount:h-n});await this.prepareRequest(f,{url:p,options:c});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(Xo(this).debug(`[${E}] sending request`,Uf({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new e5;const I=new AbortController,R=await this.fetchWithTimeout(p,f,v,I).catch(Qw),L=Date.now();if(R instanceof globalThis.Error){const U=`retrying, ${n} attempts remaining`;if(!((s=c.signal)===null||s===void 0)&&s.aborted)throw new e5;const H=Zw(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(n)return Xo(this).info(`[${E}] connection ${H?"timed out":"failed"} - ${U}`),Xo(this).debug(`[${E}] connection ${H?"timed out":"failed"} (${U})`,Uf({retryOfRequestLogID:r,url:p,durationMs:L-k,message:R.message})),this.retryRequest(c,n,r??E);throw Xo(this).info(`[${E}] connection ${H?"timed out":"failed"} - error; no more retries left`),Xo(this).debug(`[${E}] connection ${H?"timed out":"failed"} (error; no more retries left)`,Uf({retryOfRequestLogID:r,url:p,durationMs:L-k,message:R.message})),H?new TD:new Jv({cause:R})}const q=`[${E}${A}] ${f.method} ${p} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${L-k}ms`;if(!R.ok){const U=await this.shouldRetry(R);if(n&&U){const Y=`retrying, ${n} attempts remaining`;return await bde(R.body),Xo(this).info(`${q} - ${Y}`),Xo(this).debug(`[${E}] response error (${Y})`,Uf({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),this.retryRequest(c,n,r??E,R.headers)}const H=U?"error; no more retries left":"error; not retryable";Xo(this).info(`${q} - ${H}`);const W=await R.text().catch(Y=>Qw(Y).message),Q=dde(W),G=Q?void 0:W;throw Xo(this).debug(`[${E}] response error (${H})`,Uf({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,message:G,durationMs:Date.now()-k})),this.makeStatusError(R.status,Q,G,R.headers)}return Xo(this).info(q),Xo(this).debug(`[${E}] response start`,Uf({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),{response:R,options:c,controller:I,requestLogID:E,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:s,method:c}=a,h=Dm(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),h);c&&(v.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,v)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let s;const c=i==null?void 0:i.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(s=f)}const h=i==null?void 0:i.get("retry-after");if(h&&!s){const f=parseFloat(h);Number.isNaN(f)?s=Date.parse(h)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await hde(s),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,s=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return s*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},t),{method:c,path:h,query:f,defaultBaseURL:p}=s,v=this.buildURL(h,f,p);"timeout"in s&&fde("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:s}),k=await this.buildHeaders({options:t,method:c,bodyHeaders:E,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:k},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:v,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=ab([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),vde()),await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ab([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:xde(t)}:this.encoder({body:t,headers:r})}}Qv.DEFAULT_TIMEOUT=6e4;class so extends Qv{constructor(){super(...arguments),this.interactions=new VD(this)}}YD=so;so.GeminiNextGenAPIClient=YD;so.GeminiNextGenAPIClientError=wl;so.APIError=ns;so.APIConnectionError=Jv;so.APIConnectionTimeoutError=TD;so.APIUserAbortError=e5;so.NotFoundError=OD;so.ConflictError=RD;so.RateLimitError=DD;so.BadRequestError=ID;so.AuthenticationError=MD;so.InternalServerError=LD;so.PermissionDeniedError=kD;so.UnprocessableEntityError=PD;so.toFile=Nde;so.Interactions=VD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fde(e,t){const n={},r=C(e,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Ude(e,t){const n={},r=C(e,["name"]);return r!=null&&T(n,["_url","name"],r),n}function zde(e,t){const n={},r=C(e,["sdkHttpResponse"]);return r!=null&&T(n,["sdkHttpResponse"],r),n}function qde(e,t){const n={},r=C(e,["sdkHttpResponse"]);return r!=null&&T(n,["sdkHttpResponse"],r),n}function Hde(e,t,n){const r={};if(C(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=C(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&T(t,["displayName"],i),C(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=C(e,["epochCount"]);t!==void 0&&a!=null&&T(t,["tuningTask","hyperparameters","epochCount"],a);const s=C(e,["learningRateMultiplier"]);if(s!=null&&T(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),C(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(C(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(C(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=C(e,["batchSize"]);t!==void 0&&c!=null&&T(t,["tuningTask","hyperparameters","batchSize"],c);const h=C(e,["learningRate"]);if(t!==void 0&&h!=null&&T(t,["tuningTask","hyperparameters","learningRate"],h),C(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(C(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Vde(e,t,n){const r={};let i=C(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const A=C(e,["validationDataset"]);t!==void 0&&A!=null&&T(t,["supervisedTuningSpec"],VI(A))}else if(i==="PREFERENCE_TUNING"){const A=C(e,["validationDataset"]);t!==void 0&&A!=null&&T(t,["preferenceOptimizationSpec"],VI(A))}const a=C(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&T(t,["tunedModelDisplayName"],a);const s=C(e,["description"]);t!==void 0&&s!=null&&T(t,["description"],s);let c=C(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const A=C(e,["epochCount"]);t!==void 0&&A!=null&&T(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(c==="PREFERENCE_TUNING"){const A=C(e,["epochCount"]);t!==void 0&&A!=null&&T(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let h=C(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const A=C(e,["learningRateMultiplier"]);t!==void 0&&A!=null&&T(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(h==="PREFERENCE_TUNING"){const A=C(e,["learningRateMultiplier"]);t!==void 0&&A!=null&&T(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let f=C(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=C(e,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&T(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(f==="PREFERENCE_TUNING"){const A=C(e,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&T(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let p=C(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=C(e,["adapterSize"]);t!==void 0&&A!=null&&T(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(p==="PREFERENCE_TUNING"){const A=C(e,["adapterSize"]);t!==void 0&&A!=null&&T(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(C(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(C(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=C(e,["labels"]);t!==void 0&&v!=null&&T(t,["labels"],v);const E=C(e,["beta"]);return t!==void 0&&E!=null&&T(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),r}function Gde(e,t){const n={},r=C(e,["baseModel"]);r!=null&&T(n,["baseModel"],r);const i=C(e,["preTunedModel"]);i!=null&&T(n,["preTunedModel"],i);const a=C(e,["trainingDataset"]);a!=null&&n0e(a);const s=C(e,["config"]);return s!=null&&Hde(s,n),n}function Yde(e,t){const n={},r=C(e,["baseModel"]);r!=null&&T(n,["baseModel"],r);const i=C(e,["preTunedModel"]);i!=null&&T(n,["preTunedModel"],i);const a=C(e,["trainingDataset"]);a!=null&&r0e(a,n,t);const s=C(e,["config"]);return s!=null&&Vde(s,n,t),n}function Wde(e,t){const n={},r=C(e,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Kde(e,t){const n={},r=C(e,["name"]);return r!=null&&T(n,["_url","name"],r),n}function $de(e,t,n){const r={},i=C(e,["pageSize"]);t!==void 0&&i!=null&&T(t,["_query","pageSize"],i);const a=C(e,["pageToken"]);t!==void 0&&a!=null&&T(t,["_query","pageToken"],a);const s=C(e,["filter"]);return t!==void 0&&s!=null&&T(t,["_query","filter"],s),r}function Xde(e,t,n){const r={},i=C(e,["pageSize"]);t!==void 0&&i!=null&&T(t,["_query","pageSize"],i);const a=C(e,["pageToken"]);t!==void 0&&a!=null&&T(t,["_query","pageToken"],a);const s=C(e,["filter"]);return t!==void 0&&s!=null&&T(t,["_query","filter"],s),r}function Jde(e,t){const n={},r=C(e,["config"]);return r!=null&&$de(r,n),n}function Zde(e,t){const n={},r=C(e,["config"]);return r!=null&&Xde(r,n),n}function Qde(e,t){const n={},r=C(e,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=C(e,["nextPageToken"]);i!=null&&T(n,["nextPageToken"],i);const a=C(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>WD(c))),T(n,["tuningJobs"],s)}return n}function e0e(e,t){const n={},r=C(e,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=C(e,["nextPageToken"]);i!=null&&T(n,["nextPageToken"],i);const a=C(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>r5(c))),T(n,["tuningJobs"],s)}return n}function t0e(e,t){const n={},r=C(e,["name"]);r!=null&&T(n,["model"],r);const i=C(e,["name"]);return i!=null&&T(n,["endpoint"],i),n}function n0e(e,t){const n={};if(C(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(C(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=C(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(n,["examples","examples"],i)}return n}function r0e(e,t,n){const r={};let i=C(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=C(e,["gcsUri"]);t!==void 0&&s!=null&&T(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=C(e,["gcsUri"]);t!==void 0&&s!=null&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=C(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=C(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&T(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=C(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(C(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function WD(e,t){const n={},r=C(e,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=C(e,["name"]);i!=null&&T(n,["name"],i);const a=C(e,["state"]);a!=null&&T(n,["state"],sD(a));const s=C(e,["createTime"]);s!=null&&T(n,["createTime"],s);const c=C(e,["tuningTask","startTime"]);c!=null&&T(n,["startTime"],c);const h=C(e,["tuningTask","completeTime"]);h!=null&&T(n,["endTime"],h);const f=C(e,["updateTime"]);f!=null&&T(n,["updateTime"],f);const p=C(e,["description"]);p!=null&&T(n,["description"],p);const v=C(e,["baseModel"]);v!=null&&T(n,["baseModel"],v);const E=C(e,["_self"]);return E!=null&&T(n,["tunedModel"],t0e(E)),n}function r5(e,t){const n={},r=C(e,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=C(e,["name"]);i!=null&&T(n,["name"],i);const a=C(e,["state"]);a!=null&&T(n,["state"],sD(a));const s=C(e,["createTime"]);s!=null&&T(n,["createTime"],s);const c=C(e,["startTime"]);c!=null&&T(n,["startTime"],c);const h=C(e,["endTime"]);h!=null&&T(n,["endTime"],h);const f=C(e,["updateTime"]);f!=null&&T(n,["updateTime"],f);const p=C(e,["error"]);p!=null&&T(n,["error"],p);const v=C(e,["description"]);v!=null&&T(n,["description"],v);const E=C(e,["baseModel"]);E!=null&&T(n,["baseModel"],E);const A=C(e,["tunedModel"]);A!=null&&T(n,["tunedModel"],A);const k=C(e,["preTunedModel"]);k!=null&&T(n,["preTunedModel"],k);const I=C(e,["supervisedTuningSpec"]);I!=null&&T(n,["supervisedTuningSpec"],I);const R=C(e,["preferenceOptimizationSpec"]);R!=null&&T(n,["preferenceOptimizationSpec"],R);const L=C(e,["tuningDataStats"]);L!=null&&T(n,["tuningDataStats"],L);const q=C(e,["encryptionSpec"]);q!=null&&T(n,["encryptionSpec"],q);const U=C(e,["partnerModelTuningSpec"]);U!=null&&T(n,["partnerModelTuningSpec"],U);const H=C(e,["customBaseModel"]);H!=null&&T(n,["customBaseModel"],H);const W=C(e,["experiment"]);W!=null&&T(n,["experiment"],W);const Q=C(e,["labels"]);Q!=null&&T(n,["labels"],Q);const G=C(e,["outputUri"]);G!=null&&T(n,["outputUri"],G);const ee=C(e,["pipelineJob"]);ee!=null&&T(n,["pipelineJob"],ee);const Y=C(e,["serviceAccount"]);Y!=null&&T(n,["serviceAccount"],Y);const me=C(e,["tunedModelDisplayName"]);me!=null&&T(n,["tunedModelDisplayName"],me);const X=C(e,["veoTuningSpec"]);return X!=null&&T(n,["veoTuningSpec"],X),n}function i0e(e,t){const n={},r=C(e,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=C(e,["name"]);i!=null&&T(n,["name"],i);const a=C(e,["metadata"]);a!=null&&T(n,["metadata"],a);const s=C(e,["done"]);s!=null&&T(n,["done"],s);const c=C(e,["error"]);return c!=null&&T(n,["error"],c),n}function VI(e,t){const n={},r=C(e,["gcsUri"]);r!=null&&T(n,["validationDatasetUri"],r);const i=C(e,["vertexDatasetResource"]);return i!=null&&T(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0e extends Nu{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new pd(xu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:Gw.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Kde(t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>r5(p))}else{const f=Wde(t);return c=Bt("{name}",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>WD(p))}}async listInternal(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Zde(t);return c=Bt("tuningJobs",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=e0e(p),E=new mI;return Object.assign(E,v),E})}else{const f=Jde(t);return c=Bt("tunedModels",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=Qde(p),E=new mI;return Object.assign(E,v),E})}}async cancel(t){var n,r,i,a;let s,c="",h={};if(this.apiClient.isVertexAI()){const f=Ude(t);return c=Bt("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=qde(p),E=new vI;return Object.assign(E,v),E})}else{const f=Fde(t);return c=Bt("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(v=>{const E=v;return E.sdkHttpResponse={headers:p.headers},E})),s.then(p=>{const v=zde(p),E=new vI;return Object.assign(E,v),E})}}async tuneInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const c=Yde(t,t);return a=Bt("tuningJobs",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>r5(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Gde(t);return a=Bt("tunedModels",c._url),s=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>i0e(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0e{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const s0e=1024*1024*8,l0e=3,c0e=1e3,u0e=2,jm="x-goog-upload-status";async function f0e(e,t,n){var r;const i=await KD(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[jm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function d0e(e,t,n){var r;const i=await KD(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[jm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=tD(a),c=new PS;return Object.assign(c,s),c}async function KD(e,t,n){var r,i;let a=0,s=0,c=new Yw(new Response),h="upload";for(a=e.size;s<a;){const f=Math.min(s0e,a-s),p=e.slice(s,s+f);s+f>=a&&(h+=", finalize");let v=0,E=c0e;for(;v<l0e&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[jm]));)v++,await p0e(E),E=E*u0e;if(s+=f,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[jm])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function h0e(e){return{size:e.size,type:e.type}}function p0e(e){return new Promise(t=>setTimeout(t,e))}class g0e{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await f0e(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await d0e(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await h0e(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m0e{create(t,n,r){return new v0e(t,n,r)}}class v0e{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GI="x-goog-api-key";class y0e{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(GI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(GI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x0e="gl-node/";class b0e{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new so({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=poe(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new y0e(this.apiKey);this.apiClient=new hfe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:x0e+"web",uploader:new g0e,downloader:new o0e}),this.models=new Ofe(this.apiClient),this.live=new Nfe(this.apiClient,i,new m0e),this.batches=new Hse(this.apiClient),this.chats=new Ele(this.models,this.apiClient),this.caches=new wle(this.apiClient),this.files=new Ple(this.apiClient),this.operations=new Rfe(this.apiClient),this.authTokens=new $fe(this.apiClient),this.tunings=new a0e(this.apiClient),this.fileSearchStores=new rde(this.apiClient)}}const $D=e=>new b0e({apiKey:e}),w0e=async(e,t)=>{const n=t.apiKey;if(!n)throw new Error("API Key de Gemini faltante");const r=$D(n);try{const i=await r.models.generateContent({model:"gemini-2.5-flash",contents:`Genera detalles para un producto de inventario en Argentina llamado "${e}". Devuelve JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:ai.OBJECT,properties:{description:{type:ai.STRING,description:"Breve descripcin comercial para venta (mx 100 caracteres)"},category:{type:ai.STRING,description:"Categora sugerida (ej: Almacn, Bebidas, Limpieza)"},suggestedPrice:{type:ai.NUMBER,description:"Precio estimado en Pesos Argentinos (ARS) actualizado a la inflacin reciente."}},required:["description","category"]}}});return JSON.parse(i.text||"{}")}catch(i){throw console.error("Gemini Error:",i),i}},A0e=async(e,t,n)=>{const r=n.apiKey;if(!r)throw new Error("API Key de Gemini faltante");const i=$D(r),s=Date.now()-720*60*60*1e3,c=t.filter(p=>p.date>=s),h=e.map(p=>{const v=c.reduce((E,A)=>{const k=A.items.find(I=>I.productId===p.id);return E+(k?k.quantity:0)},0);return{name:p.name,category:p.category,stock:p.stock,soldLast30Days:v}}).filter(p=>p.stock>0||p.soldLast30Days>0).slice(0,30),f=JSON.stringify(h);try{const p=await i.models.generateContent({model:"gemini-2.5-flash",contents:`Acta como un experto consultor de retail y Supply Chain en Argentina.
      Analiza estos datos de ventas de los ltimos 30 das y stock actual: ${f}.
      
      Genera un reporte de inteligencia de negocios con:
      1. Insights de mercado (considerando la economa argentina, inflacin y estacionalidad actual).
      2. Predicciones de demanda para los prximos 30 das basadas en la rotacin actual y estacionalidad.
      3. Recomendaciones de compra (Restock) inteligentes.
      `,config:{responseMimeType:"application/json",responseSchema:{type:ai.OBJECT,properties:{marketInsights:{type:ai.STRING,description:"Resumen breve (2 frases) sobre tendencias estacionales actuales en Argentina y consejos generales."},predictions:{type:ai.ARRAY,items:{type:ai.OBJECT,properties:{productName:{type:ai.STRING},currentSales:{type:ai.NUMBER,description:"Ventas reales ultimos 30 dias"},predictedSales:{type:ai.NUMBER,description:"Ventas estimadas proximos 30 dias"},trend:{type:ai.STRING,enum:["UP","DOWN","STABLE"]},confidence:{type:ai.NUMBER,description:"Nivel de confianza 0-100"}},required:["productName","currentSales","predictedSales","trend","confidence"]}},restockSuggestions:{type:ai.ARRAY,items:{type:ai.OBJECT,properties:{productName:{type:ai.STRING},suggestedQuantity:{type:ai.NUMBER},reason:{type:ai.STRING,description:"Por qu comprar esto (ej: alta rotacin, estacionalidad)"},urgency:{type:ai.STRING,enum:["HIGH","MEDIUM","LOW"]}},required:["productName","suggestedQuantity","reason","urgency"]}}},required:["marketInsights","predictions","restockSuggestions"]}}});if(!p.text)throw new Error("No response from AI");return JSON.parse(p.text)}catch(p){throw console.error("Gemini BI Error:",p),p}},S0e=(e,t,n)=>{const r=new Date(e.date).toLocaleDateString("es-AR"),i=new Date(e.date).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"});let a=` *Resumen de Venta*

`;a+=` ${r} ${i}
`,a+=` Factura: #${e.id.slice(0,8)}
`,n&&(a+=` Cliente: ${n}
`),a+=`
*Productos:*
`,e.items.forEach((c,h)=>{const f=t.find(E=>E.id===c.productId),p=(f==null?void 0:f.name)||"Producto desconocido",v=c.quantity*c.price;a+=`${h+1}. ${p}
`,a+=`    ${c.quantity}x ${zn(c.price)} = ${zn(v)}
`}),a+=`
*Totales:*
`;const s=e.items.reduce((c,h)=>c+h.quantity*h.price,0);return s!==e.total&&(a+=`Subtotal: ${zn(s)}
`),a+=` *TOTAL: ${zn(e.total)}*
`,a+=` Pago: ${e.paymentMethod||"No especificado"}`,a},E0e=(e,t=1)=>{const n=e.price*t;let r=` *${e.name}*

`;return r+=` Precio: ${zn(e.price)}
`,r+=` Stock disponible: ${e.stock} unidades
`,e.description&&(r+=` Descripcin: ${e.description}
`),t>1&&(r+=`
 Cantidad: ${t}
`,r+=` Subtotal: ${zn(n)}
`),r+=`
 Categora: ${e.category}`,r},XD=(e,t)=>{const n=encodeURIComponent(t);return`https://wa.me/${e.replace(/[^\d]/g,"")}?text=${n}`},C0e=({initialProduct:e,onSave:t,onCancel:n,suppliers:r=[],initialBarcode:i=""})=>{var ye,V,le,ce;const[a,s]=j.useState((e==null?void 0:e.name)||""),[c,h]=j.useState((e==null?void 0:e.description)||""),[f,p]=j.useState((e==null?void 0:e.category)||Zo.ALMACEN),[v,E]=j.useState(((ye=e==null?void 0:e.price)==null?void 0:ye.toString())||""),[A,k]=j.useState(((V=e==null?void 0:e.cost)==null?void 0:V.toString())||""),[I,R]=j.useState(((le=e==null?void 0:e.stock)==null?void 0:le.toString())||""),[L,q]=j.useState(((ce=e==null?void 0:e.minStock)==null?void 0:ce.toString())||"5"),[U,H]=j.useState((e==null?void 0:e.barcode)||i),[W,Q]=j.useState((e==null?void 0:e.suppliers)||[]),[G,ee]=j.useState(e!=null&&e.expirationDate?new Date(e.expirationDate).toISOString().split("T")[0]:""),[Y,me]=j.useState(!1),[X,J]=j.useState(""),[ie,se]=j.useState(""),[ae,he]=j.useState(!1);j.useEffect(()=>{let pe=null;return ae&&(pe=new eD("reader-form",{fps:10,qrbox:{width:250,height:250}},!1),pe.render(xe=>{H(xe),he(!1),pe.clear()},xe=>{})),()=>{if(pe)try{pe.clear()}catch{}}},[ae]);const Ae=pe=>{pe.preventDefault();const xe={id:(e==null?void 0:e.id)||crypto.randomUUID(),name:a,description:c,category:f,price:parseFloat(v)||0,cost:parseFloat(A)||0,stock:parseInt(I)||0,minStock:parseInt(L)||0,expirationDate:G?new Date(G).getTime():void 0,lastUpdated:Date.now(),suppliers:W,barcode:U};t(xe);try{Gs("product_added",{productName:xe.name,category:xe.category})}catch{}},Te=()=>{if(X&&ie){const pe=W.find(ke=>ke.supplierId===X),xe={supplierId:X,cost:parseFloat(ie),lastPurchaseDate:Date.now()};Q(pe?W.map(ke=>ke.supplierId===X?xe:ke):[...W,xe]),J(""),se("")}},Me=pe=>{Q(W.filter(xe=>xe.supplierId!==pe))},Qe=async()=>{if(!(!a||a.length<3)){me(!0);try{const pe=await w0e(a);pe.description&&h(pe.description),pe.suggestedPrice&&E(pe.suggestedPrice.toString());const xe=Object.values(Zo).find(ke=>{var Fe;return ke.toLowerCase()===((Fe=pe.category)==null?void 0:Fe.toLowerCase())});xe&&p(xe)}catch{alert("Error al conectar con IA. Verifica tu conexin.")}finally{me(!1)}}};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full sm:max-w-md h-[95vh] sm:h-auto rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col animate-slide-up transition-colors duration-300",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-800",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e?"Editar Producto":"Nuevo Producto"}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:b.jsx(io,{size:24})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[ae&&b.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl mb-4 relative",children:[b.jsx("button",{onClick:()=>he(!1),className:"absolute top-2 right-2 p-1 bg-white dark:bg-slate-700 rounded-full z-10",children:b.jsx(io,{size:16})}),b.jsx("div",{id:"reader-form",className:"rounded-lg overflow-hidden"}),b.jsx("p",{className:"text-center text-xs mt-2 text-slate-500",children:"Apunta al cdigo de barras"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cdigo de Barras"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:U,onChange:pe=>H(pe.target.value),className:"flex-1 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Escanear o escribir..."}),b.jsx("button",{type:"button",onClick:()=>he(!0),className:"bg-slate-800 dark:bg-slate-700 text-white px-3 rounded-lg flex items-center justify-center hover:opacity-90 transition-opacity",children:b.jsx(BM,{size:20})})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre del Producto"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:a,onChange:pe=>s(pe.target.value),className:"flex-1 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: Yerba Mate...",required:!0}),b.jsx("button",{type:"button",onClick:Qe,disabled:Y||!a,className:"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 px-3 rounded-lg flex items-center justify-center hover:bg-indigo-200 dark:hover:bg-indigo-900/60 disabled:opacity-50 transition-colors",title:"Completar con IA",children:Y?b.jsx(RM,{className:"animate-spin",size:20}):b.jsx(Xm,{size:20})})]}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Usa la varita mgica para sugerir precio y descripcin."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Categora"}),b.jsx("select",{value:f,onChange:pe=>p(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:Object.values(Zo).map(pe=>b.jsx("option",{value:pe,children:pe},pe))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Descripcin"}),b.jsx("textarea",{value:c,onChange:pe=>h(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",rows:2,placeholder:"Detalles del producto..."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Costo Base (ARS)"}),b.jsx("input",{type:"number",value:A,onChange:pe=>k(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0.00"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Precio Venta (ARS)"}),b.jsx("input",{type:"number",value:v,onChange:pe=>E(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none font-bold text-slate-900 dark:text-slate-100",placeholder:"0.00"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Stock Actual"}),b.jsx("input",{type:"number",value:I,onChange:pe=>R(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"0"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Stock Mnimo"}),b.jsx("input",{type:"number",value:L,onChange:pe=>q(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"5"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 flex items-center gap-1",children:[b.jsx(Hm,{size:14})," Fecha de Vencimiento ",b.jsx("span",{className:"text-slate-400 font-normal",children:"(Opcional)"})]}),b.jsx("input",{type:"date",value:G,onChange:pe=>ee(pe.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),b.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 mt-2",children:[b.jsxs("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-100 mb-2 flex items-center gap-2",children:[b.jsx(S5,{size:16})," Costos por Proveedor"]}),b.jsxs("div",{className:"flex gap-2 mb-3",children:[b.jsxs("select",{value:X,onChange:pe=>J(pe.target.value),className:"flex-1 text-sm border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg px-2 py-2",children:[b.jsx("option",{value:"",children:"Seleccionar Proveedor"}),r.map(pe=>b.jsx("option",{value:pe.id,children:pe.name},pe.id))]}),b.jsx("input",{type:"number",value:ie,onChange:pe=>se(pe.target.value),placeholder:"Costo",className:"w-20 text-sm border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg px-2 py-2"}),b.jsx("button",{type:"button",onClick:Te,disabled:!X||!ie,className:"bg-blue-100 text-blue-600 dark:bg-blue-900/40 dark:text-blue-300 p-2 rounded-lg disabled:opacity-50",children:b.jsx(mf,{size:18})})]}),W.length>0?b.jsx("div",{className:"space-y-2",children:W.map((pe,xe)=>{var Ie;const ke=((Ie=r.find(He=>He.id===pe.supplierId))==null?void 0:Ie.name)||"Desconocido",Fe=W.every(He=>He.cost>=pe.cost);return b.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg text-sm border ${Fe?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-slate-50 border-slate-100 dark:bg-slate-800 dark:border-slate-700"}`,children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:ke}),Fe&&b.jsx("span",{className:"ml-2 text-xs bg-green-200 text-green-800 px-1.5 py-0.5 rounded-full",children:"Mejor Precio"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:zn(pe.cost)}),b.jsx("button",{type:"button",onClick:()=>Me(pe.supplierId),className:"text-slate-400 hover:text-red-500",children:b.jsx(Js,{size:16})})]})]},xe)})}):b.jsx("p",{className:"text-xs text-slate-400 italic",children:"No hay proveedores asignados."})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 flex gap-2 bg-slate-50 dark:bg-slate-900/50 rounded-b-2xl",children:[b.jsxs("button",{onClick:Ae,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold text-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(kc,{size:20}),"Guardar"]}),e&&b.jsx("button",{type:"button",onClick:()=>{const pe=E0e({...e,name:a||e.name,price:parseFloat(v)||e.price,description:c||e.description}),xe=XD("5491234567890",pe);window.open(xe,"_blank")},className:"px-4 bg-green-600 hover:bg-green-700 text-white py-3 rounded-xl font-semibold active:scale-95 transition-all flex items-center justify-center gap-2",title:"Compartir por WhatsApp",children:b.jsx(b1,{size:20})})]})]})})},N0e=({products:e,customers:t,promotions:n=[],onCompleteSale:r,onCancel:i,isDark:a})=>{const[s,c]=j.useState([]),[h,f]=j.useState(""),[p,v]=j.useState(!1),[E,A]=j.useState("EFECTIVO"),[k,I]=j.useState(""),[R,L]=j.useState("B"),[q,U]=j.useState(""),[H,W]=j.useState(null),[Q,G]=j.useState(!1),[ee,Y]=j.useState(""),me=j.useMemo(()=>{let V=0,le=0,ce=s.map(pe=>({...pe,originalPrice:pe.price,appliedPromotion:""}));return ce.forEach(pe=>{var xe;pe.price=((xe=e.find(ke=>ke.id===pe.productId))==null?void 0:xe.price)||pe.price}),n.filter(pe=>pe.active).forEach(pe=>{ce=ce.map(xe=>{if(xe.productId===pe.targetProductId){if(pe.type===$o.PERCENTAGE)xe.price=xe.originalPrice*(1-pe.value/100),xe.appliedPromotion=`${pe.name} (-${pe.value}%)`;else if(pe.type===$o.BULK&&pe.minQuantity&&xe.quantity>=pe.minQuantity)xe.price=pe.value,xe.appliedPromotion=pe.name;else if(pe.type===$o.M_X_N&&pe.m&&pe.n){const ke=Math.floor(xe.quantity/pe.m),Fe=xe.quantity%pe.m,He=(ke*pe.n+Fe)*xe.originalPrice;xe.price=He/xe.quantity,xe.appliedPromotion=pe.name}}return xe})}),ce.forEach(pe=>{V+=(pe.originalPrice||pe.price)*pe.quantity,le+=pe.price*pe.quantity}),{subtotal:V,finalTotal:le,processedItems:ce}},[s,n,e]),{subtotal:X,finalTotal:J,processedItems:ie}=me,se=j.useMemo(()=>s.reduce((V,le)=>V+le.quantity,0),[s]),ae=e.filter(V=>(V.name.toLowerCase().includes(h.toLowerCase())||V.id.includes(h))&&V.stock>0),he=t.filter(V=>V.name.toLowerCase().includes(ee.toLowerCase())||V.phone.includes(ee)),Ae=V=>{const le=s.find(ce=>ce.productId===V.id);le?le.quantity<V.stock?c(s.map(ce=>ce.productId===V.id?{...ce,quantity:ce.quantity+1}:ce)):alert("Stock insuficiente"):c([...s,{productId:V.id,productName:V.name,quantity:1,price:V.price,cost:V.cost,originalPrice:V.price}])},Te=V=>{c(s.filter(le=>le.productId!==V))},Me=(V,le)=>{const ce=s.find(ke=>ke.productId===V),pe=e.find(ke=>ke.id===V);if(!ce||!pe)return;const xe=ce.quantity+le;xe<=0?Te(V):xe<=pe.stock?c(s.map(ke=>ke.productId===V?{...ke,quantity:xe}:ke)):alert("No hay ms stock disponible")},Qe=()=>{let V=H?{...H}:void 0;if(V){const ce=Math.floor(J/1e3);V.loyaltyPoints=(V.loyaltyPoints||0)+ce,E==="CUENTA_CORRIENTE"&&(V.balance=(V.balance||0)-J)}const le={id:crypto.randomUUID(),date:Date.now(),items:ie,total:J,profit:ie.reduce((ce,pe)=>ce+(pe.price-pe.cost)*pe.quantity,0),paymentMethod:E,customerId:H==null?void 0:H.id,fiscalType:R};r(le,V)},ye=V=>{W(V),G(!1),V.cuit&&(L("A"),U(V.cuit))};if(Q)return b.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-slate-950 z-[60] flex flex-col animate-slide-up",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex items-center gap-2",children:[b.jsx("button",{onClick:()=>G(!1),children:b.jsx(io,{size:24,className:"text-slate-500"})}),b.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:ee,onChange:V=>Y(V.target.value),className:"flex-1 bg-slate-100 dark:bg-slate-800 p-2 rounded-lg outline-none dark:text-white",autoFocus:!0})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[b.jsx("button",{onClick:()=>{W(null),G(!1)},className:"w-full p-3 text-left font-medium text-slate-500 border-b border-slate-100 dark:border-slate-800",children:"Consumidor Final"}),he.map(V=>b.jsx("button",{onClick:()=>ye(V),className:"w-full p-3 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl flex justify-between items-center",children:b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:V.name}),b.jsx("p",{className:"text-xs text-slate-500",children:V.phone})]})},V.id))]})]});if(p){const V=parseFloat(k)||0,le=V-J;return b.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-slate-900 z-50 flex flex-col animate-fade-in",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Finalizar Venta"}),b.jsx("button",{onClick:()=>v(!1),className:"p-2 text-slate-500",children:b.jsx(io,{size:24})})]}),b.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-start space-y-6 overflow-y-auto",children:[b.jsxs("div",{className:"text-center w-full",children:[b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-1",children:"Total a Pagar"}),b.jsx("p",{className:"text-5xl font-bold text-slate-800 dark:text-slate-100",children:zn(J)}),X>J&&b.jsxs("p",{className:"text-pink-500 text-sm font-medium mt-1",children:["Ahorraste ",zn(X-J)]})]}),b.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-2 block",children:"Mtodo de Pago"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[[{id:"EFECTIVO",icon:b.jsx(Rj,{size:20}),label:"Efectivo"},{id:"TRANSFERENCIA",icon:b.jsx(C4,{size:20}),label:"MP / QR"},{id:"DEBITO",icon:b.jsx(E4,{size:20}),label:"Dbito"},{id:"CREDITO",icon:b.jsx(E4,{size:20}),label:"Crdito"}].map(ce=>b.jsxs("button",{onClick:()=>A(ce.id),className:`p-4 rounded-xl border flex items-center justify-center gap-2 font-medium transition-all ${E===ce.id?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,children:[ce.icon," ",ce.label]},ce.id)),H&&b.jsxs("button",{onClick:()=>A("CUENTA_CORRIENTE"),className:`col-span-2 p-4 rounded-xl border flex items-center justify-center gap-2 font-medium transition-all ${E==="CUENTA_CORRIENTE"?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-purple-600 dark:text-purple-400"}`,children:[b.jsx(E5,{size:20})," Cuenta Corriente (Fiado)"]})]})]}),b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx(x1,{size:18,className:"text-blue-500"}),b.jsx("span",{className:"font-bold text-sm text-slate-700 dark:text-slate-200",children:"Datos Fiscales (AFIP)"})]}),b.jsx("div",{className:"flex gap-2",children:["B","A","X"].map(ce=>b.jsxs("button",{onClick:()=>L(ce),className:`flex-1 py-1.5 rounded text-xs font-bold border ${R===ce?"bg-blue-100 border-blue-300 text-blue-700":"bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-600"}`,children:["Factura ",ce]},ce))}),R==="A"&&b.jsx("input",{type:"number",placeholder:"Ingrese CUIT",value:q,onChange:ce=>U(ce.target.value),className:"w-full mt-2 p-2 text-sm border rounded bg-white dark:bg-slate-900 dark:border-slate-600 dark:text-white"})]}),E==="EFECTIVO"&&b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700 flex gap-4 items-center",children:[b.jsx("input",{type:"number",placeholder:"Recibido",value:k,onChange:ce=>I(ce.target.value),className:"flex-1 p-3 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-lg"}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-xs text-slate-500",children:"Vuelto"}),b.jsx("p",{className:`text-xl font-bold ${le<0?"text-red-500":"text-emerald-500"}`,children:zn(le>0?le:0)})]})]}),E==="TRANSFERENCIA"&&b.jsxs("div",{className:"flex flex-col items-center bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx(UM,{size:32,className:"text-blue-500 mb-2"}),b.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2",children:"Escane con Mercado Pago"}),b.jsx("div",{className:"w-32 h-32 bg-slate-200 dark:bg-white p-2 rounded-lg flex items-center justify-center",children:b.jsx(C4,{size:100,className:"text-black"})}),b.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Alias: NEGOCIO.INVENTARIANDO.MP"})]})]}),b.jsxs("button",{onClick:Qe,disabled:E==="EFECTIVO"&&V<J,className:"w-full max-w-sm bg-emerald-600 hover:bg-emerald-700 disabled:bg-slate-300 disabled:text-slate-500 text-white py-4 rounded-xl font-bold text-xl shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(Vm,{size:24})," Confirmar Venta"]})]})]})}return b.jsxs("div",{className:"fixed inset-0 bg-slate-50 dark:bg-slate-950 z-40 flex flex-col md:flex-row animate-slide-up",children:[b.jsxs("div",{className:"flex-1 flex flex-col h-[60%] md:h-full border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800 flex gap-2 items-center",children:[b.jsx("button",{onClick:i,className:"p-2 mr-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:b.jsx(io,{size:20,className:"text-slate-600 dark:text-slate-300"})}),b.jsxs("div",{className:"relative flex-1",children:[b.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar producto...",value:h,onChange:V=>f(V.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-800 dark:text-slate-100",autoFocus:!0})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 content-start",children:ae.map(V=>{const le=n.some(ce=>ce.active&&ce.targetProductId===V.id);return b.jsxs("button",{onClick:()=>Ae(V),className:`flex flex-col items-start p-3 bg-white dark:bg-slate-900 border ${le?"border-pink-300 ring-1 ring-pink-100":"border-slate-200 dark:border-slate-800"} rounded-xl hover:border-blue-500 transition-colors text-left active:scale-95 relative`,children:[le&&b.jsx("div",{className:"absolute top-2 right-2 text-pink-500",children:b.jsx(E0,{size:14,fill:"currentColor"})}),b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm line-clamp-2 h-10",children:V.name}),b.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:[V.stock," disp."]}),b.jsx("p",{className:"font-bold text-blue-600 dark:text-blue-400 mt-auto",children:zn(V.price)})]},V.id)})})]}),b.jsxs("div",{className:"h-[40%] md:h-full md:w-96 flex flex-col bg-white dark:bg-slate-900",children:[b.jsxs("button",{onClick:()=>G(!0),className:"p-3 bg-blue-50 dark:bg-slate-800 border-b border-blue-100 dark:border-slate-700 flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[b.jsx(Jm,{size:18}),b.jsx("span",{className:"font-semibold text-sm",children:H?H.name:"Seleccionar Cliente"})]}),b.jsx(Gm,{size:18,className:"text-blue-400"})]}),b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-950",children:[b.jsxs("h2",{className:"font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Ub,{size:20})," Carrito (",se,")"]}),b.jsx("button",{onClick:()=>c([]),className:"text-xs text-red-500 hover:text-red-600 font-medium",children:"Vaciar"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:s.length===0?b.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[b.jsx(Ub,{size:40,className:"mb-2 opacity-20"}),b.jsx("p",{className:"text-sm",children:"Carrito vaco"})]}):ie.map(V=>b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-slate-100 truncate",children:V.productName}),V.appliedPromotion?b.jsxs("p",{className:"text-xs text-pink-500 font-medium flex items-center gap-1",children:[b.jsx(E0,{size:10})," ",V.appliedPromotion]}):b.jsxs("p",{className:"text-xs text-slate-500",children:[zn(V.price)," x ",V.quantity]})]}),b.jsxs("div",{className:"flex items-center gap-3 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[b.jsx("button",{onClick:()=>Me(V.productId,-1),className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded",children:b.jsx(DM,{size:14})}),b.jsx("span",{className:"text-sm font-semibold w-4 text-center",children:V.quantity}),b.jsx("button",{onClick:()=>Me(V.productId,1),className:"p-1 hover:bg-white dark:hover:bg-slate-700 rounded",children:b.jsx(mf,{size:14})})]}),b.jsx("button",{onClick:()=>Te(V.productId),className:"text-slate-400 hover:text-red-500",children:b.jsx(Js,{size:18})})]},V.productId))}),b.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsx("p",{className:"text-slate-500 text-sm",children:"Total"}),b.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:zn(J)})]}),b.jsxs("button",{onClick:()=>v(!0),disabled:s.length===0,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 text-slate-100 py-3 rounded-xl font-bold shadow-lg active:scale-95 transition-all flex justify-between px-6 items-center",children:[b.jsx("span",{children:"Cobrar"}),b.jsx("span",{className:"bg-blue-500 px-2 py-0.5 rounded text-sm",children:zn(J)})]})]})]})]})},_0e="modulepreload",T0e=function(e){return"/Inventariando/"+e},YI={},sb=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=s(n.map(f=>{if(f=T0e(f),f in YI)return;YI[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":_0e,p||(E.as="script"),E.crossOrigin="",E.href=f,h&&E.setAttribute("nonce",h),document.head.appendChild(E),p)return new Promise((A,k)=>{E.addEventListener("load",A),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}var Xl=Uint8Array,$s=Uint16Array,qS=Int32Array,HS=new Xl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),VS=new Xl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WI=new Xl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JD=function(e,t){for(var n=new $s(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new qS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},ZD=JD(HS,2),I0e=ZD.b,i5=ZD.r;I0e[28]=258,i5[258]=28;var M0e=JD(VS,0),KI=M0e.r,a5=new $s(32768);for(var wi=0;wi<32768;++wi){var ef=(wi&43690)>>1|(wi&21845)<<1;ef=(ef&52428)>>2|(ef&13107)<<2,ef=(ef&61680)>>4|(ef&3855)<<4,a5[wi]=((ef&65280)>>8|(ef&255)<<8)>>1}var Kh=(function(e,t,n){for(var r=e.length,i=0,a=new $s(t);i<r;++i)e[i]&&++a[e[i]-1];var s=new $s(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var c;if(n){c=new $s(1<<t);var h=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],p=t-e[i],v=s[e[i]-1]++<<p,E=v|(1<<p)-1;v<=E;++v)c[a5[v]>>h]=f}else for(c=new $s(r),i=0;i<r;++i)e[i]&&(c[i]=a5[s[e[i]-1]++]>>15-e[i]);return c}),ld=new Xl(288);for(var wi=0;wi<144;++wi)ld[wi]=8;for(var wi=144;wi<256;++wi)ld[wi]=9;for(var wi=256;wi<280;++wi)ld[wi]=7;for(var wi=280;wi<288;++wi)ld[wi]=8;var Bm=new Xl(32);for(var wi=0;wi<32;++wi)Bm[wi]=5;var k0e=Kh(ld,9,0),O0e=Kh(Bm,5,0),QD=function(e){return(e+7)/8|0},R0e=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Xl(e.subarray(t,n))},Qc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},zh=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},lb=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:tL,l:0};if(i==1){var s=new Xl(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(W,Q){return W.f-Q.f}),n.push({s:-1,f:25001});var c=n[0],h=n[1],f=0,p=1,v=2;for(n[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=i-1;)c=n[n[f].f<n[v].f?f++:v++],h=n[f!=p&&n[f].f<n[v].f?f++:v++],n[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var E=a[0].s,r=1;r<i;++r)a[r].s>E&&(E=a[r].s);var A=new $s(E+1),k=o5(n[p-1],A,0);if(k>t){var r=0,I=0,R=k-t,L=1<<R;for(a.sort(function(Q,G){return A[G.s]-A[Q.s]||Q.f-G.f});r<i;++r){var q=a[r].s;if(A[q]>t)I+=L-(1<<k-A[q]),A[q]=t;else break}for(I>>=R;I>0;){var U=a[r].s;A[U]<t?I-=1<<t-A[U]++-1:++r}for(;r>=0&&I;--r){var H=a[r].s;A[H]==t&&(--A[H],++I)}k=t}return{t:new Xl(A),l:k}},o5=function(e,t,n){return e.s==-1?Math.max(o5(e.l,t,n+1),o5(e.r,t,n+1)):t[e.s]=n},$I=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new $s(++t),r=0,i=e[0],a=1,s=function(h){n[r++]=h},c=1;c<=t;++c)if(e[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[c]}return{c:n.subarray(0,r),n:t}},qh=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},eL=function(e,t,n){var r=n.length,i=QD(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},XI=function(e,t,n,r,i,a,s,c,h,f,p){Qc(t,p++,n),++i[256];for(var v=lb(i,15),E=v.t,A=v.l,k=lb(a,15),I=k.t,R=k.l,L=$I(E),q=L.c,U=L.n,H=$I(I),W=H.c,Q=H.n,G=new $s(19),ee=0;ee<q.length;++ee)++G[q[ee]&31];for(var ee=0;ee<W.length;++ee)++G[W[ee]&31];for(var Y=lb(G,7),me=Y.t,X=Y.l,J=19;J>4&&!me[WI[J-1]];--J);var ie=f+5<<3,se=qh(i,ld)+qh(a,Bm)+s,ae=qh(i,E)+qh(a,I)+s+14+3*J+qh(G,me)+2*G[16]+3*G[17]+7*G[18];if(h>=0&&ie<=se&&ie<=ae)return eL(t,p,e.subarray(h,h+f));var he,Ae,Te,Me;if(Qc(t,p,1+(ae<se)),p+=2,ae<se){he=Kh(E,A,0),Ae=E,Te=Kh(I,R,0),Me=I;var Qe=Kh(me,X,0);Qc(t,p,U-257),Qc(t,p+5,Q-1),Qc(t,p+10,J-4),p+=14;for(var ee=0;ee<J;++ee)Qc(t,p+3*ee,me[WI[ee]]);p+=3*J;for(var ye=[q,W],V=0;V<2;++V)for(var le=ye[V],ee=0;ee<le.length;++ee){var ce=le[ee]&31;Qc(t,p,Qe[ce]),p+=me[ce],ce>15&&(Qc(t,p,le[ee]>>5&127),p+=le[ee]>>12)}}else he=k0e,Ae=ld,Te=O0e,Me=Bm;for(var ee=0;ee<c;++ee){var pe=r[ee];if(pe>255){var ce=pe>>18&31;zh(t,p,he[ce+257]),p+=Ae[ce+257],ce>7&&(Qc(t,p,pe>>23&31),p+=HS[ce]);var xe=pe&31;zh(t,p,Te[xe]),p+=Me[xe],xe>3&&(zh(t,p,pe>>5&8191),p+=VS[xe])}else zh(t,p,he[pe]),p+=Ae[pe]}return zh(t,p,he[256]),p+Ae[256]},P0e=new qS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tL=new Xl(0),D0e=function(e,t,n,r,i,a){var s=a.z||e.length,c=new Xl(r+s+5*(1+Math.ceil(s/7e3))+i),h=c.subarray(r,c.length-i),f=a.l,p=(a.r||0)&7;if(t){p&&(h[0]=a.r>>3);for(var v=P0e[t-1],E=v>>13,A=v&8191,k=(1<<n)-1,I=a.p||new $s(32768),R=a.h||new $s(k+1),L=Math.ceil(n/3),q=2*L,U=function(St){return(e[St]^e[St+1]<<L^e[St+2]<<q)&k},H=new qS(25e3),W=new $s(288),Q=new $s(32),G=0,ee=0,Y=a.i||0,me=0,X=a.w||0,J=0;Y+2<s;++Y){var ie=U(Y),se=Y&32767,ae=R[ie];if(I[se]=ae,R[ie]=se,X<=Y){var he=s-Y;if((G>7e3||me>24576)&&(he>423||!f)){p=XI(e,h,0,H,W,Q,ee,me,J,Y-J,p),me=G=ee=0,J=Y;for(var Ae=0;Ae<286;++Ae)W[Ae]=0;for(var Ae=0;Ae<30;++Ae)Q[Ae]=0}var Te=2,Me=0,Qe=A,ye=se-ae&32767;if(he>2&&ie==U(Y-ye))for(var V=Math.min(E,he)-1,le=Math.min(32767,Y),ce=Math.min(258,he);ye<=le&&--Qe&&se!=ae;){if(e[Y+Te]==e[Y+Te-ye]){for(var pe=0;pe<ce&&e[Y+pe]==e[Y+pe-ye];++pe);if(pe>Te){if(Te=pe,Me=ye,pe>V)break;for(var xe=Math.min(ye,pe-2),ke=0,Ae=0;Ae<xe;++Ae){var Fe=Y-ye+Ae&32767,Ie=I[Fe],He=Fe-Ie&32767;He>ke&&(ke=He,ae=Fe)}}}se=ae,ae=I[se],ye+=se-ae&32767}if(Me){H[me++]=268435456|i5[Te]<<18|KI[Me];var nt=i5[Te]&31,Ve=KI[Me]&31;ee+=HS[nt]+VS[Ve],++W[257+nt],++Q[Ve],X=Y+Te,++G}else H[me++]=e[Y],++W[e[Y]]}}for(Y=Math.max(Y,X);Y<s;++Y)H[me++]=e[Y],++W[e[Y]];p=XI(e,h,f,H,W,Q,ee,me,J,Y-J,p),f||(a.r=p&7|h[p/8|0]<<3,p-=7,a.h=R,a.p=I,a.i=Y,a.w=X)}else{for(var Y=a.w||0;Y<s+f;Y+=65535){var gt=Y+65535;gt>=s&&(h[p/8|0]=f,gt=s),p=eL(h,p+1,e.subarray(Y,gt))}a.i=s}return R0e(c,0,r+QD(p)+i)},nL=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,s=0;s!=a;){for(var c=Math.min(s+2655,a);s<c;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},L0e=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Xl(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return D0e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},rL=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},j0e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=nL();i.p(t.dictionary),rL(e,2,i.d())}};function s5(e,t){t||(t={});var n=nL();n.p(e);var r=L0e(e,t,t.dictionary?6:2,4);return j0e(r,t),rL(r,r.length-4,n.d()),r}var B0e=typeof TextDecoder<"u"&&new TextDecoder,F0e=0;try{B0e.decode(tL,{stream:!0}),F0e=1}catch{}function U0e(e){if(Array.isArray(e))return e}function z0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,c=[],h=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(h=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);h=!0);}catch(p){f=!0,i=p}finally{try{if(!h&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return c}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function q0e(e,t){if(e){if(typeof e=="string")return JI(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JI(e,t):void 0}}function H0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZI(e,t){return U0e(e)||z0e(e,t)||q0e(e,t)||H0e()}function QI(e,t="utf8"){return new TextDecoder(t).decode(e)}const V0e=new TextEncoder;function G0e(e){return V0e.encode(e)}const Y0e=1024*8,W0e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),cb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class GS{constructor(t=Y0e,n={}){kr(this,"buffer");kr(this,"byteLength");kr(this,"byteOffset");kr(this,"length");kr(this,"offset");kr(this,"lastWrittenByte");kr(this,"littleEndian");kr(this,"_data");kr(this,"_mark");kr(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof GS)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=cb[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===W0e&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const h=new cb[n](c.buffer);return this.offset+=r,h.reverse(),h}const s=new cb[n](a);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return QI(this.readBytes(t))}decodeText(t=1,n="utf8"){return QI(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(G0e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function J0(e){let t=e.length;for(;--t>=0;)e[t]=0}const K0e=3,$0e=258,iL=29,X0e=256,J0e=X0e+1+iL,aL=30,Z0e=512,Q0e=new Array((J0e+2)*2);J0(Q0e);const ehe=new Array(aL*2);J0(ehe);const the=new Array(Z0e);J0(the);const nhe=new Array($0e-K0e+1);J0(nhe);const rhe=new Array(iL);J0(rhe);const ihe=new Array(aL);J0(ihe);const ahe=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var l5=ahe;const ohe=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},she=new Uint32Array(ohe()),lhe=(e,t,n,r)=>{const i=she,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var vc=lhe,c5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oL={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const che=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var uhe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)che(n,r)&&(e[r]=n[r])}}return e},fhe=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},sL={assign:uhe,flattenChunks:fhe};let lL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lL=!1}const v1=new Uint8Array(256);for(let e=0;e<256;e++)v1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;v1[254]=v1[254]=1;var dhe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,c=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),a=0,i=0;a<c;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const hhe=(e,t)=>{if(t<65534&&e.subarray&&lL)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var phe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let c=v1[s];if(c>4){a[i++]=65533,r+=c-1;continue}for(s&=c===2?31:c===3?15:7;c>1&&r<n;)s=s<<6|e[r++]&63,c--;if(c>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return hhe(a,i)},ghe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+v1[e[n]]>t?n:t},u5={string2buf:dhe,buf2string:phe,utf8border:ghe};function mhe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var vhe=mhe;const sg=16209,yhe=16191;var xhe=function(t,n){let r,i,a,s,c,h,f,p,v,E,A,k,I,R,L,q,U,H,W,Q,G,ee,Y,me;const X=t.state;r=t.next_in,Y=t.input,i=r+(t.avail_in-5),a=t.next_out,me=t.output,s=a-(n-t.avail_out),c=a+(t.avail_out-257),h=X.dmax,f=X.wsize,p=X.whave,v=X.wnext,E=X.window,A=X.hold,k=X.bits,I=X.lencode,R=X.distcode,L=(1<<X.lenbits)-1,q=(1<<X.distbits)-1;e:do{k<15&&(A+=Y[r++]<<k,k+=8,A+=Y[r++]<<k,k+=8),U=I[A&L];t:for(;;){if(H=U>>>24,A>>>=H,k-=H,H=U>>>16&255,H===0)me[a++]=U&65535;else if(H&16){W=U&65535,H&=15,H&&(k<H&&(A+=Y[r++]<<k,k+=8),W+=A&(1<<H)-1,A>>>=H,k-=H),k<15&&(A+=Y[r++]<<k,k+=8,A+=Y[r++]<<k,k+=8),U=R[A&q];n:for(;;){if(H=U>>>24,A>>>=H,k-=H,H=U>>>16&255,H&16){if(Q=U&65535,H&=15,k<H&&(A+=Y[r++]<<k,k+=8,k<H&&(A+=Y[r++]<<k,k+=8)),Q+=A&(1<<H)-1,Q>h){t.msg="invalid distance too far back",X.mode=sg;break e}if(A>>>=H,k-=H,H=a-s,Q>H){if(H=Q-H,H>p&&X.sane){t.msg="invalid distance too far back",X.mode=sg;break e}if(G=0,ee=E,v===0){if(G+=f-H,H<W){W-=H;do me[a++]=E[G++];while(--H);G=a-Q,ee=me}}else if(v<H){if(G+=f+v-H,H-=v,H<W){W-=H;do me[a++]=E[G++];while(--H);if(G=0,v<W){H=v,W-=H;do me[a++]=E[G++];while(--H);G=a-Q,ee=me}}}else if(G+=v-H,H<W){W-=H;do me[a++]=E[G++];while(--H);G=a-Q,ee=me}for(;W>2;)me[a++]=ee[G++],me[a++]=ee[G++],me[a++]=ee[G++],W-=3;W&&(me[a++]=ee[G++],W>1&&(me[a++]=ee[G++]))}else{G=a-Q;do me[a++]=me[G++],me[a++]=me[G++],me[a++]=me[G++],W-=3;while(W>2);W&&(me[a++]=me[G++],W>1&&(me[a++]=me[G++]))}}else if((H&64)===0){U=R[(U&65535)+(A&(1<<H)-1)];continue n}else{t.msg="invalid distance code",X.mode=sg;break e}break}}else if((H&64)===0){U=I[(U&65535)+(A&(1<<H)-1)];continue t}else if(H&32){X.mode=yhe;break e}else{t.msg="invalid literal/length code",X.mode=sg;break e}break}}while(r<i&&a<c);W=k>>3,r-=W,k-=W<<3,A&=(1<<k)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<c?257+(c-a):257-(a-c),X.hold=A,X.bits=k};const Qd=15,e6=852,t6=592,n6=0,ub=1,r6=2,bhe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),whe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ahe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),She=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ehe=(e,t,n,r,i,a,s,c)=>{const h=c.bits;let f=0,p=0,v=0,E=0,A=0,k=0,I=0,R=0,L=0,q=0,U,H,W,Q,G,ee=null,Y;const me=new Uint16Array(Qd+1),X=new Uint16Array(Qd+1);let J=null,ie,se,ae;for(f=0;f<=Qd;f++)me[f]=0;for(p=0;p<r;p++)me[t[n+p]]++;for(A=h,E=Qd;E>=1&&me[E]===0;E--);if(A>E&&(A=E),E===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<E&&me[v]===0;v++);for(A<v&&(A=v),R=1,f=1;f<=Qd;f++)if(R<<=1,R-=me[f],R<0)return-1;if(R>0&&(e===n6||E!==1))return-1;for(X[1]=0,f=1;f<Qd;f++)X[f+1]=X[f]+me[f];for(p=0;p<r;p++)t[n+p]!==0&&(s[X[t[n+p]]++]=p);if(e===n6?(ee=J=s,Y=20):e===ub?(ee=bhe,J=whe,Y=257):(ee=Ahe,J=She,Y=0),q=0,p=0,f=v,G=a,k=A,I=0,W=-1,L=1<<A,Q=L-1,e===ub&&L>e6||e===r6&&L>t6)return 1;for(;;){ie=f-I,s[p]+1<Y?(se=0,ae=s[p]):s[p]>=Y?(se=J[s[p]-Y],ae=ee[s[p]-Y]):(se=96,ae=0),U=1<<f-I,H=1<<k,v=H;do H-=U,i[G+(q>>I)+H]=ie<<24|se<<16|ae|0;while(H!==0);for(U=1<<f-1;q&U;)U>>=1;if(U!==0?(q&=U-1,q+=U):q=0,p++,--me[f]===0){if(f===E)break;f=t[n+s[p]]}if(f>A&&(q&Q)!==W){for(I===0&&(I=A),G+=v,k=f-I,R=1<<k;k+I<E&&(R-=me[k+I],!(R<=0));)k++,R<<=1;if(L+=1<<k,e===ub&&L>e6||e===r6&&L>t6)return 1;W=q&Q,i[W]=A<<24|k<<16|G-a|0}}return q!==0&&(i[G+q]=f-I<<24|64<<16|0),c.bits=A,0};var $h=Ehe;const Che=0,cL=1,uL=2,{Z_FINISH:i6,Z_BLOCK:Nhe,Z_TREES:lg,Z_OK:cd,Z_STREAM_END:_he,Z_NEED_DICT:The,Z_STREAM_ERROR:Al,Z_DATA_ERROR:fL,Z_MEM_ERROR:dL,Z_BUF_ERROR:Ihe,Z_DEFLATED:a6}=oL,e2=16180,o6=16181,s6=16182,l6=16183,c6=16184,u6=16185,f6=16186,d6=16187,h6=16188,p6=16189,Fm=16190,eu=16191,fb=16192,g6=16193,db=16194,m6=16195,v6=16196,y6=16197,x6=16198,cg=16199,ug=16200,b6=16201,w6=16202,A6=16203,S6=16204,E6=16205,hb=16206,C6=16207,N6=16208,Ii=16209,hL=16210,pL=16211,Mhe=852,khe=592,Ohe=15,Rhe=Ohe,_6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Phe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<e2||t.mode>pL?1:0},gL=e=>{if(gd(e))return Al;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=e2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Mhe),t.distcode=t.distdyn=new Int32Array(khe),t.sane=1,t.back=-1,cd},mL=e=>{if(gd(e))return Al;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,gL(e)},vL=(e,t)=>{let n;if(gd(e))return Al;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Al:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,mL(e))},yL=(e,t)=>{if(!e)return Al;const n=new Phe;e.state=n,n.strm=e,n.window=null,n.mode=e2;const r=vL(e,t);return r!==cd&&(e.state=null),r},Dhe=e=>yL(e,Rhe);let T6=!0,pb,gb;const Lhe=e=>{if(T6){pb=new Int32Array(512),gb=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for($h(cL,e.lens,0,288,pb,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;$h(uL,e.lens,0,32,gb,0,e.work,{bits:5}),T6=!1}e.lencode=pb,e.lenbits=9,e.distcode=gb,e.distbits=5},xL=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},jhe=(e,t)=>{let n,r,i,a,s,c,h,f,p,v,E,A,k,I,R=0,L,q,U,H,W,Q,G,ee;const Y=new Uint8Array(4);let me,X;const J=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gd(e)||!e.output||!e.input&&e.avail_in!==0)return Al;n=e.state,n.mode===eu&&(n.mode=fb),s=e.next_out,i=e.output,h=e.avail_out,a=e.next_in,r=e.input,c=e.avail_in,f=n.hold,p=n.bits,v=c,E=h,ee=cd;e:for(;;)switch(n.mode){case e2:if(n.wrap===0){n.mode=fb;break}for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,Y[0]=f&255,Y[1]=f>>>8&255,n.check=vc(n.check,Y,2,0),f=0,p=0,n.mode=o6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=Ii;break}if((f&15)!==a6){e.msg="unknown compression method",n.mode=Ii;break}if(f>>>=4,p-=4,G=(f&15)+8,n.wbits===0&&(n.wbits=G),G>15||G>n.wbits){e.msg="invalid window size",n.mode=Ii;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=f&512?p6:eu,f=0,p=0;break;case o6:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(n.flags=f,(n.flags&255)!==a6){e.msg="unknown compression method",n.mode=Ii;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ii;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,n.check=vc(n.check,Y,2,0)),f=0,p=0,n.mode=s6;case s6:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,Y[2]=f>>>16&255,Y[3]=f>>>24&255,n.check=vc(n.check,Y,4,0)),f=0,p=0,n.mode=l6;case l6:for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,n.check=vc(n.check,Y,2,0)),f=0,p=0,n.mode=c6;case c6:if(n.flags&1024){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(Y[0]=f&255,Y[1]=f>>>8&255,n.check=vc(n.check,Y,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=u6;case u6:if(n.flags&1024&&(A=n.length,A>c&&(A=c),A&&(n.head&&(G=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+A),G)),n.flags&512&&n.wrap&4&&(n.check=vc(n.check,r,A,a)),c-=A,a+=A,n.length-=A),n.length))break e;n.length=0,n.mode=f6;case f6:if(n.flags&2048){if(c===0)break e;A=0;do G=r[a+A++],n.head&&G&&n.length<65536&&(n.head.name+=String.fromCharCode(G));while(G&&A<c);if(n.flags&512&&n.wrap&4&&(n.check=vc(n.check,r,A,a)),c-=A,a+=A,G)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=d6;case d6:if(n.flags&4096){if(c===0)break e;A=0;do G=r[a+A++],n.head&&G&&n.length<65536&&(n.head.comment+=String.fromCharCode(G));while(G&&A<c);if(n.flags&512&&n.wrap&4&&(n.check=vc(n.check,r,A,a)),c-=A,a+=A,G)break e}else n.head&&(n.head.comment=null);n.mode=h6;case h6:if(n.flags&512){for(;p<16;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(n.wrap&4&&f!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ii;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=eu;break;case p6:for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}e.adler=n.check=_6(f),f=0,p=0,n.mode=Fm;case Fm:if(n.havedict===0)return e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=c,n.hold=f,n.bits=p,The;e.adler=n.check=1,n.mode=eu;case eu:if(t===Nhe||t===lg)break e;case fb:if(n.last){f>>>=p&7,p-=p&7,n.mode=hb;break}for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}switch(n.last=f&1,f>>>=1,p-=1,f&3){case 0:n.mode=g6;break;case 1:if(Lhe(n),n.mode=cg,t===lg){f>>>=2,p-=2;break e}break;case 2:n.mode=v6;break;case 3:e.msg="invalid block type",n.mode=Ii}f>>>=2,p-=2;break;case g6:for(f>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ii;break}if(n.length=f&65535,f=0,p=0,n.mode=db,t===lg)break e;case db:n.mode=m6;case m6:if(A=n.length,A){if(A>c&&(A=c),A>h&&(A=h),A===0)break e;i.set(r.subarray(a,a+A),s),c-=A,a+=A,h-=A,s+=A,n.length-=A;break}n.mode=eu;break;case v6:for(;p<14;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(n.nlen=(f&31)+257,f>>>=5,p-=5,n.ndist=(f&31)+1,f>>>=5,p-=5,n.ncode=(f&15)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ii;break}n.have=0,n.mode=y6;case y6:for(;n.have<n.ncode;){for(;p<3;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.lens[J[n.have++]]=f&7,f>>>=3,p-=3}for(;n.have<19;)n.lens[J[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,me={bits:n.lenbits},ee=$h(Che,n.lens,0,19,n.lencode,0,n.work,me),n.lenbits=me.bits,ee){e.msg="invalid code lengths set",n.mode=Ii;break}n.have=0,n.mode=x6;case x6:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[f&(1<<n.lenbits)-1],L=R>>>24,q=R>>>16&255,U=R&65535,!(L<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(U<16)f>>>=L,p-=L,n.lens[n.have++]=U;else{if(U===16){for(X=L+2;p<X;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(f>>>=L,p-=L,n.have===0){e.msg="invalid bit length repeat",n.mode=Ii;break}G=n.lens[n.have-1],A=3+(f&3),f>>>=2,p-=2}else if(U===17){for(X=L+3;p<X;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=L,p-=L,G=0,A=3+(f&7),f>>>=3,p-=3}else{for(X=L+7;p<X;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=L,p-=L,G=0,A=11+(f&127),f>>>=7,p-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ii;break}for(;A--;)n.lens[n.have++]=G}}if(n.mode===Ii)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ii;break}if(n.lenbits=9,me={bits:n.lenbits},ee=$h(cL,n.lens,0,n.nlen,n.lencode,0,n.work,me),n.lenbits=me.bits,ee){e.msg="invalid literal/lengths set",n.mode=Ii;break}if(n.distbits=6,n.distcode=n.distdyn,me={bits:n.distbits},ee=$h(uL,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,me),n.distbits=me.bits,ee){e.msg="invalid distances set",n.mode=Ii;break}if(n.mode=cg,t===lg)break e;case cg:n.mode=ug;case ug:if(c>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=c,n.hold=f,n.bits=p,xhe(e,E),s=e.next_out,i=e.output,h=e.avail_out,a=e.next_in,r=e.input,c=e.avail_in,f=n.hold,p=n.bits,n.mode===eu&&(n.back=-1);break}for(n.back=0;R=n.lencode[f&(1<<n.lenbits)-1],L=R>>>24,q=R>>>16&255,U=R&65535,!(L<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(q&&(q&240)===0){for(H=L,W=q,Q=U;R=n.lencode[Q+((f&(1<<H+W)-1)>>H)],L=R>>>24,q=R>>>16&255,U=R&65535,!(H+L<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=H,p-=H,n.back+=H}if(f>>>=L,p-=L,n.back+=L,n.length=U,q===0){n.mode=E6;break}if(q&32){n.back=-1,n.mode=eu;break}if(q&64){e.msg="invalid literal/length code",n.mode=Ii;break}n.extra=q&15,n.mode=b6;case b6:if(n.extra){for(X=n.extra;p<X;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=w6;case w6:for(;R=n.distcode[f&(1<<n.distbits)-1],L=R>>>24,q=R>>>16&255,U=R&65535,!(L<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if((q&240)===0){for(H=L,W=q,Q=U;R=n.distcode[Q+((f&(1<<H+W)-1)>>H)],L=R>>>24,q=R>>>16&255,U=R&65535,!(H+L<=p);){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}f>>>=H,p-=H,n.back+=H}if(f>>>=L,p-=L,n.back+=L,q&64){e.msg="invalid distance code",n.mode=Ii;break}n.offset=U,n.extra=q&15,n.mode=A6;case A6:if(n.extra){for(X=n.extra;p<X;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ii;break}n.mode=S6;case S6:if(h===0)break e;if(A=E-h,n.offset>A){if(A=n.offset-A,A>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ii;break}A>n.wnext?(A-=n.wnext,k=n.wsize-A):k=n.wnext-A,A>n.length&&(A=n.length),I=n.window}else I=i,k=s-n.offset,A=n.length;A>h&&(A=h),h-=A,n.length-=A;do i[s++]=I[k++];while(--A);n.length===0&&(n.mode=ug);break;case E6:if(h===0)break e;i[s++]=n.length,h--,n.mode=ug;break;case hb:if(n.wrap){for(;p<32;){if(c===0)break e;c--,f|=r[a++]<<p,p+=8}if(E-=h,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?vc(n.check,i,E,s-E):l5(n.check,i,E,s-E)),E=h,n.wrap&4&&(n.flags?f:_6(f))!==n.check){e.msg="incorrect data check",n.mode=Ii;break}f=0,p=0}n.mode=C6;case C6:if(n.wrap&&n.flags){for(;p<32;){if(c===0)break e;c--,f+=r[a++]<<p,p+=8}if(n.wrap&4&&f!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ii;break}f=0,p=0}n.mode=N6;case N6:ee=_he;break e;case Ii:ee=fL;break e;case hL:return dL;case pL:default:return Al}return e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=c,n.hold=f,n.bits=p,(n.wsize||E!==e.avail_out&&n.mode<Ii&&(n.mode<hb||t!==i6))&&xL(e,e.output,e.next_out,E-e.avail_out),v-=e.avail_in,E-=e.avail_out,e.total_in+=v,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?vc(n.check,i,E,e.next_out-E):l5(n.check,i,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(n.mode===eu?128:0)+(n.mode===cg||n.mode===db?256:0),(v===0&&E===0||t===i6)&&ee===cd&&(ee=Ihe),ee},Bhe=e=>{if(gd(e))return Al;let t=e.state;return t.window&&(t.window=null),e.state=null,cd},Fhe=(e,t)=>{if(gd(e))return Al;const n=e.state;return(n.wrap&2)===0?Al:(n.head=t,t.done=!1,cd)},Uhe=(e,t)=>{const n=t.length;let r,i,a;return gd(e)||(r=e.state,r.wrap!==0&&r.mode!==Fm)?Al:r.mode===Fm&&(i=1,i=l5(i,t,n,0),i!==r.check)?fL:(a=xL(e,t,n,n),a?(r.mode=hL,dL):(r.havedict=1,cd))};var zhe=mL,qhe=vL,Hhe=gL,Vhe=Dhe,Ghe=yL,Yhe=jhe,Whe=Bhe,Khe=Fhe,$he=Uhe,Xhe="pako inflate (from Nodeca project)",nu={inflateReset:zhe,inflateReset2:qhe,inflateResetKeep:Hhe,inflateInit:Vhe,inflateInit2:Ghe,inflate:Yhe,inflateEnd:Whe,inflateGetHeader:Khe,inflateSetDictionary:$he,inflateInfo:Xhe};function Jhe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zhe=Jhe;const bL=Object.prototype.toString,{Z_NO_FLUSH:Qhe,Z_FINISH:e1e,Z_OK:y1,Z_STREAM_END:mb,Z_NEED_DICT:vb,Z_STREAM_ERROR:t1e,Z_DATA_ERROR:I6,Z_MEM_ERROR:n1e}=oL;function W1(e){this.options=sL.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new vhe,this.strm.avail_out=0;let n=nu.inflateInit2(this.strm,t.windowBits);if(n!==y1)throw new Error(c5[n]);if(this.header=new Zhe,nu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=u5.string2buf(t.dictionary):bL.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nu.inflateSetDictionary(this.strm,t.dictionary),n!==y1)))throw new Error(c5[n])}W1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,c;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?e1e:Qhe,bL.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=nu.inflate(n,s),a===vb&&i&&(a=nu.inflateSetDictionary(n,i),a===y1?a=nu.inflate(n,s):a===I6&&(a=vb));n.avail_in>0&&a===mb&&n.state.wrap>0&&e[n.next_in]!==0;)nu.inflateReset(n),a=nu.inflate(n,s);switch(a){case t1e:case I6:case vb:case n1e:return this.onEnd(a),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||a===mb))if(this.options.to==="string"){let h=u5.utf8border(n.output,n.next_out),f=n.next_out-h,p=u5.buf2string(n.output,h);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(h,h+f),0),this.onData(p)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===y1&&c===0)){if(a===mb)return a=nu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};W1.prototype.onData=function(e){this.chunks.push(e)};W1.prototype.onEnd=function(e){e===y1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sL.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function r1e(e,t){const n=new W1(t);if(n.push(e),n.err)throw n.msg||c5[n.err];return n.result}var i1e=W1,a1e=r1e,o1e={Inflate:i1e,inflate:a1e};const{Inflate:s1e,inflate:l1e}=o1e;var M6=s1e,c1e=l1e;const wL=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;wL[e]=t}const k6=4294967295;function u1e(e,t,n){let r=e;for(let i=0;i<n;i++)r=wL[(r^t[i])&255]^r>>>8;return r}function f1e(e,t){return(u1e(k6,e,t)^k6)>>>0}function O6(e,t,n){const r=e.readUint32(),i=f1e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function AL(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function SL(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function EL(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function CL(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function NL(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+d1e(t[a-i],n[a],n[a-i])&255}}function d1e(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),s=Math.abs(r-n);return i<=a&&i<=s?e:a<=s?t:n}function h1e(e,t,n,r,i,a){switch(e){case 0:AL(t,n,i);break;case 1:SL(t,n,i,a);break;case 2:EL(t,n,r,i);break;case 3:CL(t,n,r,i,a);break;case 4:NL(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const p1e=new Uint16Array([255]),g1e=new Uint8Array(p1e.buffer),m1e=g1e[0]===255;function v1e(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,h=new Uint8Array(r*n*c);let f=0;for(let p=0;p<7;p++){const v=s[p],E=Math.ceil((n-v.x)/v.xStep),A=Math.ceil((r-v.y)/v.yStep);if(E<=0||A<=0)continue;const k=E*c,I=new Uint8Array(k);for(let R=0;R<A;R++){const L=t[f++],q=t.subarray(f,f+k);f+=k;const U=new Uint8Array(k);h1e(L,q,U,I,k,c),I.set(U);for(let H=0;H<E;H++){const W=v.x+H*v.xStep,Q=v.y+R*v.yStep;if(!(W>=n||Q>=r))for(let G=0;G<c;G++)h[(Q*n+W)*c+G]=U[H*c+G]}}}if(a===16){const p=new Uint16Array(h.buffer);if(m1e)for(let v=0;v<p.length;v++)p[v]=y1e(p[v]);return p}else return h}function y1e(e){return(e&255)<<8|e>>8&255}const x1e=new Uint16Array([255]),b1e=new Uint8Array(x1e.buffer),w1e=b1e[0]===255,A1e=new Uint8Array(0);function R6(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*n),h=new Uint8Array(r*c);let f=A1e,p=0,v,E;for(let A=0;A<r;A++){switch(v=t.subarray(p+1,p+1+c),E=h.subarray(A*c,(A+1)*c),t[p]){case 0:AL(v,E,c);break;case 1:SL(v,E,c,s);break;case 2:EL(v,E,f,c);break;case 3:CL(v,E,f,c,s);break;case 4:NL(v,E,f,c,s);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}f=E,p+=c+1}if(a===16){const A=new Uint16Array(h.buffer);if(w1e)for(let k=0;k<A.length;k++)A[k]=S1e(A[k]);return A}else return h}function S1e(e){return(e&255)<<8|e>>8&255}const Ng=Uint8Array.of(137,80,78,71,13,10,26,10);function P6(e){if(!E1e(e.readBytes(Ng.length)))throw new Error("wrong PNG signature")}function E1e(e){if(e.length<Ng.length)return!1;for(let t=0;t<Ng.length;t++)if(e[t]!==Ng[t])return!1;return!0}const C1e="tEXt",N1e=0,_L=new TextDecoder("latin1");function _1e(e){if(I1e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const T1e=/^[\u0000-\u00FF]*$/;function I1e(e){if(!T1e.test(e))throw new Error("invalid latin1 text")}function M1e(e,t,n){const r=TL(t);e[r]=k1e(t,n-r.length-1)}function TL(e){for(e.mark();e.readByte()!==N1e;);const t=e.offset;e.reset();const n=_L.decode(e.readBytes(t-e.offset-1));return e.skip(1),_1e(n),n}function k1e(e,t){return _L.decode(e.readBytes(t))}const zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yb={UNKNOWN:-1,DEFLATE:0},D6={UNKNOWN:-1,ADAPTIVE:0},xb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fg={NONE:0,BACKGROUND:1,PREVIOUS:2},bb={SOURCE:0,OVER:1};class O1e extends GS{constructor(n,r={}){super(n);kr(this,"_checkCrc");kr(this,"_inflator");kr(this,"_png");kr(this,"_apng");kr(this,"_end");kr(this,"_hasPalette");kr(this,"_palette");kr(this,"_hasTransparency");kr(this,"_transparency");kr(this,"_compressionMethod");kr(this,"_filterMethod");kr(this,"_interlaceMethod");kr(this,"_colorType");kr(this,"_isAnimated");kr(this,"_numberOfFrames");kr(this,"_numberOfPlays");kr(this,"_frames");kr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new M6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yb.UNKNOWN,this._filterMethod=D6.UNKNOWN,this._interlaceMethod=xb.UNKNOWN,this._colorType=zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(P6(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(P6(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case C1e:M1e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?O6(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?O6(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=R1e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case zs.GREYSCALE:i=1;break;case zs.TRUECOLOUR:i=3;break;case zs.INDEXED_COLOUR:i=1;break;case zs.GREYSCALE_ALPHA:i=2;break;case zs.TRUECOLOUR_ALPHA:i=4;break;case zs.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==yb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case zs.GREYSCALE:case zs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case zs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case zs.UNKNOWN:case zs.GREYSCALE_ALPHA:case zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=TL(this),i=this.readUint8();if(i!==yb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:c1e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=R6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case fg.NONE:break;case fg.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const c=(a*n.width+s)*this._png.channels;for(let h=0;h<this._png.channels;h++)i.data[c+h]=0}break;case fg.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(s,c)=>{const h=((s+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,f=(s*r.width+c)*this._png.channels;return{index:h,frameIndex:f}};switch(r.blendOp){case bb.SOURCE:for(let s=0;s<r.height;s++)for(let c=0;c<r.width;c++){const{index:h,frameIndex:f}=a(s,c);for(let p=0;p<this._png.channels;p++)n.data[h+p]=r.data[f+p]}break;case bb.OVER:for(let s=0;s<r.height;s++)for(let c=0;c<r.width;c++){const{index:h,frameIndex:f}=a(s,c);for(let p=0;p<this._png.channels;p++){const v=r.data[f+this._png.channels-1]/i,E=p%(this._png.channels-1)===0?1:r.data[f+p],A=Math.floor(v*E+(1-v)*n.data[h+p]);n.data[h+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==D6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xb.NO_INTERLACE)this._png.data=R6({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xb.ADAM7)this._png.data=v1e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fg.NONE,blendOp:bb.SOURCE,data:n}),this._inflator=new M6,this._writingDataChunks=!1}}function R1e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var L6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(L6||(L6={}));function P1e(e,t){return new O1e(e,t).decode()}var On=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wb(){On.console&&typeof On.console.log=="function"&&On.console.log.apply(On.console,arguments)}var ii={log:wb,warn:function(e){On.console&&(typeof On.console.warn=="function"?On.console.warn.apply(On.console,arguments):wb.call(null,arguments))},error:function(e){On.console&&(typeof On.console.error=="function"?On.console.error.apply(On.console,arguments):wb(e))}};function Ab(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){zf(r.response,t,n)},r.onerror=function(){ii.error("could not download file")},r.send()}function j6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function dg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zf=On.saveAs||((typeof window>"u"?"undefined":qr(window))!=="object"||window!==On?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=On.URL||On.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?j6(i.href)?Ab(e,t,n):dg(i,i.target="_blank"):dg(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){dg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(j6(e))Ab(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){dg(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:qr(a)!=="object"&&(ii.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Ab(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(On.HTMLElement)||On.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":qr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(e)}else{var h=On.URL||On.webkitURL,f=h.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IL(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+c+h+f}}var _g=On.atob.bind(On),B6=On.btoa.bind(On);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sb(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=To(n,r,i,a,t[0],7,-680876936),a=To(a,n,r,i,t[1],12,-389564586),i=To(i,a,n,r,t[2],17,606105819),r=To(r,i,a,n,t[3],22,-1044525330),n=To(n,r,i,a,t[4],7,-176418897),a=To(a,n,r,i,t[5],12,1200080426),i=To(i,a,n,r,t[6],17,-1473231341),r=To(r,i,a,n,t[7],22,-45705983),n=To(n,r,i,a,t[8],7,1770035416),a=To(a,n,r,i,t[9],12,-1958414417),i=To(i,a,n,r,t[10],17,-42063),r=To(r,i,a,n,t[11],22,-1990404162),n=To(n,r,i,a,t[12],7,1804603682),a=To(a,n,r,i,t[13],12,-40341101),i=To(i,a,n,r,t[14],17,-1502002290),n=Io(n,r=To(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Io(a,n,r,i,t[6],9,-1069501632),i=Io(i,a,n,r,t[11],14,643717713),r=Io(r,i,a,n,t[0],20,-373897302),n=Io(n,r,i,a,t[5],5,-701558691),a=Io(a,n,r,i,t[10],9,38016083),i=Io(i,a,n,r,t[15],14,-660478335),r=Io(r,i,a,n,t[4],20,-405537848),n=Io(n,r,i,a,t[9],5,568446438),a=Io(a,n,r,i,t[14],9,-1019803690),i=Io(i,a,n,r,t[3],14,-187363961),r=Io(r,i,a,n,t[8],20,1163531501),n=Io(n,r,i,a,t[13],5,-1444681467),a=Io(a,n,r,i,t[2],9,-51403784),i=Io(i,a,n,r,t[7],14,1735328473),n=Mo(n,r=Io(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Mo(a,n,r,i,t[8],11,-2022574463),i=Mo(i,a,n,r,t[11],16,1839030562),r=Mo(r,i,a,n,t[14],23,-35309556),n=Mo(n,r,i,a,t[1],4,-1530992060),a=Mo(a,n,r,i,t[4],11,1272893353),i=Mo(i,a,n,r,t[7],16,-155497632),r=Mo(r,i,a,n,t[10],23,-1094730640),n=Mo(n,r,i,a,t[13],4,681279174),a=Mo(a,n,r,i,t[0],11,-358537222),i=Mo(i,a,n,r,t[3],16,-722521979),r=Mo(r,i,a,n,t[6],23,76029189),n=Mo(n,r,i,a,t[9],4,-640364487),a=Mo(a,n,r,i,t[12],11,-421815835),i=Mo(i,a,n,r,t[15],16,530742520),n=ko(n,r=Mo(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ko(a,n,r,i,t[7],10,1126891415),i=ko(i,a,n,r,t[14],15,-1416354905),r=ko(r,i,a,n,t[5],21,-57434055),n=ko(n,r,i,a,t[12],6,1700485571),a=ko(a,n,r,i,t[3],10,-1894986606),i=ko(i,a,n,r,t[10],15,-1051523),r=ko(r,i,a,n,t[1],21,-2054922799),n=ko(n,r,i,a,t[8],6,1873313359),a=ko(a,n,r,i,t[15],10,-30611744),i=ko(i,a,n,r,t[6],15,-1560198380),r=ko(r,i,a,n,t[13],21,1309151649),n=ko(n,r,i,a,t[4],6,-145523070),a=ko(a,n,r,i,t[11],10,-1120210379),i=ko(i,a,n,r,t[2],15,718787259),r=ko(r,i,a,n,t[9],21,-343485551),e[0]=of(n,e[0]),e[1]=of(r,e[1]),e[2]=of(i,e[2]),e[3]=of(a,e[3])}function t2(e,t,n,r,i,a){return t=of(of(t,e),of(r,a)),of(t<<i|t>>>32-i,n)}function To(e,t,n,r,i,a,s){return t2(t&n|~t&r,e,t,i,a,s)}function Io(e,t,n,r,i,a,s){return t2(t&r|n&~r,e,t,i,a,s)}function Mo(e,t,n,r,i,a,s){return t2(t^n^r,e,t,i,a,s)}function ko(e,t,n,r,i,a,s){return t2(n^(t|~r),e,t,i,a,s)}function ML(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Sb(r,D1e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Sb(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Sb(r,i),r}function D1e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var F6="0123456789abcdef".split("");function L1e(e){for(var t="",n=0;n<4;n++)t+=F6[e>>8*n+4&15]+F6[e>>8*n&15];return t}function j1e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function f5(e){return ML(e).map(j1e).join("")}var B1e=(function(e){for(var t=0;t<e.length;t++)e[t]=L1e(e[t]);return e.join("")})(ML("hello"))!="5d41402abc4b2a76b9719d911017c592";function of(e,t){if(B1e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function d5(e,t){var n,r,i,a;if(e!==n){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),c=[],h=0;h<256;h++)c[h]=h;var f=0;for(h=0;h<256;h++){var p=c[h];f=(f+p+s.charCodeAt(h))%256,c[h]=c[f],c[f]=p}n=e,r=c}else c=r;var v=t.length,E=0,A=0,k="";for(h=0;h<v;h++)A=(A+(p=c[E=(E+1)%256]))%256,c[E]=c[A],c[A]=p,s=c[(c[E]+c[A])%256],k+=String.fromCharCode(t.charCodeAt(h)^s);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U6={print:4,modify:8,copy:16,"annot-forms":32};function a0(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(c){if(U6.perm!==void 0)throw new Error("Invalid permission: "+c);i+=U6[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=f5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=d5(this.encryptionKey,this.padding)}function o0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function z6(e){if(qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,r)}catch(c){On.console&&ii.error("jsPDF PubSub Error",c.message,c)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Um(e){if(!(this instanceof Um))return new Um(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function kL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qf(e,t,n,r,i){if(!(this instanceof qf))return new qf(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,kL.call(this,r,i)}function h0(e,t,n,r,i){if(!(this instanceof h0))return new h0(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,kL.call(this,r,i)}function fn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],c=1,h=16,f="S",p=null;qr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,E={},A={internal:{},__private__:{}};A.__private__.PubSub=z6;var k="1.3",I=A.__private__.getPdfVersion=function(){return k};A.__private__.setPdfVersion=function(B){k=B};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return R};var L=A.__private__.getPageFormat=function(B){return R[B]};i=i||"a4";var q="compat",U="advanced",H=q;function W(){this.saveGraphicsState(),be(new nn(Tn,0,0,-Tn,0,Ds()*Tn).toString()+" cm"),this.setFontSize(this.getFontSize()/Tn),f="n",H=U}function Q(){this.restoreGraphicsState(),f="S",H=q}var G=A.__private__.combineFontStyleAndFontWeight=function(B,re){if(B=="bold"&&re=="normal"||B=="bold"&&re==400||B=="normal"&&re=="italic"||B=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(B=re==400||re==="normal"?B==="italic"?"italic":"normal":re!=700&&re!=="bold"||B!=="normal"?(re==700?"bold":re)+""+B:"bold"),B};A.advancedAPI=function(B){var re=H===q;return re&&W.call(this),typeof B!="function"||(B(this),re&&Q.call(this)),this},A.compatAPI=function(B){var re=H===U;return re&&Q.call(this),typeof B!="function"||(B(this),re&&W.call(this)),this},A.isAdvancedAPI=function(){return H===U};var ee,Y=function(B){if(H!==U)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=A.roundToPrecision=A.__private__.roundToPrecision=function(B,re){var Ce=t||re;if(isNaN(B)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(Ce).replace(/0+$/,"")};ee=A.hpf=A.__private__.hpf=typeof h=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return me(B,h)}:h==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return me(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return me(B,16)};var X=A.f2=A.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return me(B,2)},J=A.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return me(B,3)},ie=A.scale=A.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return H===q?B*Tn:H===U?B:void 0},se=function(B){return ie((function(re){return H===q?Ds()-re:H===U?re:void 0})(B))};A.__private__.setPrecision=A.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var ae,he="00000000000000000000000000000000",Ae=A.__private__.getFileId=function(){return he},Te=A.__private__.setFileId=function(B){return he=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Vr=new a0(p.userPermissions,p.userPassword,p.ownerPassword,he)),he};A.setFileId=function(B){return Te(B),this},A.getFileId=function(){return Ae()};var Me=A.__private__.convertDateToPDFDate=function(B){var re=B.getTimezoneOffset(),Ce=re<0?"+":"-",Pe=Math.floor(Math.abs(re/60)),ze=Math.abs(re%60),pt=[Ce,ce(Pe),"'",ce(ze),"'"].join("");return["D:",B.getFullYear(),ce(B.getMonth()+1),ce(B.getDate()),ce(B.getHours()),ce(B.getMinutes()),ce(B.getSeconds()),pt].join("")},Qe=A.__private__.convertPDFDateToDate=function(B){var re=parseInt(B.substr(2,4),10),Ce=parseInt(B.substr(6,2),10)-1,Pe=parseInt(B.substr(8,2),10),ze=parseInt(B.substr(10,2),10),pt=parseInt(B.substr(12,2),10),wt=parseInt(B.substr(14,2),10);return new Date(re,Ce,Pe,ze,pt,wt,0)},ye=A.__private__.setCreationDate=function(B){var re;if(B===void 0&&(B=new Date),B instanceof Date)re=Me(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=B}return ae=re},V=A.__private__.getCreationDate=function(B){var re=ae;return B==="jsDate"&&(re=Qe(ae)),re};A.setCreationDate=function(B){return ye(B),this},A.getCreationDate=function(B){return V(B)};var le,ce=A.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},pe=A.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},xe=0,ke=[],Fe=[],Ie=0,He=[],nt=[],Ve=!1,gt=Fe;A.__private__.setCustomOutputDestination=function(B){Ve=!0,gt=B};var St=function(B){Ve||(gt=B)};A.__private__.resetCustomOutputDestination=function(){Ve=!1,gt=Fe};var be=A.__private__.out=function(B){return B=B.toString(),Ie+=B.length+1,gt.push(B),gt},At=A.__private__.write=function(B){return be(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Dt=A.__private__.getArrayBuffer=function(B){for(var re=B.length,Ce=new ArrayBuffer(re),Pe=new Uint8Array(Ce);re--;)Pe[re]=B.charCodeAt(re);return Ce},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Tt};var rt=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(B){return rt=H===U?B/Tn:B,this};var Zt,st=A.__private__.getFontSize=A.getFontSize=function(){return H===q?rt:rt*Tn},rn=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(B){return rn=B,this},A.__private__.getR2L=A.getR2L=function(){return rn};var an,dn=A.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))Zt=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');Zt=B}else Zt=parseInt(B,10)};A.__private__.getZoomMode=function(){return Zt};var Dn,sn=A.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');an=B};A.__private__.getPageMode=function(){return an};var Fn=A.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Dn=B};A.__private__.getLayoutMode=function(){return Dn},A.__private__.setDisplayMode=A.setDisplayMode=function(B,re,Ce){return dn(B),Fn(re),sn(Ce),this};var Sn={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(B){if(Object.keys(Sn).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Sn[B]},A.__private__.getDocumentProperties=function(){return Sn},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(B){for(var re in Sn)Sn.hasOwnProperty(re)&&B[re]&&(Sn[re]=B[re]);return this},A.__private__.setDocumentProperty=function(B,re){if(Object.keys(Sn).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Sn[B]=re};var Rt,Tn,Kt,Jr,tn,ot={},jt={},Ft=[],kt={},ir={},hn={},wn={},at=null,Ct=0,Nt=[],Vt=new z6(A),hr=e.hotfixes||[],pr={},Hn={},Nr=[],nn=function B(re,Ce,Pe,ze,pt,wt){if(!(this instanceof B))return new B(re,Ce,Pe,ze,pt,wt);isNaN(re)&&(re=1),isNaN(Ce)&&(Ce=0),isNaN(Pe)&&(Pe=0),isNaN(ze)&&(ze=1),isNaN(pt)&&(pt=0),isNaN(wt)&&(wt=0),this._matrix=[re,Ce,Pe,ze,pt,wt]};Object.defineProperty(nn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(nn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(nn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(nn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(nn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(nn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(nn.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(nn.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(nn.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(nn.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(nn.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(nn.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(nn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nn.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(B)},nn.prototype.multiply=function(B){var re=B.sx*this.sx+B.shy*this.shx,Ce=B.sx*this.shy+B.shy*this.sy,Pe=B.shx*this.sx+B.sy*this.shx,ze=B.shx*this.shy+B.sy*this.sy,pt=B.tx*this.sx+B.ty*this.shx+this.tx,wt=B.tx*this.shy+B.ty*this.sy+this.ty;return new nn(re,Ce,Pe,ze,pt,wt)},nn.prototype.decompose=function(){var B=this.sx,re=this.shy,Ce=this.shx,Pe=this.sy,ze=this.tx,pt=this.ty,wt=Math.sqrt(B*B+re*re),qt=(B/=wt)*Ce+(re/=wt)*Pe;Ce-=B*qt,Pe-=re*qt;var Mt=Math.sqrt(Ce*Ce+Pe*Pe);return qt/=Mt,B*(Pe/=Mt)<re*(Ce/=Mt)&&(B=-B,re=-re,qt=-qt,wt=-wt),{scale:new nn(wt,0,0,Mt,0,0),translate:new nn(1,0,0,1,ze,pt),rotate:new nn(B,re,-re,B,0,0),skew:new nn(1,0,qt,1,0,0)}},nn.prototype.toString=function(B){return this.join(" ")},nn.prototype.inversed=function(){var B=this.sx,re=this.shy,Ce=this.shx,Pe=this.sy,ze=this.tx,pt=this.ty,wt=1/(B*Pe-re*Ce),qt=Pe*wt,Mt=-re*wt,bn=-Ce*wt,Gt=B*wt;return new nn(qt,Mt,bn,Gt,-qt*ze-bn*pt,-Mt*ze-Gt*pt)},nn.prototype.applyToPoint=function(B){var re=B.x*this.sx+B.y*this.shx+this.tx,Ce=B.x*this.shy+B.y*this.sy+this.ty;return new Lr(re,Ce)},nn.prototype.applyToRectangle=function(B){var re=this.applyToPoint(B),Ce=this.applyToPoint(new Lr(B.x+B.w,B.y+B.h));return new ls(re.x,re.y,Ce.x-re.x,Ce.y-re.y)},nn.prototype.clone=function(){var B=this.sx,re=this.shy,Ce=this.shx,Pe=this.sy,ze=this.tx,pt=this.ty;return new nn(B,re,Ce,Pe,ze,pt)},A.Matrix=nn;var Bi=A.matrixMult=function(B,re){return re.multiply(B)},is=new nn(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=is;var Ri=function(B,re){if(!ir[B]){var Ce=(re instanceof qf?"Sh":"P")+(Object.keys(kt).length+1).toString(10);re.id=Ce,ir[B]=Ce,kt[Ce]=re,Vt.publish("addPattern",re)}};A.ShadingPattern=qf,A.TilingPattern=h0,A.addShadingPattern=function(B,re){return Y("addShadingPattern()"),Ri(B,re),this},A.beginTilingPattern=function(B){Y("beginTilingPattern()"),nl(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},A.endTilingPattern=function(B,re){Y("endTilingPattern()"),re.stream=nt[le].join(`
`),Ri(B,re),Vt.publish("endTilingPattern",re),Nr.pop().restore()};var Sa,Vn=A.__private__.newObject=function(){var B=Or();return gr(B,!0),B},Or=A.__private__.newObjectDeferred=function(){return xe++,ke[xe]=function(){return Ie},xe},gr=function(B,re){return re=typeof re=="boolean"&&re,ke[B]=Ie,re&&be(B+" 0 obj"),B},Pt=A.__private__.newAdditionalObject=function(){var B={objId:Or(),content:""};return He.push(B),B},Ei=Or(),mr=Or(),Yn=A.__private__.decodeColorString=function(B){var re=B.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ce=parseFloat(re[0]);re=[Ce,Ce,Ce,"r"]}for(var Pe="#",ze=0;ze<3;ze++)Pe+=("0"+Math.floor(255*parseFloat(re[ze])).toString(16)).slice(-2);return Pe},hi=A.__private__.encodeColorString=function(B){var re;typeof B=="string"&&(B={ch1:B});var Ce=B.ch1,Pe=B.ch2,ze=B.ch3,pt=B.ch4,wt=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var qt=new IL(Ce);if(qt.ok)Ce=qt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var Mt=parseInt(Ce.substr(1),16);Ce=Mt>>16&255,Pe=Mt>>8&255,ze=255&Mt}if(Pe===void 0||pt===void 0&&Ce===Pe&&Pe===ze)re=typeof Ce=="string"?Ce+" "+wt[0]:B.precision===2?X(Ce/255)+" "+wt[0]:J(Ce/255)+" "+wt[0];else if(pt===void 0||qr(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return["1.","1.","1.",wt[1]].join(" ");re=typeof Ce=="string"?[Ce,Pe,ze,wt[1]].join(" "):B.precision===2?[X(Ce/255),X(Pe/255),X(ze/255),wt[1]].join(" "):[J(Ce/255),J(Pe/255),J(ze/255),wt[1]].join(" ")}else re=typeof Ce=="string"?[Ce,Pe,ze,pt,wt[2]].join(" "):B.precision===2?[X(Ce),X(Pe),X(ze),X(pt),wt[2]].join(" "):[J(Ce),J(Pe),J(ze),J(pt),wt[2]].join(" ");return re},da=A.__private__.getFilters=function(){return s},Ea=A.__private__.putStream=function(B){var re=(B=B||{}).data||"",Ce=B.filters||da(),Pe=B.alreadyAppliedFilters||[],ze=B.addLength1||!1,pt=re.length,wt=B.objectId,qt=function(Pi){return Pi};if(p!==null&&wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(qt=Vr.encryptor(wt,0));var Mt={};Ce===!0&&(Ce=["FlateEncode"]);var bn=B.additionalKeyValues||[],Gt=(Mt=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(re,Ce):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(Mt.data.length!==0&&(bn.push({key:"Length",value:Mt.data.length}),ze===!0&&bn.push({key:"Length1",value:pt})),Gt.length!=0)if(Gt.split("/").length-1==1)bn.push({key:"Filter",value:Gt});else{bn.push({key:"Filter",value:"["+Gt+"]"});for(var Wn=0;Wn<bn.length;Wn+=1)if(bn[Wn].key==="DecodeParms"){for(var vr=[],Nn=0;Nn<Mt.reverseChain.split("/").length-1;Nn+=1)vr.push("null");vr.push(bn[Wn].value),bn[Wn].value="["+vr.join(" ")+"]"}}be("<<");for(var Ot=0;Ot<bn.length;Ot++)be("/"+bn[Ot].key+" "+bn[Ot].value);be(">>"),Mt.data.length!==0&&(be("stream"),be(qt(Mt.data)),be("endstream"))},ha=A.__private__.putPage=function(B){var re=B.number,Ce=B.data,Pe=B.objId,ze=B.contentsObjId;gr(Pe,!0),be("<</Type /Page"),be("/Parent "+B.rootDictionaryObjId+" 0 R"),be("/Resources "+B.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(ee(B.mediaBox.bottomLeftX))+" "+parseFloat(ee(B.mediaBox.bottomLeftY))+" "+ee(B.mediaBox.topRightX)+" "+ee(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&be("/CropBox ["+ee(B.cropBox.bottomLeftX)+" "+ee(B.cropBox.bottomLeftY)+" "+ee(B.cropBox.topRightX)+" "+ee(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&be("/BleedBox ["+ee(B.bleedBox.bottomLeftX)+" "+ee(B.bleedBox.bottomLeftY)+" "+ee(B.bleedBox.topRightX)+" "+ee(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&be("/TrimBox ["+ee(B.trimBox.bottomLeftX)+" "+ee(B.trimBox.bottomLeftY)+" "+ee(B.trimBox.topRightX)+" "+ee(B.trimBox.topRightY)+"]"),B.artBox!==null&&be("/ArtBox ["+ee(B.artBox.bottomLeftX)+" "+ee(B.artBox.bottomLeftY)+" "+ee(B.artBox.topRightX)+" "+ee(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&be("/UserUnit "+B.userUnit),Vt.publish("putPage",{objId:Pe,pageContext:Nt[re],pageNumber:re,page:Ce}),be("/Contents "+ze+" 0 R"),be(">>"),be("endobj");var pt=Ce.join(`
`);return H===U&&(pt+=`
Q`),gr(ze,!0),Ea({data:pt,filters:da(),objectId:ze}),be("endobj"),Pe},jo=A.__private__.putPages=function(){var B,re,Ce=[];for(B=1;B<=Ct;B++)Nt[B].objId=Or(),Nt[B].contentsObjId=Or();for(B=1;B<=Ct;B++)Ce.push(ha({number:B,data:nt[B],objId:Nt[B].objId,contentsObjId:Nt[B].contentsObjId,mediaBox:Nt[B].mediaBox,cropBox:Nt[B].cropBox,bleedBox:Nt[B].bleedBox,trimBox:Nt[B].trimBox,artBox:Nt[B].artBox,userUnit:Nt[B].userUnit,rootDictionaryObjId:Ei,resourceDictionaryObjId:mr}));gr(Ei,!0),be("<</Type /Pages");var Pe="/Kids [";for(re=0;re<Ct;re++)Pe+=Ce[re]+" 0 R ";be(Pe+"]"),be("/Count "+Ct),be(">>"),be("endobj"),Vt.publish("postPutPages")},Bo=function(B){Vt.publish("putFont",{font:B,out:be,newObject:Vn,putStream:Ea}),B.isAlreadyPutted!==!0&&(B.objectNumber=Vn(),be("<<"),be("/Type /Font"),be("/BaseFont /"+o0(B.postScriptName)),be("/Subtype /Type1"),typeof B.encoding=="string"&&be("/Encoding /"+B.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},Qi=function(B){B.objectNumber=Vn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[ee(B.x),ee(B.y),ee(B.x+B.width),ee(B.y+B.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var Ce=B.pages[1].join(`
`);Ea({data:Ce,additionalKeyValues:re,objectId:B.objectNumber}),be("endobj")},Pr=function(B,re){re||(re=21);var Ce=Vn(),Pe=(function(wt,qt){var Mt,bn=[],Gt=1/(qt-1);for(Mt=0;Mt<1;Mt+=Gt)bn.push(Mt);if(bn.push(1),wt[0].offset!=0){var Wn={offset:0,color:wt[0].color};wt.unshift(Wn)}if(wt[wt.length-1].offset!=1){var vr={offset:1,color:wt[wt.length-1].color};wt.push(vr)}for(var Nn="",Ot=0,Pi=0;Pi<bn.length;Pi++){for(Mt=bn[Pi];Mt>wt[Ot+1].offset;)Ot++;var Mn=wt[Ot].offset,Qr=(Mt-Mn)/(wt[Ot+1].offset-Mn),Va=wt[Ot].color,Vo=wt[Ot+1].color;Nn+=pe(Math.round((1-Qr)*Va[0]+Qr*Vo[0]).toString(16))+pe(Math.round((1-Qr)*Va[1]+Qr*Vo[1]).toString(16))+pe(Math.round((1-Qr)*Va[2]+Qr*Vo[2]).toString(16))}return Nn.trim()})(B.colors,re),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+re+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ea({data:Pe,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),be("endobj"),B.objectNumber=Vn(),be("<< /ShadingType "+B.type),be("/ColorSpace /DeviceRGB");var pt="/Coords ["+ee(parseFloat(B.coords[0]))+" "+ee(parseFloat(B.coords[1]))+" ";B.type===2?pt+=ee(parseFloat(B.coords[2]))+" "+ee(parseFloat(B.coords[3])):pt+=ee(parseFloat(B.coords[2]))+" "+ee(parseFloat(B.coords[3]))+" "+ee(parseFloat(B.coords[4]))+" "+ee(parseFloat(B.coords[5])),be(pt+="]"),B.matrix&&be("/Matrix ["+B.matrix.toString()+"]"),be("/Function "+Ce+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},Xn=function(B,re){var Ce=Or(),Pe=Vn();re.push({resourcesOid:Ce,objectOid:Pe}),B.objectNumber=Pe;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+B.boundingBox.map(ee).join(" ")+"]"}),ze.push({key:"XStep",value:ee(B.xStep)}),ze.push({key:"YStep",value:ee(B.yStep)}),ze.push({key:"Resources",value:Ce+" 0 R"}),B.matrix&&ze.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Ea({data:B.stream,additionalKeyValues:ze,objectId:B.objectNumber}),be("endobj")},el=function(B){for(var re in B.objectNumber=Vn(),be("<<"),B)switch(re){case"opacity":be("/ca "+X(B[re]));break;case"stroke-opacity":be("/CA "+X(B[re]))}be(">>"),be("endobj")},ea=function(B){gr(B.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var re in be("/Font <<"),ot)ot.hasOwnProperty(re)&&(v===!1||v===!0&&E.hasOwnProperty(re))&&be("/"+re+" "+ot[re].objectNumber+" 0 R");be(">>")})(),(function(){if(Object.keys(kt).length>0){for(var re in be("/Shading <<"),kt)kt.hasOwnProperty(re)&&kt[re]instanceof qf&&kt[re].objectNumber>=0&&be("/"+re+" "+kt[re].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),be(">>")}})(),(function(re){if(Object.keys(kt).length>0){for(var Ce in be("/Pattern <<"),kt)kt.hasOwnProperty(Ce)&&kt[Ce]instanceof A.TilingPattern&&kt[Ce].objectNumber>=0&&kt[Ce].objectNumber<re&&be("/"+Ce+" "+kt[Ce].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),be(">>")}})(B.objectOid),(function(){if(Object.keys(hn).length>0){var re;for(re in be("/ExtGState <<"),hn)hn.hasOwnProperty(re)&&hn[re].objectNumber>=0&&be("/"+re+" "+hn[re].objectNumber+" 0 R");Vt.publish("putGStateDict"),be(">>")}})(),(function(){for(var re in be("/XObject <<"),pr)pr.hasOwnProperty(re)&&pr[re].objectNumber>=0&&be("/"+re+" "+pr[re].objectNumber+" 0 R");Vt.publish("putXobjectDict"),be(">>")})(),be(">>"),be("endobj")},Zr=function(B){jt[B.fontName]=jt[B.fontName]||{},jt[B.fontName][B.fontStyle]=B.id},xt=function(B,re,Ce,Pe,ze){var pt={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:B,fontName:re,fontStyle:Ce,encoding:Pe,isStandardFont:ze||!1,metadata:{}};return Vt.publish("addFont",{font:pt,instance:this}),ot[pt.id]=pt,Zr(pt),pt.id},lo=A.__private__.pdfEscape=A.pdfEscape=function(B,re){return(function(Ce,Pe){var ze,pt,wt,qt,Mt,bn,Gt,Wn,vr;if(wt=(Pe=Pe||{}).sourceEncoding||"Unicode",Mt=Pe.outputEncoding,(Pe.autoencode||Mt)&&ot[Rt].metadata&&ot[Rt].metadata[wt]&&ot[Rt].metadata[wt].encoding&&(qt=ot[Rt].metadata[wt].encoding,!Mt&&ot[Rt].encoding&&(Mt=ot[Rt].encoding),!Mt&&qt.codePages&&(Mt=qt.codePages[0]),typeof Mt=="string"&&(Mt=qt[Mt]),Mt)){for(Gt=!1,bn=[],ze=0,pt=Ce.length;ze<pt;ze++)(Wn=Mt[Ce.charCodeAt(ze)])?bn.push(String.fromCharCode(Wn)):bn.push(Ce[ze]),bn[ze].charCodeAt(0)>>8&&(Gt=!0);Ce=bn.join("")}for(ze=Ce.length;Gt===void 0&&ze!==0;)Ce.charCodeAt(ze-1)>>8&&(Gt=!0),ze--;if(!Gt)return Ce;for(bn=Pe.noBOM?[]:[254,255],ze=0,pt=Ce.length;ze<pt;ze++){if((vr=(Wn=Ce.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bn.push(vr),bn.push(Wn-(vr<<8))}return String.fromCharCode.apply(void 0,bn)})(B,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ar=A.__private__.beginPage=function(B){nt[++Ct]=[],Nt[Ct]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Jn(Ct),St(nt[le])},Ua=function(B,re){var Ce,Pe,ze;switch(n=re||n,typeof B=="string"&&(Ce=L(B.toLowerCase()),Array.isArray(Ce)&&(Pe=Ce[0],ze=Ce[1])),Array.isArray(B)&&(Pe=B[0]*Tn,ze=B[1]*Tn),isNaN(Pe)&&(Pe=i[0],ze=i[1]),(Pe>14400||ze>14400)&&(ii.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),ze=Math.min(14400,ze)),i=[Pe,ze],n.substr(0,1)){case"l":ze>Pe&&(i=[ze,Pe]);break;case"p":Pe>ze&&(i=[ze,Pe])}ar(i),un(Cl),be(qa),Nl!==0&&be(Nl+" J"),li!==0&&be(li+" j"),Vt.publish("addPage",{pageNumber:Ct})},Pc=function(B){B>0&&B<=Ct&&(nt.splice(B,1),Nt.splice(B,1),Ct--,le>Ct&&(le=Ct),this.setPage(le))},Jn=function(B){B>0&&B<=Ct&&(le=B)},$n=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return nt.length-1},qn=function(B,re,Ce){var Pe,ze=void 0;return Ce=Ce||{},B=B!==void 0?B:ot[Rt].fontName,re=re!==void 0?re:ot[Rt].fontStyle,Pe=B.toLowerCase(),jt[Pe]!==void 0&&jt[Pe][re]!==void 0?ze=jt[Pe][re]:jt[B]!==void 0&&jt[B][re]!==void 0?ze=jt[B][re]:Ce.disableWarning===!1&&ii.warn("Unable to look up font label for font '"+B+"', '"+re+"'. Refer to getFontList() for available fonts."),ze||Ce.noFallback||(ze=jt.times[re])==null&&(ze=jt.times.normal),ze},Ca=A.__private__.putInfo=function(){var B=Vn(),re=function(Pe){return Pe};for(var Ce in p!==null&&(re=Vr.encryptor(B,0)),be("<<"),be("/Producer ("+lo(re("jsPDF "+fn.version))+")"),Sn)Sn.hasOwnProperty(Ce)&&Sn[Ce]&&be("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+lo(re(Sn[Ce]))+")");be("/CreationDate ("+lo(re(ae))+")"),be(">>"),be("endobj")},Fo=A.__private__.putCatalog=function(B){var re=(B=B||{}).rootDictionaryObjId||Ei;switch(Vn(),be("<<"),be("/Type /Catalog"),be("/Pages "+re+" 0 R"),Zt||(Zt="fullwidth"),Zt){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+Zt;Ce.substr(Ce.length-1)==="%"&&(Zt=parseInt(Zt)/100),typeof Zt=="number"&&be("/OpenAction [3 0 R /XYZ null null "+X(Zt)+"]")}switch(Dn||(Dn="continuous"),Dn){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}an&&be("/PageMode /"+an),Vt.publish("putCatalog"),be(">>"),be("endobj")},co=A.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(xe+1)),be("/Root "+xe+" 0 R"),be("/Info "+(xe-1)+" 0 R"),p!==null&&be("/Encrypt "+Vr.oid+" 0 R"),be("/ID [ <"+he+"> <"+he+"> ]"),be(">>")},An=A.__private__.putHeader=function(){be("%PDF-"+k),be("%")},yo=A.__private__.putXRef=function(){var B="0000000000";be("xref"),be("0 "+(xe+1)),be("0000000000 65535 f ");for(var re=1;re<=xe;re++)typeof ke[re]=="function"?be((B+ke[re]()).slice(-10)+" 00000 n "):ke[re]!==void 0?be((B+ke[re]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},as=A.__private__.buildDocument=function(){var B;xe=0,Ie=0,Fe=[],ke=[],He=[],Ei=Or(),mr=Or(),St(Fe),Vt.publish("buildDocument"),An(),jo(),(function(){Vt.publish("putAdditionalObjects");for(var Ce=0;Ce<He.length;Ce++){var Pe=He[Ce];gr(Pe.objId,!0),be(Pe.content),be("endobj")}Vt.publish("postPutAdditionalObjects")})(),B=[],(function(){for(var Ce in ot)ot.hasOwnProperty(Ce)&&(v===!1||v===!0&&E.hasOwnProperty(Ce))&&Bo(ot[Ce])})(),(function(){var Ce;for(Ce in hn)hn.hasOwnProperty(Ce)&&el(hn[Ce])})(),(function(){for(var Ce in pr)pr.hasOwnProperty(Ce)&&Qi(pr[Ce])})(),(function(Ce){var Pe;for(Pe in kt)kt.hasOwnProperty(Pe)&&(kt[Pe]instanceof qf?Pr(kt[Pe]):kt[Pe]instanceof h0&&Xn(kt[Pe],Ce))})(B),Vt.publish("putResources"),B.forEach(ea),ea({resourcesOid:mr,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),p!==null&&(Vr.oid=Vn(),be("<<"),be("/Filter /Standard"),be("/V "+Vr.v),be("/R "+Vr.r),be("/U <"+Vr.toHexString(Vr.U)+">"),be("/O <"+Vr.toHexString(Vr.O)+">"),be("/P "+Vr.P),be(">>"),be("endobj")),Ca(),Fo();var re=Ie;return yo(),co(),be("startxref"),be(""+re),be("%%EOF"),St(nt[le]),Fe.join(`
`)},wr=A.__private__.getBlob=function(B){return new Blob([Dt(B)],{type:"application/pdf"})},xo=A.output=A.__private__.output=(Sa=function(B,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",B){case void 0:return as();case"save":A.save(re.filename);break;case"arraybuffer":return Dt(as());case"blob":return wr(as());case"bloburi":case"bloburl":if(On.URL!==void 0&&typeof On.URL.createObjectURL=="function")return On.URL&&On.URL.createObjectURL(wr(as()))||void 0;ii.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Pe=as();try{Ce=B6(Pe)}catch{Ce=B6(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(On)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(ze=re.pdfObjectUrl,pt="");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",qt=On.open();return qt!==null&&qt.document.write(wt),qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(On)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',bn=On.open();if(bn!==null){bn.document.write(Mt);var Gt=this;bn.document.documentElement.querySelector("#pdfViewer").onload=function(){bn.document.title=re.filename,bn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return bn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(On)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',vr=On.open();if(vr!==null&&(vr.document.write(Wn),vr.document.title=re.filename),vr||typeof safari>"u")return vr;break;case"datauri":case"dataurl":return On.document.location.href=this.output("datauristring",re);default:return null}},Sa.foo=function(){try{return Sa.apply(this,arguments)}catch(Ce){var B=Ce.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var re="Error in function "+B.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!On.console)throw new Error(re);On.console.error(re,Ce),On.alert&&alert(re)}},Sa.foo.bar=Sa,Sa.foo),Na=function(B){return Array.isArray(hr)===!0&&hr.indexOf(B)>-1};switch(r){case"pt":Tn=1;break;case"mm":Tn=72/25.4;break;case"cm":Tn=72/2.54;break;case"in":Tn=72;break;case"px":Tn=Na("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tn=12;break;case"ex":Tn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Tn=r}var Vr=null;ye(),Te();var In=A.__private__.getPageInfo=A.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[B].objId,pageNumber:B,pageContext:Nt[B]}},pi=A.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Nt)if(Nt[re].objId===B)break;return In(re)},Ye=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Nt[le].objId,pageNumber:le,pageContext:Nt[le]}};A.addPage=function(){return Ua.apply(this,arguments),this},A.setPage=function(){return Jn.apply(this,arguments),St.call(this,nt[le]),this},A.insertPage=function(B){return this.addPage(),this.movePage(le,B),this},A.movePage=function(B,re){var Ce,Pe;if(B>re){Ce=nt[B],Pe=Nt[B];for(var ze=B;ze>re;ze--)nt[ze]=nt[ze-1],Nt[ze]=Nt[ze-1];nt[re]=Ce,Nt[re]=Pe,this.setPage(re)}else if(B<re){Ce=nt[B],Pe=Nt[B];for(var pt=B;pt<re;pt++)nt[pt]=nt[pt+1],Nt[pt]=Nt[pt+1];nt[re]=Ce,Nt[re]=Pe,this.setPage(re)}return this},A.deletePage=function(){return Pc.apply(this,arguments),this},A.__private__.text=A.text=function(B,re,Ce,Pe,ze){var pt,wt,qt,Mt,bn,Gt,Wn,vr,Nn,Ot=(Pe=Pe||{}).scope||this;if(typeof B=="number"&&typeof re=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Pi=Ce;Ce=re,re=B,B=Pi}if(arguments[3]instanceof nn==0?(qt=arguments[4],Mt=arguments[5],qr(Wn=arguments[3])==="object"&&Wn!==null||(typeof qt=="string"&&(Mt=qt,qt=null),typeof Wn=="string"&&(Mt=Wn,Wn=null),typeof Wn=="number"&&(qt=Wn,Wn=null),Pe={flags:Wn,angle:qt,align:Mt})):(Y("The transform parameter of text() with a Matrix value"),Nn=ze),isNaN(re)||isNaN(Ce)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Ot;var Mn,Qr="",Va=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:zo,Vo=Ot.internal.scaleFactor;function Fi(ft){return ft=ft.split("	").join(Array(Pe.TabLen||9).join(" ")),lo(ft,Wn)}function Il(ft){for(var dt,ut=ft.concat(),cn=[],vn=ut.length;vn--;)typeof(dt=ut.shift())=="string"?cn.push(dt):Array.isArray(ft)&&(dt.length===1||dt[1]===void 0&&dt[2]===void 0)?cn.push(dt[0]):cn.push([dt[0],dt[1],dt[2]]);return cn}function Ml(ft,dt){var ut;if(typeof ft=="string")ut=dt(ft)[0];else if(Array.isArray(ft)){for(var cn,vn,Gr=ft.concat(),ia=[],Ui=Gr.length;Ui--;)typeof(cn=Gr.shift())=="string"?ia.push(dt(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(vn=dt(cn[0],cn[1],cn[2]),ia.push([vn[0],vn[1],vn[2]]));ut=ia}return ut}var wo=!1,Ao=!0;if(typeof B=="string")wo=!0;else if(Array.isArray(B)){var rl=B.concat();wt=[];for(var Ls,ei=rl.length;ei--;)(typeof(Ls=rl.shift())!="string"||Array.isArray(Ls)&&typeof Ls[0]!="string")&&(Ao=!1);wo=Ao}if(wo===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var us=rt/Ot.internal.scaleFactor,il=us*(Va-1);switch(Pe.baseline){case"bottom":Ce-=il;break;case"top":Ce+=us-il;break;case"hanging":Ce+=us-2*il;break;case"middle":Ce+=us/2-il}if((Gt=Pe.maxWidth||0)>0&&(typeof B=="string"?B=Ot.splitTextToSize(B,Gt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(ft,dt){return ft.concat(Ot.splitTextToSize(dt,Gt))},[]))),pt={text:B,x:re,y:Ce,options:Pe,mutex:{pdfEscape:lo,activeFontKey:Rt,fonts:ot,activeFontSize:rt}},Vt.publish("preProcessText",pt),B=pt.text,qt=(Pe=pt.options).angle,Nn instanceof nn==0&&qt&&typeof qt=="number"){qt*=Math.PI/180,Pe.rotationDirection===0&&(qt=-qt),H===U&&(qt=-qt);var fs=Math.cos(qt),ds=Math.sin(qt);Nn=new nn(fs,ds,-ds,fs,0,0)}else qt&&qt instanceof nn&&(Nn=qt);H!==U||Nn||(Nn=is),(bn=Pe.charSpace||ma)!==void 0&&(Qr+=ee(ie(bn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(vr=Pe.horizontalScale)!==void 0&&(Qr+=ee(100*vr)+` Tz
`),Pe.lang;var ci=-1,So=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,ta=Ot.internal.getCurrentPageInfo().pageContext;switch(So){case 0:case!1:case"fill":ci=0;break;case 1:case!0:case"stroke":ci=1;break;case 2:case"fillThenStroke":ci=2;break;case 3:case"invisible":ci=3;break;case 4:case"fillAndAddForClipping":ci=4;break;case 5:case"strokeAndAddPathForClipping":ci=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ci=6;break;case 7:case"addToPathForClipping":ci=7}var rc=ta.usedRenderingMode!==void 0?ta.usedRenderingMode:-1;ci!==-1?Qr+=ci+` Tr
`:rc!==-1&&(Qr+=`0 Tr
`),ci!==-1&&(ta.usedRenderingMode=ci),Mt=Pe.align||"left";var ui,Go=rt*Va,Yo=Ot.internal.pageSize.getWidth(),Lc=ot[Rt];bn=Pe.charSpace||ma,Gt=Pe.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Eo=[],na=function(ft){return Ot.getStringUnitWidth(ft,{font:Lc,charSpace:bn,fontSize:rt,doKerning:!1})*rt/Vo};if(Object.prototype.toString.call(B)==="[object Array]"){var Ga;wt=Il(B),Mt!=="left"&&(ui=wt.map(na));var ra,Ya=0;if(Mt==="right"){re-=ui[0],B=[],ei=wt.length;for(var Rn=0;Rn<ei;Rn++)Rn===0?(ra=gn(re),Ga=Qn(Ce)):(ra=ie(Ya-ui[Rn]),Ga=-Go),B.push([wt[Rn],ra,Ga]),Ya=ui[Rn]}else if(Mt==="center"){re-=ui[0]/2,B=[],ei=wt.length;for(var Co=0;Co<ei;Co++)Co===0?(ra=gn(re),Ga=Qn(Ce)):(ra=ie((Ya-ui[Co])/2),Ga=-Go),B.push([wt[Co],ra,Ga]),Ya=ui[Co]}else if(Mt==="left"){B=[],ei=wt.length;for(var te=0;te<ei;te++)B.push(wt[te])}else if(Mt==="justify"&&Lc.encoding==="Identity-H"){B=[],ei=wt.length,Gt=Gt!==0?Gt:Yo;for(var l=0,d=0;d<ei;d++)if(Ga=d===0?Qn(Ce):-Go,ra=d===0?gn(re):l,d<ei-1){var g=ie((Gt-ui[d])/(wt[d].split(" ").length-1)),y=wt[d].split(" ");B.push([y[0]+" ",ra,Ga]),l=0;for(var x=1;x<y.length;x++){var S=(na(y[x-1]+" "+y[x])-na(y[x]))*Vo+g;x==y.length-1?B.push([y[x],S,0]):B.push([y[x]+" ",S,0]),l-=S}}else B.push([wt[d],ra,Ga]);B.push(["",l,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],ei=wt.length,Gt=Gt!==0?Gt:Yo,d=0;d<ei;d++){Ga=d===0?Qn(Ce):-Go,ra=d===0?gn(re):0;var _=wt[d].split(" ").length-1,P=_>0?(Gt-ui[d])/_:0;d<ei-1?Eo.push(ee(ie(P))):Eo.push(0),B.push([wt[d],ra,Ga])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:rn)===!0&&(B=Ml(B,function(ft,dt,ut){return[ft.split("").reverse().join(""),dt,ut]})),pt={text:B,x:re,y:Ce,options:Pe,mutex:{pdfEscape:lo,activeFontKey:Rt,fonts:ot,activeFontSize:rt}},Vt.publish("postProcessText",pt),B=pt.text,Mn=pt.mutex.isHex||!1;var F=ot[Rt].encoding;F!=="WinAnsiEncoding"&&F!=="StandardEncoding"||(B=Ml(B,function(ft,dt,ut){return[Fi(ft),dt,ut]})),wt=Il(B),B=[];for(var K,ne,ue,Ee=Array.isArray(wt[0])?1:0,Oe="",De=function(ft,dt,ut){var cn="";return ut instanceof nn?(ut=typeof Pe.angle=="number"?Bi(ut,new nn(1,0,0,1,ft,dt)):Bi(new nn(1,0,0,1,ft,dt),ut),H===U&&(ut=Bi(new nn(1,0,0,-1,0,0),ut)),cn=ut.join(" ")+` Tm
`):cn=ee(ft)+" "+ee(dt)+` Td
`,cn},Ue=0;Ue<wt.length;Ue++){switch(Oe="",Ee){case 1:ue=(Mn?"<":"(")+wt[Ue][0]+(Mn?">":")"),K=parseFloat(wt[Ue][1]),ne=parseFloat(wt[Ue][2]);break;case 0:ue=(Mn?"<":"(")+wt[Ue]+(Mn?">":")"),K=gn(re),ne=Qn(Ce)}Eo!==void 0&&Eo[Ue]!==void 0&&(Oe=Eo[Ue]+` Tw
`),Ue===0?B.push(Oe+De(K,ne,Nn)+ue):Ee===0?B.push(Oe+ue):Ee===1&&B.push(Oe+De(K,ne,Nn)+ue)}B=Ee===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var Ze=`BT
/`;return Ze+=Rt+" "+rt+` Tf
`,Ze+=ee(rt*Va)+` TL
`,Ze+=os+`
`,Ze+=Qr,Ze+=B,be(Ze+="ET"),E[Rt]=!0,Ot};var Se=A.__private__.clip=A.clip=function(B){return be(B==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Se("evenodd")},A.__private__.discardPath=A.discardPath=function(){return be("n"),this};var Lt=A.__private__.isValidStyle=function(B){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(re=!0),re};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(B){return Lt(B)&&(f=B),this};var si=A.__private__.getStyle=A.getStyle=function(B){var re=f;switch(B){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=B}return re},pa=A.close=function(){return be("h"),this};A.stroke=function(){return be("S"),this},A.fill=function(B){return Uo("f",B),this},A.fillEvenOdd=function(B){return Uo("f*",B),this},A.fillStroke=function(B){return Uo("B",B),this},A.fillStrokeEvenOdd=function(B){return Uo("B*",B),this};var Uo=function(B,re){qr(re)==="object"?ln(re,B):be(B)},ks=function(B){B===null||H===U&&B===void 0||(B=si(B),be(B))};function _a(B,re,Ce,Pe,ze){var pt=new h0(re||this.boundingBox,Ce||this.xStep,Pe||this.yStep,this.gState,ze||this.matrix);pt.stream=this.stream;var wt=B+"$$"+this.cloneIndex+++"$$";return Ri(wt,pt),pt}var ln=function(B,re){var Ce=ir[B.key],Pe=kt[Ce];if(Pe instanceof qf)be("q"),be(_r(re)),Pe.gState&&A.setGState(Pe.gState),be(B.matrix.toString()+" cm"),be("/"+Ce+" sh"),be("Q");else if(Pe instanceof h0){var ze=new nn(1,0,0,-1,0,Ds());B.matrix&&(ze=ze.multiply(B.matrix||is),Ce=_a.call(Pe,B.key,B.boundingBox,B.xStep,B.yStep,ze).id),be("q"),be("/Pattern cs"),be("/"+Ce+" scn"),Pe.gState&&A.setGState(Pe.gState),be(re),be("Q")}},_r=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nc=A.moveTo=function(B,re){return be(ee(ie(B))+" "+ee(se(re))+" m"),this},Tu=A.lineTo=function(B,re){return be(ee(ie(B))+" "+ee(se(re))+" l"),this},ga=A.curveTo=function(B,re,Ce,Pe,ze,pt){return be([ee(ie(B)),ee(se(re)),ee(ie(Ce)),ee(se(Pe)),ee(ie(ze)),ee(se(pt)),"c"].join(" ")),this};A.__private__.line=A.line=function(B,re,Ce,Pe,ze){if(isNaN(B)||isNaN(re)||isNaN(Ce)||isNaN(Pe)||!Lt(ze))throw new Error("Invalid arguments passed to jsPDF.line");return H===q?this.lines([[Ce-B,Pe-re]],B,re,[1,1],ze||"S"):this.lines([[Ce-B,Pe-re]],B,re,[1,1]).stroke()},A.__private__.lines=A.lines=function(B,re,Ce,Pe,ze,pt){var wt,qt,Mt,bn,Gt,Wn,vr,Nn,Ot,Pi,Mn,Qr;if(typeof B=="number"&&(Qr=Ce,Ce=re,re=B,B=Qr),Pe=Pe||[1,1],pt=pt||!1,isNaN(re)||isNaN(Ce)||!Array.isArray(B)||!Array.isArray(Pe)||!Lt(ze)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nc(re,Ce),wt=Pe[0],qt=Pe[1],bn=B.length,Pi=re,Mn=Ce,Mt=0;Mt<bn;Mt++)(Gt=B[Mt]).length===2?(Pi=Gt[0]*wt+Pi,Mn=Gt[1]*qt+Mn,Tu(Pi,Mn)):(Wn=Gt[0]*wt+Pi,vr=Gt[1]*qt+Mn,Nn=Gt[2]*wt+Pi,Ot=Gt[3]*qt+Mn,Pi=Gt[4]*wt+Pi,Mn=Gt[5]*qt+Mn,ga(Wn,vr,Nn,Ot,Pi,Mn));return pt&&pa(),ks(ze),this},A.path=function(B){for(var re=0;re<B.length;re++){var Ce=B[re],Pe=Ce.c;switch(Ce.op){case"m":nc(Pe[0],Pe[1]);break;case"l":Tu(Pe[0],Pe[1]);break;case"c":ga.apply(this,Pe);break;case"h":pa()}}return this},A.__private__.rect=A.rect=function(B,re,Ce,Pe,ze){if(isNaN(B)||isNaN(re)||isNaN(Ce)||isNaN(Pe)||!Lt(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return H===q&&(Pe=-Pe),be([ee(ie(B)),ee(se(re)),ee(ie(Ce)),ee(ie(Pe)),"re"].join(" ")),ks(ze),this},A.__private__.triangle=A.triangle=function(B,re,Ce,Pe,ze,pt,wt){if(isNaN(B)||isNaN(re)||isNaN(Ce)||isNaN(Pe)||isNaN(ze)||isNaN(pt)||!Lt(wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-B,Pe-re],[ze-Ce,pt-Pe],[B-ze,re-pt]],B,re,[1,1],wt,!0),this},A.__private__.roundedRect=A.roundedRect=function(B,re,Ce,Pe,ze,pt,wt){if(isNaN(B)||isNaN(re)||isNaN(Ce)||isNaN(Pe)||isNaN(ze)||isNaN(pt)||!Lt(wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ce),pt=Math.min(pt,.5*Pe),this.lines([[Ce-2*ze,0],[ze*qt,0,ze,pt-pt*qt,ze,pt],[0,Pe-2*pt],[0,pt*qt,-ze*qt,pt,-ze,pt],[2*ze-Ce,0],[-ze*qt,0,-ze,-pt*qt,-ze,-pt],[0,2*pt-Pe],[0,-pt*qt,ze*qt,-pt,ze,-pt]],B+ze,re,[1,1],wt,!0),this},A.__private__.ellipse=A.ellipse=function(B,re,Ce,Pe,ze){if(isNaN(B)||isNaN(re)||isNaN(Ce)||isNaN(Pe)||!Lt(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*Ce,wt=4/3*(Math.SQRT2-1)*Pe;return nc(B+Ce,re),ga(B+Ce,re-wt,B+pt,re-Pe,B,re-Pe),ga(B-pt,re-Pe,B-Ce,re-wt,B-Ce,re),ga(B-Ce,re+wt,B-pt,re+Pe,B,re+Pe),ga(B+pt,re+Pe,B+Ce,re+wt,B+Ce,re),ks(ze),this},A.__private__.circle=A.circle=function(B,re,Ce,Pe){if(isNaN(B)||isNaN(re)||isNaN(Ce)||!Lt(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,re,Ce,Ce,Pe)},A.setFont=function(B,re,Ce){return Ce&&(re=G(re,Ce)),Rt=qn(B,re,{disableWarning:!1}),this};var za=A.__private__.getFont=A.getFont=function(){return ot[qn.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var B,re,Ce={};for(B in jt)if(jt.hasOwnProperty(B))for(re in Ce[B]=[],jt[B])jt[B].hasOwnProperty(re)&&Ce[B].push(re);return Ce},A.addFont=function(B,re,Ce,Pe,ze){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(Ce=G(Ce,Pe)),xt.call(this,B,re,Ce,ze=ze||"Identity-H")};var zo,Cl=e.lineWidth||.200025,Dr=A.__private__.getLineWidth=A.getLineWidth=function(){return Cl},un=A.__private__.setLineWidth=A.setLineWidth=function(B){return Cl=B,be(ee(ie(B))+" w"),this};A.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(B,re){if(B=B||[],re=re||0,isNaN(re)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(Ce){return ee(ie(Ce))}).join(" "),re=ee(ie(re)),be("["+B+"] "+re+" d"),this};var qo=A.__private__.getLineHeight=A.getLineHeight=function(){return rt*zo};A.__private__.getLineHeight=A.getLineHeight=function(){return rt*zo};var pn=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(zo=B),this},Iu=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return zo};pn(e.lineHeight);var gn=A.__private__.getHorizontalCoordinate=function(B){return ie(B)},Qn=A.__private__.getVerticalCoordinate=function(B){return H===U?B:Nt[le].mediaBox.topRightY-Nt[le].mediaBox.bottomLeftY-ie(B)},Dc=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(B){return ee(gn(B))},Os=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(B){return ee(Qn(B))},qa=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return Yn(qa)},A.__private__.setStrokeColor=A.setDrawColor=function(B,re,Ce,Pe){return qa=hi({ch1:B,ch2:re,ch3:Ce,ch4:Pe,pdfColorType:"draw",precision:2}),be(qa),this};var uo=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return Yn(uo)},A.__private__.setFillColor=A.setFillColor=function(B,re,Ce,Pe){return uo=hi({ch1:B,ch2:re,ch3:Ce,ch4:Pe,pdfColorType:"fill",precision:2}),be(uo),this};var os=e.textColor||"0 g",tl=A.__private__.getTextColor=A.getTextColor=function(){return Yn(os)};A.__private__.setTextColor=A.setTextColor=function(B,re,Ce,Pe){return os=hi({ch1:B,ch2:re,ch3:Ce,ch4:Pe,pdfColorType:"text",precision:3}),this};var ma=e.charSpace,ss=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(ma||0)};A.__private__.setCharSpace=A.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ma=B,this};var Nl=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(B){var re=A.CapJoinStyles[B];if(re===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=re,be(re+" J"),this};var li=0;A.__private__.setLineJoin=A.setLineJoin=function(B){var re=A.CapJoinStyles[B];if(re===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=re,be(re+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(ee(ie(B))+" M"),this},A.GState=Um,A.setGState=function(B){(B=typeof B=="string"?hn[wn[B]]:Ha(null,B)).equals(at)||(be("/"+B.id+" gs"),at=B)};var Ha=function(B,re){if(!B||!wn[B]){var Ce=!1;for(var Pe in hn)if(hn.hasOwnProperty(Pe)&&hn[Pe].equals(re)){Ce=!0;break}if(Ce)re=hn[Pe];else{var ze="GS"+(Object.keys(hn).length+1).toString(10);hn[ze]=re,re.id=ze}return B&&(wn[B]=re.id),Vt.publish("addGState",re),re}};A.addGState=function(B,re){return Ha(B,re),this},A.saveGraphicsState=function(){return be("q"),Ft.push({key:Rt,size:rt,color:os}),this},A.restoreGraphicsState=function(){be("Q");var B=Ft.pop();return Rt=B.key,rt=B.size,os=B.color,at=null,this},A.setCurrentTransformationMatrix=function(B){return be(B.toString()+" cm"),this},A.comment=function(B){return be("#"+B),this};var Lr=function(B,re){var Ce=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(pt){isNaN(pt)||(Ce=parseFloat(pt))}});var Pe=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(pt){isNaN(pt)||(Pe=parseFloat(pt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(pt){ze=pt.toString()}}),this},ls=function(B,re,Ce,Pe){Lr.call(this,B,re),this.type="rect";var ze=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(wt){isNaN(wt)||(ze=parseFloat(wt))}});var pt=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(wt){isNaN(wt)||(pt=parseFloat(wt))}}),this},_l=function(){this.page=Ct,this.currentPage=le,this.pages=nt.slice(0),this.pagesContext=Nt.slice(0),this.x=Kt,this.y=Jr,this.matrix=tn,this.width=Ps(le),this.height=or(le),this.outputDestination=gt,this.id="",this.objectNumber=-1};_l.prototype.restore=function(){Ct=this.page,le=this.currentPage,Nt=this.pagesContext,nt=this.pages,Kt=this.x,Jr=this.y,tn=this.matrix,Tl(le,this.width),cs(le,this.height),gt=this.outputDestination};var nl=function(B,re,Ce,Pe,ze){Nr.push(new _l),Ct=le=0,nt=[],Kt=B,Jr=re,tn=ze,ar([Ce,Pe])};for(var Rs in A.beginFormObject=function(B,re,Ce,Pe,ze){return nl(B,re,Ce,Pe,ze),this},A.endFormObject=function(B){return(function(re){if(Hn[re])Nr.pop().restore();else{var Ce=new _l,Pe="Xo"+(Object.keys(pr).length+1).toString(10);Ce.id=Pe,Hn[re]=Pe,pr[Pe]=Ce,Vt.publish("addFormObject",Ce),Nr.pop().restore()}})(B),this},A.doFormObject=function(B,re){var Ce=pr[Hn[B]];return be("q"),be(re.toString()+" cm"),be("/"+Ce.id+" Do"),be("Q"),this},A.getFormObject=function(B){var re=pr[Hn[B]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},A.save=function(B,re){return B=B||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(zf(wr(as()),B),typeof zf.unload=="function"&&On.setTimeout&&setTimeout(zf.unload,911),this):new Promise(function(Ce,Pe){try{var ze=zf(wr(as()),B);typeof zf.unload=="function"&&On.setTimeout&&setTimeout(zf.unload,911),Ce(ze)}catch(pt){Pe(pt.message)}})},fn.API)fn.API.hasOwnProperty(Rs)&&(Rs==="events"&&fn.API.events.length?(function(B,re){var Ce,Pe,ze;for(ze=re.length-1;ze!==-1;ze--)Ce=re[ze][0],Pe=re[ze][1],B.subscribe.apply(B,[Ce].concat(typeof Pe=="function"?[Pe]:Pe))})(Vt,fn.API.events):A[Rs]=fn.API[Rs]);function Ps(B){return Nt[B].mediaBox.topRightX-Nt[B].mediaBox.bottomLeftX}function Tl(B,re){Nt[B].mediaBox.topRightX=re+Nt[B].mediaBox.bottomLeftX}function or(B){return Nt[B].mediaBox.topRightY-Nt[B].mediaBox.bottomLeftY}function cs(B,re){Nt[B].mediaBox.topRightY=re+Nt[B].mediaBox.bottomLeftY}var bo=A.getPageWidth=function(B){return Ps(B=B||le)/Tn},Ho=A.setPageWidth=function(B,re){Tl(B,re*Tn)},Ds=A.getPageHeight=function(B){return or(B=B||le)/Tn},tt=A.setPageHeight=function(B,re){cs(B,re*Tn)};return A.internal={pdfEscape:lo,getStyle:si,getFont:za,getFontSize:st,getCharSpace:ss,getTextColor:tl,getLineHeight:qo,getLineHeightFactor:Iu,getLineWidth:Dr,write:At,getHorizontalCoordinate:gn,getVerticalCoordinate:Qn,getCoordinateString:Dc,getVerticalCoordinateString:Os,collections:{},newObject:Vn,newAdditionalObject:Pt,newObjectDeferred:Or,newObjectDeferredBegin:gr,getFilters:da,putStream:Ea,events:Vt,scaleFactor:Tn,pageSize:{getWidth:function(){return bo(le)},setWidth:function(B){Ho(le,B)},getHeight:function(){return Ds(le)},setHeight:function(B){tt(le,B)}},encryptionOptions:p,encryption:Vr,getEncryptor:function(B){return p!==null?Vr.encryptor(B,0):function(re){return re}},output:xo,getNumberOfPages:$n,get pages(){return nt},out:be,f2:X,f3:J,getPageInfo:In,getPageInfoByObjId:pi,getCurrentPageInfo:Ye,getPDFVersion:I,Point:Lr,Rectangle:ls,Matrix:nn,hasHotfix:Na},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return bo(le)},set:function(B){Ho(le,B)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Ds(le)},set:function(B){tt(le,B)},enumerable:!0,configurable:!0}),(function(B){for(var re=0,Ce=Tt.length;re<Ce;re++){var Pe=xt.call(this,B[re][0],B[re][1],B[re][2],Tt[re][3],!0);v===!1&&(E[Pe]=!0);var ze=B[re][0].split("-");Zr({id:Pe,fontName:ze[0],fontStyle:ze[1]||""})}Vt.publish("addFonts",{fonts:ot,dictionary:jt})}).call(A,Tt),Rt="F1",Ua(i,n),Vt.publish("initialized"),A}a0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},a0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},a0.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},a0.prototype.processOwnerPassword=function(e,t){return d5(f5(t).substr(0,5),e)},a0.prototype.encryptor=function(e,t){var n=f5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return d5(n,r)}},Um.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||qr(e)!==qr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},fn.API={events:[]},fn.version="3.0.4";var $i=fn.API,YS=1,md=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},e0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bn=function(e){return e.toFixed(2)},tf=function(e){return e.toFixed(5)};$i.__acroform__={};var Ms=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},q6=function(e){return e*YS},yc=function(e){var t=new RL,n=en.internal.getHeight(e)||0,r=en.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Bn(r)),Number(Bn(n))],t},F1e=$i.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},U1e=$i.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},z1e=$i.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},la=$i.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return z1e(e,t-1)},ca=$i.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return F1e(e,t-1)},ua=$i.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return U1e(e,t-1)},q1e=$i.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],c=e[3],h={};return h.lowerLeft_X=n(i)||0,h.lowerLeft_Y=r(a+c)||0,h.upperRight_X=n(i+s)||0,h.upperRight_Y=r(a)||0,[Number(Bn(h.lowerLeft_X)),Number(Bn(h.lowerLeft_Y)),Number(Bn(h.upperRight_X)),Number(Bn(h.upperRight_Y))]},H1e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=h5(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Bn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=yc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},h5=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(X){return X.split(`
`)}):i.map(function(X){return[X]});var a=n,s=en.internal.getHeight(e)||0;s=s<0?-s:s;var c=en.internal.getWidth(e)||0;c=c<0?-c:c;var h=function(X,J,ie){if(X+1<i.length){var se=J+" "+i[X+1][0];return hg(se,e,ie).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var f,p,v=hg("3",e,a).height,E=e.multiline?s-a:(s-v)/2,A=E+=2,k=0,I=0,R=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+hg(t,e,a=12).width+", FieldWidth:"+c+`
`;break}for(var L="",q=0,U=0;U<i.length;U++)if(i.hasOwnProperty(U)){var H=!1;if(i[U].length!==1&&R!==i[U].length-1){if((v+2)*(q+2)+2>s)continue e;L+=i[U][R],H=!0,I=U,U--}else{L=(L+=i[U][R]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var W=parseInt(U),Q=h(W,L,a),G=U>=i.length-1;if(Q&&!G){L+=" ",R=0;continue}if(Q||G){if(G)I=W;else if(e.multiline&&(v+2)*(q+2)+2>s)continue e}else{if(!e.multiline||(v+2)*(q+2)+2>s)continue e;I=W}}for(var ee="",Y=k;Y<=I;Y++){var me=i[Y];if(e.multiline){if(Y===I){ee+=me[R]+" ",R=(R+1)%me.length;continue}if(Y===k){ee+=me[me.length-1]+" ";continue}}ee+=me[0]+" "}switch(ee=ee.substr(ee.length-1)==" "?ee.substr(0,ee.length-1):ee,p=hg(ee,e,a).width,e.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;default:f=2}t+=Bn(f)+" "+Bn(A)+` Td
`,t+="("+md(ee)+`) Tj
`,t+=-Bn(f)+` 0 Td
`,A=-(a+2),p=0,k=H?I:I+1,q++,L=""}break}return r.text=t,r.fontSize=a,r},hg=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},V1e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},G1e=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Y1e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ec.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(V1e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");YS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new PL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&G1e(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var c=r[s],h=[],f=c.Rect;if(c.Rect&&(c.Rect=q1e(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=en.createDefaultAppearanceStream(c),qr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=H1e(c);h.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var v="";for(var E in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(E)){var A=c.appearanceStreamContent[E];if(v+="/"+E+" ",v+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var s in A)if(A.hasOwnProperty(s)){var k=A[s];typeof k=="function"&&(k=k.call(i,c)),v+="/"+s+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=A)=="function"&&(k=k.call(i,c)),v+="/"+s+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);v+=">>"}h.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:c.objId}),i.internal.out("endobj")}a&&(function(I,R){for(var L in I)if(I.hasOwnProperty(L)){var q=L,U=I[L];R.internal.newObjectDeferredBegin(U.objId,!0),qr(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete I[q]}})(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},OL=$i.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),qr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+md(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Eb=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+md(r(e))+")"},Sc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sc.prototype.toString=function(){return this.objId+" 0 R"},Sc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Sc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:OL(i,this.objId,this.scope)}):i instanceof Sc?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var RL=function(){Sc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ms(RL,Sc);var PL=function(){Sc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+md(n(e))+")"}},set:function(n){e=n}})};Ms(PL,Sc);var ec=function e(){Sc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!la(t,3)},set:function(L){L?this.F=ca(t,3):this.F=ua(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');n=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(L){r=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof zm)return;a="FieldObject"+e.FieldNum++}var L=function(q){return q};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+md(L(a))+")"},set:function(L){a=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(L){a=L}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(L){s=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/YS:f},set:function(L){f=L}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(L){p=L}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof zm||this instanceof Jf))return Eb(v,this.objId,this.scope)},set:function(L){L=L.toString(),v=L}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof no==0?Eb(E,this.objId,this.scope):E},set:function(L){L=L.toString(),E=this instanceof no==0?L.substr(0,1)==="("?e0(L.substr(1,L.length-2)):e0(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof no==1?e0(E.substr(1,E.length-1)):E},set:function(L){L=L.toString(),E=this instanceof no==1?"/"+L:L}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof no==0?Eb(A,this.objId,this.scope):A},set:function(L){L=L.toString(),A=this instanceof no==0?L.substr(0,1)==="("?e0(L.substr(1,L.length-2)):e0(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof no==1?e0(A.substr(1,A.length-1)):A},set:function(L){L=L.toString(),A=this instanceof no==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(L){L=!!L,I=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(L){k=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,1)},set:function(L){L?this.Ff=ca(this.Ff,1):this.Ff=ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,2)},set:function(L){L?this.Ff=ca(this.Ff,2):this.Ff=ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,3)},set:function(L){L?this.Ff=ca(this.Ff,3):this.Ff=ua(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');R=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(R){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};Ms(ec,Sc);var x0=function(){ec.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return OL(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,s,c){c||(c=1);for(var h,f=[];h=s.exec(a);)f.push(h[c]);return f})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,18)},set:function(n){n?this.Ff=ca(this.Ff,18):this.Ff=ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ca(this.Ff,19):this.Ff=ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,20)},set:function(n){n?(this.Ff=ca(this.Ff,20),t.sort()):this.Ff=ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,22)},set:function(n){n?this.Ff=ca(this.Ff,22):this.Ff=ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(n){n?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,27)},set:function(n){n?this.Ff=ca(this.Ff,27):this.Ff=ua(this.Ff,27)}}),this.hasAppearanceStream=!1};Ms(x0,ec);var b0=function(){x0.call(this),this.fontName="helvetica",this.combo=!1};Ms(b0,x0);var w0=function(){b0.call(this),this.combo=!0};Ms(w0,b0);var Tg=function(){w0.call(this),this.edit=!0};Ms(Tg,w0);var no=function(){ec.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,15)},set:function(n){n?this.Ff=ca(this.Ff,15):this.Ff=ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,16)},set:function(n){n?this.Ff=ca(this.Ff,16):this.Ff=ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,17)},set:function(n){n?this.Ff=ca(this.Ff,17):this.Ff=ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(n){n?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+md(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){qr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ms(no,ec);var Ig=function(){no.call(this),this.pushButton=!0};Ms(Ig,no);var A0=function(){no.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ms(A0,no);var zm=function(){var e,t;ec.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+md(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){qr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=en.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ms(zm,ec),A0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},A0.prototype.createOption=function(e){var t=new zm;return t.Parent=this,t.optionName=e,this.Kids.push(t),W1e.call(this.scope,t),t};var Mg=function(){no.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=en.CheckBox.createAppearanceStream()};Ms(Mg,no);var Jf=function(){ec.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,13)},set:function(t){t?this.Ff=ca(this.Ff,13):this.Ff=ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,21)},set:function(t){t?this.Ff=ca(this.Ff,21):this.Ff=ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,24)},set:function(t){t?this.Ff=ca(this.Ff,24):this.Ff=ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,25)},set:function(t){t?this.Ff=ca(this.Ff,25):this.Ff=ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ms(Jf,ec);var kg=function(){Jf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!la(this.Ff,14)},set:function(e){e?this.Ff=ca(this.Ff,14):this.Ff=ua(this.Ff,14)}}),this.password=!0};Ms(kg,Jf);var en={CheckBox:{createAppearanceStream:function(){return{N:{On:en.CheckBox.YesNormal},D:{On:en.CheckBox.YesPushDown,Off:en.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=h5(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Bn(en.internal.getWidth(e))+" "+Bn(en.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Bn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=en.internal.getHeight(e),s=en.internal.getWidth(e),c=h5(e,e.caption);return i.push("1 g"),i.push("0 0 "+Bn(s)+" "+Bn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Bn(s-1)+" "+Bn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Bn(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bn(en.internal.getWidth(e))+" "+Bn(en.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:en.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=en.RadioButton.Circle.YesNormal,t.D[e]=en.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=en.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+tf(en.internal.getWidth(e)/2)+" "+tf(en.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*en.internal.Bezier_C).toFixed(5)),s=Number((r*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tf(en.internal.getWidth(e)/2)+" "+tf(en.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+tf(en.internal.getWidth(e)/2)+" "+tf(en.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+tf(en.internal.getWidth(e)/2)+" "+tf(en.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:en.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=en.RadioButton.Cross.YesNormal,t.D[e]=en.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yc(e);t.scope=e.scope;var n=[],r=en.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Bn(en.internal.getWidth(e)-2)+" "+Bn(en.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Bn(r.x1.x)+" "+Bn(r.x1.y)+" m"),n.push(Bn(r.x2.x)+" "+Bn(r.x2.y)+" l"),n.push(Bn(r.x4.x)+" "+Bn(r.x4.y)+" m"),n.push(Bn(r.x3.x)+" "+Bn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=en.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Bn(en.internal.getWidth(e))+" "+Bn(en.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Bn(en.internal.getWidth(e)-2)+" "+Bn(en.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Bn(n.x1.x)+" "+Bn(n.x1.y)+" m"),r.push(Bn(n.x2.x)+" "+Bn(n.x2.y)+" l"),r.push(Bn(n.x4.x)+" "+Bn(n.x4.y)+" m"),r.push(Bn(n.x3.x)+" "+Bn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yc(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bn(en.internal.getWidth(e))+" "+Bn(en.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};en.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=en.internal.getWidth(e),n=en.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},en.internal.getWidth=function(e){var t=0;return qr(e)==="object"&&(t=q6(e.Rect[2])),t},en.internal.getHeight=function(e){var t=0;return qr(e)==="object"&&(t=q6(e.Rect[3])),t};var W1e=$i.addField=function(e){if(Y1e(this,e),!(e instanceof ec))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};$i.AcroFormChoiceField=x0,$i.AcroFormListBox=b0,$i.AcroFormComboBox=w0,$i.AcroFormEditBox=Tg,$i.AcroFormButton=no,$i.AcroFormPushButton=Ig,$i.AcroFormRadioButton=A0,$i.AcroFormCheckBox=Mg,$i.AcroFormTextField=Jf,$i.AcroFormPasswordField=kg,$i.AcroFormAppearance=en,$i.AcroForm={ChoiceField:x0,ListBox:b0,ComboBox:w0,EditBox:Tg,Button:no,PushButton:Ig,RadioButton:A0,CheckBox:Mg,TextField:Jf,PasswordField:kg,Appearance:en},fn.AcroForm={ChoiceField:x0,ListBox:b0,ComboBox:w0,EditBox:Tg,Button:no,PushButton:Ig,RadioButton:A0,CheckBox:Mg,TextField:Jf,PasswordField:kg,Appearance:en};fn.AcroForm;function DL(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(X,J){var ie,se,ae,he,Ae,Te=n;if((J=J||n)==="RGBA"||X.data!==void 0&&X.data instanceof Uint8ClampedArray&&"height"in X&&"width"in X)return"RGBA";if(Q(X))for(Ae in r)for(ae=r[Ae],ie=0;ie<ae.length;ie+=1){for(he=!0,se=0;se<ae[ie].length;se+=1)if(ae[ie][se]!==void 0&&ae[ie][se]!==X[se]){he=!1;break}if(he===!0){Te=Ae;break}}else for(Ae in r)for(ae=r[Ae],ie=0;ie<ae.length;ie+=1){for(he=!0,se=0;se<ae[ie].length;se+=1)if(ae[ie][se]!==void 0&&ae[ie][se]!==X.charCodeAt(se)){he=!1;break}if(he===!0){Te=Ae;break}}return Te===n&&J!==n&&(Te=J),Te},a=function X(J){for(var ie=this.internal.write,se=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);J.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:J.width}),he.push({key:"Height",value:J.height}),J.colorSpace===L.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(J.palette.length/3-1)+" "+("sMask"in J&&J.sMask!==void 0?J.objectId+2:J.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+J.colorSpace}),J.colorSpace===L.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:J.bitsPerComponent}),"decodeParameters"in J&&J.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+J.decodeParameters+">>"}),"transparency"in J&&Array.isArray(J.transparency)&&J.transparency.length>0){for(var Ae="",Te=0,Me=J.transparency.length;Te<Me;Te++)Ae+=J.transparency[Te]+" "+J.transparency[Te]+" ";he.push({key:"Mask",value:"["+Ae+"]"})}J.sMask!==void 0&&he.push({key:"SMask",value:J.objectId+1+" 0 R"});var Qe=J.filter!==void 0?["/"+J.filter]:void 0;if(se({data:J.data,additionalKeyValues:he,alreadyAppliedFilters:Qe,objectId:J.objectId}),ie("endobj"),"sMask"in J&&J.sMask!==void 0){var ye,V=(ye=J.sMaskBitsPerComponent)!==null&&ye!==void 0?ye:J.bitsPerComponent,le={width:J.width,height:J.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:J.sMask};"filter"in J&&(le.decodeParameters="/Predictor ".concat(J.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(J.width),le.filter=J.filter),X.call(this,le)}if(J.colorSpace===L.INDEXED){var ce=this.internal.newObject();se({data:ee(new Uint8Array(J.palette)),objectId:ce}),ie("endobj")}},s=function(){var X=this.internal.collections[t+"images"];for(var J in X)a.call(this,X[J])},c=function(){var X,J=this.internal.collections[t+"images"],ie=this.internal.write;for(var se in J)ie("/I"+(X=J[se]).index,X.objectId,"0","R")},h=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var X=this.internal.collections[t+"images"];return h.call(this),X},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},v=function(X){return typeof e["process"+X.toUpperCase()]=="function"},E=function(X){return qr(X)==="object"&&X.nodeType===1},A=function(X,J){if(X.nodeName==="IMG"&&X.hasAttribute("src")){var ie=""+X.getAttribute("src");if(ie.indexOf("data:image/")===0)return _g(unescape(ie).split("base64,").pop());var se=e.loadFile(ie,!0);if(se!==void 0)return se}if(X.nodeName==="CANVAS"){if(X.width===0||X.height===0)throw new Error("Given canvas must have data. Canvas width: "+X.width+", height: "+X.height);var ae;switch(J){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return _g(X.toDataURL(ae,1).split("base64,").pop())}},k=function(X){var J=this.internal.collections[t+"images"];if(J){for(var ie in J)if(X===J[ie].alias)return J[ie]}},I=function(X,J,ie){return X||J||(X=-96,J=-96),X<0&&(X=-1*ie.width*72/X/this.internal.scaleFactor),J<0&&(J=-1*ie.height*72/J/this.internal.scaleFactor),X===0&&(X=J*ie.width/ie.height),J===0&&(J=X*ie.height/ie.width),[X,J]},R=function(X,J,ie,se,ae,he){var Ae=I.call(this,ie,se,ae),Te=this.internal.getCoordinateString,Me=this.internal.getVerticalCoordinateString,Qe=f.call(this);if(ie=Ae[0],se=Ae[1],Qe[ae.index]=ae,he){he*=Math.PI/180;var ye=Math.cos(he),V=Math.sin(he),le=function(pe){return pe.toFixed(4)},ce=[le(ye),le(V),le(-1*V),le(ye),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,Te(X),Me(J+se),"cm"].join(" ")),this.internal.write(ce.join(" ")),this.internal.write([Te(ie),"0","0",Te(se),"0","0","cm"].join(" "))):this.internal.write([Te(ie),"0","0",Te(se),Te(X),Me(J+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var q=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=e.__addimage__.sHashCode=function(X){var J,ie,se=0;if(typeof X=="string")for(ie=X.length,J=0;J<ie;J++)se=(se<<5)-se+X.charCodeAt(J),se|=0;else if(Q(X))for(ie=X.byteLength/2,J=0;J<ie;J++)se=(se<<5)-se+X[J],se|=0;return se},H=e.__addimage__.validateStringAsBase64=function(X){(X=X||"").toString().trim();var J=!0;return X.length===0&&(J=!1),X.length%4!=0&&(J=!1),/^[A-Za-z0-9+/]+$/.test(X.substr(0,X.length-2))===!1&&(J=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(X.substr(-2))===!1&&(J=!1),J},W=e.__addimage__.extractImageFromDataUrl=function(X){if(X==null||!(X=X.trim()).startsWith("data:"))return null;var J=X.indexOf(",");return J<0?null:X.substring(0,J).trim().endsWith("base64")?X.substring(J+1):null};e.__addimage__.isArrayBuffer=function(X){return X instanceof ArrayBuffer};var Q=e.__addimage__.isArrayBufferView=function(X){return X instanceof Int8Array||X instanceof Uint8Array||X instanceof Uint8ClampedArray||X instanceof Int16Array||X instanceof Uint16Array||X instanceof Int32Array||X instanceof Uint32Array||X instanceof Float32Array||X instanceof Float64Array},G=e.__addimage__.binaryStringToUint8Array=function(X){for(var J=X.length,ie=new Uint8Array(J),se=0;se<J;se++)ie[se]=X.charCodeAt(se);return ie},ee=e.__addimage__.arrayBufferToBinaryString=function(X){for(var J="",ie=Q(X)?X:new Uint8Array(X),se=0;se<ie.length;se+=8192)J+=String.fromCharCode.apply(null,ie.subarray(se,se+8192));return J};e.addImage=function(){var X,J,ie,se,ae,he,Ae,Te,Me;if(typeof arguments[1]=="number"?(J=n,ie=arguments[1],se=arguments[2],ae=arguments[3],he=arguments[4],Ae=arguments[5],Te=arguments[6],Me=arguments[7]):(J=arguments[1],ie=arguments[2],se=arguments[3],ae=arguments[4],he=arguments[5],Ae=arguments[6],Te=arguments[7],Me=arguments[8]),qr(X=arguments[0])==="object"&&!E(X)&&"imageData"in X){var Qe=X;X=Qe.imageData,J=Qe.format||J||n,ie=Qe.x||ie||0,se=Qe.y||se||0,ae=Qe.w||Qe.width||ae,he=Qe.h||Qe.height||he,Ae=Qe.alias||Ae,Te=Qe.compression||Te,Me=Qe.rotation||Qe.angle||Me}var ye=this.internal.getFilters();if(Te===void 0&&ye.indexOf("FlateEncode")!==-1&&(Te="SLOW"),isNaN(ie)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var V=Y.call(this,X,J,Ae,Te);return R.call(this,ie,se,ae,he,V,Me),this};var Y=function(X,J,ie,se){var ae,he,Ae;if(typeof X=="string"&&i(X)===n){X=unescape(X);var Te=me(X,!1);(Te!==""||(Te=e.loadFile(X,!0))!==void 0)&&(X=Te)}if(E(X)&&(X=A(X,J)),J=i(X,J),!v(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(((Ae=ie)==null||Ae.length===0)&&(ie=(function(Me){return typeof Me=="string"||Q(Me)?U(Me):Q(Me.data)?U(Me.data):null})(X)),(ae=k.call(this,ie))||(X instanceof Uint8Array||J==="RGBA"||(he=X,X=G(X)),ae=this["process"+J.toUpperCase()](X,p.call(this),ie,(function(Me){return Me&&typeof Me=="string"&&(Me=Me.toUpperCase()),Me in e.image_compression?Me:q.NONE})(se),he)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},me=e.__addimage__.convertBase64ToBinaryString=function(X,J){J=typeof J!="boolean"||J;var ie,se="";if(typeof X=="string"){var ae;ie=(ae=W(X))!==null&&ae!==void 0?ae:X;try{se=_g(ie)}catch(he){if(J)throw H(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};e.getImageProperties=function(X){var J,ie,se="";if(E(X)&&(X=A(X)),typeof X=="string"&&i(X)===n&&((se=me(X,!1))===""&&(se=e.loadFile(X)||""),X=se),ie=i(X),!v(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(X instanceof Uint8Array||(X=G(X)),!(J=this["process"+ie.toUpperCase()](X)))throw new Error("An unknown error occurred whilst processing the image");return J.fileType=ie,J}})(fn.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};fn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((r=f[v]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var E=0;E<f.length;E++){r=f[E];var A=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(I.objId),q=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+A(L(r.contents))+")",a+=" /Popup "+R.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+A(L(q))+") >>",I.content=a;var U=I.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+U,r.open&&(a+=" /Open true"),a+=" >>",R.content=a,this.internal.write(I.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+c(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(k(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var W=this.annotations._nameMap[r.options.name];r.options.pageNumber=W.page,r.options.top=W.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var Q=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,s){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(n),y:f(r),w:h(n+i),h:f(r+a)},options:s,type:"link"})},e.textWithLink=function(n,r,i,a){var s,c,h=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var p=this.splitTextToSize(n,c).length;s=Math.ceil(f*p)}else c=h,s=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=h/2),a.align==="right"&&(r-=h),this.link(r,i-f,c,s,a),h},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(fn.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},c=e.__arabicParser__.isArabicEndLetter=function(I){return s(I)&&a(I)&&t[I.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(I){return s(I)&&i.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return s(I)&&a(I)&&t[I.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return s(I)&&a(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return s(I)&&a(I)&&t[I.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return s(I)&&a(I)&&t[I.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(I){var R=0,L=n,q="",U=0;for(R=0;R<I.length;R+=1)L[I.charCodeAt(R)]!==void 0?(U++,typeof(L=L[I.charCodeAt(R)])=="number"&&(q+=String.fromCharCode(L),L=n,U=0),R===I.length-1&&(L=n,q+=I.charAt(R-(U-1)),R-=U-1,U=0)):(L=n,q+=I.charAt(R-U),R-=U,U=0);return q};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(I,R,L){return s(I)?a(I)===!1?-1:!f(I)||!s(R)&&!s(L)||!s(L)&&c(R)||c(I)&&!s(R)||c(I)&&h(R)||c(I)&&c(R)?0:p(I)&&s(R)&&!c(R)&&s(L)&&f(L)?3:c(I)||!s(L)?1:2:-1},A=function(I){var R=0,L=0,q=0,U="",H="",W="",Q=(I=I||"").split("\\s+"),G=[];for(R=0;R<Q.length;R+=1){for(G.push(""),L=0;L<Q[R].length;L+=1)U=Q[R][L],H=Q[R][L-1],W=Q[R][L+1],s(U)?(q=E(U,H,W),G[R]+=q!==-1?String.fromCharCode(t[U.charCodeAt(0)][q]):U):G[R]+=U;G[R]=v(G[R])}return G.join(" ")},k=e.__arabicParser__.processArabic=e.processArabic=function(){var I,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(R)){var q=0;for(L=[],q=0;q<R.length;q+=1)Array.isArray(R[q])?L.push([A(R[q][0]),R[q][1],R[q][2]]):L.push([A(R[q])]);I=L}else I=A(R);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",k])})(fn.API),fn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(c){s=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(fn.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(I){h=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(I){E=I}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(I){k=I}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,f){r.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),E=f.scaleFactor||this.internal.scaleFactor,A=0,k=0,I=0,R=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var L=f.maxWidth;L>0?typeof h=="string"?h=this.splitTextToSize(h,L):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(U,H){return U.concat(R.splitTextToSize(H,L))},[])):h=Array.isArray(h)?h:[h];for(var q=0;q<h.length;q++)A<(I=this.getStringUnitWidth(h[q],{font:v})*p)&&(A=I);return A!==0&&(k=h.length),{w:A/=E,h:Math.max((k*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,A&&E&&(this.printHeaderRow(h.lineNumber,!0),h.y+=E[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};e.table=function(h,f,p,v,E){if(r.call(this),!p)throw new Error("No data for PDF table.");var A,k,I,R,L=[],q=[],U=[],H={},W={},Q=[],G=[],ee=(E=E||{}).autoSize||!1,Y=E.printHeaders!==!1,me=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,X=E.margins||Object.assign({width:this.getPageWidth()},t),J=typeof E.padding=="number"?E.padding:3,ie=E.headerBackgroundColor||"#c8c8c8",se=E.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=X,this.internal.__cell__.table_font_size=me,this.internal.__cell__.padding=J,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=se,this.setFontSize(me),v==null)q=L=Object.keys(p[0]),U=L.map(function(){return"left"});else if(Array.isArray(v)&&qr(v[0])==="object")for(L=v.map(function(Qe){return Qe.name}),q=v.map(function(Qe){return Qe.prompt||Qe.name||""}),U=v.map(function(Qe){return Qe.align||"left"}),A=0;A<v.length;A+=1)W[v[A].name]=.7499990551181103*v[A].width;else Array.isArray(v)&&typeof v[0]=="string"&&(q=L=v,U=L.map(function(){return"left"}));if(ee||Array.isArray(v)&&typeof v[0]=="string")for(A=0;A<L.length;A+=1){for(H[R=L[A]]=p.map(function(Qe){return Qe[R]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(q[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=H[R],this.setFont(void 0,"normal"),I=0;I<k.length;I+=1)Q.push(this.getTextDimensions(k[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[R]=Math.max.apply(null,Q)+J+J,Q=[]}if(Y){var ae={};for(A=0;A<L.length;A+=1)ae[L[A]]={},ae[L[A]].text=q[A],ae[L[A]].align=U[A];var he=c.call(this,ae,W);G=L.map(function(Qe){return new a(h,f,W[Qe],he,ae[Qe].text,void 0,ae[Qe].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var Ae=v.reduce(function(Qe,ye){return Qe[ye.name]=ye.align,Qe},{});for(A=0;A<p.length;A+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:A,data:p[A]},this);var Te=c.call(this,p[A],W);for(I=0;I<L.length;I+=1){var Me=p[A][L[I]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:A,col:I,data:Me},this),s.call(this,new a(h,f,W[L[I]],Te,Me,A+2,Ae[L[I]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var c=function(h,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(h).map(function(A){var k=h[A];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,f[A]-p-p)},this).map(function(A){return this.getLineHeightFactor()*A.length*v/E+p+p},this).reduce(function(A,k){return Math.max(A,k)},0)};e.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){p=this.internal.__cell__.tableHeaderRow[A].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,E.push(p)),p.lineNumber=h;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(k)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}})(fn.API);var LL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p5=DL(jL),BL=[100,200,300,400,500,600,700,800,900],K1e=DL(BL);function Cb(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return LL[a=a||"normal"]?a:"normal"})(e.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(e.weight),i=(function(a){return typeof p5[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function H6(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var $1e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},V6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function G6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Y6(e){return e.trimLeft()}function X1e(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function J1e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var pg,W6,K6,t0,gg,$6,X6,J6,Nb=["times"];function Z6(e,t,n,r,i){var a=4,s=eM;switch(i){case fn.API.image_compression.FAST:a=1,s=Q6;break;case fn.API.image_compression.MEDIUM:a=6,s=tM;break;case fn.API.image_compression.SLOW:a=9,s=nM}e=(function(h,f,p,v){for(var E,A=h.length/f,k=new Uint8Array(h.length+A),I=[Z1e,Q6,eM,tM,nM],R=0;R<A;R+=1){var L=R*f,q=h.subarray(L,L+f);if(v)k.set(v(q,p,E),L+R);else{for(var U=I.length,H=[],W=0;W<U;W+=1)H[W]=I[W](q,p,E);var Q=epe(H.concat());k.set(H[Q],L+R)}E=q}return k})(e,t,Math.ceil(n*r/8),s);var c=s5(e,{level:a});return fn.API.__addimage__.arrayBufferToBinaryString(c)}function Z1e(e){var t=Array.apply([],e);return t.unshift(0),t}function Q6(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function eM(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var s=n&&n[a]||0;i[a+1]=e[a]-s+256&255}return i}function tM(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var s=e[a-t]||0,c=n&&n[a]||0;i[a+1]=e[a]+256-(s+c>>>1)&255}return i}function nM(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var s=Q1e(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function Q1e(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function epe(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function _b(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),s=(1<<n)-1;return FL(e,i)>>a&s}function rM(e,t,n,r){var i=n*r,a=Math.floor(i/8),s=16-(i-8*a+r),c=(1<<r)-1,h=(t&c)<<s;(function(f,p,v){if(p+1<f.byteLength)f.setUint16(p,v,!1);else{var E=v>>8&255;f.setUint8(p,E)}})(e,a,FL(e,a)&~(c<<s)&65535|h)}function FL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function tpe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var c=null,h=null;a&&(c=t,h=s,t+=3*s);var f=!0,p=[],v=0,E=null,A=0,k=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,k=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];v=e[t++]|e[t++]<<8,E=e[t++],1&I||(E=null),A=I>>2&7,t++;break;case 254:for(;;){if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var R=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,q=e[t++]|e[t++]<<8,U=e[t++]|e[t++]<<8,H=e[t++],W=H>>6&1,Q=1<<1+(7&H),G=c,ee=h,Y=!1;H>>7&&(Y=!0,G=t,ee=Q,t+=3*Q);var me=t;for(t++;;){var X;if(!((X=e[t++])>=0))throw Error("Invalid block size");if(X===0)break;t+=X}p.push({x:R,y:L,width:q,height:U,has_local_palette:Y,palette_offset:G,palette_size:ee,data_offset:me,data_length:t-me,transparent_index:E,interlaced:!!W,delay:v,disposal:A});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return k},this.frameInfo=function(J){if(J<0||J>=p.length)throw new Error("Frame index out of range.");return p[J]},this.decodeAndBlitFrameBGRA=function(J,ie){var se=this.frameInfo(J),ae=se.width*se.height,he=new Uint8Array(ae);iM(e,se.data_offset,he,ae);var Ae=se.palette_offset,Te=se.transparent_index;Te===null&&(Te=256);var Me=se.width,Qe=n-Me,ye=Me,V=4*(se.y*n+se.x),le=4*((se.y+se.height)*n+se.x),ce=V,pe=4*Qe;se.interlaced===!0&&(pe+=4*n*7);for(var xe=8,ke=0,Fe=he.length;ke<Fe;++ke){var Ie=he[ke];if(ye===0&&(ye=Me,(ce+=pe)>=le&&(pe=4*Qe+4*n*(xe-1),ce=V+(Me+Qe)*(xe<<1),xe>>=1)),Ie===Te)ce+=4;else{var He=e[Ae+3*Ie],nt=e[Ae+3*Ie+1],Ve=e[Ae+3*Ie+2];ie[ce++]=Ve,ie[ce++]=nt,ie[ce++]=He,ie[ce++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(J,ie){var se=this.frameInfo(J),ae=se.width*se.height,he=new Uint8Array(ae);iM(e,se.data_offset,he,ae);var Ae=se.palette_offset,Te=se.transparent_index;Te===null&&(Te=256);var Me=se.width,Qe=n-Me,ye=Me,V=4*(se.y*n+se.x),le=4*((se.y+se.height)*n+se.x),ce=V,pe=4*Qe;se.interlaced===!0&&(pe+=4*n*7);for(var xe=8,ke=0,Fe=he.length;ke<Fe;++ke){var Ie=he[ke];if(ye===0&&(ye=Me,(ce+=pe)>=le&&(pe=4*Qe+4*n*(xe-1),ce=V+(Me+Qe)*(xe<<1),xe>>=1)),Ie===Te)ce+=4;else{var He=e[Ae+3*Ie],nt=e[Ae+3*Ie+1],Ve=e[Ae+3*Ie+2];ie[ce++]=He,ie[ce++]=nt,ie[ce++]=Ve,ie[ce++]=255}--ye}}}function iM(e,t,n,r){for(var i=e[t++],a=1<<i,s=a+1,c=s+1,h=i+1,f=(1<<h)-1,p=0,v=0,E=0,A=e[t++],k=new Int32Array(4096),I=null;;){for(;p<16&&A!==0;)v|=e[t++]<<p,p+=8,A===1?A=e[t++]:--A;if(p<h)break;var R=v&f;if(v>>=h,p-=h,R!==a){if(R===s)break;for(var L=R<c?R:I,q=0,U=L;U>a;)U=k[U]>>8,++q;var H=U;if(E+q+(L!==R?1:0)>r)return void ii.log("Warning, gif stream longer than expected.");n[E++]=H;var W=E+=q;for(L!==R&&(n[E++]=H),U=L;q--;)U=k[U],n[--W]=255&U,U>>=8;I!==null&&c<4096&&(k[c++]=I<<8|H,c>=f+1&&h<12&&(++h,f=f<<1|1)),I=R}else c=s+1,f=(1<<(h=i+1))-1,I=null}return E!==r&&ii.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Tb(e){var t,n,r,i,a,s=Math.floor,c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),E=new Array(65535),A=new Array(64),k=new Array(64),I=[],R=0,L=7,q=new Array(64),U=new Array(64),H=new Array(64),W=new Array(256),Q=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ee=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],J=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(V,le){for(var ce=0,pe=0,xe=new Array,ke=1;ke<=16;ke++){for(var Fe=1;Fe<=V[ke];Fe++)xe[le[pe]]=[],xe[le[pe]][0]=ce,xe[le[pe]][1]=ke,pe++,ce++;ce*=2}return xe}function Ae(V){for(var le=V[0],ce=V[1]-1;ce>=0;)le&1<<ce&&(R|=1<<L),ce--,--L<0&&(R==255?(Te(255),Te(0)):Te(R),L=7,R=0)}function Te(V){I.push(V)}function Me(V){Te(V>>8&255),Te(255&V)}function Qe(V,le,ce,pe,xe){for(var ke,Fe=xe[0],Ie=xe[240],He=(function(rt,Zt){var st,rn,an,dn,Dn,sn,Fn,Sn,Rt,Tn,Kt=0;for(Rt=0;Rt<8;++Rt){st=rt[Kt],rn=rt[Kt+1],an=rt[Kt+2],dn=rt[Kt+3],Dn=rt[Kt+4],sn=rt[Kt+5],Fn=rt[Kt+6];var Jr=st+(Sn=rt[Kt+7]),tn=st-Sn,ot=rn+Fn,jt=rn-Fn,Ft=an+sn,kt=an-sn,ir=dn+Dn,hn=dn-Dn,wn=Jr+ir,at=Jr-ir,Ct=ot+Ft,Nt=ot-Ft;rt[Kt]=wn+Ct,rt[Kt+4]=wn-Ct;var Vt=.707106781*(Nt+at);rt[Kt+2]=at+Vt,rt[Kt+6]=at-Vt;var hr=.382683433*((wn=hn+kt)-(Nt=jt+tn)),pr=.5411961*wn+hr,Hn=1.306562965*Nt+hr,Nr=.707106781*(Ct=kt+jt),nn=tn+Nr,Bi=tn-Nr;rt[Kt+5]=Bi+pr,rt[Kt+3]=Bi-pr,rt[Kt+1]=nn+Hn,rt[Kt+7]=nn-Hn,Kt+=8}for(Kt=0,Rt=0;Rt<8;++Rt){st=rt[Kt],rn=rt[Kt+8],an=rt[Kt+16],dn=rt[Kt+24],Dn=rt[Kt+32],sn=rt[Kt+40],Fn=rt[Kt+48];var is=st+(Sn=rt[Kt+56]),Ri=st-Sn,Sa=rn+Fn,Vn=rn-Fn,Or=an+sn,gr=an-sn,Pt=dn+Dn,Ei=dn-Dn,mr=is+Pt,Yn=is-Pt,hi=Sa+Or,da=Sa-Or;rt[Kt]=mr+hi,rt[Kt+32]=mr-hi;var Ea=.707106781*(da+Yn);rt[Kt+16]=Yn+Ea,rt[Kt+48]=Yn-Ea;var ha=.382683433*((mr=Ei+gr)-(da=Vn+Ri)),jo=.5411961*mr+ha,Bo=1.306562965*da+ha,Qi=.707106781*(hi=gr+Vn),Pr=Ri+Qi,Xn=Ri-Qi;rt[Kt+40]=Xn+jo,rt[Kt+24]=Xn-jo,rt[Kt+8]=Pr+Bo,rt[Kt+56]=Pr-Bo,Kt++}for(Rt=0;Rt<64;++Rt)Tn=rt[Rt]*Zt[Rt],A[Rt]=Tn>0?Tn+.5|0:Tn-.5|0;return A})(V,le),nt=0;nt<64;++nt)k[G[nt]]=He[nt];var Ve=k[0]-ce;ce=k[0],Ve==0?Ae(pe[0]):(Ae(pe[E[ke=32767+Ve]]),Ae(v[ke]));for(var gt=63;gt>0&&k[gt]==0;)gt--;if(gt==0)return Ae(Fe),ce;for(var St,be=1;be<=gt;){for(var At=be;k[be]==0&&be<=gt;)++be;var Dt=be-At;if(Dt>=16){St=Dt>>4;for(var Tt=1;Tt<=St;++Tt)Ae(Ie);Dt&=15}ke=32767+k[be],Ae(xe[(Dt<<4)+E[ke]]),Ae(v[ke]),be++}return gt!=63&&Ae(Fe),ce}function ye(V){V=Math.min(Math.max(V,1),100),a!=V&&((function(le){for(var ce=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var xe=s((ce[pe]*le+50)/100);xe=Math.min(Math.max(xe,1),255),c[G[pe]]=xe}for(var ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var Ie=s((ke[Fe]*le+50)/100);Ie=Math.min(Math.max(Ie,1),255),h[G[Fe]]=Ie}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,Ve=0;Ve<8;Ve++)for(var gt=0;gt<8;gt++)f[nt]=1/(c[G[nt]]*He[Ve]*He[gt]*8),p[nt]=1/(h[G[nt]]*He[Ve]*He[gt]*8),nt++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,le){le&&ye(le),I=new Array,R=0,L=7,Me(65496),Me(65504),Me(16),Te(74),Te(70),Te(73),Te(70),Te(0),Te(1),Te(1),Te(0),Me(1),Me(1),Te(0),Te(0),(function(){Me(65499),Me(132),Te(0);for(var rn=0;rn<64;rn++)Te(c[rn]);Te(1);for(var an=0;an<64;an++)Te(h[an])})(),(function(rn,an){Me(65472),Me(17),Te(8),Me(an),Me(rn),Te(3),Te(1),Te(17),Te(0),Te(2),Te(17),Te(1),Te(3),Te(17),Te(1)})(V.width,V.height),(function(){Me(65476),Me(418),Te(0);for(var rn=0;rn<16;rn++)Te(ee[rn+1]);for(var an=0;an<=11;an++)Te(Y[an]);Te(16);for(var dn=0;dn<16;dn++)Te(me[dn+1]);for(var Dn=0;Dn<=161;Dn++)Te(X[Dn]);Te(1);for(var sn=0;sn<16;sn++)Te(J[sn+1]);for(var Fn=0;Fn<=11;Fn++)Te(ie[Fn]);Te(17);for(var Sn=0;Sn<16;Sn++)Te(se[Sn+1]);for(var Rt=0;Rt<=161;Rt++)Te(ae[Rt])})(),Me(65498),Me(12),Te(3),Te(1),Te(0),Te(2),Te(17),Te(3),Te(17),Te(0),Te(63),Te(0);var ce=0,pe=0,xe=0;R=0,L=7,this.encode.displayName="_encode_";for(var ke,Fe,Ie,He,nt,Ve,gt,St,be,At=V.data,Dt=V.width,Tt=V.height,rt=4*Dt,Zt=0;Zt<Tt;){for(ke=0;ke<rt;){for(nt=rt*Zt+ke,gt=-1,St=0,be=0;be<64;be++)Ve=nt+(St=be>>3)*rt+(gt=4*(7&be)),Zt+St>=Tt&&(Ve-=rt*(Zt+1+St-Tt)),ke+gt>=rt&&(Ve-=ke+gt-rt+4),Fe=At[Ve++],Ie=At[Ve++],He=At[Ve++],q[be]=(Q[Fe]+Q[Ie+256|0]+Q[He+512|0]>>16)-128,U[be]=(Q[Fe+768|0]+Q[Ie+1024|0]+Q[He+1280|0]>>16)-128,H[be]=(Q[Fe+1280|0]+Q[Ie+1536|0]+Q[He+1792|0]>>16)-128;ce=Qe(q,f,ce,t,r),pe=Qe(U,p,pe,n,i),xe=Qe(H,p,xe,n,i),ke+=32}Zt+=8}if(L>=0){var st=[];st[1]=L+1,st[0]=(1<<L+1)-1,Ae(st)}return Me(65497),new Uint8Array(I)},e=e||50,(function(){for(var V=String.fromCharCode,le=0;le<256;le++)W[le]=V(le)})(),t=he(ee,Y),n=he(J,ie),r=he(me,X),i=he(se,ae),(function(){for(var V=1,le=2,ce=1;ce<=15;ce++){for(var pe=V;pe<le;pe++)E[32767+pe]=ce,v[32767+pe]=[],v[32767+pe][1]=ce,v[32767+pe][0]=pe;for(var xe=-(le-1);xe<=-V;xe++)E[32767+xe]=ce,v[32767+xe]=[],v[32767+xe][1]=ce,v[32767+xe][0]=le-1+xe;V<<=1,le<<=1}})(),(function(){for(var V=0;V<256;V++)Q[V]=19595*V,Q[V+256|0]=38470*V,Q[V+512|0]=7471*V+32768,Q[V+768|0]=-11059*V,Q[V+1024|0]=-21709*V,Q[V+1280|0]=32768*V+8421375,Q[V+1536|0]=-27439*V,Q[V+1792|0]=-5329*V})(),ye(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function aM(e){function t(Y){if(!Y)throw Error("assert :P")}function n(Y,me,X){for(var J=0;4>J;J++)if(Y[me+J]!=X.charCodeAt(J))return!0;return!1}function r(Y,me,X,J,ie){for(var se=0;se<ie;se++)Y[me+se]=X[J+se]}function i(Y,me,X,J){for(var ie=0;ie<J;ie++)Y[me+ie]=X}function a(Y){return new Int32Array(Y)}function s(Y,me){for(var X=[],J=0;J<Y;J++)X.push(new me);return X}function c(Y,me){var X=[];return(function J(ie,se,ae){for(var he=ae[se],Ae=0;Ae<he&&(ie.push(ae.length>se+1?[]:new me),!(ae.length<se+1));Ae++)J(ie[Ae],se+1,ae)})(X,0,Y),X}var h=function(){var Y=this;function me(N,O){for(var z=1<<O-1>>>0;N&z;)z>>>=1;return z?(N&z-1)+z:N}function X(N,O,z,$,oe){t(!($%z));do N[O+($-=z)]=oe;while(0<$)}function J(N,O,z,$,oe){if(t(2328>=oe),512>=oe)var fe=a(512);else if((fe=a(oe))==null)return 0;return(function(de,ve,we,_e,Le,Ke){var Ne,Be,Ge=ve,ct=1<<we,We=a(16),lt=a(16);for(t(Le!=0),t(_e!=null),t(de!=null),t(0<we),Be=0;Be<Le;++Be){if(15<_e[Be])return 0;++We[_e[Be]]}if(We[0]==Le)return 0;for(lt[1]=0,Ne=1;15>Ne;++Ne){if(We[Ne]>1<<Ne)return 0;lt[Ne+1]=lt[Ne]+We[Ne]}for(Be=0;Be<Le;++Be)Ne=_e[Be],0<_e[Be]&&(Ke[lt[Ne]++]=Be);if(lt[15]==1)return(_e=new ie).g=0,_e.value=Ke[0],X(de,Ge,1,ct,_e),ct;var mt,Et=-1,bt=ct-1,Qt=0,Ut=1,kn=1,$t=1<<we;for(Be=0,Ne=1,Le=2;Ne<=we;++Ne,Le<<=1){if(Ut+=kn<<=1,0>(kn-=We[Ne]))return 0;for(;0<We[Ne];--We[Ne])(_e=new ie).g=Ne,_e.value=Ke[Be++],X(de,Ge+Qt,Le,$t,_e),Qt=me(Qt,Ne)}for(Ne=we+1,Le=2;15>=Ne;++Ne,Le<<=1){if(Ut+=kn<<=1,0>(kn-=We[Ne]))return 0;for(;0<We[Ne];--We[Ne]){if(_e=new ie,(Qt&bt)!=Et){for(Ge+=$t,mt=1<<(Et=Ne)-we;15>Et&&!(0>=(mt-=We[Et]));)++Et,mt<<=1;ct+=$t=1<<(mt=Et-we),de[ve+(Et=Qt&bt)].g=mt+we,de[ve+Et].value=Ge-ve-Et}_e.g=Ne-we,_e.value=Ke[Be++],X(de,Ge+(Qt>>we),Le,$t,_e),Qt=me(Qt,Ne)}}return Ut!=2*lt[15]-1?0:ct})(N,O,z,$,oe,fe)}function ie(){this.value=this.g=0}function se(){this.value=this.g=0}function ae(){this.G=s(5,ie),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(na,se)}function he(N,O,z,$){t(N!=null),t(O!=null),t(2147483648>$),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=O,N.pa=z,N.Jd=O,N.Yc=z+$,N.Zc=4<=$?z+$-4+1:z,Fe(N)}function Ae(N,O){for(var z=0;0<O--;)z|=He(N,128)<<O;return z}function Te(N,O){var z=Ae(N,O);return Ie(N)?-z:z}function Me(N,O,z,$){var oe,fe=0;for(t(N!=null),t(O!=null),t(4294967288>$),N.Sb=$,N.Ra=0,N.u=0,N.h=0,4<$&&($=4),oe=0;oe<$;++oe)fe+=O[z+oe]<<8*oe;N.Ra=fe,N.bb=$,N.oa=O,N.pa=z}function Qe(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Ya-8>>>0,++N.bb,N.u-=8;pe(N)&&(N.h=1,N.u=0)}function ye(N,O){if(t(0<=O),!N.h&&O<=ra){var z=ce(N)&Ga[O];return N.u+=O,Qe(N),z}return N.h=1,N.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function le(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ce(N){return N.Ra>>>(N.u&Ya-1)>>>0}function pe(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Ya}function xe(N,O){N.u=O,N.h=pe(N)}function ke(N){N.u>=Rn&&(t(N.u>=Rn),Qe(N))}function Fe(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Ie(N){return Ae(N,1)}function He(N,O){var z=N.Ca;0>N.b&&Fe(N);var $=N.b,oe=z*O>>>8,fe=(N.I>>>$>oe)+0;for(fe?(z-=oe,N.I-=oe+1<<$>>>0):z=oe+1,$=z,oe=0;256<=$;)oe+=8,$>>=8;return $=7^oe+Co[$],N.b-=$,N.Ca=(z<<$)-1,fe}function nt(N,O,z){N[O+0]=z>>24&255,N[O+1]=z>>16&255,N[O+2]=z>>8&255,N[O+3]=255&z}function Ve(N,O){return N[O+0]|N[O+1]<<8}function gt(N,O){return Ve(N,O)|N[O+2]<<16}function St(N,O){return Ve(N,O)|Ve(N,O+2)<<16}function be(N,O){var z=1<<O;return t(N!=null),t(0<O),N.X=a(z),N.X==null?0:(N.Mb=32-O,N.Xa=O,1)}function At(N,O){t(N!=null),t(O!=null),t(N.Xa==O.Xa),r(O.X,0,N.X,0,1<<O.Xa)}function Dt(){this.X=[],this.Xa=this.Mb=0}function Tt(N,O,z,$){t(z!=null),t($!=null);var oe=z[0],fe=$[0];return oe==0&&(oe=(N*fe+O/2)/O),fe==0&&(fe=(O*oe+N/2)/N),0>=oe||0>=fe?0:(z[0]=oe,$[0]=fe,1)}function rt(N,O){return N+(1<<O)-1>>>O}function Zt(N,O){return((4278255360&N)+(4278255360&O)>>>0&4278255360)+((16711935&N)+(16711935&O)>>>0&16711935)>>>0}function st(N,O){Y[O]=function(z,$,oe,fe,de,ve,we){var _e;for(_e=0;_e<de;++_e){var Le=Y[N](ve[we+_e-1],oe,fe+_e);ve[we+_e]=Zt(z[$+_e],Le)}}}function rn(){this.ud=this.hd=this.jd=0}function an(N,O){return((4278124286&(N^O))>>>1)+(N&O)>>>0}function dn(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function Dn(N,O){return dn(N+(N-O+.5>>1))}function sn(N,O,z){return Math.abs(O-z)-Math.abs(N-z)}function Fn(N,O,z,$,oe,fe,de){for($=fe[de-1],z=0;z<oe;++z)fe[de+z]=$=Zt(N[O+z],$)}function Sn(N,O,z,$,oe){var fe;for(fe=0;fe<z;++fe){var de=N[O+fe],ve=de>>8&255,we=16711935&(we=(we=16711935&de)+((ve<<16)+ve));$[oe+fe]=(4278255360&de)+we>>>0}}function Rt(N,O){O.jd=255&N,O.hd=N>>8&255,O.ud=N>>16&255}function Tn(N,O,z,$,oe,fe){var de;for(de=0;de<$;++de){var ve=O[z+de],we=ve>>>8,_e=ve,Le=255&(Le=(Le=ve>>>16)+((N.jd<<24>>24)*(we<<24>>24)>>>5));_e=255&(_e=(_e+=(N.hd<<24>>24)*(we<<24>>24)>>>5)+((N.ud<<24>>24)*(Le<<24>>24)>>>5)),oe[fe+de]=(4278255360&ve)+(Le<<16)+_e}}function Kt(N,O,z,$,oe){Y[O]=function(fe,de,ve,we,_e,Le,Ke,Ne,Be){for(we=Ke;we<Ne;++we)for(Ke=0;Ke<Be;++Ke)_e[Le++]=oe(ve[$(fe[de++])])},Y[N]=function(fe,de,ve,we,_e,Le,Ke){var Ne=8>>fe.b,Be=fe.Ea,Ge=fe.K[0],ct=fe.w;if(8>Ne)for(fe=(1<<fe.b)-1,ct=(1<<Ne)-1;de<ve;++de){var We,lt=0;for(We=0;We<Be;++We)We&fe||(lt=$(we[_e++])),Le[Ke++]=oe(Ge[lt&ct]),lt>>=Ne}else Y["VP8LMapColor"+z](we,_e,Ge,ct,Le,Ke,de,ve,Be)}}function Jr(N,O,z,$,oe){for(z=O+z;O<z;){var fe=N[O++];$[oe++]=fe>>16&255,$[oe++]=fe>>8&255,$[oe++]=255&fe}}function tn(N,O,z,$,oe){for(z=O+z;O<z;){var fe=N[O++];$[oe++]=fe>>16&255,$[oe++]=fe>>8&255,$[oe++]=255&fe,$[oe++]=fe>>24&255}}function ot(N,O,z,$,oe){for(z=O+z;O<z;){var fe=(de=N[O++])>>16&240|de>>12&15,de=240&de|de>>28&15;$[oe++]=fe,$[oe++]=de}}function jt(N,O,z,$,oe){for(z=O+z;O<z;){var fe=(de=N[O++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;$[oe++]=fe,$[oe++]=de}}function Ft(N,O,z,$,oe){for(z=O+z;O<z;){var fe=N[O++];$[oe++]=255&fe,$[oe++]=fe>>8&255,$[oe++]=fe>>16&255}}function kt(N,O,z,$,oe,fe){if(fe==0)for(z=O+z;O<z;)nt($,((fe=N[O++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),oe+=32;else r($,oe,N,O,z)}function ir(N,O){Y[O][0]=Y[N+"0"],Y[O][1]=Y[N+"1"],Y[O][2]=Y[N+"2"],Y[O][3]=Y[N+"3"],Y[O][4]=Y[N+"4"],Y[O][5]=Y[N+"5"],Y[O][6]=Y[N+"6"],Y[O][7]=Y[N+"7"],Y[O][8]=Y[N+"8"],Y[O][9]=Y[N+"9"],Y[O][10]=Y[N+"10"],Y[O][11]=Y[N+"11"],Y[O][12]=Y[N+"12"],Y[O][13]=Y[N+"13"],Y[O][14]=Y[N+"0"],Y[O][15]=Y[N+"0"]}function hn(N){return N==Tf||N==wd||N==ku||N==Ad}function wn(){this.eb=[],this.size=this.A=this.fb=0}function at(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wn,this.f.kb=new at,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function pr(N,O){var z=N.T,$=O.ba.f.RGBA,oe=$.eb,fe=$.fb+N.ka*$.A,de=Ma[O.ba.S],ve=N.y,we=N.O,_e=N.f,Le=N.N,Ke=N.ea,Ne=N.W,Be=O.cc,Ge=O.dc,ct=O.Mc,We=O.Nc,lt=N.ka,mt=N.ka+N.T,Et=N.U,bt=Et+1>>1;for(lt==0?de(ve,we,null,null,_e,Le,Ke,Ne,_e,Le,Ke,Ne,oe,fe,null,null,Et):(de(O.ec,O.fc,ve,we,Be,Ge,ct,We,_e,Le,Ke,Ne,oe,fe-$.A,oe,fe,Et),++z);lt+2<mt;lt+=2)Be=_e,Ge=Le,ct=Ke,We=Ne,Le+=N.Rc,Ne+=N.Rc,fe+=2*$.A,de(ve,(we+=2*N.fa)-N.fa,ve,we,Be,Ge,ct,We,_e,Le,Ke,Ne,oe,fe-$.A,oe,fe,Et);return we+=N.fa,N.j+mt<N.o?(r(O.ec,O.fc,ve,we,Et),r(O.cc,O.dc,_e,Le,bt),r(O.Mc,O.Nc,Ke,Ne,bt),z--):1&mt||de(ve,we,null,null,_e,Le,Ke,Ne,_e,Le,Ke,Ne,oe,fe+$.A,null,null,Et),z}function Hn(N,O,z){var $=N.F,oe=[N.J];if($!=null){var fe=N.U,de=O.ba.S,ve=de==_f||de==ku;O=O.ba.f.RGBA;var we=[0],_e=N.ka;we[0]=N.T,N.Kb&&(_e==0?--we[0]:(--_e,oe[0]-=N.width),N.j+N.ka+N.T==N.o&&(we[0]=N.o-N.j-_e));var Le=O.eb;_e=O.fb+_e*O.A,N=Sf($,oe[0],N.width,fe,we,Le,_e+(ve?0:3),O.A),t(z==we),N&&hn(de)&&Ol(Le,_e,ve,fe,we,O.A)}return 0}function Nr(N){var O=N.ma,z=O.ba.S,$=11>z,oe=z==$a||z==ps||z==_f||z==Mu||z==12||hn(z);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!Yo(O.Oa,N,oe?11:12))return 0;if(oe&&hn(z)&&Il(),N.da)alert("todo:use_scaling");else{if($){if(O.Ib=hr,N.Kb){if(z=N.U+1>>1,O.memory=a(N.U+2*z),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+N.U,O.Mc=O.cc,O.Nc=O.dc+z,O.Ib=pr,Il()}}else alert("todo:EmitYUV");oe&&(O.Jb=Hn,$&&Vo())}if($&&!uc){for(N=0;256>N;++N)ka[N]=89858*(N-128)+Pu>>bs,r2[N]=-22014*(N-128)+Pu,X1[N]=-45773*(N-128),_d[N]=113618*(N-128)+Pu>>bs;for(N=Uc;N<cc;++N)O=76283*(N-16)+Pu>>bs,i2[N-Uc]=Ca(O,255),a2[N-Uc]=Ca(O+8>>4,15);uc=1}return 1}function nn(N){var O=N.ma,z=N.U,$=N.T;return t(!(1&N.ka)),0>=z||0>=$?0:(z=O.Ib(N,O),O.Jb!=null&&O.Jb(N,O,z),O.Dc+=z,1)}function Bi(N){N.ma.memory=null}function is(N,O,z,$){return ye(N,8)!=47?0:(O[0]=ye(N,14)+1,z[0]=ye(N,14)+1,$[0]=ye(N,1),ye(N,3)!=0?0:!N.h)}function Ri(N,O){if(4>N)return N+1;var z=N-2>>1;return(2+(1&N)<<z)+ye(O,z)+1}function Sa(N,O){return 120<O?O-120:1<=(z=((z=ms[O-1])>>4)*N+(8-(15&z)))?z:1;var z}function Vn(N,O,z){var $=ce(z),oe=N[O+=255&$].g-8;return 0<oe&&(xe(z,z.u+8),$=ce(z),O+=N[O].value,O+=$&(1<<oe)-1),xe(z,z.u+N[O].g),N[O].value}function Or(N,O,z){return z.g+=N.g,z.value+=N.value<<O>>>0,t(8>=z.g),N.g}function gr(N,O,z){var $=N.xc;return t((O=$==0?0:N.vc[N.md*(z>>$)+(O>>$)])<N.Wb),N.Ya[O]}function Pt(N,O,z,$){var oe=N.ab,fe=N.c*O,de=N.C;O=de+O;var ve=z,we=$;for($=N.Ta,z=N.Ua;0<oe--;){var _e=N.gc[oe],Le=de,Ke=O,Ne=ve,Be=we,Ge=(we=$,ve=z,_e.Ea);switch(t(Le<Ke),t(Ke<=_e.nc),_e.hc){case 2:d(Ne,Be,(Ke-Le)*Ge,we,ve);break;case 0:var ct=Le,We=Ke,lt=we,mt=ve,Et=($t=_e).Ea;ct==0&&(te(Ne,Be,null,null,1,lt,mt),Fn(Ne,Be+1,0,0,Et-1,lt,mt+1),Be+=Et,mt+=Et,++ct);for(var bt=1<<$t.b,Qt=bt-1,Ut=rt(Et,$t.b),kn=$t.K,$t=$t.w+(ct>>$t.b)*Ut;ct<We;){var Zn=kn,ni=$t,Ln=1;for(l(Ne,Be,lt,mt-Et,1,lt,mt);Ln<Et;){var zt=(Ln&~Qt)+bt;zt>Et&&(zt=Et),(0,_[Zn[ni++]>>8&15])(Ne,Be+ +Ln,lt,mt+Ln-Et,zt-Ln,lt,mt+Ln),Ln=zt}Be+=Et,mt+=Et,++ct&Qt||($t+=Ut)}Ke!=_e.nc&&r(we,ve-Ge,we,ve+(Ke-Le-1)*Ge,Ge);break;case 1:for(Ge=Ne,We=Be,Et=(Ne=_e.Ea)-(mt=Ne&~(lt=(Be=1<<_e.b)-1)),ct=rt(Ne,_e.b),bt=_e.K,_e=_e.w+(Le>>_e.b)*ct;Le<Ke;){for(Qt=bt,Ut=_e,kn=new rn,$t=We+mt,Zn=We+Ne;We<$t;)Rt(Qt[Ut++],kn),P(kn,Ge,We,Be,we,ve),We+=Be,ve+=Be;We<Zn&&(Rt(Qt[Ut++],kn),P(kn,Ge,We,Et,we,ve),We+=Et,ve+=Et),++Le&lt||(_e+=ct)}break;case 3:if(Ne==we&&Be==ve&&0<_e.b){for(We=we,Ne=Ge=ve+(Ke-Le)*Ge-(mt=(Ke-Le)*rt(_e.Ea,_e.b)),Be=we,lt=ve,ct=[],mt=(Et=mt)-1;0<=mt;--mt)ct[mt]=Be[lt+mt];for(mt=Et-1;0<=mt;--mt)We[Ne+mt]=ct[mt];g(_e,Le,Ke,we,Ge,we,ve)}else g(_e,Le,Ke,Ne,Be,we,ve)}ve=$,we=z}we!=z&&r($,z,ve,we,fe)}function Ei(N,O){var z=N.V,$=N.Ba+N.c*N.C,oe=O-N.C;if(t(O<=N.l.o),t(16>=oe),0<oe){var fe=N.l,de=N.Ta,ve=N.Ua,we=fe.width;if(Pt(N,oe,z,$),oe=ve=[ve],t((z=N.C)<($=O)),t(fe.v<fe.va),$>fe.o&&($=fe.o),z<fe.j){var _e=fe.j-z;z=fe.j,oe[0]+=_e*we}if(z>=$?z=0:(oe[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=$-z,z=1),z){if(ve=ve[0],11>(z=N.ca).S){var Le=z.f.RGBA,Ke=($=z.S,oe=fe.U,fe=fe.T,_e=Le.eb,Le.A),Ne=fe;for(Le=Le.fb+N.Ma*Le.A;0<Ne--;){var Be=de,Ge=ve,ct=oe,We=_e,lt=Le;switch($){case xd:F(Be,Ge,ct,We,lt);break;case $a:K(Be,Ge,ct,We,lt);break;case Tf:K(Be,Ge,ct,We,lt),Ol(We,lt,0,ct,1,0);break;case bd:Ee(Be,Ge,ct,We,lt);break;case ps:kt(Be,Ge,ct,We,lt,1);break;case wd:kt(Be,Ge,ct,We,lt,1),Ol(We,lt,0,ct,1,0);break;case _f:kt(Be,Ge,ct,We,lt,0);break;case ku:kt(Be,Ge,ct,We,lt,0),Ol(We,lt,1,ct,1,0);break;case Mu:ne(Be,Ge,ct,We,lt);break;case Ad:ne(Be,Ge,ct,We,lt),hs(We,lt,ct,1,0);break;case ic:ue(Be,Ge,ct,We,lt);break;default:t(0)}ve+=we,Le+=Ke}N.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=z.height)}}N.C=O,t(N.C<=N.i)}function mr(N){var O;if(0<N.ua)return 0;for(O=0;O<N.Wb;++O){var z=N.Ya[O].G,$=N.Ya[O].H;if(0<z[1][$[1]+0].g||0<z[2][$[2]+0].g||0<z[3][$[3]+0].g)return 0}return 1}function Yn(N,O,z,$,oe,fe){if(N.Z!=0){var de=N.qd,ve=N.rd;for(t(Pl[N.Z]!=null);O<z;++O)Pl[N.Z](de,ve,$,oe,$,oe,fe),de=$,ve=oe,oe+=fe;N.qd=de,N.rd=ve}}function hi(N,O){var z=N.l.ma,$=z.Z==0||z.Z==1?N.l.j:N.C;if($=N.C<$?$:N.C,t(O<=N.l.o),O>$){var oe=N.l.width,fe=z.ca,de=z.tb+oe*$,ve=N.V,we=N.Ba+N.c*$,_e=N.gc;t(N.ab==1),t(_e[0].hc==3),x(_e[0],$,O,ve,we,fe,de),Yn(z,$,O,fe,de,oe)}N.C=N.Ma=O}function da(N,O,z,$,oe,fe,de){var ve=N.$/$,we=N.$%$,_e=N.m,Le=N.s,Ke=z+N.$,Ne=Ke;oe=z+$*oe;var Be=z+$*fe,Ge=280+Le.ua,ct=N.Pb?ve:16777216,We=0<Le.ua?Le.Wa:null,lt=Le.wc,mt=Ke<Be?gr(Le,we,ve):null;t(N.C<fe),t(Be<=oe);var Et=!1;e:for(;;){for(;Et||Ke<Be;){var bt=0;if(ve>=ct){var Qt=Ke-z;t((ct=N).Pb),ct.wd=ct.m,ct.xd=Qt,0<ct.s.ua&&At(ct.s.Wa,ct.s.vb),ct=ve+ac}if(we&lt||(mt=gr(Le,we,ve)),t(mt!=null),mt.Qb&&(O[Ke]=mt.qb,Et=!0),!Et)if(ke(_e),mt.jc){bt=_e,Qt=O;var Ut=Ke,kn=mt.pd[ce(bt)&na-1];t(mt.jc),256>kn.g?(xe(bt,bt.u+kn.g),Qt[Ut]=kn.value,bt=0):(xe(bt,bt.u+kn.g-256),t(256<=kn.value),bt=kn.value),bt==0&&(Et=!0)}else bt=Vn(mt.G[0],mt.H[0],_e);if(_e.h)break;if(Et||256>bt){if(!Et)if(mt.nd)O[Ke]=(mt.qb|bt<<8)>>>0;else{if(ke(_e),Et=Vn(mt.G[1],mt.H[1],_e),ke(_e),Qt=Vn(mt.G[2],mt.H[2],_e),Ut=Vn(mt.G[3],mt.H[3],_e),_e.h)break;O[Ke]=(Ut<<24|Et<<16|bt<<8|Qt)>>>0}if(Et=!1,++Ke,++we>=$&&(we=0,++ve,de!=null&&ve<=fe&&!(ve%16)&&de(N,ve),We!=null))for(;Ne<Ke;)bt=O[Ne++],We.X[(506832829*bt&4294967295)>>>We.Mb]=bt}else if(280>bt){if(bt=Ri(bt-256,_e),Qt=Vn(mt.G[4],mt.H[4],_e),ke(_e),Qt=Sa($,Qt=Ri(Qt,_e)),_e.h)break;if(Ke-z<Qt||oe-Ke<bt)break e;for(Ut=0;Ut<bt;++Ut)O[Ke+Ut]=O[Ke+Ut-Qt];for(Ke+=bt,we+=bt;we>=$;)we-=$,++ve,de!=null&&ve<=fe&&!(ve%16)&&de(N,ve);if(t(Ke<=oe),we&lt&&(mt=gr(Le,we,ve)),We!=null)for(;Ne<Ke;)bt=O[Ne++],We.X[(506832829*bt&4294967295)>>>We.Mb]=bt}else{if(!(bt<Ge))break e;for(Et=bt-280,t(We!=null);Ne<Ke;)bt=O[Ne++],We.X[(506832829*bt&4294967295)>>>We.Mb]=bt;bt=Ke,t(!(Et>>>(Qt=We).Xa)),O[bt]=Qt.X[Et],Et=!0}Et||t(_e.h==pe(_e))}if(N.Pb&&_e.h&&Ke<oe)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&At(N.s.vb,N.s.Wa);else{if(_e.h)break e;de!=null&&de(N,ve>fe?fe:ve),N.a=0,N.$=Ke-z}return 1}return N.a=3,0}function Ea(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var O=N.Wa;O!=null&&(O.X=null),N.vb=null,t(N!=null)}function ha(){var N=new bn;return N==null?null:(N.a=0,N.xb=Q0,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),d=Sn,P=Tn,F=Jr,K=tn,ne=ot,ue=jt,Ee=Ft,Y.VP8LMapColor32b=y,Y.VP8LMapColor8b=S,N)}function jo(N,O,z,$,oe){var fe=1,de=[N],ve=[O],we=$.m,_e=$.s,Le=null,Ke=0;e:for(;;){if(z)for(;fe&&ye(we,1);){var Ne=de,Be=ve,Ge=$,ct=1,We=Ge.m,lt=Ge.gc[Ge.ab],mt=ye(We,2);if(Ge.Oc&1<<mt)fe=0;else{switch(Ge.Oc|=1<<mt,lt.hc=mt,lt.Ea=Ne[0],lt.nc=Be[0],lt.K=[null],++Ge.ab,t(4>=Ge.ab),mt){case 0:case 1:lt.b=ye(We,3)+2,ct=jo(rt(lt.Ea,lt.b),rt(lt.nc,lt.b),0,Ge,lt.K),lt.K=lt.K[0];break;case 3:var Et,bt=ye(We,8)+1,Qt=16<bt?0:4<bt?1:2<bt?2:3;if(Ne[0]=rt(lt.Ea,Qt),lt.b=Qt,Et=ct=jo(bt,1,0,Ge,lt.K)){var Ut,kn=bt,$t=lt,Zn=1<<(8>>$t.b),ni=a(Zn);if(ni==null)Et=0;else{var Ln=$t.K[0],zt=$t.w;for(ni[0]=$t.K[0][0],Ut=1;Ut<1*kn;++Ut)ni[Ut]=Zt(Ln[zt+Ut],ni[Ut-1]);for(;Ut<4*Zn;++Ut)ni[Ut]=0;$t.K[0]=null,$t.K[0]=ni,Et=1}}ct=Et;break;case 2:break;default:t(0)}fe=ct}}if(de=de[0],ve=ve[0],fe&&ye(we,1)&&!(fe=1<=(Ke=ye(we,4))&&11>=Ke)){$.a=3;break e}var It;if(It=fe)t:{var gi,En,Un,Tr=$,aa=de,Oa=ve,Yr=Ke,qi=z,Xa=Tr.m,Hi=Tr.s,Kn=[null],ur=1,mi=0,xr=vs[Yr];n:for(;;){if(qi&&ye(Xa,1)){var oa=ye(Xa,3)+2,vi=rt(aa,oa),fr=rt(Oa,oa),Li=vi*fr;if(!jo(vi,fr,0,Tr,Kn))break n;for(Kn=Kn[0],Hi.xc=oa,gi=0;gi<Li;++gi){var Ir=Kn[gi]>>8&65535;Kn[gi]=Ir,Ir>=ur&&(ur=Ir+1)}}if(Xa.h)break n;for(En=0;5>En;++En){var Vi=Bc[En];!En&&0<Yr&&(Vi+=1<<Yr),mi<Vi&&(mi=Vi)}var Gi=s(ur*xr,ie),jr=ur,cr=s(jr,ae);if(cr==null)var Ja=null;else t(65536>=jr),Ja=cr;var Ni=a(mi);if(Ja==null||Ni==null||Gi==null){Tr.a=1;break n}var mn=Gi;for(gi=Un=0;gi<ur;++gi){var yn=Ja[gi],dr=yn.G,No=yn.H,ws=0,ho=1,Yi=0;for(En=0;5>En;++En){Vi=Bc[En],dr[En]=mn,No[En]=Un,!En&&0<Yr&&(Vi+=1<<Yr);i:{var fc,dc=Vi,Id=Tr,Wr=Ni,th=mn,nh=Un,Md=0,Dl=Id.m,o2=ye(Dl,1);if(i(Wr,0,0,dc),o2){var rh=ye(Dl,1)+1,ih=ye(Dl,1),kd=ye(Dl,ih==0?1:8);Wr[kd]=1,rh==2&&(Wr[kd=ye(Dl,8)]=1);var va=1}else{var _i=a(19),Of=ye(Dl,4)+4;if(19<Of){Id.a=3;var hc=0;break i}for(fc=0;fc<Of;++fc)_i[If[fc]]=ye(Dl,3);var Lu=void 0,zc=void 0,sl=Id,Od=_i,ju=dc,Rd=Wr,Pd=0,Ll=sl.m,ah=8,oh=s(128,ie);r:for(;J(oh,0,7,Od,19);){if(ye(Ll,1)){var J1=2+2*ye(Ll,3);if((Lu=2+ye(Ll,J1))>ju)break r}else Lu=ju;for(zc=0;zc<ju&&Lu--;){ke(Ll);var sh=oh[0+(127&ce(Ll))];xe(Ll,Ll.u+sh.g);var pc=sh.value;if(16>pc)Rd[zc++]=pc,pc!=0&&(ah=pc);else{var Z1=pc==16,Q1=pc-16,ep=Ou[Q1],lh=ye(Ll,gs[Q1])+ep;if(zc+lh>ju)break r;for(var tp=Z1?ah:0;0<lh--;)Rd[zc++]=tp}}Pd=1;break r}Pd||(sl.a=3),va=Pd}(va=va&&!Dl.h)&&(Md=J(th,nh,8,Wr,dc)),va&&Md!=0?hc=Md:(Id.a=3,hc=0)}if(hc==0)break n;if(ho&&Sd[En]==1&&(ho=mn[Un].g==0),ws+=mn[Un].g,Un+=hc,3>=En){var qc,Dd=Ni[0];for(qc=1;qc<Vi;++qc)Ni[qc]>Dd&&(Dd=Ni[qc]);Yi+=Dd}}if(yn.nd=ho,yn.Qb=0,ho&&(yn.qb=(dr[3][No[3]+0].value<<24|dr[1][No[1]+0].value<<16|dr[2][No[2]+0].value)>>>0,ws==0&&256>dr[0][No[0]+0].value&&(yn.Qb=1,yn.qb+=dr[0][No[0]+0].value<<8)),yn.jc=!yn.Qb&&6>Yi,yn.jc){var Rf,ll=yn;for(Rf=0;Rf<na;++Rf){var jl=Rf,Bl=ll.pd[jl],Ld=ll.G[0][ll.H[0]+jl];256<=Ld.value?(Bl.g=Ld.g+256,Bl.value=Ld.value):(Bl.g=0,Bl.value=0,jl>>=Or(Ld,8,Bl),jl>>=Or(ll.G[1][ll.H[1]+jl],16,Bl),jl>>=Or(ll.G[2][ll.H[2]+jl],0,Bl),Or(ll.G[3][ll.H[3]+jl],24,Bl))}}}Hi.vc=Kn,Hi.Wb=ur,Hi.Ya=Ja,Hi.yc=Gi,It=1;break t}It=0}if(!(fe=It)){$.a=3;break e}if(0<Ke){if(_e.ua=1<<Ke,!be(_e.Wa,Ke)){$.a=1,fe=0;break e}}else _e.ua=0;var jd=$,Hc=de,np=ve,Bu=jd.s,Fu=Bu.xc;if(jd.c=Hc,jd.i=np,Bu.md=rt(Hc,Fu),Bu.wc=Fu==0?-1:(1<<Fu)-1,z){$.xb=oc;break e}if((Le=a(de*ve))==null){$.a=1,fe=0;break e}fe=(fe=da($,Le,0,de,ve,ve,null))&&!we.h;break e}return fe?(oe!=null?oe[0]=Le:(t(Le==null),t(z)),$.$=0,z||Ea(_e)):Ea(_e),fe}function Bo(N,O){var z=N.c*N.i,$=z+O+16*O;return t(N.c<=O),N.V=a($),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+z+O,1)}function Qi(N,O){var z=N.C,$=O-z,oe=N.V,fe=N.Ba+N.c*z;for(t(O<=N.l.o);0<$;){var de=16<$?16:$,ve=N.l.ma,we=N.l.width,_e=we*de,Le=ve.ca,Ke=ve.tb+we*z,Ne=N.Ta,Be=N.Ua;Pt(N,de,oe,fe),Wo(Ne,Be,Le,Ke,_e),Yn(ve,z,z+de,Le,Ke,we),$-=de,oe+=de*N.c,z+=de}t(z==O),N.C=N.Ma=O}function Pr(){this.ub=this.yd=this.td=this.Rb=0}function Xn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ea(){this.Yb=(function(){var N=[];return(function O(z,$,oe){for(var fe=oe[$],de=0;de<fe&&(z.push(oe.length>$+1?[]:0),!(oe.length<$+1));de++)O(z[de],$+1,oe)})(N,0,[3,11]),N})()}function Zr(){this.jb=a(3),this.Wc=c([4,8],ea),this.Xc=c([4,17],ea)}function xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function lo(){this.ld=this.La=this.dd=this.tc=0}function ar(){this.Na=this.la=0}function Ua(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jn(){this.uc=this.M=this.Nb=0,this.wa=Array(new lo),this.Y=0,this.ya=Array(new Pc),this.aa=0,this.l=new Fo}function $n(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qn(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Pr,this.Kc=new Xn,this.ed=new xt,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new Jn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,V),this.ia=0,this.pb=s(4,Ua),this.Pa=new Zr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $n),this.Hd=0,this.rb=Array(new ar),this.sb=0,this.wa=Array(new lo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pc),this.L=this.aa=0,this.gd=c([4,2],lo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ca(N,O){return 0>N?0:N>O?O:N}function Fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function co(){var N=new qn;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,Ko||(Ko=wr)),N}function An(N,O,z){return N.a==0&&(N.a=O,N.sc=z,N.cb=0),0}function yo(N,O,z){return 3<=z&&N[O+0]==157&&N[O+1]==1&&N[O+2]==42}function as(N,O){if(N==null)return 0;if(N.a=0,N.sc="OK",O==null)return An(N,2,"null VP8Io passed to VP8GetHeaders()");var z=O.data,$=O.w,oe=O.ha;if(4>oe)return An(N,7,"Truncated header.");var fe=z[$+0]|z[$+1]<<8|z[$+2]<<16,de=N.Od;if(de.Rb=!(1&fe),de.td=fe>>1&7,de.yd=fe>>4&1,de.ub=fe>>5,3<de.td)return An(N,3,"Incorrect keyframe parameters.");if(!de.yd)return An(N,4,"Frame not displayable.");$+=3,oe-=3;var ve=N.Kc;if(de.Rb){if(7>oe)return An(N,7,"cannot parse picture header");if(!yo(z,$,oe))return An(N,3,"Bad code word");ve.c=16383&(z[$+4]<<8|z[$+3]),ve.Td=z[$+4]>>6,ve.i=16383&(z[$+6]<<8|z[$+5]),ve.Ud=z[$+6]>>6,$+=7,oe-=7,N.za=ve.c+15>>4,N.Ub=ve.i+15>>4,O.width=ve.c,O.height=ve.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((fe=N.Pa).jb,0,255,fe.jb.length),t((fe=N.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,i(fe.Zb,0,0,fe.Zb.length),i(fe.Lb,0,0,fe.Lb)}if(de.ub>oe)return An(N,7,"bad partition length");he(fe=N.m,z,$,de.ub),$+=de.ub,oe-=de.ub,de.Rb&&(ve.Ld=Ie(fe),ve.Kd=Ie(fe)),ve=N.Qa;var we,_e=N.Pa;if(t(fe!=null),t(ve!=null),ve.Cb=Ie(fe),ve.Cb){if(ve.Bb=Ie(fe),Ie(fe)){for(ve.Fb=Ie(fe),we=0;4>we;++we)ve.Zb[we]=Ie(fe)?Te(fe,7):0;for(we=0;4>we;++we)ve.Lb[we]=Ie(fe)?Te(fe,6):0}if(ve.Bb)for(we=0;3>we;++we)_e.jb[we]=Ie(fe)?Ae(fe,8):255}else ve.Bb=0;if(fe.Ka)return An(N,3,"cannot parse segment header");if((ve=N.ed).zd=Ie(fe),ve.Tb=Ae(fe,6),ve.wb=Ae(fe,3),ve.Pc=Ie(fe),ve.Pc&&Ie(fe)){for(_e=0;4>_e;++_e)Ie(fe)&&(ve.vd[_e]=Te(fe,6));for(_e=0;4>_e;++_e)Ie(fe)&&(ve.od[_e]=Te(fe,6))}if(N.L=ve.Tb==0?0:ve.zd?1:2,fe.Ka)return An(N,3,"cannot parse filter header");var Le=oe;if(oe=we=$,$=we+Le,ve=Le,N.Xb=(1<<Ae(N.m,2))-1,Le<3*(_e=N.Xb))z=7;else{for(we+=3*_e,ve-=3*_e,Le=0;Le<_e;++Le){var Ke=z[oe+0]|z[oe+1]<<8|z[oe+2]<<16;Ke>ve&&(Ke=ve),he(N.Jc[+Le],z,we,Ke),we+=Ke,ve-=Ke,oe+=3}he(N.Jc[+_e],z,we,ve),z=we<$?0:5}if(z!=0)return An(N,z,"cannot parse partitions");for(z=Ae(we=N.m,7),oe=Ie(we)?Te(we,4):0,$=Ie(we)?Te(we,4):0,ve=Ie(we)?Te(we,4):0,_e=Ie(we)?Te(we,4):0,we=Ie(we)?Te(we,4):0,Le=N.Qa,Ke=0;4>Ke;++Ke){if(Le.Cb){var Ne=Le.Zb[Ke];Le.Fb||(Ne+=z)}else{if(0<Ke){N.pb[Ke]=N.pb[0];continue}Ne=z}var Be=N.pb[Ke];Be.Sc[0]=ys[Ca(Ne+oe,127)],Be.Sc[1]=xs[Ca(Ne+0,127)],Be.Eb[0]=2*ys[Ca(Ne+$,127)],Be.Eb[1]=101581*xs[Ca(Ne+ve,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=ys[Ca(Ne+_e,117)],Be.Qc[1]=xs[Ca(Ne+we,127)],Be.lc=Ne+we}if(!de.Rb)return An(N,4,"Not a key frame.");for(Ie(fe),de=N.Pa,z=0;4>z;++z){for(oe=0;8>oe;++oe)for($=0;3>$;++$)for(ve=0;11>ve;++ve)_e=He(fe,ti[z][oe][$][ve])?Ae(fe,8):$1[z][oe][$][ve],de.Wc[z][oe].Yb[$][ve]=_e;for(oe=0;17>oe;++oe)de.Xc[z][oe]=de.Wc[z][er[oe]]}return N.kc=Ie(fe),N.kc&&(N.Bd=Ae(fe,8)),N.cb=1}function wr(N,O,z,$,oe,fe,de){var ve=O[oe].Yb[z];for(z=0;16>oe;++oe){if(!He(N,ve[z+0]))return oe;for(;!He(N,ve[z+1]);)if(ve=O[++oe].Yb[0],z=0,oe==16)return 16;var we=O[oe+1].Yb;if(He(N,ve[z+2])){var _e=N,Le=0;if(He(_e,(Ne=ve)[(Ke=z)+3]))if(He(_e,Ne[Ke+6])){for(ve=0,Ke=2*(Le=He(_e,Ne[Ke+8]))+(Ne=He(_e,Ne[Ke+9+Le])),Le=0,Ne=K1[Ke];Ne[ve];++ve)Le+=Le+He(_e,Ne[ve]);Le+=3+(8<<Ke)}else He(_e,Ne[Ke+7])?(Le=7+2*He(_e,165),Le+=He(_e,145)):Le=5+He(_e,159);else Le=He(_e,Ne[Ke+4])?3+He(_e,Ne[Ke+5]):2;ve=we[2]}else Le=1,ve=we[1];we=de+Z0[oe],0>(_e=N).b&&Fe(_e);var Ke,Ne=_e.b,Be=(Ke=_e.Ca>>1)-(_e.I>>Ne)>>31;--_e.b,_e.Ca+=Be,_e.Ca|=1,_e.I-=(Ke+1&Be)<<Ne,fe[we]=((Le^Be)-Be)*$[(0<oe)+0]}return 16}function xo(N){var O=N.rb[N.sb-1];O.la=0,O.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Na(N,O,z,$,oe){oe=N[O+z+32*$]+(oe>>3),N[O+z+32*$]=-256&oe?0>oe?0:255:oe}function Vr(N,O,z,$,oe,fe){Na(N,O,0,z,$+oe),Na(N,O,1,z,$+fe),Na(N,O,2,z,$-fe),Na(N,O,3,z,$-oe)}function In(N){return(20091*N>>16)+N}function pi(N,O,z,$){var oe,fe=0,de=a(16);for(oe=0;4>oe;++oe){var ve=N[O+0]+N[O+8],we=N[O+0]-N[O+8],_e=(35468*N[O+4]>>16)-In(N[O+12]),Le=In(N[O+4])+(35468*N[O+12]>>16);de[fe+0]=ve+Le,de[fe+1]=we+_e,de[fe+2]=we-_e,de[fe+3]=ve-Le,fe+=4,O++}for(oe=fe=0;4>oe;++oe)ve=(N=de[fe+0]+4)+de[fe+8],we=N-de[fe+8],_e=(35468*de[fe+4]>>16)-In(de[fe+12]),Na(z,$,0,0,ve+(Le=In(de[fe+4])+(35468*de[fe+12]>>16))),Na(z,$,1,0,we+_e),Na(z,$,2,0,we-_e),Na(z,$,3,0,ve-Le),fe++,$+=32}function Ye(N,O,z,$){var oe=N[O+0]+4,fe=35468*N[O+4]>>16,de=In(N[O+4]),ve=35468*N[O+1]>>16;Vr(z,$,0,oe+de,N=In(N[O+1]),ve),Vr(z,$,1,oe+fe,N,ve),Vr(z,$,2,oe-fe,N,ve),Vr(z,$,3,oe-de,N,ve)}function Se(N,O,z,$,oe){pi(N,O,z,$),oe&&pi(N,O+16,z,$+4)}function Lt(N,O,z,$){De(N,O+0,z,$,1),De(N,O+32,z,$+128,1)}function si(N,O,z,$){var oe;for(N=N[O+0]+4,oe=0;4>oe;++oe)for(O=0;4>O;++O)Na(z,$,O,oe,N)}function pa(N,O,z,$){N[O+0]&&ft(N,O+0,z,$),N[O+16]&&ft(N,O+16,z,$+4),N[O+32]&&ft(N,O+32,z,$+128),N[O+48]&&ft(N,O+48,z,$+128+4)}function Uo(N,O,z,$){var oe,fe=a(16);for(oe=0;4>oe;++oe){var de=N[O+0+oe]+N[O+12+oe],ve=N[O+4+oe]+N[O+8+oe],we=N[O+4+oe]-N[O+8+oe],_e=N[O+0+oe]-N[O+12+oe];fe[0+oe]=de+ve,fe[8+oe]=de-ve,fe[4+oe]=_e+we,fe[12+oe]=_e-we}for(oe=0;4>oe;++oe)de=(N=fe[0+4*oe]+3)+fe[3+4*oe],ve=fe[1+4*oe]+fe[2+4*oe],we=fe[1+4*oe]-fe[2+4*oe],_e=N-fe[3+4*oe],z[$+0]=de+ve>>3,z[$+16]=_e+we>>3,z[$+32]=de-ve>>3,z[$+48]=_e-we>>3,$+=64}function ks(N,O,z){var $,oe=O-32,fe=Ka,de=255-N[oe-1];for($=0;$<z;++$){var ve,we=fe,_e=de+N[O-1];for(ve=0;ve<z;++ve)N[O+ve]=we[_e+N[oe+ve]];O+=32}}function _a(N,O){ks(N,O,4)}function ln(N,O){ks(N,O,8)}function _r(N,O){ks(N,O,16)}function nc(N,O){var z;for(z=0;16>z;++z)r(N,O+32*z,N,O-32,16)}function Tu(N,O){var z;for(z=16;0<z;--z)i(N,O,N[O-1],16),O+=32}function ga(N,O,z){var $;for($=0;16>$;++$)i(O,z+32*$,N,16)}function za(N,O){var z,$=16;for(z=0;16>z;++z)$+=N[O-1+32*z]+N[O+z-32];ga($>>5,N,O)}function zo(N,O){var z,$=8;for(z=0;16>z;++z)$+=N[O-1+32*z];ga($>>4,N,O)}function Cl(N,O){var z,$=8;for(z=0;16>z;++z)$+=N[O+z-32];ga($>>4,N,O)}function Dr(N,O){ga(128,N,O)}function un(N,O,z){return N+2*O+z+2>>2}function qo(N,O){var z,$=O-32;for($=new Uint8Array([un(N[$-1],N[$+0],N[$+1]),un(N[$+0],N[$+1],N[$+2]),un(N[$+1],N[$+2],N[$+3]),un(N[$+2],N[$+3],N[$+4])]),z=0;4>z;++z)r(N,O+32*z,$,0,$.length)}function pn(N,O){var z=N[O-1],$=N[O-1+32],oe=N[O-1+64],fe=N[O-1+96];nt(N,O+0,16843009*un(N[O-1-32],z,$)),nt(N,O+32,16843009*un(z,$,oe)),nt(N,O+64,16843009*un($,oe,fe)),nt(N,O+96,16843009*un(oe,fe,fe))}function Iu(N,O){var z,$=4;for(z=0;4>z;++z)$+=N[O+z-32]+N[O-1+32*z];for($>>=3,z=0;4>z;++z)i(N,O+32*z,$,4)}function gn(N,O){var z=N[O-1+0],$=N[O-1+32],oe=N[O-1+64],fe=N[O-1-32],de=N[O+0-32],ve=N[O+1-32],we=N[O+2-32],_e=N[O+3-32];N[O+0+96]=un($,oe,N[O-1+96]),N[O+1+96]=N[O+0+64]=un(z,$,oe),N[O+2+96]=N[O+1+64]=N[O+0+32]=un(fe,z,$),N[O+3+96]=N[O+2+64]=N[O+1+32]=N[O+0+0]=un(de,fe,z),N[O+3+64]=N[O+2+32]=N[O+1+0]=un(ve,de,fe),N[O+3+32]=N[O+2+0]=un(we,ve,de),N[O+3+0]=un(_e,we,ve)}function Qn(N,O){var z=N[O+1-32],$=N[O+2-32],oe=N[O+3-32],fe=N[O+4-32],de=N[O+5-32],ve=N[O+6-32],we=N[O+7-32];N[O+0+0]=un(N[O+0-32],z,$),N[O+1+0]=N[O+0+32]=un(z,$,oe),N[O+2+0]=N[O+1+32]=N[O+0+64]=un($,oe,fe),N[O+3+0]=N[O+2+32]=N[O+1+64]=N[O+0+96]=un(oe,fe,de),N[O+3+32]=N[O+2+64]=N[O+1+96]=un(fe,de,ve),N[O+3+64]=N[O+2+96]=un(de,ve,we),N[O+3+96]=un(ve,we,we)}function Dc(N,O){var z=N[O-1+0],$=N[O-1+32],oe=N[O-1+64],fe=N[O-1-32],de=N[O+0-32],ve=N[O+1-32],we=N[O+2-32],_e=N[O+3-32];N[O+0+0]=N[O+1+64]=fe+de+1>>1,N[O+1+0]=N[O+2+64]=de+ve+1>>1,N[O+2+0]=N[O+3+64]=ve+we+1>>1,N[O+3+0]=we+_e+1>>1,N[O+0+96]=un(oe,$,z),N[O+0+64]=un($,z,fe),N[O+0+32]=N[O+1+96]=un(z,fe,de),N[O+1+32]=N[O+2+96]=un(fe,de,ve),N[O+2+32]=N[O+3+96]=un(de,ve,we),N[O+3+32]=un(ve,we,_e)}function Os(N,O){var z=N[O+0-32],$=N[O+1-32],oe=N[O+2-32],fe=N[O+3-32],de=N[O+4-32],ve=N[O+5-32],we=N[O+6-32],_e=N[O+7-32];N[O+0+0]=z+$+1>>1,N[O+1+0]=N[O+0+64]=$+oe+1>>1,N[O+2+0]=N[O+1+64]=oe+fe+1>>1,N[O+3+0]=N[O+2+64]=fe+de+1>>1,N[O+0+32]=un(z,$,oe),N[O+1+32]=N[O+0+96]=un($,oe,fe),N[O+2+32]=N[O+1+96]=un(oe,fe,de),N[O+3+32]=N[O+2+96]=un(fe,de,ve),N[O+3+64]=un(de,ve,we),N[O+3+96]=un(ve,we,_e)}function qa(N,O){var z=N[O-1+0],$=N[O-1+32],oe=N[O-1+64],fe=N[O-1+96];N[O+0+0]=z+$+1>>1,N[O+2+0]=N[O+0+32]=$+oe+1>>1,N[O+2+32]=N[O+0+64]=oe+fe+1>>1,N[O+1+0]=un(z,$,oe),N[O+3+0]=N[O+1+32]=un($,oe,fe),N[O+3+32]=N[O+1+64]=un(oe,fe,fe),N[O+3+64]=N[O+2+64]=N[O+0+96]=N[O+1+96]=N[O+2+96]=N[O+3+96]=fe}function uo(N,O){var z=N[O-1+0],$=N[O-1+32],oe=N[O-1+64],fe=N[O-1+96],de=N[O-1-32],ve=N[O+0-32],we=N[O+1-32],_e=N[O+2-32];N[O+0+0]=N[O+2+32]=z+de+1>>1,N[O+0+32]=N[O+2+64]=$+z+1>>1,N[O+0+64]=N[O+2+96]=oe+$+1>>1,N[O+0+96]=fe+oe+1>>1,N[O+3+0]=un(ve,we,_e),N[O+2+0]=un(de,ve,we),N[O+1+0]=N[O+3+32]=un(z,de,ve),N[O+1+32]=N[O+3+64]=un($,z,de),N[O+1+64]=N[O+3+96]=un(oe,$,z),N[O+1+96]=un(fe,oe,$)}function os(N,O){var z;for(z=0;8>z;++z)r(N,O+32*z,N,O-32,8)}function tl(N,O){var z;for(z=0;8>z;++z)i(N,O,N[O-1],8),O+=32}function ma(N,O,z){var $;for($=0;8>$;++$)i(O,z+32*$,N,8)}function ss(N,O){var z,$=8;for(z=0;8>z;++z)$+=N[O+z-32]+N[O-1+32*z];ma($>>4,N,O)}function Nl(N,O){var z,$=4;for(z=0;8>z;++z)$+=N[O+z-32];ma($>>3,N,O)}function li(N,O){var z,$=4;for(z=0;8>z;++z)$+=N[O-1+32*z];ma($>>3,N,O)}function Ha(N,O){ma(128,N,O)}function Lr(N,O,z){var $=N[O-z],oe=N[O+0],fe=3*(oe-$)+Rl[1020+N[O-2*z]-N[O+z]],de=Nf[112+(fe+4>>3)];N[O-z]=Ka[255+$+Nf[112+(fe+3>>3)]],N[O+0]=Ka[255+oe-de]}function ls(N,O,z,$){var oe=N[O+0],fe=N[O+z];return Ta[255+N[O-2*z]-N[O-z]]>$||Ta[255+fe-oe]>$}function _l(N,O,z,$){return 4*Ta[255+N[O-z]-N[O+0]]+Ta[255+N[O-2*z]-N[O+z]]<=$}function nl(N,O,z,$,oe){var fe=N[O-3*z],de=N[O-2*z],ve=N[O-z],we=N[O+0],_e=N[O+z],Le=N[O+2*z],Ke=N[O+3*z];return 4*Ta[255+ve-we]+Ta[255+de-_e]>$?0:Ta[255+N[O-4*z]-fe]<=oe&&Ta[255+fe-de]<=oe&&Ta[255+de-ve]<=oe&&Ta[255+Ke-Le]<=oe&&Ta[255+Le-_e]<=oe&&Ta[255+_e-we]<=oe}function Rs(N,O,z,$){var oe=2*$+1;for($=0;16>$;++$)_l(N,O+$,z,oe)&&Lr(N,O+$,z)}function Ps(N,O,z,$){var oe=2*$+1;for($=0;16>$;++$)_l(N,O+$*z,1,oe)&&Lr(N,O+$*z,1)}function Tl(N,O,z,$){var oe;for(oe=3;0<oe;--oe)Rs(N,O+=4*z,z,$)}function or(N,O,z,$){var oe;for(oe=3;0<oe;--oe)Ps(N,O+=4,z,$)}function cs(N,O,z,$,oe,fe,de,ve){for(fe=2*fe+1;0<oe--;){if(nl(N,O,z,fe,de))if(ls(N,O,z,ve))Lr(N,O,z);else{var we=N,_e=O,Le=z,Ke=we[_e-2*Le],Ne=we[_e-Le],Be=we[_e+0],Ge=we[_e+Le],ct=we[_e+2*Le],We=27*(mt=Rl[1020+3*(Be-Ne)+Rl[1020+Ke-Ge]])+63>>7,lt=18*mt+63>>7,mt=9*mt+63>>7;we[_e-3*Le]=Ka[255+we[_e-3*Le]+mt],we[_e-2*Le]=Ka[255+Ke+lt],we[_e-Le]=Ka[255+Ne+We],we[_e+0]=Ka[255+Be-We],we[_e+Le]=Ka[255+Ge-lt],we[_e+2*Le]=Ka[255+ct-mt]}O+=$}}function bo(N,O,z,$,oe,fe,de,ve){for(fe=2*fe+1;0<oe--;){if(nl(N,O,z,fe,de))if(ls(N,O,z,ve))Lr(N,O,z);else{var we=N,_e=O,Le=z,Ke=we[_e-Le],Ne=we[_e+0],Be=we[_e+Le],Ge=Nf[112+(4+(ct=3*(Ne-Ke))>>3)],ct=Nf[112+(ct+3>>3)],We=Ge+1>>1;we[_e-2*Le]=Ka[255+we[_e-2*Le]+We],we[_e-Le]=Ka[255+Ke+ct],we[_e+0]=Ka[255+Ne-Ge],we[_e+Le]=Ka[255+Be-We]}O+=$}}function Ho(N,O,z,$,oe,fe){cs(N,O,z,1,16,$,oe,fe)}function Ds(N,O,z,$,oe,fe){cs(N,O,1,z,16,$,oe,fe)}function tt(N,O,z,$,oe,fe){var de;for(de=3;0<de;--de)bo(N,O+=4*z,z,1,16,$,oe,fe)}function B(N,O,z,$,oe,fe){var de;for(de=3;0<de;--de)bo(N,O+=4,1,z,16,$,oe,fe)}function re(N,O,z,$,oe,fe,de,ve){cs(N,O,oe,1,8,fe,de,ve),cs(z,$,oe,1,8,fe,de,ve)}function Ce(N,O,z,$,oe,fe,de,ve){cs(N,O,1,oe,8,fe,de,ve),cs(z,$,1,oe,8,fe,de,ve)}function Pe(N,O,z,$,oe,fe,de,ve){bo(N,O+4*oe,oe,1,8,fe,de,ve),bo(z,$+4*oe,oe,1,8,fe,de,ve)}function ze(N,O,z,$,oe,fe,de,ve){bo(N,O+4,1,oe,8,fe,de,ve),bo(z,$+4,1,oe,8,fe,de,ve)}function pt(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mt(){this.ua=0,this.Wa=new Dt,this.vb=new Dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new ie}function bn(){this.xb=this.a=0,this.l=new Fo,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new le,this.Pb=0,this.wd=new le,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mt,this.ab=0,this.gc=s(4,qt),this.Oc=0}function Gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wn(N,O,z,$,oe,fe,de){for(N=N==null?0:N[O+0],O=0;O<de;++O)oe[fe+O]=N+z[$+O]&255,N=oe[fe+O]}function vr(N,O,z,$,oe,fe,de){var ve;if(N==null)Wn(null,null,z,$,oe,fe,de);else for(ve=0;ve<de;++ve)oe[fe+ve]=N[O+ve]+z[$+ve]&255}function Nn(N,O,z,$,oe,fe,de){if(N==null)Wn(null,null,z,$,oe,fe,de);else{var ve,we=N[O+0],_e=we,Le=we;for(ve=0;ve<de;++ve)_e=Le+(we=N[O+ve])-_e,Le=z[$+ve]+(-256&_e?0>_e?0:255:_e)&255,_e=we,oe[fe+ve]=Le}}function Ot(N,O,z,$){var oe=O.width,fe=O.o;if(t(N!=null&&O!=null),0>z||0>=$||z+$>fe)return null;if(!N.Cc){if(N.ga==null){var de;if(N.ga=new Gt,(de=N.ga==null)||(de=O.width*O.o,t(N.Gb.length==0),N.Gb=a(de),N.Uc=0,N.Gb==null?de=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,de=1),de=!de),!de){de=N.ga;var ve=N.Fa,we=N.P,_e=N.qc,Le=N.mb,Ke=N.nb,Ne=we+1,Be=_e-1,Ge=de.l;if(t(ve!=null&&Le!=null&&O!=null),Pl[0]=null,Pl[1]=Wn,Pl[2]=vr,Pl[3]=Nn,de.ca=Le,de.tb=Ke,de.c=O.width,de.i=O.height,t(0<de.c&&0<de.i),1>=_e)O=0;else if(de.$a=3&ve[we+0],de.Z=ve[we+0]>>2&3,de.Lc=ve[we+0]>>4&3,we=ve[we+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||we)O=0;else if(Ge.put=nn,Ge.ac=Nr,Ge.bc=Bi,Ge.ma=de,Ge.width=O.width,Ge.height=O.height,Ge.Da=O.Da,Ge.v=O.v,Ge.va=O.va,Ge.j=O.j,Ge.o=O.o,de.$a)e:{t(de.$a==1),O=ha();t:for(;;){if(O==null){O=0;break e}if(t(de!=null),de.mc=O,O.c=de.c,O.i=de.i,O.l=de.l,O.l.ma=de,O.l.width=de.c,O.l.height=de.i,O.a=0,Me(O.m,ve,Ne,Be),!jo(de.c,de.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&mr(O.s)?(de.ic=1,ve=O.c*O.i,O.Ta=null,O.Ua=0,O.V=a(ve),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(de.ic=0,O=Bo(O,de.c)),!O))break t;O=1;break e}de.mc=null,O=0}else O=Be>=de.c*de.i;de=!O}if(de)return null;N.ga.Lc!=1?N.Ga=0:$=fe-z}t(N.ga!=null),t(z+$<=fe);e:{if(O=(ve=N.ga).c,fe=ve.l.o,ve.$a==0){if(Ne=N.rc,Be=N.Vc,Ge=N.Fa,we=N.P+1+z*O,_e=N.mb,Le=N.nb+z*O,t(we<=N.P+N.qc),ve.Z!=0)for(t(Pl[ve.Z]!=null),de=0;de<$;++de)Pl[ve.Z](Ne,Be,Ge,we,_e,Le,O),Ne=_e,Be=Le,Le+=O,we+=O;else for(de=0;de<$;++de)r(_e,Le,Ge,we,O),Ne=_e,Be=Le,Le+=O,we+=O;N.rc=Ne,N.Vc=Be}else{if(t(ve.mc!=null),O=z+$,t((de=ve.mc)!=null),t(O<=de.i),de.C>=O)O=1;else if(ve.ic||Vo(),ve.ic){ve=de.V,Ne=de.Ba,Be=de.c;var ct=de.i,We=(Ge=1,we=de.$/Be,_e=de.$%Be,Le=de.m,Ke=de.s,de.$),lt=Be*ct,mt=Be*O,Et=Ke.wc,bt=We<mt?gr(Ke,_e,we):null;t(We<=lt),t(O<=ct),t(mr(Ke));t:for(;;){for(;!Le.h&&We<mt;){if(_e&Et||(bt=gr(Ke,_e,we)),t(bt!=null),ke(Le),256>(ct=Vn(bt.G[0],bt.H[0],Le)))ve[Ne+We]=ct,++We,++_e>=Be&&(_e=0,++we<=O&&!(we%16)&&hi(de,we));else{if(!(280>ct)){Ge=0;break t}ct=Ri(ct-256,Le);var Qt,Ut=Vn(bt.G[4],bt.H[4],Le);if(ke(Le),!(We>=(Ut=Sa(Be,Ut=Ri(Ut,Le)))&&lt-We>=ct)){Ge=0;break t}for(Qt=0;Qt<ct;++Qt)ve[Ne+We+Qt]=ve[Ne+We+Qt-Ut];for(We+=ct,_e+=ct;_e>=Be;)_e-=Be,++we<=O&&!(we%16)&&hi(de,we);We<mt&&_e&Et&&(bt=gr(Ke,_e,we))}t(Le.h==pe(Le))}hi(de,we>O?O:we);break t}!Ge||Le.h&&We<lt?(Ge=0,de.a=Le.h?5:3):de.$=We,O=Ge}else O=da(de,de.V,de.Ba,de.c,de.i,O,Qi);if(!O){$=0;break e}}z+$>=fe&&(N.Cc=1),$=1}if(!$)return null;if(N.Cc&&(($=N.ga)!=null&&($.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+z*oe}function Pi(N,O,z,$,oe,fe){for(;0<oe--;){var de,ve=N,we=O+(z?1:0),_e=N,Le=O+(z?0:3);for(de=0;de<$;++de){var Ke=_e[Le+4*de];Ke!=255&&(Ke*=32897,ve[we+4*de+0]=ve[we+4*de+0]*Ke>>23,ve[we+4*de+1]=ve[we+4*de+1]*Ke>>23,ve[we+4*de+2]=ve[we+4*de+2]*Ke>>23)}O+=fe}}function Mn(N,O,z,$,oe){for(;0<$--;){var fe;for(fe=0;fe<z;++fe){var de=N[O+2*fe+0],ve=15&(_e=N[O+2*fe+1]),we=4369*ve,_e=(240&_e|_e>>4)*we>>16;N[O+2*fe+0]=(240&de|de>>4)*we>>16&240|(15&de|de<<4)*we>>16>>4&15,N[O+2*fe+1]=240&_e|ve}O+=oe}}function Qr(N,O,z,$,oe,fe,de,ve){var we,_e,Le=255;for(_e=0;_e<oe;++_e){for(we=0;we<$;++we){var Ke=N[O+we];fe[de+4*we]=Ke,Le&=Ke}O+=z,de+=ve}return Le!=255}function Va(N,O,z,$,oe){var fe;for(fe=0;fe<oe;++fe)z[$+fe]=N[O+fe]>>8}function Vo(){Ol=Pi,hs=Mn,Sf=Qr,Wo=Va}function Fi(N,O,z){Y[N]=function($,oe,fe,de,ve,we,_e,Le,Ke,Ne,Be,Ge,ct,We,lt,mt,Et){var bt,Qt=Et-1>>1,Ut=ve[we+0]|_e[Le+0]<<16,kn=Ke[Ne+0]|Be[Ge+0]<<16;t($!=null);var $t=3*Ut+kn+131074>>2;for(O($[oe+0],255&$t,$t>>16,ct,We),fe!=null&&($t=3*kn+Ut+131074>>2,O(fe[de+0],255&$t,$t>>16,lt,mt)),bt=1;bt<=Qt;++bt){var Zn=ve[we+bt]|_e[Le+bt]<<16,ni=Ke[Ne+bt]|Be[Ge+bt]<<16,Ln=Ut+Zn+kn+ni+524296,zt=Ln+2*(Zn+kn)>>3;$t=zt+Ut>>1,Ut=(Ln=Ln+2*(Ut+ni)>>3)+Zn>>1,O($[oe+2*bt-1],255&$t,$t>>16,ct,We+(2*bt-1)*z),O($[oe+2*bt-0],255&Ut,Ut>>16,ct,We+(2*bt-0)*z),fe!=null&&($t=Ln+kn>>1,Ut=zt+ni>>1,O(fe[de+2*bt-1],255&$t,$t>>16,lt,mt+(2*bt-1)*z),O(fe[de+2*bt+0],255&Ut,Ut>>16,lt,mt+(2*bt+0)*z)),Ut=Zn,kn=ni}1&Et||($t=3*Ut+kn+131074>>2,O($[oe+Et-1],255&$t,$t>>16,ct,We+(Et-1)*z),fe!=null&&($t=3*kn+Ut+131074>>2,O(fe[de+Et-1],255&$t,$t>>16,lt,mt+(Et-1)*z)))}}function Il(){Ma[xd]=Fc,Ma[$a]=Ru,Ma[bd]=eh,Ma[ps]=Cd,Ma[_f]=sc,Ma[Mu]=ol,Ma[ic]=lc,Ma[Tf]=Ru,Ma[wd]=Cd,Ma[ku]=sc,Ma[Ad]=ol}function Ml(N){return N&-16384?0>N?0:255:N>>Nd}function wo(N,O){return Ml((19077*N>>8)+(26149*O>>8)-14234)}function Ao(N,O,z){return Ml((19077*N>>8)-(6419*O>>8)-(13320*z>>8)+8708)}function rl(N,O){return Ml((19077*N>>8)+(33050*O>>8)-17685)}function Ls(N,O,z,$,oe){$[oe+0]=wo(N,z),$[oe+1]=Ao(N,O,z),$[oe+2]=rl(N,O)}function ei(N,O,z,$,oe){$[oe+0]=rl(N,O),$[oe+1]=Ao(N,O,z),$[oe+2]=wo(N,z)}function us(N,O,z,$,oe){var fe=Ao(N,O,z);O=fe<<3&224|rl(N,O)>>3,$[oe+0]=248&wo(N,z)|fe>>5,$[oe+1]=O}function il(N,O,z,$,oe){var fe=240&rl(N,O)|15;$[oe+0]=240&wo(N,z)|Ao(N,O,z)>>4,$[oe+1]=fe}function fs(N,O,z,$,oe){$[oe+0]=255,Ls(N,O,z,$,oe+1)}function ds(N,O,z,$,oe){ei(N,O,z,$,oe),$[oe+3]=255}function ci(N,O,z,$,oe){Ls(N,O,z,$,oe),$[oe+3]=255}function So(N,O,z){Y[N]=function($,oe,fe,de,ve,we,_e,Le,Ke){for(var Ne=Le+(-2&Ke)*z;Le!=Ne;)O($[oe+0],fe[de+0],ve[we+0],_e,Le),O($[oe+1],fe[de+0],ve[we+0],_e,Le+z),oe+=2,++de,++we,Le+=2*z;1&Ke&&O($[oe+0],fe[de+0],ve[we+0],_e,Le)}}function ta(N,O,z){return z==0?N==0?O==0?6:5:O==0?4:0:z}function rc(N,O,z,$,oe){switch(N>>>30){case 3:De(O,z,$,oe,0);break;case 2:Ue(O,z,$,oe);break;case 1:ft(O,z,$,oe)}}function ui(N,O){var z,$,oe=O.M,fe=O.Nb,de=N.oc,ve=N.pc+40,we=N.oc,_e=N.pc+584,Le=N.oc,Ke=N.pc+600;for(z=0;16>z;++z)de[ve+32*z-1]=129;for(z=0;8>z;++z)we[_e+32*z-1]=129,Le[Ke+32*z-1]=129;for(0<oe?de[ve-1-32]=we[_e-1-32]=Le[Ke-1-32]=129:(i(de,ve-32-1,127,21),i(we,_e-32-1,127,9),i(Le,Ke-32-1,127,9)),$=0;$<N.za;++$){var Ne=O.ya[O.aa+$];if(0<$){for(z=-1;16>z;++z)r(de,ve+32*z-4,de,ve+32*z+12,4);for(z=-1;8>z;++z)r(we,_e+32*z-4,we,_e+32*z+4,4),r(Le,Ke+32*z-4,Le,Ke+32*z+4,4)}var Be=N.Gd,Ge=N.Hd+$,ct=Ne.ad,We=Ne.Hc;if(0<oe&&(r(de,ve-32,Be[Ge].y,0,16),r(we,_e-32,Be[Ge].f,0,8),r(Le,Ke-32,Be[Ge].ea,0,8)),Ne.Za){var lt=de,mt=ve-32+16;for(0<oe&&($>=N.za-1?i(lt,mt,Be[Ge].y[15],4):r(lt,mt,Be[Ge+1].y,0,4)),z=0;4>z;z++)lt[mt+128+z]=lt[mt+256+z]=lt[mt+384+z]=lt[mt+0+z];for(z=0;16>z;++z,We<<=2)lt=de,mt=ve+Di[z],Ci[Ne.Ob[z]](lt,mt),rc(We,ct,16*+z,lt,mt)}else if(lt=ta($,oe,Ne.Ob[0]),fo[lt](de,ve),We!=0)for(z=0;16>z;++z,We<<=2)rc(We,ct,16*+z,de,ve+Di[z]);for(z=Ne.Gc,lt=ta($,oe,Ne.Dd),js[lt](we,_e),js[lt](Le,Ke),We=ct,lt=we,mt=_e,255&(Ne=0|z)&&(170&Ne?Ze(We,256,lt,mt):dt(We,256,lt,mt)),Ne=Le,We=Ke,255&(z>>=8)&&(170&z?Ze(ct,320,Ne,We):dt(ct,320,Ne,We)),oe<N.Ub-1&&(r(Be[Ge].y,0,de,ve+480,16),r(Be[Ge].f,0,we,_e+224,8),r(Be[Ge].ea,0,Le,Ke+224,8)),z=8*fe*N.B,Be=N.sa,Ge=N.ta+16*$+16*fe*N.R,ct=N.qa,Ne=N.ra+8*$+z,We=N.Ha,lt=N.Ia+8*$+z,z=0;16>z;++z)r(Be,Ge+z*N.R,de,ve+32*z,16);for(z=0;8>z;++z)r(ct,Ne+z*N.B,we,_e+32*z,8),r(We,lt+z*N.B,Le,Ke+32*z,8)}}function Go(N,O,z,$,oe,fe,de,ve,we){var _e=[0],Le=[0],Ke=0,Ne=we!=null?we.kd:0,Be=we??new wt;if(N==null||12>z)return 7;Be.data=N,Be.w=O,Be.ha=z,O=[O],z=[z],Be.gb=[Be.gb];e:{var Ge=O,ct=z,We=Be.gb;if(t(N!=null),t(ct!=null),t(We!=null),We[0]=0,12<=ct[0]&&!n(N,Ge[0],"RIFF")){if(n(N,Ge[0]+8,"WEBP")){We=3;break e}var lt=St(N,Ge[0]+4);if(12>lt||4294967286<lt){We=3;break e}if(Ne&&lt>ct[0]-8){We=7;break e}We[0]=lt,Ge[0]+=12,ct[0]-=12}We=0}if(We!=0)return We;for(lt=0<Be.gb[0],z=z[0];;){e:{var mt=N;ct=O,We=z;var Et=_e,bt=Le,Qt=Ge=[0];if(($t=Ke=[Ke])[0]=0,8>We[0])We=7;else{if(!n(mt,ct[0],"VP8X")){if(St(mt,ct[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Ut=St(mt,ct[0]+8),kn=1+gt(mt,ct[0]+12);if(2147483648<=kn*(mt=1+gt(mt,ct[0]+15))){We=3;break e}Qt!=null&&(Qt[0]=Ut),Et!=null&&(Et[0]=kn),bt!=null&&(bt[0]=mt),ct[0]+=18,We[0]-=18,$t[0]=1}We=0}}if(Ke=Ke[0],Ge=Ge[0],We!=0)return We;if(ct=!!(2&Ge),!lt&&Ke)return 3;if(fe!=null&&(fe[0]=!!(16&Ge)),de!=null&&(de[0]=ct),ve!=null&&(ve[0]=0),de=_e[0],Ge=Le[0],Ke&&ct&&we==null){We=0;break}if(4>z){We=7;break}if(lt&&Ke||!lt&&!Ke&&!n(N,O[0],"ALPH")){z=[z],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ut=N,We=O,lt=z;var $t=Be.gb;Et=Be.na,bt=Be.P,Qt=Be.Sa,kn=22,t(Ut!=null),t(lt!=null),mt=We[0];var Zn=lt[0];for(t(Et!=null),t(Qt!=null),Et[0]=null,bt[0]=null,Qt[0]=0;;){if(We[0]=mt,lt[0]=Zn,8>Zn){We=7;break e}var ni=St(Ut,mt+4);if(4294967286<ni){We=3;break e}var Ln=8+ni+1&-2;if(kn+=Ln,0<$t&&kn>$t){We=3;break e}if(!n(Ut,mt,"VP8 ")||!n(Ut,mt,"VP8L")){We=0;break e}if(Zn[0]<Ln){We=7;break e}n(Ut,mt,"ALPH")||(Et[0]=Ut,bt[0]=mt+8,Qt[0]=ni),mt+=Ln,Zn-=Ln}}if(z=z[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],We!=0)break}z=[z],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if($t=N,We=O,lt=z,Et=Be.gb[0],bt=Be.Ja,Qt=Be.xa,Ut=We[0],mt=!n($t,Ut,"VP8 "),kn=!n($t,Ut,"VP8L"),t($t!=null),t(lt!=null),t(bt!=null),t(Qt!=null),8>lt[0])We=7;else{if(mt||kn){if($t=St($t,Ut+4),12<=Et&&$t>Et-12){We=3;break e}if(Ne&&$t>lt[0]-8){We=7;break e}bt[0]=$t,We[0]+=8,lt[0]-=8,Qt[0]=kn}else Qt[0]=5<=lt[0]&&$t[Ut+0]==47&&!($t[Ut+4]>>5),bt[0]=lt[0];We=0}if(z=z[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],O=O[0],We!=0)break;if(4294967286<Be.Ja)return 3;if(ve==null||ct||(ve[0]=Be.xa?2:1),de=[de],Ge=[Ge],Be.xa){if(5>z){We=7;break}ve=de,Ne=Ge,ct=fe,N==null||5>z?N=0:5<=z&&N[O+0]==47&&!(N[O+4]>>5)?(lt=[0],$t=[0],Et=[0],Me(bt=new le,N,O,z),is(bt,lt,$t,Et)?(ve!=null&&(ve[0]=lt[0]),Ne!=null&&(Ne[0]=$t[0]),ct!=null&&(ct[0]=Et[0]),N=1):N=0):N=0}else{if(10>z){We=7;break}ve=Ge,N==null||10>z||!yo(N,O+3,z-3)?N=0:(Ne=N[O+0]|N[O+1]<<8|N[O+2]<<16,ct=16383&(N[O+7]<<8|N[O+6]),N=16383&(N[O+9]<<8|N[O+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Be.Ja||!ct||!N?N=0:(de&&(de[0]=ct),ve&&(ve[0]=N),N=1))}if(!N||(de=de[0],Ge=Ge[0],Ke&&(_e[0]!=de||Le[0]!=Ge)))return 3;we!=null&&(we[0]=Be,we.offset=O-we.w,t(4294967286>O-we.w),t(we.offset==we.ha-z));break}return We==0||We==7&&Ke&&we==null?(fe!=null&&(fe[0]|=Be.na!=null&&0<Be.na.length),$!=null&&($[0]=de),oe!=null&&(oe[0]=Ge),0):We}function Yo(N,O,z){var $=O.width,oe=O.height,fe=0,de=0,ve=$,we=oe;if(O.Da=N!=null&&0<N.Da,O.Da&&(ve=N.cd,we=N.bd,fe=N.v,de=N.j,11>z||(fe&=-2,de&=-2),0>fe||0>de||0>=ve||0>=we||fe+ve>$||de+we>oe))return 0;if(O.v=fe,O.j=de,O.va=fe+ve,O.o=de+we,O.U=ve,O.T=we,O.da=N!=null&&0<N.da,O.da){if(!Tt(ve,we,z=[N.ib],fe=[N.hb]))return 0;O.ib=z[0],O.hb=fe[0]}return O.ob=N!=null&&N.ob,O.Kb=N==null||!N.Sd,O.da&&(O.ob=O.ib<3*$/4&&O.hb<3*oe/4,O.Kb=0),1}function Lc(N){if(N==null)return 2;if(11>N.S){var O=N.f.RGBA;O.fb+=(N.height-1)*O.A,O.A=-O.A}else O=N.f.kb,N=N.height,O.O+=(N-1)*O.fa,O.fa=-O.fa,O.N+=(N-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(N-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(N-1)*O.lb,O.lb=-O.lb);return 0}function Eo(N,O,z,$){if($==null||0>=N||0>=O)return 2;if(z!=null){if(z.Da){var oe=z.cd,fe=z.bd,de=-2&z.v,ve=-2&z.j;if(0>de||0>ve||0>=oe||0>=fe||de+oe>N||ve+fe>O)return 2;N=oe,O=fe}if(z.da){if(!Tt(N,O,oe=[z.ib],fe=[z.hb]))return 2;N=oe[0],O=fe[0]}}$.width=N,$.height=O;e:{var we=$.width,_e=$.height;if(N=$.S,0>=we||0>=_e||!(N>=xd&&13>N))N=2;else{if(0>=$.Rd&&$.sd==null){de=fe=oe=O=0;var Le=(ve=we*Td[N])*_e;if(11>N||(fe=(_e+1)/2*(O=(we+1)/2),N==12&&(de=(oe=we)*_e)),(_e=a(Le+2*fe+de))==null){N=1;break e}$.sd=_e,11>N?((we=$.f.RGBA).eb=_e,we.fb=0,we.A=ve,we.size=Le):((we=$.f.kb).y=_e,we.O=0,we.fa=ve,we.Fd=Le,we.f=_e,we.N=0+Le,we.Ab=O,we.Cd=fe,we.ea=_e,we.W=0+Le+fe,we.Db=O,we.Ed=fe,N==12&&(we.F=_e,we.J=0+Le+2*fe),we.Tc=de,we.lb=oe)}if(O=1,oe=$.S,fe=$.width,de=$.height,oe>=xd&&13>oe)if(11>oe)N=$.f.RGBA,O&=(ve=Math.abs(N.A))*(de-1)+fe<=N.size,O&=ve>=fe*Td[oe],O&=N.eb!=null;else{N=$.f.kb,ve=(fe+1)/2,Le=(de+1)/2,we=Math.abs(N.fa),_e=Math.abs(N.Ab);var Ke=Math.abs(N.Db),Ne=Math.abs(N.lb),Be=Ne*(de-1)+fe;O&=we*(de-1)+fe<=N.Fd,O&=_e*(Le-1)+ve<=N.Cd,O=(O&=Ke*(Le-1)+ve<=N.Ed)&we>=fe&_e>=ve&Ke>=ve,O&=N.y!=null,O&=N.f!=null,O&=N.ea!=null,oe==12&&(O&=Ne>=fe,O&=Be<=N.Tc,O&=N.F!=null)}else O=0;N=O?0:2}}return N!=0||z!=null&&z.fd&&(N=Lc($)),N}var na=64,Ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ra=24,Ya=32,Rn=8,Co=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(N){return N},Y.Predictor2=function(N,O,z){return O[z+0]},Y.Predictor3=function(N,O,z){return O[z+1]},Y.Predictor4=function(N,O,z){return O[z-1]},Y.Predictor5=function(N,O,z){return an(an(N,O[z+1]),O[z+0])},Y.Predictor6=function(N,O,z){return an(N,O[z-1])},Y.Predictor7=function(N,O,z){return an(N,O[z+0])},Y.Predictor8=function(N,O,z){return an(O[z-1],O[z+0])},Y.Predictor9=function(N,O,z){return an(O[z+0],O[z+1])},Y.Predictor10=function(N,O,z){return an(an(N,O[z-1]),an(O[z+0],O[z+1]))},Y.Predictor11=function(N,O,z){var $=O[z+0];return 0>=sn($>>24&255,N>>24&255,(O=O[z-1])>>24&255)+sn($>>16&255,N>>16&255,O>>16&255)+sn($>>8&255,N>>8&255,O>>8&255)+sn(255&$,255&N,255&O)?$:N},Y.Predictor12=function(N,O,z){var $=O[z+0];return(dn((N>>24&255)+($>>24&255)-((O=O[z-1])>>24&255))<<24|dn((N>>16&255)+($>>16&255)-(O>>16&255))<<16|dn((N>>8&255)+($>>8&255)-(O>>8&255))<<8|dn((255&N)+(255&$)-(255&O)))>>>0},Y.Predictor13=function(N,O,z){var $=O[z-1];return(Dn((N=an(N,O[z+0]))>>24&255,$>>24&255)<<24|Dn(N>>16&255,$>>16&255)<<16|Dn(N>>8&255,$>>8&255)<<8|Dn(255&N,255&$))>>>0};var te=Y.PredictorAdd0;Y.PredictorAdd1=Fn,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var l=Y.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(N){return N>>8&255},function(N){return N}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(N){return N},function(N){return N>>8&255});var d,g=Y.ColorIndexInverseTransform,y=Y.MapARGB,x=Y.VP8LColorIndexInverseTransformAlpha,S=Y.MapAlpha,_=Y.VP8LPredictorsAdd=[];_.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var P,F,K,ne,ue,Ee,Oe,De,Ue,Ze,ft,dt,ut,cn,vn,Gr,ia,Ui,yr,zi,Wa,kl,al,Af,Ol,hs,Sf,Wo,jc=a(511),vd=a(2041),Ef=a(225),Cf=a(767),yd=0,Rl=vd,Nf=Ef,Ka=Cf,Ta=jc,xd=0,$a=1,bd=2,ps=3,_f=4,Mu=5,ic=6,Tf=7,wd=8,ku=9,Ad=10,gs=[2,3,7],Ou=[3,3,11],Bc=[280,256,256,256,40],Sd=[0,1,1,1,0],If=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ms=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ac=8,ys=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ko=null,K1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Z0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ed=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ia=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ti=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],er=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fo=[],Ci=[],js=[],oc=1,Q0=2,Pl=[],Ma=[];Fi("UpsampleRgbLinePair",Ls,3),Fi("UpsampleBgrLinePair",ei,3),Fi("UpsampleRgbaLinePair",ci,4),Fi("UpsampleBgraLinePair",ds,4),Fi("UpsampleArgbLinePair",fs,4),Fi("UpsampleRgba4444LinePair",il,2),Fi("UpsampleRgb565LinePair",us,2);var Fc=Y.UpsampleRgbLinePair,eh=Y.UpsampleBgrLinePair,Ru=Y.UpsampleRgbaLinePair,Cd=Y.UpsampleBgraLinePair,sc=Y.UpsampleArgbLinePair,ol=Y.UpsampleRgba4444LinePair,lc=Y.UpsampleRgb565LinePair,bs=16,Pu=1<<bs-1,Uc=-227,cc=482,Nd=6,uc=0,ka=a(256),_d=a(256),X1=a(256),r2=a(256),i2=a(cc-Uc),a2=a(cc-Uc);So("YuvToRgbRow",Ls,3),So("YuvToBgrRow",ei,3),So("YuvToRgbaRow",ci,4),So("YuvToBgraRow",ds,4),So("YuvToArgbRow",fs,4),So("YuvToRgba4444Row",il,2),So("YuvToRgb565Row",us,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Du=[0,2,8],Mf=[8,7,6,4,4,2,2,2,1,1,1,1],kf=1;this.WebPDecodeRGBA=function(N,O,z,$,oe){var fe=$a,de=new pt,ve=new Ct;de.ba=ve,ve.S=fe,ve.width=[ve.width],ve.height=[ve.height];var we=ve.width,_e=ve.height,Le=new Nt;if(Le==null||N==null)var Ke=2;else t(Le!=null),Ke=Go(N,O,z,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ke!=0?we=0:(we!=null&&(we[0]=Le.width[0]),_e!=null&&(_e[0]=Le.height[0]),we=1),we){ve.width=ve.width[0],ve.height=ve.height[0],$!=null&&($[0]=ve.width),oe!=null&&(oe[0]=ve.height);e:{if($=new Fo,(oe=new wt).data=N,oe.w=O,oe.ha=z,oe.kd=1,O=[0],t(oe!=null),((N=Go(oe.data,oe.w,oe.ha,null,null,null,O,null,oe))==0||N==7)&&O[0]&&(N=4),(O=N)==0){if(t(de!=null),$.data=oe.data,$.w=oe.w+oe.offset,$.ha=oe.ha-oe.offset,$.put=nn,$.ac=Nr,$.bc=Bi,$.ma=de,oe.xa){if((N=ha())==null){de=1;break e}if((function(Ne,Be){var Ge=[0],ct=[0],We=[0];t:for(;;){if(Ne==null)return 0;if(Be==null)return Ne.a=2,0;if(Ne.l=Be,Ne.a=0,Me(Ne.m,Be.data,Be.w,Be.ha),!is(Ne.m,Ge,ct,We)){Ne.a=3;break t}if(Ne.xb=Q0,Be.width=Ge[0],Be.height=ct[0],!jo(Ge[0],ct[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0})(N,$)){if($=(O=Eo($.width,$.height,de.Oa,de.ba))==0){t:{$=N;n:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((z=$.l)!=null),t((oe=z.ma)!=null),$.xb!=0){if($.ca=oe.ba,$.tb=oe.tb,t($.ca!=null),!Yo(oe.Oa,z,ps)){$.a=2;break n}if(!Bo($,z.width)||z.da)break n;if((z.da||hn($.ca.S))&&Vo(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Vo()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!be($.s.vb,$.s.Wa.Xa)){$.a=1;break n}$.xb=0}if(!da($,$.V,$.Ba,$.c,$.i,z.o,Ei))break n;oe.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(O=N.a)}else O=N.a}else{if((N=new co)==null){de=1;break e}if(N.Fa=oe.na,N.P=oe.P,N.qc=oe.Sa,as(N,$)){if((O=Eo($.width,$.height,de.Oa,de.ba))==0){if(N.Aa=0,z=de.Oa,t((oe=N)!=null),z!=null){if(0<(we=0>(we=z.Md)?0:100<we?255:255*we/100)){for(_e=Le=0;4>_e;++_e)12>(Ke=oe.pb[_e]).lc&&(Ke.ia=we*Mf[0>Ke.lc?0:Ke.lc]>>3),Le|=Ke.ia;Le&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=z.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(Ne,Be){if(Ne==null)return 0;if(Be==null)return An(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!as(Ne,Be))return 0;if(t(Ne.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(Ne.L=0);var Ge=Du[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Be.v-Ge>>4,Ne.zb=Be.j-Ge>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Be.o+15+Ge>>4,Ne.Hb=Be.va+15+Ge>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var ct=Ne.ed;for(Ge=0;4>Ge;++Ge){var We;if(Ne.Qa.Cb){var lt=Ne.Qa.Lb[Ge];Ne.Qa.Fb||(lt+=ct.Tb)}else lt=ct.Tb;for(We=0;1>=We;++We){var mt=Ne.gd[Ge][We],Et=lt;if(ct.Pc&&(Et+=ct.vd[0],We&&(Et+=ct.od[0])),0<(Et=0>Et?0:63<Et?63:Et)){var bt=Et;0<ct.wb&&(bt=4<ct.wb?bt>>2:bt>>1)>9-ct.wb&&(bt=9-ct.wb),1>bt&&(bt=1),mt.dd=bt,mt.tc=2*Et+bt,mt.ld=40<=Et?2:15<=Et?1:0}else mt.tc=0;mt.La=We}}}Ge=0}else An(Ne,6,"Frame setup failed"),Ge=Ne.a;if(Ge=Ge==0){if(Ge){Ne.$c=0,0<Ne.Aa||(Ne.Ic=kf);t:{Ge=Ne.Ic,ct=4*(bt=Ne.za);var Qt=32*bt,Ut=bt+1,kn=0<Ne.L?bt*(0<Ne.Aa?2:1):0,$t=(Ne.Aa==2?2:1)*bt;if((mt=ct+832+(We=3*(16*Ge+Du[Ne.L])/2*Qt)+(lt=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=mt)Ge=0;else{if(mt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=a(mt),Ne.Fc=0,Ne.Ec==null){Ge=An(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=mt}mt=Ne.Ec,Et=Ne.Fc,Ne.Ac=mt,Ne.Bc=Et,Et+=ct,Ne.Gd=s(Qt,$n),Ne.Hd=0,Ne.rb=s(Ut+1,ar),Ne.sb=1,Ne.wa=kn?s(kn,lo):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=bt),t(!0),Ne.oc=mt,Ne.pc=Et,Et+=832,Ne.ya=s($t,Pc),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=bt),Ne.R=16*bt,Ne.B=8*bt,bt=(Qt=Du[Ne.L])*Ne.R,Qt=Qt/2*Ne.B,Ne.sa=mt,Ne.ta=Et+bt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Ge*Ne.R+Qt,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Ge*Ne.B+Qt,Ne.$c=0,Et+=We,Ne.mb=lt?mt:null,Ne.nb=lt?Et:null,t(Et+lt<=Ne.Fc+Ne.Vb),xo(Ne),i(Ne.Ac,Ne.Bc,0,ct),Ge=1}}if(Ge){if(Be.ka=0,Be.y=Ne.sa,Be.O=Ne.ta,Be.f=Ne.qa,Be.N=Ne.ra,Be.ea=Ne.Ha,Be.Vd=Ne.Ia,Be.fa=Ne.R,Be.Rc=Ne.B,Be.F=null,Be.J=0,!yd){for(Ge=-255;255>=Ge;++Ge)jc[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)vd[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)Ef[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)Cf[255+Ge]=0>Ge?0:255<Ge?255:Ge;yd=1}Oe=Uo,De=Se,Ze=Lt,ft=si,dt=pa,Ue=Ye,ut=Ho,cn=Ds,vn=re,Gr=Ce,ia=tt,Ui=B,yr=Pe,zi=ze,Wa=Rs,kl=Ps,al=Tl,Af=or,Ci[0]=Iu,Ci[1]=_a,Ci[2]=qo,Ci[3]=pn,Ci[4]=gn,Ci[5]=Dc,Ci[6]=Qn,Ci[7]=Os,Ci[8]=uo,Ci[9]=qa,fo[0]=za,fo[1]=_r,fo[2]=nc,fo[3]=Tu,fo[4]=zo,fo[5]=Cl,fo[6]=Dr,js[0]=ss,js[1]=ln,js[2]=os,js[3]=tl,js[4]=li,js[5]=Nl,js[6]=Ha,Ge=1}else Ge=0}Ge&&(Ge=(function(Zn,ni){for(Zn.M=0;Zn.M<Zn.Va;++Zn.M){var Ln,zt=Zn.Jc[Zn.M&Zn.Xb],It=Zn.m,gi=Zn;for(Ln=0;Ln<gi.za;++Ln){var En=It,Un=gi,Tr=Un.Ac,aa=Un.Bc+4*Ln,Oa=Un.zc,Yr=Un.ya[Un.aa+Ln];if(Un.Qa.Bb?Yr.$b=He(En,Un.Pa.jb[0])?2+He(En,Un.Pa.jb[2]):He(En,Un.Pa.jb[1]):Yr.$b=0,Un.kc&&(Yr.Ad=He(En,Un.Bd)),Yr.Za=!He(En,145)+0,Yr.Za){var qi=Yr.Ob,Xa=0;for(Un=0;4>Un;++Un){var Hi,Kn=Oa[0+Un];for(Hi=0;4>Hi;++Hi){Kn=Ia[Tr[aa+Hi]][Kn];for(var ur=Ed[He(En,Kn[0])];0<ur;)ur=Ed[2*ur+He(En,Kn[ur])];Kn=-ur,Tr[aa+Hi]=Kn}r(qi,Xa,Tr,aa,4),Xa+=4,Oa[0+Un]=Kn}}else Kn=He(En,156)?He(En,128)?1:3:He(En,163)?2:0,Yr.Ob[0]=Kn,i(Tr,aa,Kn,4),i(Oa,0,Kn,4);Yr.Dd=He(En,142)?He(En,114)?He(En,183)?1:3:2:0}if(gi.m.Ka)return An(Zn,7,"Premature end-of-partition0 encountered.");for(;Zn.ja<Zn.za;++Zn.ja){if(gi=zt,En=(It=Zn).rb[It.sb-1],Tr=It.rb[It.sb+It.ja],Ln=It.ya[It.aa+It.ja],aa=It.kc?Ln.Ad:0)En.la=Tr.la=0,Ln.Za||(En.Na=Tr.Na=0),Ln.Hc=0,Ln.Gc=0,Ln.ia=0;else{var mi,xr;if(En=Tr,Tr=gi,aa=It.Pa.Xc,Oa=It.ya[It.aa+It.ja],Yr=It.pb[Oa.$b],Un=Oa.ad,qi=0,Xa=It.rb[It.sb-1],Kn=Hi=0,i(Un,qi,0,384),Oa.Za)var oa=0,vi=aa[3];else{ur=a(16);var fr=En.Na+Xa.Na;if(fr=Ko(Tr,aa[1],fr,Yr.Eb,0,ur,0),En.Na=Xa.Na=(0<fr)+0,1<fr)Oe(ur,0,Un,qi);else{var Li=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)Un[qi+ur]=Li}oa=1,vi=aa[0]}var Ir=15&En.la,Vi=15&Xa.la;for(ur=0;4>ur;++ur){var Gi=1&Vi;for(Li=xr=0;4>Li;++Li)Ir=Ir>>1|(Gi=(fr=Ko(Tr,vi,fr=Gi+(1&Ir),Yr.Sc,oa,Un,qi))>oa)<<7,xr=xr<<2|(3<fr?3:1<fr?2:Un[qi+0]!=0),qi+=16;Ir>>=4,Vi=Vi>>1|Gi<<7,Hi=(Hi<<8|xr)>>>0}for(vi=Ir,oa=Vi>>4,mi=0;4>mi;mi+=2){for(xr=0,Ir=En.la>>4+mi,Vi=Xa.la>>4+mi,ur=0;2>ur;++ur){for(Gi=1&Vi,Li=0;2>Li;++Li)fr=Gi+(1&Ir),Ir=Ir>>1|(Gi=0<(fr=Ko(Tr,aa[2],fr,Yr.Qc,0,Un,qi)))<<3,xr=xr<<2|(3<fr?3:1<fr?2:Un[qi+0]!=0),qi+=16;Ir>>=2,Vi=Vi>>1|Gi<<5}Kn|=xr<<4*mi,vi|=Ir<<4<<mi,oa|=(240&Vi)<<mi}En.la=vi,Xa.la=oa,Oa.Hc=Hi,Oa.Gc=Kn,Oa.ia=43690&Kn?0:Yr.ia,aa=!(Hi|Kn)}if(0<It.L&&(It.wa[It.Y+It.ja]=It.gd[Ln.$b][Ln.Za],It.wa[It.Y+It.ja].La|=!aa),gi.Ka)return An(Zn,7,"Premature end-of-file encountered.")}if(xo(Zn),It=ni,gi=1,Ln=(zt=Zn).D,En=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Ln.M=zt.M,Ln.uc=En,ui(zt,Ln),gi=1,Ln=(xr=zt.D).Nb,En=(Kn=Du[zt.L])*zt.R,Tr=Kn/2*zt.B,ur=16*Ln*zt.R,Li=8*Ln*zt.B,aa=zt.sa,Oa=zt.ta-En+ur,Yr=zt.qa,Un=zt.ra-Tr+Li,qi=zt.Ha,Xa=zt.Ia-Tr+Li,Vi=(Ir=xr.M)==0,Hi=Ir>=zt.Va-1,zt.Aa==2&&ui(zt,xr),xr.uc)for(Gi=(fr=zt).D.M,t(fr.D.uc),xr=fr.yb;xr<fr.Hb;++xr){oa=xr,vi=Gi;var jr=(cr=(Yi=fr).D).Nb;mi=Yi.R;var cr=cr.wa[cr.Y+oa],Ja=Yi.sa,Ni=Yi.ta+16*jr*mi+16*oa,mn=cr.dd,yn=cr.tc;if(yn!=0)if(t(3<=yn),Yi.L==1)0<oa&&kl(Ja,Ni,mi,yn+4),cr.La&&Af(Ja,Ni,mi,yn),0<vi&&Wa(Ja,Ni,mi,yn+4),cr.La&&al(Ja,Ni,mi,yn);else{var dr=Yi.B,No=Yi.qa,ws=Yi.ra+8*jr*dr+8*oa,ho=Yi.Ha,Yi=Yi.Ia+8*jr*dr+8*oa;jr=cr.ld,0<oa&&(cn(Ja,Ni,mi,yn+4,mn,jr),Gr(No,ws,ho,Yi,dr,yn+4,mn,jr)),cr.La&&(Ui(Ja,Ni,mi,yn,mn,jr),zi(No,ws,ho,Yi,dr,yn,mn,jr)),0<vi&&(ut(Ja,Ni,mi,yn+4,mn,jr),vn(No,ws,ho,Yi,dr,yn+4,mn,jr)),cr.La&&(ia(Ja,Ni,mi,yn,mn,jr),yr(No,ws,ho,Yi,dr,yn,mn,jr))}}if(zt.ia&&alert("todo:DitherRow"),It.put!=null){if(xr=16*Ir,Ir=16*(Ir+1),Vi?(It.y=zt.sa,It.O=zt.ta+ur,It.f=zt.qa,It.N=zt.ra+Li,It.ea=zt.Ha,It.W=zt.Ia+Li):(xr-=Kn,It.y=aa,It.O=Oa,It.f=Yr,It.N=Un,It.ea=qi,It.W=Xa),Hi||(Ir-=Kn),Ir>It.o&&(Ir=It.o),It.F=null,It.J=null,zt.Fa!=null&&0<zt.Fa.length&&xr<Ir&&(It.J=Ot(zt,It,xr,Ir-xr),It.F=zt.mb,It.F==null&&It.F.length==0)){gi=An(zt,3,"Could not decode alpha data.");break t}xr<It.j&&(Kn=It.j-xr,xr=It.j,t(!(1&Kn)),It.O+=zt.R*Kn,It.N+=zt.B*(Kn>>1),It.W+=zt.B*(Kn>>1),It.F!=null&&(It.J+=It.width*Kn)),xr<Ir&&(It.O+=It.v,It.N+=It.v>>1,It.W+=It.v>>1,It.F!=null&&(It.J+=It.v),It.ka=xr-It.j,It.U=It.va-It.v,It.T=Ir-xr,gi=It.put(It))}Ln+1!=zt.Ic||Hi||(r(zt.sa,zt.ta-En,aa,Oa+16*zt.R,En),r(zt.qa,zt.ra-Tr,Yr,Un+8*zt.B,Tr),r(zt.Ha,zt.Ia-Tr,qi,Xa+8*zt.B,Tr))}if(!gi)return An(Zn,6,"Output aborted.")}return 1})(Ne,Be)),Be.bc!=null&&Be.bc(Be),Ge&=1}return Ge?(Ne.cb=0,Ge):0})(N,$)||(O=N.a)}}else O=N.a}O==0&&de.Oa!=null&&de.Oa.fd&&(O=Lc(de.ba))}de=O}fe=de!=0?null:11>fe?ve.f.RGBA.eb:ve.f.kb.y}else fe=null;return fe};var Td=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(Y,me){for(var X="",J=0;J<4;J++)X+=String.fromCharCode(Y[me++]);return X}function p(Y,me){return Y[me+0]|Y[me+1]<<8}function v(Y,me){return(Y[me+0]|Y[me+1]<<8|Y[me+2]<<16)>>>0}function E(Y,me){return(Y[me+0]|Y[me+1]<<8|Y[me+2]<<16|Y[me+3]<<24)>>>0}new h;var A=[0],k=[0],I=[],R=new h,L=e,q=(function(Y,me){var X={},J=0,ie=!1,se=0,ae=0;if(X.frames=[],!(function(V,le){for(var ce=0;ce<4;ce++)if(V[le+ce]!="RIFF".charCodeAt(ce))return!0;return!1})(Y,me)){for(E(Y,me+=4),me+=8;me<Y.length;){var he=f(Y,me),Ae=E(Y,me+=4);me+=4;var Te=Ae+(1&Ae);switch(he){case"VP8 ":case"VP8L":X.frames[J]===void 0&&(X.frames[J]={}),(ye=X.frames[J]).src_off=ie?ae:me-8,ye.src_size=se+Ae+8,J++,ie&&(ie=!1,se=0,ae=0);break;case"VP8X":(ye=X.header={}).feature_flags=Y[me];var Me=me+4;ye.canvas_width=1+v(Y,Me),Me+=3,ye.canvas_height=1+v(Y,Me),Me+=3;break;case"ALPH":ie=!0,se=Te+8,ae=me-8;break;case"ANIM":(ye=X.header).bgcolor=E(Y,me),Me=me+4,ye.loop_count=p(Y,Me),Me+=2;break;case"ANMF":var Qe,ye;(ye=X.frames[J]={}).offset_x=2*v(Y,me),me+=3,ye.offset_y=2*v(Y,me),me+=3,ye.width=1+v(Y,me),me+=3,ye.height=1+v(Y,me),me+=3,ye.duration=v(Y,me),me+=3,Qe=Y[me++],ye.dispose=1&Qe,ye.blend=Qe>>1&1}he!="ANMF"&&(me+=Te)}return X}})(L,0);q.response=L,q.rgbaoutput=!0,q.dataurl=!1;var U=q.header?q.header:null,H=q.frames?q.frames:null;if(U){U.loop_counter=U.loop_count,A=[U.canvas_height],k=[U.canvas_width];for(var W=0;W<H.length&&H[W].blend!=0;W++);}var Q=H[0],G=R.WebPDecodeRGBA(L,Q.src_off,Q.src_size,k,A);Q.rgba=G,Q.imgwidth=k[0],Q.imgheight=A[0];for(var ee=0;ee<k[0]*A[0]*4;ee++)I[ee]=G[ee];return this.width=k,this.height=A,this.data=I,this}(function(e){var t,n,r,i,a,s,c,h,f,p=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new h,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new s,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new s,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var v=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var le=V;Object.defineProperty(this,"pdf",{get:function(){return le}});var ce=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ce},set:function(be){ce=!!be}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(be){pe=!!be}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(be){isNaN(be)||(xe=be)}});var ke=0;Object.defineProperty(this,"posY",{get:function(){return ke},set:function(be){isNaN(be)||(ke=be)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(be){var At;typeof be=="number"?At=[be,be,be,be]:((At=new Array(4))[0]=be[0],At[1]=be.length>=2?be[1]:At[0],At[2]=be.length>=3?be[2]:At[0],At[3]=be.length>=4?be[3]:At[1]),f.margin=At}});var Fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fe},set:function(be){Fe=be}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(be){Ie=be}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(be){He=be}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(be){be instanceof p&&(f=be)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(be){f.path=be}});var nt=[];Object.defineProperty(this,"ctxStack",{get:function(){return nt},set:function(be){nt=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var At;At=E(be),this.ctx.fillStyle=At.style,this.ctx.isFillTransparent=At.a===0,this.ctx.fillOpacity=At.a,this.pdf.setFillColor(At.r,At.g,At.b,{a:At.a}),this.pdf.setTextColor(At.r,At.g,At.b,{a:At.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var At=E(be);this.ctx.strokeStyle=At.style,this.ctx.isStrokeTransparent=At.a===0,this.ctx.strokeOpacity=At.a,At.a===0?this.pdf.setDrawColor(255,255,255):(At.a,this.pdf.setDrawColor(At.r,At.g,At.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var Ve=null,gt=null,St=null;Object.defineProperty(this,"fontFaces",{get:function(){return St},set:function(be){Ve=null,gt=null,St=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var At;if(this.ctx.font=be,(At=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(be))!==null){var Dt=At[1];At[2];var Tt=At[3],rt=At[4];At[5];var Zt=At[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(st==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var rn=(function(Kt){var Jr,tn,ot=[],jt=Kt.trim();if(jt==="")return Nb;if(jt in V6)return[V6[jt]];for(;jt!=="";){switch(tn=null,Jr=(jt=Y6(jt)).charAt(0)){case'"':case"'":tn=X1e(jt.substring(1),Jr);break;default:tn=J1e(jt)}if(tn===null||(ot.push(tn[0]),(jt=Y6(tn[1]))!==""&&jt.charAt(0)!==","))return Nb;jt=jt.replace(/^,/,"")}return ot})(Zt);if(this.fontFaces){var an=(function(Kt,Jr){var tn=Kt.getFontList(),ot=JSON.stringify(tn);if(Ve===null||gt!==ot){var jt=(function(Ft){var kt=[];return Object.keys(Ft).forEach(function(ir){Ft[ir].forEach(function(hn){var wn=null;switch(hn){case"bold":wn={family:ir,weight:"bold"};break;case"italic":wn={family:ir,style:"italic"};break;case"bolditalic":wn={family:ir,weight:"bold",style:"italic"};break;case"":case"normal":wn={family:ir}}wn!==null&&(wn.ref={name:ir,style:hn},kt.push(wn))})}),kt})(tn);Ve=(function(Ft){for(var kt={},ir=0;ir<Ft.length;++ir){var hn=Cb(Ft[ir]),wn=hn.family,at=hn.stretch,Ct=hn.style,Nt=hn.weight;kt[wn]=kt[wn]||{},kt[wn][at]=kt[wn][at]||{},kt[wn][at][Ct]=kt[wn][at][Ct]||{},kt[wn][at][Ct][Nt]=hn}return kt})(jt.concat(Jr)),gt=ot}return Ve})(this.pdf,this.fontFaces),dn=rn.map(function(Kt){return{family:Kt,stretch:"normal",weight:Tt,style:Dt}}),Dn=(function(Kt,Jr,tn){for(var ot=(tn=tn||{}).defaultFontFamily||"times",jt=Object.assign({},$1e,tn.genericFontFamilies||{}),Ft=null,kt=null,ir=0;ir<Jr.length;++ir)if(jt[(Ft=Cb(Jr[ir])).family]&&(Ft.family=jt[Ft.family]),Kt.hasOwnProperty(Ft.family)){kt=Kt[Ft.family];break}if(!(kt=kt||Kt[ot]))throw new Error("Could not find a font-family for the rule '"+G6(Ft)+"' and default family '"+ot+"'.");if(kt=(function(hn,wn){if(wn[hn])return wn[hn];var at=p5[hn],Ct=at<=p5.normal?-1:1,Nt=H6(wn,jL,at,Ct);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+hn);return Nt})(Ft.stretch,kt),kt=(function(hn,wn){if(wn[hn])return wn[hn];for(var at=LL[hn],Ct=0;Ct<at.length;++Ct)if(wn[at[Ct]])return wn[at[Ct]];throw new Error("Could not find a matching font-style for "+hn)})(Ft.style,kt),!(kt=(function(hn,wn){if(wn[hn])return wn[hn];if(hn===400&&wn[500])return wn[500];if(hn===500&&wn[400])return wn[400];var at=K1e[hn],Ct=H6(wn,BL,at,hn<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+hn);return Ct})(Ft.weight,kt)))throw new Error("Failed to resolve a font for the rule '"+G6(Ft)+"'.");return kt})(an,dn);this.pdf.setFont(Dn.ref.name,Dn.ref.style)}else{var sn="";(Tt==="bold"||parseInt(Tt,10)>=700||Dt==="bold")&&(sn="bold"),Dt==="italic"&&(sn+="italic"),sn.length===0&&(sn="normal");for(var Fn="",Sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<rn.length;Rt++){if(this.pdf.internal.getFont(rn[Rt],sn,{noFallback:!0,disableWarning:!0})!==void 0){Fn=rn[Rt];break}if(sn==="bolditalic"&&this.pdf.internal.getFont(rn[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fn=rn[Rt],sn="bold";else if(this.pdf.internal.getFont(rn[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fn=rn[Rt],sn="normal";break}}if(Fn===""){for(var Tn=0;Tn<rn.length;Tn++)if(Sn[rn[Tn]]){Fn=Sn[rn[Tn]];break}}Fn=Fn===""?"Times":Fn,this.pdf.setFont(Fn,sn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};v.prototype.setLineDash=function(V){this.lineDash=V},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){H.call(this,"fill",!1)},v.prototype.stroke=function(){H.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(V,le){if(isNaN(V)||isNaN(le))throw ii.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ce=this.ctx.transform.applyToPoint(new s(V,le));this.path.push({type:"mt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(V,le)},v.prototype.closePath=function(){var V=new s(0,0),le=0;for(le=this.path.length-1;le!==-1;le--)if(this.path[le].type==="begin"&&qr(this.path[le+1])==="object"&&typeof this.path[le+1].x=="number"){V=new s(this.path[le+1].x,this.path[le+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(V.x,V.y)},v.prototype.lineTo=function(V,le){if(isNaN(V)||isNaN(le))throw ii.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ce=this.ctx.transform.applyToPoint(new s(V,le));this.path.push({type:"lt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},v.prototype.quadraticCurveTo=function(V,le,ce,pe){if(isNaN(ce)||isNaN(pe)||isNaN(V)||isNaN(le))throw ii.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new s(ce,pe)),ke=this.ctx.transform.applyToPoint(new s(V,le));this.path.push({type:"qct",x1:ke.x,y1:ke.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},v.prototype.bezierCurveTo=function(V,le,ce,pe,xe,ke){if(isNaN(xe)||isNaN(ke)||isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe))throw ii.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fe=this.ctx.transform.applyToPoint(new s(xe,ke)),Ie=this.ctx.transform.applyToPoint(new s(V,le)),He=this.ctx.transform.applyToPoint(new s(ce,pe));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:He.x,y2:He.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new s(Fe.x,Fe.y)},v.prototype.arc=function(V,le,ce,pe,xe,ke){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe)||isNaN(xe))throw ii.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ke=!!ke,!this.ctx.transform.isIdentity){var Fe=this.ctx.transform.applyToPoint(new s(V,le));V=Fe.x,le=Fe.y;var Ie=this.ctx.transform.applyToPoint(new s(0,ce)),He=this.ctx.transform.applyToPoint(new s(0,0));ce=Math.sqrt(Math.pow(Ie.x-He.x,2)+Math.pow(Ie.y-He.y,2))}Math.abs(xe-pe)>=2*Math.PI&&(pe=0,xe=2*Math.PI),this.path.push({type:"arc",x:V,y:le,radius:ce,startAngle:pe,endAngle:xe,counterclockwise:ke})},v.prototype.arcTo=function(V,le,ce,pe,xe){throw new Error("arcTo not implemented.")},v.prototype.rect=function(V,le,ce,pe){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe))throw ii.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,le),this.lineTo(V+ce,le),this.lineTo(V+ce,le+pe),this.lineTo(V,le+pe),this.lineTo(V,le),this.lineTo(V+ce,le),this.lineTo(V,le)},v.prototype.fillRect=function(V,le,ce,pe){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe))throw ii.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,le,ce,pe),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},v.prototype.strokeRect=function(V,le,ce,pe){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe))throw ii.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(V,le,ce,pe),this.stroke())},v.prototype.clearRect=function(V,le,ce,pe){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe))throw ii.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,le,ce,pe))},v.prototype.save=function(V){V=typeof V!="boolean"||V;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("q");if(this.pdf.setPage(le),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},v.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("Q");this.pdf.setPage(le),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(V){var le,ce,pe,xe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))le=0,ce=0,pe=0,xe=0;else{var ke=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ke!==null)le=parseInt(ke[1]),ce=parseInt(ke[2]),pe=parseInt(ke[3]),xe=1;else if((ke=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)le=parseInt(ke[1]),ce=parseInt(ke[2]),pe=parseInt(ke[3]),xe=parseFloat(ke[4]);else{if(xe=1,typeof V=="string"&&V.charAt(0)!=="#"){var Fe=new IL(V);V=Fe.ok?Fe.toHex():"#000000"}V.length===4?(le=V.substring(1,2),le+=le,ce=V.substring(2,3),ce+=ce,pe=V.substring(3,4),pe+=pe):(le=V.substring(1,3),ce=V.substring(3,5),pe=V.substring(5,7)),le=parseInt(le,16),ce=parseInt(ce,16),pe=parseInt(pe,16)}}return{r:le,g:ce,b:pe,a:xe,style:V}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(V,le,ce,pe){if(isNaN(le)||isNaN(ce)||typeof V!="string")throw ii.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!A.call(this)){var xe=Te(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;J.call(this,{text:V,x:le,y:ce,scale:ke,angle:xe,align:this.textAlign,maxWidth:pe})}},v.prototype.strokeText=function(V,le,ce,pe){if(isNaN(le)||isNaN(ce)||typeof V!="string")throw ii.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){pe=isNaN(pe)?void 0:pe;var xe=Te(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;J.call(this,{text:V,x:le,y:ce,scale:ke,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:pe})}},v.prototype.measureText=function(V){if(typeof V!="string")throw ii.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var le=this.pdf,ce=this.pdf.internal.scaleFactor,pe=le.internal.getFontSize(),xe=le.getStringUnitWidth(V)*pe/le.internal.scaleFactor;return new function(ke){var Fe=(ke=ke||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Fe}}),this}({width:xe*=Math.round(96*ce/72*1e4)/1e4})},v.prototype.scale=function(V,le){if(isNaN(V)||isNaN(le))throw ii.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ce=new h(V,0,0,le,0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},v.prototype.rotate=function(V){if(isNaN(V))throw ii.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var le=new h(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(le)},v.prototype.translate=function(V,le){if(isNaN(V)||isNaN(le))throw ii.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ce=new h(1,0,0,1,V,le);this.ctx.transform=this.ctx.transform.multiply(ce)},v.prototype.transform=function(V,le,ce,pe,xe,ke){if(isNaN(V)||isNaN(le)||isNaN(ce)||isNaN(pe)||isNaN(xe)||isNaN(ke))throw ii.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fe=new h(V,le,ce,pe,xe,ke);this.ctx.transform=this.ctx.transform.multiply(Fe)},v.prototype.setTransform=function(V,le,ce,pe,xe,ke){V=isNaN(V)?1:V,le=isNaN(le)?0:le,ce=isNaN(ce)?0:ce,pe=isNaN(pe)?1:pe,xe=isNaN(xe)?0:xe,ke=isNaN(ke)?0:ke,this.ctx.transform=new h(V,le,ce,pe,xe,ke)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(V,le,ce,pe,xe,ke,Fe,Ie,He){var nt=this.pdf.getImageProperties(V),Ve=1,gt=1,St=1,be=1;pe!==void 0&&Ie!==void 0&&(St=Ie/pe,be=He/xe,Ve=nt.width/pe*Ie/pe,gt=nt.height/xe*He/xe),ke===void 0&&(ke=le,Fe=ce,le=0,ce=0),pe!==void 0&&Ie===void 0&&(Ie=pe,He=xe),pe===void 0&&Ie===void 0&&(Ie=nt.width,He=nt.height);var At=this.ctx.transform.decompose(),Dt=Te(At.rotate.shx),Tt=new h,rt=(Tt=(Tt=(Tt=Tt.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new c(ke-le*St,Fe-ce*be,pe*Ve,xe*gt));if(this.autoPaging){for(var Zt,st=R.call(this,rt),rn=[],an=0;an<st.length;an+=1)rn.indexOf(st[an])===-1&&rn.push(st[an]);U(rn);for(var dn=rn[0],Dn=rn[rn.length-1],sn=dn;sn<Dn+1;sn++){this.pdf.setPage(sn);var Fn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Sn=sn===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=sn===1?0:Rt+(sn-2)*Tn;if(this.ctx.clip_path.length!==0){var Jr=this.path;Zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(Zt,this.posX+this.margin[3],-Kt+Sn+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Jr}var tn=JSON.parse(JSON.stringify(rt));tn=q([tn],this.posX+this.margin[3],-Kt+Sn+this.ctx.prevPageLastElemOffset)[0];var ot=(sn>dn||sn<Dn)&&I.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fn,Tn,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,Dt),ot&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,Dt)};var R=function(V,le,ce){var pe=[];le=le||this.pdf.internal.pageSize.width,ce=ce||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":pe.push(Math.floor((V.y+xe)/ce)+1);break;case"arc":pe.push(Math.floor((V.y+xe-V.radius)/ce)+1),pe.push(Math.floor((V.y+xe+V.radius)/ce)+1);break;case"qct":var ke=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);pe.push(Math.floor((ke.y+xe)/ce)+1),pe.push(Math.floor((ke.y+ke.h+xe)/ce)+1);break;case"bct":var Fe=Qe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);pe.push(Math.floor((Fe.y+xe)/ce)+1),pe.push(Math.floor((Fe.y+Fe.h+xe)/ce)+1);break;case"rect":pe.push(Math.floor((V.y+xe)/ce)+1),pe.push(Math.floor((V.y+V.h+xe)/ce)+1)}for(var Ie=0;Ie<pe.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Ie];)L.call(this);return pe},L=function(){var V=this.fillStyle,le=this.strokeStyle,ce=this.font,pe=this.lineCap,xe=this.lineWidth,ke=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=le,this.font=ce,this.lineCap=pe,this.lineWidth=xe,this.lineJoin=ke},q=function(V,le,ce){for(var pe=0;pe<V.length;pe++)switch(V[pe].type){case"bct":V[pe].x2+=le,V[pe].y2+=ce;case"qct":V[pe].x1+=le,V[pe].y1+=ce;default:V[pe].x+=le,V[pe].y+=ce}return V},U=function(V){return V.sort(function(le,ce){return le-ce})},H=function(V,le){var ce=this.fillStyle,pe=this.strokeStyle,xe=this.lineCap,ke=this.lineWidth,Fe=Math.abs(ke*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var He,nt,Ve=JSON.parse(JSON.stringify(this.path)),gt=JSON.parse(JSON.stringify(this.path)),St=[],be=0;be<gt.length;be++)if(gt[be].x!==void 0)for(var At=R.call(this,gt[be]),Dt=0;Dt<At.length;Dt+=1)St.indexOf(At[Dt])===-1&&St.push(At[Dt]);for(var Tt=0;Tt<St.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<St[Tt];)L.call(this);U(St);for(var rt=St[0],Zt=St[St.length-1],st=rt;st<Zt+1;st++){this.pdf.setPage(st),this.fillStyle=ce,this.strokeStyle=pe,this.lineCap=xe,this.lineWidth=Fe,this.lineJoin=Ie;var rn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],an=st===1?this.posY+this.margin[0]:this.margin[0],dn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],sn=st===1?0:dn+(st-2)*Dn;if(this.ctx.clip_path.length!==0){var Fn=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(He,this.posX+this.margin[3],-sn+an+this.ctx.prevPageLastElemOffset),W.call(this,V,!0),this.path=Fn}if(nt=JSON.parse(JSON.stringify(Ve)),this.path=q(nt,this.posX+this.margin[3],-sn+an+this.ctx.prevPageLastElemOffset),le===!1||st===0){var Sn=(st>rt||st<Zt)&&I.call(this);Sn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rn,Dn,null).clip().discardPath()),W.call(this,V,le),Sn&&this.pdf.restoreGraphicsState()}this.lineWidth=ke}this.path=Ve}else this.lineWidth=Fe,W.call(this,V,le),this.lineWidth=ke},W=function(V,le){if((V!=="stroke"||le||!k.call(this))&&(V==="stroke"||le||!A.call(this))){for(var ce,pe,xe=[],ke=this.path,Fe=0;Fe<ke.length;Fe++){var Ie=ke[Fe];switch(Ie.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:Ie,deltas:[],abs:[]});break;case"lt":var He=xe.length;if(ke[Fe-1]&&!isNaN(ke[Fe-1].x)&&(ce=[Ie.x-ke[Fe-1].x,Ie.y-ke[Fe-1].y],He>0)){for(;He>=0;He--)if(xe[He-1].close!==!0&&xe[He-1].begin!==!0){xe[He-1].deltas.push(ce),xe[He-1].abs.push(Ie);break}}break;case"bct":ce=[Ie.x1-ke[Fe-1].x,Ie.y1-ke[Fe-1].y,Ie.x2-ke[Fe-1].x,Ie.y2-ke[Fe-1].y,Ie.x-ke[Fe-1].x,Ie.y-ke[Fe-1].y],xe[xe.length-1].deltas.push(ce);break;case"qct":var nt=ke[Fe-1].x+2/3*(Ie.x1-ke[Fe-1].x),Ve=ke[Fe-1].y+2/3*(Ie.y1-ke[Fe-1].y),gt=Ie.x+2/3*(Ie.x1-Ie.x),St=Ie.y+2/3*(Ie.y1-Ie.y),be=Ie.x,At=Ie.y;ce=[nt-ke[Fe-1].x,Ve-ke[Fe-1].y,gt-ke[Fe-1].x,St-ke[Fe-1].y,be-ke[Fe-1].x,At-ke[Fe-1].y],xe[xe.length-1].deltas.push(ce);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(Ie)}}pe=le?null:V==="stroke"?"stroke":"fill";for(var Dt=!1,Tt=0;Tt<xe.length;Tt++)if(xe[Tt].arc)for(var rt=xe[Tt].abs,Zt=0;Zt<rt.length;Zt++){var st=rt[Zt];st.type==="arc"?ee.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,le,!Dt):ie.call(this,st.x,st.y),Dt=!0}else if(xe[Tt].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(xe[Tt].begin!==!0){var rn=xe[Tt].start.x,an=xe[Tt].start.y;se.call(this,xe[Tt].deltas,rn,an),Dt=!0}pe&&Y.call(this,pe),le&&me.call(this)}},Q=function(V){var le=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ce=le*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ce;case"top":return V+le-ce;case"hanging":return V+le-2*ce;case"middle":return V+le/2-ce;default:return V}},G=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(le,ce){this.colorStops.push([le,ce])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ee=function(V,le,ce,pe,xe,ke,Fe,Ie,He){for(var nt=he.call(this,ce,pe,xe,ke),Ve=0;Ve<nt.length;Ve++){var gt=nt[Ve];Ve===0&&(He?X.call(this,gt.x1+V,gt.y1+le):ie.call(this,gt.x1+V,gt.y1+le)),ae.call(this,V,le,gt.x2,gt.y2,gt.x3,gt.y3,gt.x4,gt.y4)}Ie?me.call(this):Y.call(this,Fe)},Y=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},me=function(){this.pdf.clip(),this.pdf.discardPath()},X=function(V,le){this.pdf.internal.out(n(V)+" "+r(le)+" m")},J=function(V){var le;switch(V.align){case"right":case"end":le="right";break;case"center":le="center";break;default:le="left"}var ce,pe,xe,ke=this.pdf.getTextDimensions(V.text),Fe=Q.call(this,V.y),Ie=G.call(this,Fe)-ke.h,He=this.ctx.transform.applyToPoint(new s(V.x,Fe));if(this.autoPaging){var nt=this.ctx.transform.decompose(),Ve=new h;Ve=(Ve=(Ve=Ve.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale);for(var gt=this.ctx.transform.applyToRectangle(new c(V.x,Fe,ke.w,ke.h)),St=Ve.applyToRectangle(new c(V.x,Ie,ke.w,ke.h)),be=R.call(this,St),At=[],Dt=0;Dt<be.length;Dt+=1)At.indexOf(be[Dt])===-1&&At.push(be[Dt]);U(At);for(var Tt=At[0],rt=At[At.length-1],Zt=Tt;Zt<rt+1;Zt++){this.pdf.setPage(Zt);var st=Zt===1?this.posY+this.margin[0]:this.margin[0],rn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],an=this.pdf.internal.pageSize.height-this.margin[2],dn=an-this.margin[0],Dn=this.pdf.internal.pageSize.width-this.margin[1],sn=Dn-this.margin[3],Fn=Zt===1?0:rn+(Zt-2)*dn;if(this.ctx.clip_path.length!==0){var Sn=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=q(ce,this.posX+this.margin[3],-1*Fn+st),W.call(this,"fill",!0),this.path=Sn}var Rt=q([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-Fn+st+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*V.scale),xe=this.lineWidth,this.lineWidth=xe*V.scale);var Tn=this.autoPaging!=="text";if(Tn||Rt.y+Rt.h<=an){if(Tn||Rt.y>=st&&Rt.x<=Dn){var Kt=Tn?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Dn-Rt.x)[0],Jr=q([JSON.parse(JSON.stringify(gt))],this.posX+this.margin[3],-Fn+st+this.ctx.prevPageLastElemOffset)[0],tn=Tn&&(Zt>Tt||Zt<rt)&&I.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,dn,null).clip().discardPath()),this.pdf.text(Kt,Jr.x,Jr.y,{angle:V.angle,align:le,renderingMode:V.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else Rt.y<an&&(this.ctx.prevPageLastElemOffset+=an-Rt.y);V.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=xe)}}else V.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*V.scale),xe=this.lineWidth,this.lineWidth=xe*V.scale),this.pdf.text(V.text,He.x+this.posX,He.y+this.posY,{angle:V.angle,align:le,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=xe)},ie=function(V,le,ce,pe){ce=ce||0,pe=pe||0,this.pdf.internal.out(n(V+ce)+" "+r(le+pe)+" l")},se=function(V,le,ce){return this.pdf.lines(V,le,ce,null,null)},ae=function(V,le,ce,pe,xe,ke,Fe,Ie){this.pdf.internal.out([t(i(ce+V)),t(a(pe+le)),t(i(xe+V)),t(a(ke+le)),t(i(Fe+V)),t(a(Ie+le)),"c"].join(" "))},he=function(V,le,ce,pe){for(var xe=2*Math.PI,ke=Math.PI/2;le>ce;)le-=xe;var Fe=Math.abs(ce-le);Fe<xe&&pe&&(Fe=xe-Fe);for(var Ie=[],He=pe?-1:1,nt=le;Fe>1e-5;){var Ve=nt+He*Math.min(Fe,ke);Ie.push(Ae.call(this,V,nt,Ve)),Fe-=Math.abs(Ve-nt),nt=Ve}return Ie},Ae=function(V,le,ce){var pe=(ce-le)/2,xe=V*Math.cos(pe),ke=V*Math.sin(pe),Fe=xe,Ie=-ke,He=Fe*Fe+Ie*Ie,nt=He+Fe*xe+Ie*ke,Ve=4/3*(Math.sqrt(2*He*nt)-nt)/(Fe*ke-Ie*xe),gt=Fe-Ve*Ie,St=Ie+Ve*Fe,be=gt,At=-St,Dt=pe+le,Tt=Math.cos(Dt),rt=Math.sin(Dt);return{x1:V*Math.cos(le),y1:V*Math.sin(le),x2:gt*Tt-St*rt,y2:gt*rt+St*Tt,x3:be*Tt-At*rt,y3:be*rt+At*Tt,x4:V*Math.cos(ce),y4:V*Math.sin(ce)}},Te=function(V){return 180*V/Math.PI},Me=function(V,le,ce,pe,xe,ke){var Fe=V+.5*(ce-V),Ie=le+.5*(pe-le),He=xe+.5*(ce-xe),nt=ke+.5*(pe-ke),Ve=Math.min(V,xe,Fe,He),gt=Math.max(V,xe,Fe,He),St=Math.min(le,ke,Ie,nt),be=Math.max(le,ke,Ie,nt);return new c(Ve,St,gt-Ve,be-St)},Qe=function(V,le,ce,pe,xe,ke,Fe,Ie){var He,nt,Ve,gt,St,be,At,Dt,Tt,rt,Zt,st,rn,an,dn=ce-V,Dn=pe-le,sn=xe-ce,Fn=ke-pe,Sn=Fe-xe,Rt=Ie-ke;for(nt=0;nt<41;nt++)Tt=(At=(Ve=V+(He=nt/40)*dn)+He*((St=ce+He*sn)-Ve))+He*(St+He*(xe+He*Sn-St)-At),rt=(Dt=(gt=le+He*Dn)+He*((be=pe+He*Fn)-gt))+He*(be+He*(ke+He*Rt-be)-Dt),nt==0?(Zt=Tt,st=rt,rn=Tt,an=rt):(Zt=Math.min(Zt,Tt),st=Math.min(st,rt),rn=Math.max(rn,Tt),an=Math.max(an,rt));return new c(Math.round(Zt),Math.round(st),Math.round(rn-Zt),Math.round(an-st))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,le,ce=(V=this.ctx.lineDash,le=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:le}));this.prevLineDash!==ce&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ce)}}})(fn.API),(function(e){var t=function(s){var c,h,f,p,v,E,A,k,I,R;for(h=[],f=0,p=(s+=c="\0\0\0\0".slice(s.length%4||4)).length;p>f;f+=4)(v=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(E=(v=((v=((v=((v=(v-(R=v%85))/85)-(I=v%85))/85)-(k=v%85))/85)-(A=v%85))/85)%85,h.push(E+33,A+33,k+33,I+33,R+33)):h.push(122);return(function(L,q){for(var U=q;U>0;U--)L.pop()})(h,c.length),String.fromCharCode.apply(String,h)+"~>"},n=function(s){var c,h,f,p,v,E=String,A="length",k=255,I="charCodeAt",R="slice",L="replace";for(s[R](-2),s=s[R](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),f=[],p=0,v=(s+=c="uuuuu"[R](s[A]%5||5))[A];v>p;p+=5)h=52200625*(s[I](p)-33)+614125*(s[I](p+1)-33)+7225*(s[I](p+2)-33)+85*(s[I](p+3)-33)+(s[I](p+4)-33),f.push(k&h>>24,k&h>>16,k&h>>8,k&h);return(function(q,U){for(var H=U;H>0;H--)q.pop()})(f,c[A]),E.fromCharCode.apply(E,f)},r=function(s){return s.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),c.test(s)===!1)return"";for(var h="",f=0;f<s.length;f+=2)h+=String.fromCharCode("0x"+(s[f]+s[f+1]));return h},a=function(s){for(var c=new Uint8Array(s.length),h=s.length;h--;)c[h]=s.charCodeAt(h);return(c=s5(c)).reduce(function(f,p){return f+String.fromCharCode(p)},"")};e.processDataByFilters=function(s,c){var h=0,f=s||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),h=0;h<c.length;h+=1)switch(c[h]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=a(f),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[h]+'" is not implemented')}return{data:f,reverseChain:p.reverse().join(" ")}}})(fn.API),(function(e){e.loadFile=function(t,n,r){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var c=void 0;try{c=(function(h,f,p){var v=new XMLHttpRequest,E=0,A=function(k){var I=k.length,R=[],L=String.fromCharCode;for(E=0;E<I;E+=1)R.push(L(255&k.charCodeAt(E)));return R.join("")};if(v.open("GET",h,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(A(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return A(v.responseText)})(i,a,s)}catch{}return c})(t,n,r)},e.loadImageFile=e.loadFile})(fn.API),(function(e){function t(){return(On.html2canvas?Promise.resolve(On.html2canvas):sb(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(On.DOMPurify?Promise.resolve(On.DOMPurify):sb(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var h=qr(c);return h==="undefined"?"undefined":h==="string"||c instanceof String?"string":h==="number"||c instanceof Number?"number":h==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":h==="object"?"object":"unknown"},i=function(c,h){var f=document.createElement(c);for(var p in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[p]=h.style[p];return f},a=function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||p.appendChild(c(v,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p},s=function c(h){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),f);return(p=p.setProgress(1,c,1,[c])).set(h)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(c,h){return c.__proto__=h||s.prototype,c},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(c,h){return this.then(function(){switch(h=h||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),h){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},s.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(h){var f=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=p,p)for(var A=0;A<p.length;++A){var k=p[A],I=k.src.find(function(R){return R.format==="truetype"});I&&f.addFont(I.url,k.ref.name,k.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,f.context2d.save(!0),h(this.prop.container,E)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(c,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,h):this.outputPdf(c,h)},s.prototype.outputPdf=function(c,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,h)})},s.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},s.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(c){if(r(c)!=="object")return this;var h=Object.keys(c||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(h)})},s.prototype.get=function(c,h){return this.then(function(){var f=c in s.template.prop?this.prop[c]:this.opt[c];return h?h(f):f})},s.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},s.prototype.setPageSize=function(c){function h(f,p){return Math.floor(f*p/72*96)}return this.then(function(){(c=c||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:h(c.inner.width,c.k),height:h(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},s.prototype.setProgress=function(c,h,f,p){return c!=null&&(this.progress.val=c),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(c,h,f,p){return this.setProgress(c?this.progress.val+c:null,h||null,f?this.progress.n+f:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(c,h){var f=this;return this.thenCore(c,h,function(p,v){return f.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(E){return f.updateProgress(null,p),E}).then(p,v).then(function(E){return f.updateProgress(1),E})})},s.prototype.thenCore=function(c,h,f){f=f||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),h&&(h=h.bind(p));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:s.convert(Object.assign({},p),Promise.prototype),E=f.call(v,c,h);return s.convert(E,p.__proto__)},s.prototype.thenExternal=function(c,h){return Promise.prototype.then.call(this,c,h)},s.prototype.thenList=function(c){var h=this;return c.forEach(function(f){h=h.thenCore(f)}),h},s.prototype.catch=function(c){c&&(c=c.bind(this));var h=Promise.prototype.catch.call(this,c);return s.convert(h,this)},s.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},s.prototype.error=function(c){return this.then(function(){throw new Error(c)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,fn.getPageSize=function(c,h,f){if(qr(c)==="object"){var p=c;c=p.orientation,h=p.unit||h,f=p.format||f}h=h||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var v,E=(""+f).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+h}var k,I=0,R=0;if(A.hasOwnProperty(E))I=A[E][1]/v,R=A[E][0]/v;else try{I=f[1],R=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",R>I&&(k=R,R=I,I=k);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",I>R&&(k=R,R=I,I=k)}return{width:R,height:I,unit:h,k:v,orientation:c}},e.html=function(c,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(Cb):null;var f=new s(h);return h.worker?f:f.from(c).doCallback()}})(fn.API),fn.API.addJS=function(e){return K6=e,this.internal.events.subscribe("postPutResources",function(){pg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),W6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pg!==void 0&&W6!==void 0&&this.internal.out("/Names <</JavaScript "+pg+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],c=r.exec(s);if(c!=null){var h=c[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var v=n.internal.newObject();p.push(v);var E=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var c=this.count=this.count_r({count:0},s);if(c>0&&this.line("/Count "+c),s.options&&s.options.pageNumber){var h=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(fn.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,s,c){var h,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,h=(function(v){for(var E,A=256*v.charCodeAt(4)+v.charCodeAt(5),k=v.length,I={width:0,height:0,numcomponents:1},R=4;R<k;R+=2){if(R+=A,t.indexOf(v.charCodeAt(R+1))!==-1){E=256*v.charCodeAt(R+5)+v.charCodeAt(R+6),I={width:256*v.charCodeAt(R+7)+v.charCodeAt(R+8),height:E,numcomponents:v.charCodeAt(R+9)};break}A=256*v.charCodeAt(R+2)+v.charCodeAt(R+3)}return I})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),h.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:n,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:f,index:r,alias:i}}return p}})(fn.API),fn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=P1e(e,{checkCrc:!0}),s=a.width,c=a.height,h=a.channels,f=a.palette,p=a.depth;i=f&&h===1?(function(ee){for(var Y=ee.width,me=ee.height,X=ee.data,J=ee.palette,ie=ee.depth,se=!1,ae=[],he=[],Ae=void 0,Te=!1,Me=0,Qe=0;Qe<J.length;Qe++){var ye=ZI(J[Qe],4),V=ye[0],le=ye[1],ce=ye[2],pe=ye[3];ae.push(V,le,ce),pe!=null&&(pe===0?(Me++,he.length<1&&he.push(Qe)):pe<255&&(Te=!0))}if(Te||Me>1){se=!0,he=void 0;var xe=Y*me;Ae=new Uint8Array(xe);for(var ke=new DataView(X.buffer),Fe=0;Fe<xe;Fe++){var Ie=_b(ke,Fe,ie),He=ZI(J[Ie],4)[3];Ae[Fe]=He}}else Me===0&&(he=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:se?8:void 0,colorBytes:X,alphaBytes:Ae,needSMask:se,palette:ae,mask:he}})(a):h===2||h===4?(function(ee){for(var Y=ee.data,me=ee.width,X=ee.height,J=ee.channels,ie=ee.depth,se=J===2?"DeviceGray":"DeviceRGB",ae=J-1,he=me*X,Ae=ae,Te=he*Ae,Me=1*he,Qe=Math.ceil(Te*ie/8),ye=Math.ceil(Me*ie/8),V=new Uint8Array(Qe),le=new Uint8Array(ye),ce=new DataView(Y.buffer),pe=new DataView(V.buffer),xe=new DataView(le.buffer),ke=!1,Fe=0;Fe<he;Fe++){for(var Ie=Fe*J,He=0;He<Ae;He++)rM(pe,_b(ce,Ie+He,ie),Fe*Ae+He,ie);var nt=_b(ce,Ie+Ae,ie);nt<(1<<ie)-1&&(ke=!0),rM(xe,nt,1*Fe,ie)}return{colorSpace:se,colorsPerPixel:ae,sMaskBitsPerComponent:ke?ie:void 0,colorBytes:V,alphaBytes:le,needSMask:ke}})(a):(function(ee){var Y=ee.data,me=ee.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:me,colorsPerPixel:me==="DeviceGray"?1:3,colorBytes:Y instanceof Uint16Array?(function(X){for(var J=X.length,ie=new Uint8Array(2*J),se=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),ae=0;ae<J;ae++)se.setUint16(2*ae,X[ae],!1);return ie})(Y):Y,needSMask:!1}})(a);var v,E,A,k=i,I=k.colorSpace,R=k.colorsPerPixel,L=k.sMaskBitsPerComponent,q=k.colorBytes,U=k.alphaBytes,H=k.needSMask,W=k.palette,Q=k.mask,G=null;return r!==fn.API.image_compression.NONE&&typeof s5=="function"?(G=(function(ee){var Y;switch(ee){case fn.API.image_compression.FAST:Y=11;break;case fn.API.image_compression.MEDIUM:Y=13;break;case fn.API.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(r),v=this.decode.FLATE_DECODE,E="/Predictor ".concat(G," /Colors ").concat(R," /BitsPerComponent ").concat(p," /Columns ").concat(s),e=Z6(q,Math.ceil(s*R*p/8),R,p,r),H&&(A=Z6(U,Math.ceil(s*L/8),1,L,r))):(v=void 0,E=void 0,e=q,H&&(A=U)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:n,data:e,index:t,filter:v,decodeParameters:E,transparency:Q,palette:W,sMask:A,predictor:G,width:s,height:c,bitsPerComponent:p,sMaskBitsPerComponent:L,colorSpace:I}}},(function(e){e.processGIF89A=function(t,n,r,i){var a=new tpe(t),s=a.width,c=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:s,height:c},p=new Tb(100).encode(f,100);return e.processJPEG.call(this,p,n,r,i)},e.processGIF87A=e.processGIF89A})(fn.API),zl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ii.log("bit decode error:"+n)}},zl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var h=this.palette[a>>7-c&1];this.data[s+4*c]=h.blue,this.data[s+4*c+1]=h.green,this.data[s+4*c+2]=h.red,this.data[s+4*c+3]=255}n!==0&&(this.pos+=4-n)}},zl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,c=a>>4,h=15&a,f=this.palette[c];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*i+1>=this.width)break;f=this.palette[h],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},zl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},zl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,h=(a>>10&t)/t*255|0,f=a>>15?255:0,p=r*this.width*4+4*i;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=s,this.data[p+3]=f}this.pos+=e}},zl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&t)/t*255|0,h=(s>>5&n)/n*255|0,f=(s>>11)/t*255|0,p=i*this.width*4+4*a;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=e}},zl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},zl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=s}},zl.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var a=new zl(t,!1),s=a.width,c=a.height,h={data:a.getData(),width:s,height:c},f=new Tb(100).encode(h,100);return e.processJPEG.call(this,f,n,r,i)}})(fn.API),aM.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var a=new aM(t),s=a.width,c=a.height,h={data:a.getData(),width:s,height:c},f=new Tb(100).encode(h,100);return e.processJPEG.call(this,f,n,r,i)}})(fn.API),fn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),c=0,h=0,f=0;f<i;f+=4){var p=r[f],v=r[f+1],E=r[f+2],A=r[f+3];a[c++]=p,a[c++]=v,a[c++]=E,s[h++]=A}var k=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:k,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},fn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},t0=fn.API,gg=t0.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,h=c.fof?c.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=t.doKerning!==!1,E=0,A=e.length,k=0,I=c[0]||h,R=[];for(n=0;n<A;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(E=v&&qr(f[r])==="object"&&!isNaN(parseInt(f[r][k],10))?f[r][k]/p:0,R.push((c[r]||I)/h+E)),k=r;return R},$6=t0.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return t0.processArabic&&(e=t0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:gg.apply(this,arguments).reduce(function(a,s){return a+s},0)},X6=function(e,t,n,r){for(var i=[],a=0,s=e.length,c=0;a!==s&&c+t[a]<n;)c+=t[a],a++;i.push(e.slice(0,a));var h=a;for(c=0;a!==s;)c+t[a]>r&&(i.push(e.slice(h,a)),c=0,h=a),c+=t[a],a++;return h!==a&&i.push(e.slice(h,a)),i},J6=function(e,t,n){n||(n={});var r,i,a,s,c,h,f,p=[],v=[p],E=n.textIndent||0,A=0,k=0,I=e.split(" "),R=gg.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var L=Array(h).join(" "),q=[];I.map(function(H){(H=H.split(/\s*\n/)).length>1?q=q.concat(H.map(function(W,Q){return(Q&&W.length?`
`:"")+W})):q.push(H[0])}),I=q,h=$6.apply(this,[L,n])}for(a=0,s=I.length;a<s;a++){var U=0;if(r=I[a],h&&r[0]==`
`&&(r=r.substr(1),U=1),E+A+(k=(i=gg.apply(this,[r,n])).reduce(function(H,W){return H+W},0))>t||U){if(k>t){for(c=X6.apply(this,[r,i,t-(E+A),t]),p.push(c.shift()),p=[c.pop()];c.length;)v.push([c.shift()]);k=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(H,W){return H+W},0)}else p=[r];v.push(p),E=k+h,A=R}else p.push(r),E+=A+k,A=R}return f=h?function(H,W){return(W?L:"")+H.join(" ")}:function(H){return H.join(" ")},v.map(f)},t0.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle),E="Unicode";return v.metadata[E]?{widths:v.metadata[E].widths||{0:1},kerning:v.metadata[E].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var c,h,f=[];for(c=0,h=r.length;c<h;c++)f=f.concat(J6.apply(this,[r[c],s,a]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var s=function(E){return"0x"+parseInt(E,10).toString(16)},c=e.__fontmetrics__.compress=function(E){var A,k,I,R,L=["{"];for(var q in E){if(A=E[q],isNaN(parseInt(q,10))?k="'"+q+"'":(q=parseInt(q,10),k=(k=s(q).slice(2)).slice(0,-1)+i[k.slice(-1)]),typeof A=="number")A<0?(I=s(A).slice(3),R="-"):(I=s(A).slice(2),R=""),I=R+I.slice(0,-1)+i[I.slice(-1)];else{if(qr(A)!=="object")throw new Error("Don't know what to do with value type "+qr(A)+".");I=c(A)}L.push(k+I)}return L.push("}"),L.join("")},h=e.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,k,I,R,L={},q=1,U=L,H=[],W="",Q="",G=E.length-1,ee=1;ee<G;ee+=1)(R=E[ee])=="'"?A?(I=A.join(""),A=void 0):A=[]:A?A.push(R):R=="{"?(H.push([U,I]),U={},I=void 0):R=="}"?((k=H.pop())[0][k[1]]=U,I=void 0,U=k[0]):R=="-"?q=-1:I===void 0?r.hasOwnProperty(R)?(W+=r[R],I=parseInt(W,16)*q,q=1,W=""):W+=R:r.hasOwnProperty(R)?(Q+=r[R],U[I]=parseInt(Q,16)*q,q=1,I=void 0,Q=""):Q+=R;return L},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},v={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(E){var A=E.font,k=v.Unicode[A.postScriptName];k&&(A.metadata.Unicode={},A.metadata.Unicode.widths=k.widths,A.metadata.Unicode.kerning=k.kerning);var I=p.Unicode[A.postScriptName];I&&(A.metadata.Unicode.encoding=I,A.encoding=I.codePages[0])}])})(fn.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(_g(c)),s.metadata=e.API.TTFFont.open(c),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])})(fn),fn.API.addSvgAsImage=function(e,t,n,r,i,a,s,c){if(isNaN(t)||isNaN(n))throw ii.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ii.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=i;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(On.canvg?Promise.resolve(On.canvg):sb(()=>import("./index.es-CY3nUxfC.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(f,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(p)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),t,n,r,i,s,c)})},fn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},fn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(s),h=[],f=0,p=0,v=0;function E(k,I){var R,L=!1;for(R=0;R<k.length;R+=1)k[R]===I&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=c.length;for(v=0;v<A;v+=1)n[c[v]].value=n[c[v]].defaultValue,n[c[v]].explicitSet=!1}if(qr(e)==="object"){for(i in e)if(a=e[i],E(c,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&E(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")h.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(r=!1);r===!0&&h.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+h.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,I=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?I.push("/"+k+" /"+n[k].value):I.push("/"+k+" "+n[k].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+c.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+c+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(fn.API),(function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var c,h=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,E=a.length;v<E;++v){if(c=s.metadata.characterToGlyph(a.charCodeAt(v)),s.metadata.glyIdsUsed.push(c),s.metadata.toUnicode[c]=a.charCodeAt(v),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(s.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},r=function(a){var s,c,h,f,p,v,E;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],v=0,E=(c=Object.keys(a).sort(function(A,k){return A-k})).length;v<E;v++)s=c[v],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),h.push("<"+s+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var c=s.font,h=s.out,f=s.newObject,p=s.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,E=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),A="",k=0;k<E.length;k++)A+=String.fromCharCode(E[k]);var I=f();p({data:A,addLength1:!0,objectId:I}),h("endobj");var R=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:R}),h("endobj");var L=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+o0(c.fontName)),h("/FontFile2 "+I+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var q=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+o0(c.fontName)),h("/FontDescriptor "+L+" 0 R"),h("/W "+e.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+R+" 0 R"),h("/BaseFont /"+o0(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+q+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var c=s.font,h=s.out,f=s.newObject,p=s.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,E="",A=0;A<v.length;A++)E+=String.fromCharCode(v[A]);var k=f();p({data:E,addLength1:!0,objectId:k}),h("endobj");var I=f();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:I}),h("endobj");var R=f();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+k+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+o0(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=f();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+o0(c.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,c=a.text||"",h=a.x,f=a.y,p=a.options||{},v=a.mutex||{},E=v.pdfEscape,A=v.activeFontKey,k=v.fonts,I=A,R="",L=0,q="",U=k[I].encoding;if(k[I].encoding!=="Identity-H")return{text:c,x:h,y:f,options:p,mutex:v};for(q=c,I=A,Array.isArray(c)&&(q=c[0]),L=0;L<q.length;L+=1)k[I].metadata.hasOwnProperty("cmap")&&(s=k[I].metadata.cmap.unicode.codeMap[q[L].charCodeAt(0)]),s||q[L].charCodeAt(0)<256&&k[I].metadata.hasOwnProperty("Unicode")?R+=q[L]:R+="";var H="";return parseInt(I.slice(1))<14||U==="WinAnsiEncoding"?H=E(R,I).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(H=n(R,k[I])),v.isHex=!0,{text:H,x:h,y:f,options:p,mutex:v}};t.events.push(["postProcessText",function(a){var s=a.text||"",c=[],h={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?c.push([i(Object.assign({},h,{text:s[f][0]})).text,s[f][1],s[f][2]]):c.push(i(Object.assign({},h,{text:s[f]})).text);a.text=c}else a.text=i(Object.assign({},h,{text:s})).text}])})(fn),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(fn.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,c,h,f,p,v=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),q=!1,U=0;this.__bidiEngine__={};var H=function(X){var J=X.charCodeAt(),ie=J>>8,se=I[ie];return se!==void 0?v[256*se+(255&J)]:ie===252||ie===253?"AL":L.test(ie)?"L":ie===8?"R":"N"},W=function(X){for(var J,ie=0;ie<X.length;ie++){if((J=H(X.charAt(ie)))==="L")return!1;if(J==="R")return!0}return!1},Q=function(X,J,ie,se){var ae,he,Ae,Te,Me=J[se];switch(Me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":q=!1;break;case"N":case"AN":break;case"EN":q&&(Me="AN");break;case"AL":q=!0,Me="R";break;case"WS":case"BN":Me="N";break;case"CS":se<1||se+1>=J.length||(ae=ie[se-1])!=="EN"&&ae!=="AN"||(he=J[se+1])!=="EN"&&he!=="AN"?Me="N":q&&(he="AN"),Me=he===ae?he:"N";break;case"ES":Me=(ae=se>0?ie[se-1]:"B")==="EN"&&se+1<J.length&&J[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&ie[se-1]==="EN"){Me="EN";break}if(q){Me="N";break}for(Ae=se+1,Te=J.length;Ae<Te&&J[Ae]==="ET";)Ae++;Me=Ae<Te&&J[Ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!c){for(Te=J.length,Ae=se+1;Ae<Te&&J[Ae]==="NSM";)Ae++;if(Ae<Te){var Qe=X[se],ye=Qe>=1425&&Qe<=2303||Qe===64286;if(ae=J[Ae],ye&&(ae==="R"||ae==="AL")){Me="R";break}}}Me=se<1||(ae=J[se-1])==="B"?"N":ie[se-1];break;case"B":q=!1,i=!0,Me=U;break;case"S":a=!0,Me="N"}return Me},G=function(X,J,ie){var se=X.split("");return ie&&ee(se,ie,{hiLevel:U}),se.reverse(),J&&J.reverse(),se.join("")},ee=function(X,J,ie){var se,ae,he,Ae,Te,Me=-1,Qe=X.length,ye=0,V=[],le=U?A:E,ce=[];for(q=!1,i=!1,a=!1,ae=0;ae<Qe;ae++)ce[ae]=H(X[ae]);for(he=0;he<Qe;he++){if(Te=ye,V[he]=Q(X,ce,V,he),se=240&(ye=le[Te][k[V[he]]]),ye&=15,J[he]=Ae=le[ye][5],se>0)if(se===16){for(ae=Me;ae<he;ae++)J[ae]=1;Me=-1}else Me=-1;if(le[ye][6])Me===-1&&(Me=he);else if(Me>-1){for(ae=Me;ae<he;ae++)J[ae]=Ae;Me=-1}ce[he]==="B"&&(J[he]=0),ie.hiLevel|=Ae}a&&(function(pe,xe,ke){for(var Fe=0;Fe<ke;Fe++)if(pe[Fe]==="S"){xe[Fe]=U;for(var Ie=Fe-1;Ie>=0&&pe[Ie]==="WS";Ie--)xe[Ie]=U}})(ce,J,Qe)},Y=function(X,J,ie,se,ae){if(!(ae.hiLevel<X)){if(X===1&&U===1&&!i)return J.reverse(),void(ie&&ie.reverse());for(var he,Ae,Te,Me,Qe=J.length,ye=0;ye<Qe;){if(se[ye]>=X){for(Te=ye+1;Te<Qe&&se[Te]>=X;)Te++;for(Me=ye,Ae=Te-1;Me<Ae;Me++,Ae--)he=J[Me],J[Me]=J[Ae],J[Ae]=he,ie&&(he=ie[Me],ie[Me]=ie[Ae],ie[Ae]=he);ye=Te}ye++}}},me=function(X,J,ie){var se=X.split(""),ae={hiLevel:U};return ie||(ie=[]),ee(se,ie,ae),(function(he,Ae,Te){if(Te.hiLevel!==0&&p)for(var Me,Qe=0;Qe<he.length;Qe++)Ae[Qe]===1&&(Me=R.indexOf(he[Qe]))>=0&&(he[Qe]=R[Me+1])})(se,ie,ae),Y(2,se,J,ie,ae),Y(1,se,J,ie,ae),se.join("")};return this.__bidiEngine__.doBidiReorder=function(X,J,ie){if((function(ae,he){if(he)for(var Ae=0;Ae<ae.length;Ae++)he[Ae]=Ae;c===void 0&&(c=W(ae)),f===void 0&&(f=W(ae))})(X,J),s||!h||f)if(s&&h&&c^f)U=c?1:0,X=G(X,J,ie);else if(!s&&h&&f)U=c?1:0,X=me(X,J,ie),X=G(X,J);else if(!s||c||h||f){if(s&&!h&&c^f)X=G(X,J),c?(U=0,X=me(X,J,ie)):(U=1,X=me(X,J,ie),X=G(X,J));else if(s&&c&&!h&&f)U=1,X=me(X,J,ie),X=G(X,J);else if(!s&&!h&&c^f){var se=p;c?(U=1,X=me(X,J,ie),U=0,p=!1,X=me(X,J,ie),p=se):(U=0,X=me(X,J,ie),X=G(X,J),U=1,p=!1,X=me(X,J,ie),p=se,X=G(X,J))}}else U=0,X=me(X,J,ie);else U=c?1:0,X=me(X,J,ie);return X},this.__bidiEngine__.setOptions=function(X){X&&(s=X.isInputVisual,h=X.isOutputVisual,c=X.isInputRtl,f=X.isOutputRtl,p=X.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(s=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?s.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):s.push([n.doBidiReorder(i[c])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(fn),fn.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new gf(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new mpe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new npe(this.contents),this.head=new ipe(this),this.name=new cpe(this),this.cmap=new UL(this),this.toUnicode={},this.hhea=new ape(this),this.maxp=new upe(this),this.hmtx=new fpe(this),this.post=new spe(this),this.os2=new ope(this),this.loca=new gpe(this),this.glyf=new dpe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,c,h,f;for(f=[],s=0,c=(h=this.bbox).length;s<c;s++)t=h[s],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,s,c;for(s=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var tc,gf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,s,c,h;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),c=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^c)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*s+256*c+h},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e})(),npe=(function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,s,c,h,f,p,v,E,A,k,I;for(I in A=Object.keys(n).length,h=Math.log(2),v=16*Math.floor(Math.log(A)/h),s=Math.floor(v/h),p=16*A-v,(i=new gf).writeInt(this.scalarType),i.writeShort(A),i.writeShort(v),i.writeShort(s),i.writeShort(p),a=16*A,f=i.pos+a,c=null,k=[],n)for(E=n[I],i.writeString(I),i.writeInt(e(E)),i.writeInt(f),i.writeInt(E.length),k=k.concat(E),I==="head"&&(c=f),f+=E.length;f%4;)k.push(0),f++;return i.write(k),r=2981146554-e(i.data),i.pos=c+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,s;for(n=zL.call(n);n.length%4;)n.push(0);for(a=new gf(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),rpe={}.hasOwnProperty,Rc=function(e,t){for(var n in t)rpe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};tc=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var ipe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new gf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),oM=(function(){function e(t,n){var r,i,a,s,c,h,f,p,v,E,A,k,I,R,L,q,U;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(A=t.readUInt16(),E=A/2,t.pos+=6,a=(function(){var H,W;for(W=[],h=H=0;0<=E?H<E:H>E;h=0<=E?++H:--H)W.push(t.readUInt16());return W})(),t.pos+=2,I=(function(){var H,W;for(W=[],h=H=0;0<=E?H<E:H>E;h=0<=E?++H:--H)W.push(t.readUInt16());return W})(),f=(function(){var H,W;for(W=[],h=H=0;0<=E?H<E:H>E;h=0<=E?++H:--H)W.push(t.readUInt16());return W})(),p=(function(){var H,W;for(W=[],h=H=0;0<=E?H<E:H>E;h=0<=E?++H:--H)W.push(t.readUInt16());return W})(),i=(this.length-t.pos+this.offset)/2,c=(function(){var H,W;for(W=[],h=H=0;0<=i?H<i:H>i;h=0<=i?++H:--H)W.push(t.readUInt16());return W})(),h=L=0,U=a.length;L<U;h=++L)for(R=a[h],r=q=k=I[h];k<=R?q<=R:q>=R;r=k<=R?++q:--q)p[h]===0?s=r+f[h]:(s=c[p[h]/2+(r-k)-(E-h)]||0)!==0&&(s+=f[h]),this.codeMap[r]=65535&s}t.pos=v}return e.encode=function(t,n){var r,i,a,s,c,h,f,p,v,E,A,k,I,R,L,q,U,H,W,Q,G,ee,Y,me,X,J,ie,se,ae,he,Ae,Te,Me,Qe,ye,V,le,ce,pe,xe,ke,Fe,Ie,He,nt,Ve;switch(se=new gf,s=Object.keys(t).sort(function(gt,St){return gt-St}),n){case"macroman":for(I=0,R=(function(){var gt=[];for(k=0;k<256;++k)gt.push(0);return gt})(),q={0:0},a={},ae=0,Me=s.length;ae<Me;ae++)q[Ie=t[i=s[ae]]]==null&&(q[Ie]=++I),a[i]={old:t[i],new:q[t[i]]},R[i]=q[t[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(R),{charMap:a,subtable:se.data,maxGlyphID:I+1};case"unicode":for(J=[],v=[],U=0,q={},r={},L=f=null,he=0,Qe=s.length;he<Qe;he++)q[W=t[i=s[he]]]==null&&(q[W]=++U),r[i]={old:W,new:q[W]},c=q[W]-i,L!=null&&c===f||(L&&v.push(L),J.push(i),f=c),L=i;for(L&&v.push(L),v.push(65535),J.push(65535),me=2*(Y=J.length),ee=2*Math.pow(Math.log(Y)/Math.LN2,2),E=Math.log(ee/2)/Math.LN2,G=2*Y-ee,h=[],Q=[],A=[],k=Ae=0,ye=J.length;Ae<ye;k=++Ae){if(X=J[k],p=v[k],X===65535){h.push(0),Q.push(0);break}if(X-(ie=r[X].new)>=32768)for(h.push(0),Q.push(2*(A.length+Y-k)),i=Te=X;X<=p?Te<=p:Te>=p;i=X<=p?++Te:--Te)A.push(r[i].new);else h.push(ie-X),Q.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*Y+2*A.length),se.writeUInt16(0),se.writeUInt16(me),se.writeUInt16(ee),se.writeUInt16(E),se.writeUInt16(G),ke=0,V=v.length;ke<V;ke++)i=v[ke],se.writeUInt16(i);for(se.writeUInt16(0),Fe=0,le=J.length;Fe<le;Fe++)i=J[Fe],se.writeUInt16(i);for(He=0,ce=h.length;He<ce;He++)c=h[He],se.writeUInt16(c);for(nt=0,pe=Q.length;nt<pe;nt++)H=Q[nt],se.writeUInt16(H);for(Ve=0,xe=A.length;Ve<xe;Ve++)I=A[Ve],se.writeUInt16(I);return{charMap:r,subtable:se.data,maxGlyphID:U+1}}},e})(),UL=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new oM(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=oM.encode(t,n),(i=new gf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e})(),ape=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),ope=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),spe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var s,c,h;for(h=[],a=s=0,c=this.file.maxp.numGlyphs;0<=c?s<c:s>c;a=0<=c?++s:--s)h.push(t.readUInt32());return h}).call(this)}},e})(),lpe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},cpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,s,c,h,f,p,v,E;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},a=p=0,v=r.length;p<v;a=++p)i=r[a],t.pos=i.offset,f=t.readString(i.length),s=new lpe(f,i),h[E=i.nameID]==null&&(h[E]=[]),h[i.nameID].push(s);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e})(),upe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),fpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,s,c,h;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,p;for(p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(t.readInt16());return p})(),this.widths=(function(){var f,p,v,E;for(E=[],f=0,p=(v=this.metrics).length;f<p;f++)a=v[f],E.push(a.advance);return E}).call(this),r=this.widths[this.widths.length-1],h=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)h.push(this.widths.push(r));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),zL=[].slice,dpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,s,c,h,f,p,v;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,s=(c=new gf(n.read(i))).readShort(),f=c.readShort(),v=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[t]=s===-1?new ppe(c,f,v,h,p):new hpe(c,s,f,v,h,p),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,s,c,h;for(s=[],a=[],c=0,h=n.length;c<h;c++)i=t[n[c]],a.push(s.length),i&&(s=s.concat(i.encode(r)));return a.push(s.length),{table:s,offsets:a}},e})(),hpe=(function(){function e(t,n,r,i,a,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),ppe=(function(){function e(t,n,r,i,a){var s,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;c=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&c;)s.pos+=1&c?4:2,128&c?s.pos+=8:64&c?s.pos+=4:8&c&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new gf(zL.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),gpe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Rc(e,tc),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<r.length;++s)if(r[s]=i,a<n.length&&n[a]==s){++a,r[s]=i;var c=this.offsets[s],h=this.offsets[s+1]-c;h>0&&(i+=h)}for(var f=new Array(4*r.length),p=0;p<r.length;++p)f[4*p+3]=255&r[p],f[4*p+2]=(65280&r[p])>>8,f[4*p+1]=(16711680&r[p])>>16,f[4*p]=(4278190080&r[p])>>24;return f},e})(),mpe=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,s,c,h;for(i={},s=0,c=t.length;s<c;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in h=this.glyphsFor(n))r=h[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,s,c,h,f,p,v,E,A,k,I,R,L;for(i in r=UL.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),A={0:0},L=r.charMap)A[(h=L[i]).old]=h.new;for(k in E=r.maxGlyphID,s)k in A||(A[k]=E++);return p=(function(q){var U,H;for(U in H={},q)H[q[U]]=U;return H})(A),v=Object.keys(p).sort(function(q,U){return q-U}),I=(function(){var q,U,H;for(H=[],q=0,U=v.length;q<U;q++)c=v[q],H.push(p[c]);return H})(),a=this.font.glyf.encode(s,I,A),f=this.font.loca.encode(a.offsets,I),R={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},e})();fn.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,s;if(Array.isArray(n))return"["+(function(){var c,h,f;for(f=[],c=0,h=n.length;c<h;c++)r=n[c],f.push(t.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)s=n[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t})();const vpe=(e,t,n="Inventariando")=>{const r=new fn,i=r.internal.pageSize.getWidth(),a=10,s=i-2*a;let c=a;r.setFontSize(16),r.setTextColor(0,0,0),r.text(n,a,c),c+=8,r.setFontSize(10),r.setTextColor(100,100,100),r.text(`Factura #${e.id.slice(0,8)}`,a,c),c+=5,r.text(`Fecha: ${new Date(e.date).toLocaleDateString("es-AR")}`,a,c),c+=5,r.text(`Hora: ${new Date(e.date).toLocaleTimeString("es-AR")}`,a,c),c+=10,r.setFontSize(9),r.setTextColor(0,0,0),r.setFont(void 0,"bold"),r.text("Producto",a,c),r.text("Cantidad",a+s*.5,c),r.text("Precio",a+s*.7,c),r.text("Total",a+s*.85,c),c+=6,r.setDrawColor(200,200,200),r.line(a,c-2,i-a,c-2),r.setFont(void 0,"normal"),r.setTextColor(0,0,0),e.items.forEach(f=>{const p=t.find(A=>A.id===f.productId),v=(p==null?void 0:p.name)||"Producto desconocido",E=f.quantity*f.price;r.text(v.substring(0,30),a,c),r.text(f.quantity.toString(),a+s*.5,c),r.text(zn(f.price),a+s*.7,c),r.text(zn(E),a+s*.85,c),c+=6}),c+=2,r.setDrawColor(200,200,200),r.line(a,c,i-a,c),c+=6,r.setFont(void 0,"bold"),r.setTextColor(0,0,0),e.items.reduce((f,p)=>f+p.quantity*p.price,0),r.text("TOTAL:",a+s*.6,c),r.text(zn(e.total),a+s*.85,c),c+=10,r.setFontSize(9),r.setFont(void 0,"normal"),r.text(`Mtodo de pago: ${e.paymentMethod||"No especificado"}`,a,c),c+=5,e.fiscalType&&(r.text(`Tipo: ${e.fiscalType}`,a,c),c+=5),c+=10,r.setFontSize(8),r.setTextColor(150,150,150),r.text("Gracias por su compra!",i/2,c,{align:"center"});const h=`factura_${e.id.slice(0,8)}_${new Date().toISOString().split("T")[0]}.pdf`;r.save(h)},ype=({sales:e,onNewSale:t,isDark:n,onToggleTheme:r})=>{const[i,a]=j.useState("OVERVIEW"),[s,c]=j.useState("WEEK"),h=j.useMemo(()=>{const p=new Date,v=p.getMonth(),E=new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime(),A=e.filter(ee=>ee.date>=E),k=A.reduce((ee,Y)=>ee+Y.total,0),I=e.filter(ee=>new Date(ee.date).getMonth()===v),R=I.reduce((ee,Y)=>ee+Y.total,0),L=p.getDate(),q=new Date(p.getFullYear(),p.getMonth()+1,0).getDate(),U=L>0?R/L*q:0,H={};I.forEach(ee=>{ee.items.forEach(Y=>{H[Y.productId]||(H[Y.productId]={name:Y.productName,qty:0,revenue:0}),H[Y.productId].qty+=Y.quantity,H[Y.productId].revenue+=Y.quantity*Y.price})});const W=Object.values(H).sort((ee,Y)=>Y.qty-ee.qty).slice(0,5),Q=[],G=s==="WEEK"?7:30;for(let ee=G-1;ee>=0;ee--){const Y=new Date;Y.setDate(Y.getDate()-ee);const me=Y.toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit"}),X=new Date(Y.getFullYear(),Y.getMonth(),Y.getDate()).getTime(),J=X+1440*60*1e3,ie=e.filter(se=>se.date>=X&&se.date<J).reduce((se,ae)=>se+ae.total,0);Q.push({name:me,total:ie})}return{todayRevenue:k,todayCount:A.length,monthRevenue:R,projectedRevenue:U,bestSellers:W,chartData:Q}},[e,s]),f=j.useMemo(()=>{const p=new Date,v=p.getMonth(),E=p.getFullYear(),A=new Date(p.getFullYear(),p.getMonth()-1,1),k=A.getMonth(),I=A.getFullYear(),R=(ee,Y)=>{const me=new Date(Y,ee+1,0).getDate(),X=new Array(me).fill(0);return e.filter(J=>{const ie=new Date(J.date);return ie.getMonth()===ee&&ie.getFullYear()===Y}).forEach(J=>{const ie=new Date(J.date).getDate()-1;ie>=0&&ie<me&&(X[ie]+=J.total)}),X},L=R(v,E),q=R(k,I),U=L.map((ee,Y)=>({day:Y+1,Actual:ee,Anterior:q[Y]||0})),H=L.reduce((ee,Y)=>ee+Y,0),W=q.reduce((ee,Y)=>ee+Y,0),Q=H-W,G=W>0?Q/W*100:0;return{chartData:U,totalCurrent:H,totalPrev:W,percentChange:G,currentMonthName:p.toLocaleDateString("es-AR",{month:"long"}),prevMonthName:A.toLocaleDateString("es-AR",{month:"long"})}},[e]);return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("header",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 border-b border-slate-200 dark:border-slate-800 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("div",{children:b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Dg,{className:"text-blue-600 dark:text-blue-400"}),"Ventas"]})}),b.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:n?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl w-full",children:[b.jsx("button",{onClick:()=>a("OVERVIEW"),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${i==="OVERVIEW"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400"}`,children:"Resumen"}),b.jsx("button",{onClick:()=>a("COMPARISON"),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${i==="COMPARISON"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400"}`,children:"Comparativa"})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[i==="OVERVIEW"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("button",{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-lg shadow-blue-600/30 transition-all hover:scale-[1.02] active:scale-95 flex items-center justify-between group","data-tour":"new-sale-btn",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:b.jsx(Dg,{size:24,className:"text-white"})}),b.jsxs("div",{className:"text-left",children:[b.jsx("p",{className:"font-bold text-lg",children:"Nueva Venta"}),b.jsx("p",{className:"text-blue-100 text-sm",children:"Abrir caja registradora"})]})]}),b.jsx(w5,{className:"group-hover:translate-x-1 transition-transform"})]}),e.length>0&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"ltimas Ventas"}),b.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.slice(0,5).map(p=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[new Date(p.date).toLocaleDateString("es-AR")," ",new Date(p.date).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[p.items.reduce((v,E)=>v+E.quantity,0)," items  ",zn(p.total)]})]}),b.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[b.jsx("button",{onClick:()=>{try{vpe(p,[],"Inventariando")}catch{alert("Error generando PDF")}},title:"Descargar PDF",className:"p-1.5 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:b.jsx(Ym,{size:14})}),b.jsx("button",{onClick:()=>{const v=S0e(p,[],"Cliente"),E=XD("5491234567890",v);window.open(E,"_blank")},title:"Compartir por WhatsApp",className:"p-1.5 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:b.jsx(b1,{size:14})})]})]},p.id))})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-1",children:[b.jsx(Hm,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Ventas Hoy"})]}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:zn(h.todayRevenue)}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[h.todayCount," operaciones"]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-1",children:[b.jsx(Zf,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Proyeccin Mes"})]}),b.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:zn(h.projectedRevenue)}),b.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Estimado al da 30"}),b.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-5",children:b.jsx(S0,{size:80})})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Ingresos"}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-0.5",children:[b.jsx("button",{onClick:()=>c("WEEK"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${s==="WEEK"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500"}`,children:"7D"}),b.jsx("button",{onClick:()=>c("MONTH"),className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${s==="MONTH"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500"}`,children:"30D"})]})]}),b.jsx("div",{style:{width:"100%",height:200},children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(wae,{data:h.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),b.jsx(ad,{strokeDasharray:"3 3",vertical:!1,stroke:n?"#334155":"#e2e8f0"}),b.jsx(od,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:n?"#94a3b8":"#64748b",fontSize:10},minTickGap:10,interval:"preserveStartEnd",tickMargin:8}),b.jsx(ff,{formatter:p=>[zn(p),"Ventas"],contentStyle:{borderRadius:"8px",border:"none",backgroundColor:n?"#1e293b":"#fff",color:n?"#fff":"#000",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx(MP,{type:"monotone",dataKey:"total",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorSales)",strokeWidth:2})]})})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between px-1",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Alta Rotacin (Mes)"}),b.jsxs("span",{className:"text-xs text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded-md flex items-center gap-1",children:[b.jsx(Rg,{size:12})," Top 5"]})]}),h.bestSellers.length===0?b.jsx("p",{className:"text-slate-400 text-sm text-center py-4",children:"No hay ventas este mes an."}):h.bestSellers.map((p,v)=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${v===0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":"bg-slate-100 text-slate-500 dark:bg-slate-800"}`,children:v+1}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm truncate w-40",children:p.name}),b.jsxs("p",{className:"text-xs text-slate-500",children:[p.qty," uds. vendidas"]})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:zn(p.revenue)}),b.jsx("p",{className:"text-[10px] text-emerald-500 font-medium",children:"En alza"})]})]},v))]})]}),i==="COMPARISON"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 text-center",children:[b.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium uppercase mb-2",children:"Diferencia Mes vs Mes"}),b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:zn(f.totalCurrent)}),b.jsxs("span",{className:`text-sm font-bold px-2 py-1 rounded-full flex items-center gap-1 ${f.percentChange>=0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-300"}`,children:[f.percentChange>=0?b.jsx(Zf,{size:14}):b.jsx(Yj,{size:14}),f.percentChange.toFixed(1),"%"]})]}),b.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:[f.currentMonthName," vs ",f.prevMonthName]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Evolucin Diaria (Comparada)"}),b.jsx("div",{style:{width:"100%",height:300},children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(Yv,{data:f.chartData,margin:{top:10,right:0,left:-20,bottom:0},children:[b.jsx(ad,{strokeDasharray:"3 3",vertical:!1,stroke:n?"#334155":"#e2e8f0"}),b.jsx(od,{dataKey:"day",tickLine:!1,axisLine:!1,tick:{fill:n?"#94a3b8":"#64748b",fontSize:10}}),b.jsx(W0,{tickLine:!1,axisLine:!1,tick:{fill:n?"#94a3b8":"#64748b",fontSize:10}}),b.jsx(ff,{contentStyle:{borderRadius:"8px",border:"none",backgroundColor:n?"#1e293b":"#fff",color:n?"#fff":"#000",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx(Z5,{}),b.jsx(hf,{dataKey:"Anterior",name:f.prevMonthName,fill:"#94a3b8",radius:[4,4,0,0]}),b.jsx(hf,{dataKey:"Actual",name:f.currentMonthName,fill:"#3b82f6",radius:[4,4,0,0]})]})})})]}),b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl border border-blue-100 dark:border-blue-800/30",children:[b.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2 text-sm",children:"Anlisis Rpido"}),b.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200",children:f.totalCurrent>f.totalPrev?`Excelente! Tus ventas han superado al mes anterior en ${zn(f.totalCurrent-f.totalPrev)}. Contina con las estrategias actuales.`:`Las ventas estn un ${Math.abs(f.percentChange).toFixed(1)}% por debajo del mes pasado. Considera lanzar una oferta para repuntar.`})]})]})]})]})},xpe=({movements:e,isDark:t,onToggleTheme:n})=>{const r=j.useMemo(()=>Array.from({length:7},(s,c)=>{const h=new Date;return h.setDate(h.getDate()-c),h.toLocaleDateString("es-AR",{weekday:"short"})}).reverse().map(s=>({name:s,Entradas:e.filter(c=>(c.type===wc.IN||c.type===wc.ADJUSTMENT&&c.quantity>0)&&new Date(c.date).toLocaleDateString("es-AR",{weekday:"short"})===s).reduce((c,h)=>c+Math.abs(h.quantity),0),Salidas:e.filter(c=>(c.type===wc.OUT||c.type===wc.ADJUSTMENT&&c.quantity<0)&&new Date(c.date).toLocaleDateString("es-AR",{weekday:"short"})===s).reduce((c,h)=>c+Math.abs(h.quantity),0)})),[e]),i=()=>{const a=["Fecha","Hora","Producto","Tipo","Cantidad","Razn"],s=e.map(p=>{const v=new Date(p.date);return[v.toLocaleDateString("es-AR"),v.toLocaleTimeString("es-AR"),p.productName,p.type,p.quantity,p.reason||"-"].join(",")}),c="data:text/csv;charset=utf-8,"+[a.join(","),...s].join(`
`),h=encodeURI(c),f=document.createElement("a");f.setAttribute("href",h),f.setAttribute("download",`inventariando_movimientos_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(f),f.click(),document.body.removeChild(f)};return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("header",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center transition-colors",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(MM,{className:"text-blue-600 dark:text-blue-400"}),"Historial"]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Registro de movimientos"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:t?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})}),b.jsx("button",{onClick:i,className:"p-2 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800 flex items-center justify-center",title:"Exportar CSV",children:b.jsx(Ym,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 transition-colors",children:[b.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Evolucin Semanal"}),b.jsx("div",{style:{width:"100%",height:200,minHeight:200},children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(Yv,{data:r,children:[b.jsx(ad,{strokeDasharray:"3 3",vertical:!1,stroke:t?"#334155":"#e2e8f0"}),b.jsx(od,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:t?"#94a3b8":"#64748b",fontSize:12}}),b.jsx(W0,{hide:!0}),b.jsx(ff,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:t?"#1e293b":"#fff",color:t?"#fff":"#000"}}),b.jsx(hf,{dataKey:"Entradas",fill:"#10b981",radius:[4,4,0,0],maxBarSize:40}),b.jsx(hf,{dataKey:"Salidas",fill:"#ef4444",radius:[4,4,0,0],maxBarSize:40})]})})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 px-1",children:"ltimos Movimientos"}),e.length===0?b.jsx("div",{className:"text-center py-10 text-slate-400",children:b.jsx("p",{children:"No hay movimientos registrados."})}):e.slice().reverse().map(a=>{const s=a.quantity>0||a.type===wc.IN;return b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${s?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"}`,children:s?b.jsx(Ij,{size:20}):b.jsx(Sj,{size:20})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:a.productName}),b.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[new Date(a.date).toLocaleDateString("es-AR"),"  ",new Date(a.date).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit"})]})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:`font-bold ${s?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[s?"+":"",a.quantity]}),b.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider font-medium",children:a.type})]})]},a.id)})]})]})]})},bpe=({products:e,sales:t,expenses:n,onAddExpense:r,onDeleteExpense:i,isDark:a,onToggleTheme:s,onUpdatePrices:c})=>{const[h,f]=j.useState("BALANCE"),[p,v]=j.useState(5),[E,A]=j.useState("ALL"),k=j.useMemo(()=>{let U=0,H=0,W=0,Q=0;const G=e.map(J=>{const ie=J.price-J.cost,se=J.cost>0?ie/J.cost*100:100;return U+=J.cost*J.stock,H+=J.price*J.stock,J.cost>0&&(W++,Q+=se),{...J,profit:ie,markup:se}}),ee=W>0?Q/W:0,Y=H-U,me=[...G].sort((J,ie)=>ie.markup-J.markup),X=Object.values(Zo).map(J=>{const se=G.filter(ae=>ae.category===J).reduce((ae,he)=>ae+he.profit*he.stock,0);return{name:J,profit:se}}).filter(J=>J.profit>0);return{totalPotentialProfit:Y,avgMarkup:ee,sortedByMarkup:me,categoryStats:X}},[e]),I=j.useMemo(()=>{const U=new Date,H=U.getMonth(),W=U.getFullYear(),Q=t.filter(ae=>{const he=new Date(ae.date);return he.getMonth()===H&&he.getFullYear()===W}),G=n.filter(ae=>{const he=new Date(ae.date);return he.getMonth()===H&&he.getFullYear()===W}),ee=Q.reduce((ae,he)=>ae+he.total,0),Y=Q.reduce((ae,he)=>ae+he.items.reduce((Ae,Te)=>Ae+Te.cost*Te.quantity,0),0),me=G.reduce((ae,he)=>ae+he.amount,0),X=ee-Y,J=X-me,ie=ee>0?J/ee*100:0,se=Object.values(Og).map(ae=>{const he=G.filter(Ae=>Ae.category===ae).reduce((Ae,Te)=>Ae+Te.amount,0);return{name:ae,value:he}}).filter(ae=>ae.value>0);return{grossRevenue:ee,cogs:Y,grossProfit:X,totalExpenses:me,netProfit:J,margin:ie,filteredExpenses:G,expenseComposition:se,monthName:U.toLocaleDateString("es-AR",{month:"long"})}},[t,n]),R=()=>{if(window.confirm(`Ests seguro de aumentar un ${p}% el precio de ${E==="ALL"?"TODOS los productos":E}?`)){const H=e.map(W=>{if(E==="ALL"||W.category===E){const Q=Math.ceil(W.price*(1+p/100)/10)*10;return{...W,price:Q,lastUpdated:Date.now()}}return W});c(H),alert("Precios actualizados correctamente.")}},L=U=>U>=50?"text-emerald-500 bg-emerald-100 dark:bg-emerald-900/20":U>=30?"text-blue-500 bg-blue-100 dark:bg-blue-900/20":U>=15?"text-amber-500 bg-amber-100 dark:bg-amber-900/20":"text-red-500 bg-red-100 dark:bg-red-900/20",q=["#ef4444","#f97316","#eab308","#8b5cf6","#ec4899","#64748b"];return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsx("header",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 pt-4 px-4 pb-2 border-b border-slate-200 dark:border-slate-800 flex justify-between items-start transition-colors",children:b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(S0,{className:"text-emerald-600 dark:text-emerald-400"}),"Finanzas"]}),b.jsx("button",{onClick:s,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:a?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl w-full",children:[b.jsx("button",{onClick:()=>f("BALANCE"),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${h==="BALANCE"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400"}`,children:"Balance & Gastos"}),b.jsx("button",{onClick:()=>f("STRATEGY"),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all ${h==="STRATEGY"?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-slate-100":"text-slate-500 dark:text-slate-400"}`,children:"Precios & Stock"})]})]})}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[h==="BALANCE"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-slate-800 dark:to-slate-950 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:b.jsx(E5,{size:80})}),b.jsxs("p",{className:"text-slate-300 text-sm font-medium uppercase mb-1",children:["Resultado Neto (",I.monthName,")"]}),b.jsxs("div",{className:"flex items-baseline gap-2",children:[b.jsx("h2",{className:`text-3xl font-bold ${I.netProfit>=0?"text-emerald-400":"text-red-400"}`,children:zn(I.netProfit)}),I.grossRevenue>0&&b.jsxs("span",{className:`text-sm font-bold px-2 py-0.5 rounded-full ${I.netProfit>=0?"bg-emerald-500/20 text-emerald-300":"bg-red-500/20 text-red-300"}`,children:[I.margin.toFixed(1),"% Margen"]})]}),b.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-2 text-center border-t border-white/10 pt-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Ventas"}),b.jsx("p",{className:"font-semibold text-emerald-300 text-sm md:text-base",children:zn(I.grossRevenue)})]}),b.jsxs("div",{className:"border-l border-white/10",children:[b.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Costo Merc."}),b.jsxs("p",{className:"font-semibold text-slate-200 text-sm md:text-base",children:["-",zn(I.cogs)]})]}),b.jsxs("div",{className:"border-l border-white/10",children:[b.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Gastos Op."}),b.jsxs("p",{className:"font-semibold text-red-300 text-sm md:text-base",children:["-",zn(I.totalExpenses)]})]})]})]}),I.expenseComposition.length>0&&b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 flex flex-row items-center",children:[b.jsx("div",{className:"flex-1 h-32",children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsx(IS,{children:b.jsx(Hv,{data:I.expenseComposition,cx:"50%",cy:"50%",innerRadius:30,outerRadius:50,paddingAngle:5,dataKey:"value",stroke:"none",children:I.expenseComposition.map((U,H)=>b.jsx(hd,{fill:q[H%q.length]},`cell-${H}`))})})})}),b.jsxs("div",{className:"flex-1 space-y-1",children:[b.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Gastos Operativos"}),I.expenseComposition.slice(0,3).map((U,H)=>b.jsxs("div",{className:"flex items-center justify-between text-xs",children:[b.jsxs("div",{className:"flex items-center gap-1.5",children:[b.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:q[H%q.length]}}),b.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate w-20",children:U.name})]}),b.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:zn(U.value)})]},H))]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(b5,{size:18,className:"text-red-500"}),"ltimos Gastos"]}),b.jsxs("button",{onClick:r,className:"text-sm text-blue-600 dark:text-blue-400 font-medium flex items-center gap-1 hover:underline",children:[b.jsx(mf,{size:16})," Agregar"]})]}),b.jsx("div",{className:"space-y-2",children:I.filteredExpenses.length===0?b.jsx("p",{className:"text-slate-400 text-sm text-center py-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl",children:"No hay gastos registrados este mes."}):I.filteredExpenses.slice().reverse().map(U=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-100 dark:border-slate-800 flex justify-between items-center group",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm",children:U.description}),b.jsxs("p",{className:"text-xs text-slate-400",children:[U.category,"  ",new Date(U.date).toLocaleDateString()]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"font-bold text-red-500",children:["-",zn(U.amount)]}),b.jsx("button",{onClick:()=>i(U.id),className:"text-slate-300 hover:text-red-500 transition-colors",children:b.jsx(Js,{size:16})})]})]},U.id))})]})]}),h==="STRATEGY"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-1",children:[b.jsx(S0,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Valor Stock"})]}),b.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:zn(k.totalPotentialProfit)}),b.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ganancia latente"})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 mb-1",children:[b.jsx(jM,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Remarcacin"})]}),b.jsxs("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[k.avgMarkup.toFixed(1),"%"]}),b.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Promedio"})]})]}),b.jsxs("div",{className:"bg-slate-800 dark:bg-slate-900 rounded-2xl p-5 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Fj,{className:"text-amber-400"}),b.jsx("h3",{className:"font-bold text-lg",children:"Ajuste por Inflacin"})]}),b.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-300 px-2 py-1 rounded",children:"Dlar Blue: $1150 (Sim)"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Categora a Impactar"}),b.jsxs("select",{value:E,onChange:U=>A(U.target.value),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-lg p-2 text-sm",children:[b.jsx("option",{value:"ALL",children:"Todo el Inventario"}),Object.values(Zo).map(U=>b.jsx("option",{value:U,children:U},U))]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[b.jsx("span",{children:"Porcentaje de Aumento"}),b.jsxs("span",{className:"font-bold text-amber-400",children:[p,"%"]})]}),b.jsx("input",{type:"range",min:"1",max:"100",value:p,onChange:U=>v(parseInt(U.target.value)),className:"w-full accent-amber-500 h-2 bg-slate-600 rounded-lg appearance-none cursor-pointer"})]}),e.length>0&&b.jsxs("div",{className:"bg-white/10 rounded-xl p-3 border border-white/10",children:[b.jsxs("p",{className:"text-xs text-slate-300 mb-1",children:["Ejemplo: ",e[0].name]}),b.jsxs("div",{className:"flex justify-between items-center text-sm",children:[b.jsx("span",{className:"text-slate-400",children:zn(e[0].price)}),b.jsx(w5,{size:14,className:"text-slate-500"}),b.jsx("span",{className:"font-bold text-amber-400 text-base",children:zn(Math.ceil(e[0].price*(1+p/100)/10)*10)})]})]}),b.jsxs("button",{onClick:R,className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-colors",children:[b.jsx(kc,{size:16})," Aplicar Nuevos Precios"]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-4 flex items-center gap-2",children:[b.jsx(Kj,{size:18,className:"text-slate-500"}),"Ganancia Potencial por Rubro"]}),b.jsx("div",{style:{width:"100%",height:200},children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(Yv,{data:k.categoryStats,layout:"vertical",margin:{left:10,right:10},children:[b.jsx(ad,{strokeDasharray:"3 3",horizontal:!1,stroke:a?"#334155":"#e2e8f0"}),b.jsx(od,{type:"number",hide:!0}),b.jsx(W0,{dataKey:"name",type:"category",width:80,tick:{fill:a?"#94a3b8":"#64748b",fontSize:11}}),b.jsx(ff,{formatter:U=>[zn(U),"Ganancia Est."],contentStyle:{borderRadius:"12px",border:"none",backgroundColor:a?"#1e293b":"#fff",color:a?"#fff":"#000"}}),b.jsx(hf,{dataKey:"profit",radius:[0,4,4,0],barSize:20,fill:"#3b82f6"})]})})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-base font-semibold text-slate-800 dark:text-slate-200 mb-3 px-1",children:"Top Rentabilidad (%)"}),b.jsx("div",{className:"space-y-2",children:k.sortedByMarkup.slice(0,3).map((U,H)=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-slate-400 font-mono text-sm w-4",children:H+1}),b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-100 text-sm truncate w-32 sm:w-40",children:U.name})})]}),b.jsxs("div",{className:`px-2 py-1 rounded-lg font-bold text-xs ${L(U.markup)}`,children:[U.markup.toFixed(0),"%"]})]},U.id))})]})]})]})]})},wpe=({suppliers:e,onAdd:t,onEdit:n,onDelete:r,isDark:i,onToggleTheme:a})=>{const[s,c]=j.useState(""),h=e.filter(p=>p.name.toLowerCase().includes(s.toLowerCase())||p.contactName.toLowerCase().includes(s.toLowerCase())),f=p=>`https://wa.me/549${p.replace(/[^0-9]/g,"")}`;return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 space-y-3 shadow-sm border-b border-slate-200 dark:border-slate-800 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(S5,{className:"text-blue-600 dark:text-blue-400"}),"Proveedores"]}),b.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:i?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsxs("div",{className:"relative",children:[b.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar proveedor o contacto...",value:s,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-800 dark:text-slate-100 placeholder-slate-400 transition-colors"})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:h.length===0?b.jsx("div",{className:"text-center py-10 text-slate-400",children:b.jsx("p",{children:"No se encontraron proveedores."})}):h.map(p=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:p.name}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1",children:p.contactName})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>n(p),className:"p-2 text-slate-400 hover:text-blue-500 dark:hover:text-blue-400",children:b.jsx(Jh,{size:18})}),b.jsx("button",{onClick:()=>r(p.id),className:"p-2 text-slate-400 hover:text-red-500 dark:hover:text-red-400",children:b.jsx(Js,{size:18})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-slate-600 dark:text-slate-300 mb-4",children:[p.address&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Km,{size:16,className:"text-slate-400"}),b.jsx("span",{children:p.address})]}),p.email&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Wm,{size:16,className:"text-slate-400"}),b.jsx("a",{href:`mailto:${p.email}`,className:"hover:underline",children:p.email})]})]}),b.jsxs("div",{className:"flex gap-2 border-t border-slate-100 dark:border-slate-800 pt-3",children:[b.jsxs("a",{href:`tel:${p.phone}`,className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[b.jsx(Zh,{size:18})," Llamar"]}),b.jsxs("a",{href:f(p.phone),target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-medium hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-colors",children:[b.jsx(b1,{size:18})," WhatsApp"]})]})]},p.id))}),b.jsx("button",{onClick:t,className:"fixed bottom-24 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-lg shadow-blue-600/30 transition-all hover:scale-105 active:scale-95 z-20",children:b.jsx(mf,{size:28})})]})},Ape=({initialSupplier:e,onSave:t,onCancel:n})=>{const[r,i]=j.useState((e==null?void 0:e.name)||""),[a,s]=j.useState((e==null?void 0:e.contactName)||""),[c,h]=j.useState((e==null?void 0:e.phone)||""),[f,p]=j.useState((e==null?void 0:e.email)||""),[v,E]=j.useState((e==null?void 0:e.address)||""),[A,k]=j.useState((e==null?void 0:e.notes)||""),I=R=>{R.preventDefault(),t({id:(e==null?void 0:e.id)||crypto.randomUUID(),name:r,contactName:a,phone:c,email:f,address:v,notes:A})};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full sm:max-w-md h-[90vh] sm:h-auto rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col animate-slide-up transition-colors duration-300",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-800",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e?"Editar Proveedor":"Nuevo Proveedor"}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:b.jsx(io,{size:24})})]}),b.jsxs("form",{onSubmit:I,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Empresa / Razn Social"}),b.jsxs("div",{className:"relative",children:[b.jsx(jj,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:r,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: Distribuidora Oeste",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre de Contacto"}),b.jsxs("div",{className:"relative",children:[b.jsx(e1,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:a,onChange:R=>s(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: Juan Prez"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telfono / Celular"}),b.jsxs("div",{className:"relative",children:[b.jsx(Zh,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"tel",value:c,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: 11 4455 6677",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(Wm,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"email",value:f,onChange:R=>p(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"contacto@empresa.com"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Direccin"}),b.jsxs("div",{className:"relative",children:[b.jsx(Km,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:v,onChange:R=>E(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Calle Falsa 123, CABA"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notas"}),b.jsxs("div",{className:"relative",children:[b.jsx(x1,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("textarea",{value:A,onChange:R=>k(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Das de entrega, horarios, CBU...",rows:3})]})]}),b.jsx("div",{className:"pt-4 flex gap-3",children:b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold text-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(kc,{size:20}),"Guardar"]})})]})]})})},Spe=({customers:e,sales:t,onAdd:n,onEdit:r,onDelete:i,isDark:a,onToggleTheme:s})=>{const[c,h]=j.useState(""),[f,p]=j.useState(null),v=e.filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.phone.includes(c)),E=k=>`https://wa.me/549${k.replace(/[^0-9]/g,"")}`,A=k=>t.filter(I=>I.customerId===k).sort((I,R)=>R.date-I.date);if(f){const k=A(f.id);return b.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center gap-3 bg-white dark:bg-slate-900 sticky top-0 z-10",children:[b.jsx("button",{onClick:()=>p(null),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",children:b.jsx(w5,{className:"rotate-180",size:20})}),b.jsx("h1",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:f.name})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1 opacity-90",children:[b.jsx(E5,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Cuenta Corriente"})]}),b.jsx("p",{className:"text-2xl font-bold",children:zn(f.balance)}),b.jsx("p",{className:"text-xs opacity-75 mt-1",children:f.balance<0?"Deuda Pendiente":"Saldo a Favor / Al da"})]}),b.jsxs("div",{className:"bg-gradient-to-br from-amber-400 to-amber-500 rounded-2xl p-4 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1 opacity-90",children:[b.jsx(zb,{size:16}),b.jsx("span",{className:"text-xs font-medium uppercase",children:"Puntos"})]}),b.jsx("p",{className:"text-2xl font-bold",children:f.loyaltyPoints}),b.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["Nivel: ",f.loyaltyPoints>1e3?"Oro":"Plata"]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-800 space-y-3",children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm",children:"Informacin de Contacto"}),f.phone&&b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[b.jsx(Zh,{size:16})," ",b.jsx("span",{children:f.phone})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("a",{href:`tel:${f.phone}`,className:"p-1.5 bg-slate-100 dark:bg-slate-800 rounded text-blue-500",children:b.jsx(Zh,{size:14})}),b.jsx("a",{href:E(f.phone),target:"_blank",className:"p-1.5 bg-emerald-100 dark:bg-emerald-900/20 rounded text-emerald-500",children:b.jsx(b1,{size:14})})]})]}),f.email&&b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[b.jsx(Wm,{size:16})," ",b.jsx("span",{children:f.email})]}),f.address&&b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[b.jsx(Km,{size:16})," ",b.jsx("span",{children:f.address})]}),b.jsx("div",{className:"pt-2 flex gap-2",children:b.jsx("button",{onClick:()=>{r(f),p(null)},className:"flex-1 py-2 text-sm bg-slate-100 dark:bg-slate-800 rounded-lg font-medium text-slate-600 dark:text-slate-300",children:"Editar"})})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2",children:[b.jsx(MM,{size:18})," Historial de Compras"]}),b.jsx("div",{className:"space-y-2",children:k.length===0?b.jsx("p",{className:"text-slate-400 text-sm italic",children:"Sin compras registradas."}):k.map(I=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:["Compra #",I.id.slice(0,4)]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(I.date).toLocaleDateString(),"  ",I.items.length," items"]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:zn(I.total)}),b.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-slate-500",children:I.paymentMethod})]})]},I.id))})]})]})]})}return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 space-y-3 shadow-sm border-b border-slate-200 dark:border-slate-800 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Jm,{className:"text-blue-600 dark:text-blue-400"}),"Clientes"]}),b.jsx("button",{onClick:s,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:a?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsxs("div",{className:"relative",children:[b.jsx($m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:c,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-800 dark:text-slate-100 placeholder-slate-400 transition-colors"})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:v.length===0?b.jsx("div",{className:"text-center py-10 text-slate-400",children:b.jsx("p",{children:"No se encontraron clientes."})}):v.map(k=>b.jsxs("div",{onClick:()=>p(k),className:"bg-white dark:bg-slate-900 rounded-xl p-4 border border-slate-100 dark:border-slate-800 shadow-sm transition-colors active:scale-[0.99] cursor-pointer",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center font-bold text-slate-600 dark:text-slate-300",children:k.name.substring(0,2).toUpperCase()}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:k.name}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[b.jsx(zb,{size:12,className:"text-amber-400"})," ",k.loyaltyPoints," pts"]})]})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:`font-bold ${k.balance<0?"text-red-500":"text-emerald-500"}`,children:zn(k.balance)}),b.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:"Saldo"})]})]}),b.jsxs("div",{className:"flex gap-2 justify-end mt-2 pt-2 border-t border-slate-50 dark:border-slate-800/50",onClick:I=>I.stopPropagation(),children:[b.jsx("button",{onClick:()=>r(k),className:"p-2 text-slate-400 hover:text-blue-500 dark:hover:text-blue-400",children:b.jsx(Jh,{size:18})}),b.jsx("button",{onClick:()=>i(k.id),className:"p-2 text-slate-400 hover:text-red-500 dark:hover:text-red-400",children:b.jsx(Js,{size:18})})]})]},k.id))}),b.jsx("button",{onClick:n,className:"fixed bottom-24 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-lg shadow-blue-600/30 transition-all hover:scale-105 active:scale-95 z-20",children:b.jsx(mf,{size:28})})]})},Epe=({initialCustomer:e,onSave:t,onCancel:n})=>{const[r,i]=j.useState((e==null?void 0:e.name)||""),[a,s]=j.useState((e==null?void 0:e.phone)||""),[c,h]=j.useState((e==null?void 0:e.email)||""),[f,p]=j.useState((e==null?void 0:e.address)||""),[v,E]=j.useState((e==null?void 0:e.notes)||""),A=k=>{k.preventDefault(),t({id:(e==null?void 0:e.id)||crypto.randomUUID(),name:r,phone:a,email:c,address:f,notes:v,balance:(e==null?void 0:e.balance)||0,loyaltyPoints:(e==null?void 0:e.loyaltyPoints)||0})};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full sm:max-w-md h-[90vh] sm:h-auto rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col animate-slide-up transition-colors duration-300",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-800",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e?"Editar Cliente":"Nuevo Cliente"}),b.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:b.jsx(io,{size:24})})]}),b.jsxs("form",{onSubmit:A,className:"flex-1 overflow-y-auto p-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Completo"}),b.jsxs("div",{className:"relative",children:[b.jsx(e1,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: Mara Gomez",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Telfono"}),b.jsxs("div",{className:"relative",children:[b.jsx(Zh,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"tel",value:a,onChange:k=>s(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Ej: 11 4455 6677"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(Wm,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"email",value:c,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"cliente@email.com"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Direccin"}),b.jsxs("div",{className:"relative",children:[b.jsx(Km,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:f,onChange:k=>p(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Calle, Altura, Ciudad"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Notas"}),b.jsxs("div",{className:"relative",children:[b.jsx(x1,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("textarea",{value:v,onChange:k=>E(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Preferencias, CBU, etc.",rows:3})]})]}),b.jsx("div",{className:"pt-4 flex gap-3",children:b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold text-lg active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(kc,{size:20}),"Guardar Cliente"]})})]})]})})},Cpe=({promotions:e,products:t,onAddPromotion:n,onDeletePromotion:r,isDark:i,onToggleTheme:a})=>{const[s,c]=j.useState(!1),[h,f]=j.useState(""),[p,v]=j.useState($o.PERCENTAGE),[E,A]=j.useState(""),[k,I]=j.useState(""),[R,L]=j.useState("2"),[q,U]=j.useState("1"),[H,W]=j.useState("3"),Q=G=>{if(G.preventDefault(),!E)return alert("Selecciona un producto");const ee={id:crypto.randomUUID(),name:h,type:p,targetProductId:E,value:parseFloat(k)||0,m:p===$o.M_X_N?parseInt(R):void 0,n:p===$o.M_X_N?parseInt(q):void 0,minQuantity:p===$o.BULK?parseInt(H):void 0,active:!0};n(ee),c(!1),f(""),A(""),I("")};return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 shadow-sm border-b border-slate-200 dark:border-slate-800 transition-colors flex justify-between items-center",children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(E0,{className:"text-pink-500"})," Ofertas"]}),b.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:i?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:e.length===0?b.jsxs("div",{className:"text-center py-10 text-slate-400",children:[b.jsx(E0,{size:48,className:"mx-auto mb-3 opacity-20"}),b.jsx("p",{children:"No hay promociones activas."})]}):e.map(G=>{const ee=t.find(Y=>Y.id===G.targetProductId);return b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[G.name,b.jsx("span",{className:"text-[10px] bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-300 px-2 py-0.5 rounded-full uppercase",children:G.type})]}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:(ee==null?void 0:ee.name)||"Producto desconocido"}),b.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[G.type===$o.PERCENTAGE&&`${G.value}% de descuento`,G.type===$o.M_X_N&&`Llevas ${G.m} pagas ${G.n}`,G.type===$o.BULK&&`Llevando +${G.minQuantity} u., precio: $${G.value}`]})]}),b.jsx("button",{onClick:()=>r(G.id),className:"p-2 text-slate-400 hover:text-red-500",children:b.jsx(Js,{size:18})})]},G.id)})}),b.jsx("button",{onClick:()=>c(!0),className:"fixed bottom-24 right-6 bg-pink-600 hover:bg-pink-700 text-white p-4 rounded-2xl shadow-lg shadow-pink-600/30 transition-all hover:scale-105 active:scale-95 z-20",children:b.jsx(mf,{size:28})}),s&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[b.jsx("h2",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Nueva Promocin"}),b.jsx("button",{onClick:()=>c(!1),children:b.jsx(io,{size:24,className:"text-slate-400"})})]}),b.jsxs("form",{onSubmit:Q,className:"p-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre Oferta"}),b.jsx("input",{type:"text",placeholder:"Ej: Promo Verano",value:h,onChange:G=>f(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Producto"}),b.jsxs("select",{value:E,onChange:G=>A(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white",required:!0,children:[b.jsx("option",{value:"",children:"Seleccionar..."}),t.map(G=>b.jsx("option",{value:G.id,children:G.name},G.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tipo de Promo"}),b.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.values($o).map(G=>b.jsx("button",{type:"button",onClick:()=>v(G),className:`p-2 rounded-lg text-xs font-bold border ${p===G?"bg-pink-100 border-pink-500 text-pink-700 dark:bg-pink-900/40 dark:text-pink-300":"bg-slate-50 border-slate-200 text-slate-600 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-400"}`,children:G},G))})]}),p===$o.PERCENTAGE&&b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Porcentaje Descuento"}),b.jsxs("div",{className:"relative",children:[b.jsx(jM,{size:16,className:"absolute left-3 top-2.5 text-slate-400"}),b.jsx("input",{type:"number",value:k,onChange:G=>I(G.target.value),className:"w-full pl-9 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white",placeholder:"20",required:!0})]})]})}),p===$o.M_X_N&&b.jsxs("div",{className:"flex gap-4 items-center",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Llevas (M)"}),b.jsx("input",{type:"number",value:R,onChange:G=>L(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white"})]}),b.jsx("span",{className:"text-slate-400 font-bold text-xl pt-4",children:"x"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Pagas (N)"}),b.jsx("input",{type:"number",value:q,onChange:G=>U(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white"})]})]}),p===$o.BULK&&b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Cant. Mnima"}),b.jsx("input",{type:"number",value:H,onChange:G=>W(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white"})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Precio Unitario Nuevo"}),b.jsx("input",{type:"number",value:k,onChange:G=>I(G.target.value),className:"w-full border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-lg p-2 dark:text-white",placeholder:"$$$",required:!0})]})]}),b.jsxs("button",{type:"submit",className:"w-full bg-pink-600 hover:bg-pink-700 text-white py-3 rounded-xl font-bold mt-4 flex items-center justify-center gap-2",children:[b.jsx(kc,{size:20})," Guardar Promocin"]})]})]})})]})},mg=[{title:"Bienvenido a Inventariando",description:"Aqu vers un resumen de tu negocio: valor total, stock bajo y distribucin por categoras. Usa el botn de base de datos para respaldos rpidos.",view:Cn.DASHBOARD,highlightSelector:'[data-tour="dashboard-header"]',highlightPosition:"bottom"},{title:"Navegacin y Flujo",description:"Desde el men lateral acceds a Stock, Ventas, Clientes y ms. En mviles, us la barra inferior para saltar entre vistas.",view:Cn.INVENTORY,highlightSelector:'[data-tour="sidebar"]',highlightPosition:"right"},{title:"Punto de Venta (POS)",description:"Inici una venta desde Ventas  Cobrar. El POS aplica promociones activas, calcula totales y ajusta stock automticamente.",view:Cn.SALES,highlightSelector:'[data-tour="new-sale-btn"]',highlightPosition:"bottom"},{title:"IA y Anlisis",description:"En Anlisis, el asistente de IA (Gemini) te ayuda con insights de precios, sugerencias de reposicin y anlisis inteligente del inventario.",view:Cn.ANALYSIS,highlightSelector:'[data-tour="ai-section"]',highlightPosition:"left"}],Npe=({open:e,onClose:t,onNavigate:n})=>{const[r,i]=j.useState(0),[a,s]=j.useState(null);if(j.useEffect(()=>{if(!e){i(0),s(null);return}const A=mg[r];A.view&&n&&n(A.view);const k=setTimeout(()=>{if(A.highlightSelector){const I=document.querySelector(A.highlightSelector);if(I){const R=I.getBoundingClientRect();s({top:R.top,left:R.left,right:R.right,bottom:R.bottom,width:R.width,height:R.height})}else s(null)}else s(null)},300);return()=>clearTimeout(k)},[e,r,n]),!e)return null;const c=mg[r],h=r>0,f=r<mg.length-1,p=()=>{f&&i(r+1)},v=()=>{h&&i(r-1)};let E={position:"fixed",zIndex:72,backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",border:"1px solid #e2e8f0",padding:"16px",maxWidth:"320px",width:"90vw"};if(a){const k=Math.min(320,window.innerWidth-32),I=250;c.highlightPosition==="bottom"?(E.top=a.bottom+20,E.left=Math.max(16,Math.min(a.left-100,window.innerWidth-k-16))):c.highlightPosition==="top"?(E.bottom=window.innerHeight-a.top+20,E.left=Math.max(16,Math.min(a.left-100,window.innerWidth-k-16))):c.highlightPosition==="right"?(E.top=Math.max(16,Math.min(a.top,window.innerHeight-I-16)),E.left=Math.min(a.right+20,window.innerWidth-k-16)):c.highlightPosition==="left"&&(E.top=Math.max(16,Math.min(a.top,window.innerHeight-I-16)),E.left=Math.max(16,a.left-k-20))}else E.top="50%",E.left="50%",E.transform="translate(-50%, -50%)";return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[71] bg-black/60 transition-all duration-300",onClick:t,style:{clipPath:a?`polygon(
              0% 0%, 0% 100%, 100% 100%, 100% 0%, 0% 0%,
              ${a.left-8}px ${a.top-8}px,
              ${a.left-8}px ${a.bottom+8}px,
              ${a.right+8}px ${a.bottom+8}px,
              ${a.right+8}px ${a.top-8}px,
              ${a.left-8}px ${a.top-8}px
            )`:void 0}}),a&&b.jsx("div",{className:"fixed z-[71] pointer-events-none border-2 border-blue-500 rounded-lg animate-pulse",style:{top:a.top-8,left:a.left-8,width:a.width+16,height:a.height+16,boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"}}),b.jsxs("div",{style:E,children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[b.jsx(Xm,{size:18}),b.jsx("h3",{className:"text-base font-semibold",children:c.title})]}),b.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-slate-100 flex-shrink-0",children:b.jsx(io,{size:18})})]}),b.jsx("p",{className:"text-sm text-slate-600 mb-4 leading-relaxed",children:c.description}),a&&b.jsxs("div",{className:"flex items-center justify-center gap-1 mb-3 text-xs text-blue-500 font-medium animate-bounce",children:[b.jsx(b5,{size:14}),b.jsx("span",{children:"Explor esta seccin"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsxs("button",{onClick:v,disabled:!h,className:`inline-flex items-center gap-1 px-3 py-2 rounded border text-sm transition-colors ${h?"border-slate-300 hover:bg-slate-100 text-slate-700":"opacity-40 cursor-not-allowed border-slate-200 text-slate-400"}`,children:[b.jsx(Qj,{size:16})," Atrs"]}),b.jsxs("div",{className:"text-xs text-slate-500 font-medium",children:[r+1," / ",mg.length]}),f?b.jsxs("button",{onClick:p,className:"inline-flex items-center gap-1 px-3 py-2 rounded bg-blue-600 text-white text-sm hover:bg-blue-700 transition-colors",children:["Siguiente ",b.jsx(Gm,{size:16})]}):b.jsx("button",{onClick:t,className:"inline-flex items-center gap-1 px-3 py-2 rounded bg-green-600 text-white text-sm hover:bg-green-700 transition-colors font-medium",children:"Listo!"})]})]})]})},_pe=async(e,t,n)=>{var r,i,a;try{if(!e||!e.startsWith("sk-"))throw new Error("API key de OpenAI invlida");const s=n?`Eres un asistente de negocio especializado en gestin de inventarios y ventas. ${n}`:"Eres un asistente de negocio especializado en gestin de inventarios y ventas.",c=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:s},{role:"user",content:t}],temperature:.7,max_tokens:500})});if(!c.ok){const f=await c.json();throw new Error(((r=f.error)==null?void 0:r.message)||"Error en OpenAI API")}return((a=(i=(await c.json()).choices[0])==null?void 0:i.message)==null?void 0:a.content)||"Sin respuesta"}catch(s){throw console.error("Error en OpenAI:",s),s}},Tpe=async(e,t,n)=>{var r,i;try{if(!e||!e.startsWith("sk-ant-"))throw new Error("API key de Anthropic invlida (debe comenzar con sk-ant-)");const a=n?`Eres un asistente de negocio especializado en gestin de inventarios y ventas. ${n}`:"Eres un asistente de negocio especializado en gestin de inventarios y ventas.",s=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":e,"anthropic-version":"2023-06-01","Content-Type":"application/json"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:1024,system:a,messages:[{role:"user",content:t}]})});if(!s.ok){const h=await s.json();throw new Error(((r=h.error)==null?void 0:r.message)||"Error en Anthropic API")}return((i=(await s.json()).content[0])==null?void 0:i.text)||"Sin respuesta"}catch(a){throw console.error("Error en Anthropic:",a),a}},qL="inventariando_user_settings",Ec=e=>{try{const t=localStorage.getItem(`${qL}_${e}`);if(t)return JSON.parse(t)}catch{console.error("Error loading user settings")}return{userId:e,iaProvider:vo.GEMINI,notificationsEnabled:!0,darkMode:!1,language:"es",lastUpdated:Date.now()}},Ipe=(e,t)=>{const n=Math.floor(1e5+Math.random()*9e5).toString(),i={...Ec(e),whatsappPhone:g5(t),whatsappVerificationCode:n,whatsappVerificationExpiresAt:Date.now()+600*1e3,whatsappVerifiedAt:void 0};return n2(i),n},Mpe=(e,t)=>{const n=Ec(e),r=!!n.whatsappVerificationCode&&n.whatsappVerificationCode===t&&!!n.whatsappVerificationExpiresAt&&n.whatsappVerificationExpiresAt>Date.now();return r&&n2({...n,whatsappVerificationCode:void 0,whatsappVerificationExpiresAt:void 0,whatsappVerifiedAt:Date.now()}),r},n2=e=>{try{localStorage.setItem(`${qL}_${e.userId}`,JSON.stringify({...e,lastUpdated:Date.now()}))}catch{console.error("Error saving user settings")}},Ib=e=>{const t="inventariando-secure-"+Math.floor(Date.now()/864e5);return Buffer.from(e).toString("base64")+"|"+t},ru=e=>{try{const[t]=e.split("|");return Buffer.from(t,"base64").toString("utf-8")}catch{return""}},kpe=e=>{const t=e.replace(/[^\d+]/g,"");return t.length>=10&&/^\+?\d{10,}$/.test(t)},g5=e=>e.replace(/[^\d+]/g,""),Ope=({products:e,isDark:t,onToggleTheme:n,currentUser:r,onOpenSettings:i})=>{const[a,s]=j.useState(null),[c,h]=j.useState(!1),[f,p]=j.useState(vo.GEMINI),[v,E]=j.useState(!0),[A,k]=j.useState(null);j.useEffect(()=>{if(r){const q=Ec(r.id);p(q.iaProvider);const U=q.geminiApiKey?ru(q.geminiApiKey):"",H=q.googleAccessToken?ru(q.googleAccessToken):"",W=U||H;q.iaProvider===vo.GEMINI&&!W?(E(!1),k("Configura login o API key para Gemini.")):q.iaProvider!==vo.GEMINI&&!q.iaApiKey?(E(!1),k("IA no configurada. Abre Configuracin para agregar tu API key.")):(E(!0),k(null))}},[r]);const I=async()=>{if(!v){k("IA no configurada. Abre Configuracin para agregar tu API key.");return}h(!0),k(null);try{const q=x5();let U;if(f===vo.GEMINI&&r){const H=Ec(r.id),W=H.geminiApiKey?ru(H.geminiApiKey):"",Q=H.googleAccessToken?ru(H.googleAccessToken):"",G=W||Q;if(!G)throw new Error("Configura login o API key para Gemini");U=await A0e(e,q,{apiKey:G})}else if(f===vo.OPENAI&&r){const H=Ec(r.id),W=H.iaApiKey?ru(H.iaApiKey):"";if(!W)throw new Error("API key de OpenAI no configurada");const Q=`Analiza el siguiente inventario y ventas, proporciona insights en formato JSON:
        Productos: ${JSON.stringify(e)}
        Ventas ltimos 30 das: ${JSON.stringify(q.slice(-10))}
        
        Responde con un JSON con estructura: { recommendations: [], trends: { topProducts: [], lowStock: [] }, summary: "" }`,G=await _pe(W,Q);U=JSON.parse(G)}else if(f===vo.ANTHROPIC&&r){const H=Ec(r.id),W=H.iaApiKey?ru(H.iaApiKey):"";if(!W)throw new Error("API key de Anthropic no configurada");const Q=`Analiza el siguiente inventario y ventas, proporciona insights en formato JSON:
        Productos: ${JSON.stringify(e)}
        Ventas ltimos 30 das: ${JSON.stringify(q.slice(-10))}
        
        Responde con un JSON con estructura: { recommendations: [], trends: { topProducts: [], lowStock: [] }, summary: "" }`,G=await Tpe(W,Q);U=JSON.parse(G)}else throw new Error("Proveedor de IA no vlido");s(U)}catch(q){console.error(q);const U=q instanceof Error?q.message:"Error desconocido";k(`Error: ${U}`)}finally{h(!1)}},R=q=>{switch(q){case"UP":return b.jsx(Zf,{className:"text-emerald-500",size:16});case"DOWN":return b.jsx(TF,{className:"text-red-500",size:16});default:return b.jsx(DM,{className:"text-slate-400",size:16})}},L=q=>{switch(q){case"HIGH":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800";case"MEDIUM":return"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800";default:return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800"}};return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300","data-tour":"ai-section",children:[b.jsxs("header",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center transition-colors",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(wy,{className:"text-purple-600 dark:text-purple-400"}),"Inteligencia"]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Predicciones y recomendaciones"})]}),b.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 shadow-sm border border-slate-100 dark:border-slate-700",children:t?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[b.jsx("div",{className:`rounded-2xl p-4 border-2 ${v?t?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200":t?"bg-red-900/20 border-red-700":"bg-red-50 border-red-300"}`,children:b.jsxs("div",{className:"flex items-start justify-between gap-3",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("p",{className:`text-sm font-semibold mb-1 ${t?"text-slate-200":"text-slate-800"}`,children:["Proveedor IA: ",b.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:f})]}),!v&&b.jsx("p",{className:`text-xs ${t?"text-red-300":"text-red-700"}`,children:" Necesitas configurar tu API key en Configuracin"})]}),i&&b.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-colors ${t?"bg-slate-700 hover:bg-slate-600 text-slate-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}`,children:b.jsx(FM,{size:18})})]})}),b.jsxs("div",{className:"bg-gradient-to-br from-purple-700 to-indigo-800 rounded-2xl p-6 text-white shadow-lg",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-bold",children:"Analtica Avanzada"}),b.jsx("p",{className:"text-purple-200 text-sm mt-1",children:"Detecta tendencias estacionales y optimiza tus compras con IA."})]}),b.jsx(wy,{size:32,className:"text-purple-300 opacity-50"})]}),b.jsxs("button",{onClick:I,disabled:c||!v,className:`w-full font-bold py-3 rounded-xl shadow-md active:scale-95 transition-transform flex items-center justify-center gap-2 ${v?"bg-white text-purple-700 hover:bg-purple-50":"bg-slate-400 text-slate-600 cursor-not-allowed opacity-60"}`,children:[c?b.jsx(RM,{className:"animate-spin"}):b.jsx(Qh,{size:20}),a?"Actualizar Datos":"Generar Reporte"]})]}),A&&b.jsx("div",{className:`rounded-2xl p-4 border-l-4 ${t?"bg-red-900/20 border-red-700 border-red-600":"bg-red-50 border-red-300 border-red-500"}`,children:b.jsx("p",{className:t?"text-red-300":"text-red-700",children:A})}),a&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 border-l-4 border-l-amber-400",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(RB,{className:"text-amber-500",size:20}),b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Contexto de Mercado"})]}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:a.marketInsights})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[b.jsx(Zf,{size:20,className:"text-blue-500"}),"Prediccin de Demanda (30d)"]}),b.jsx("div",{className:"h-64 w-full",children:b.jsx(hu,{width:"100%",height:"100%",children:b.jsxs(Yv,{data:a.predictions.slice(0,5),layout:"vertical",margin:{left:0,right:20},children:[b.jsx(ad,{strokeDasharray:"3 3",horizontal:!1,stroke:t?"#334155":"#e2e8f0"}),b.jsx(od,{type:"number",hide:!0}),b.jsx(W0,{dataKey:"productName",type:"category",width:100,tick:{fill:t?"#94a3b8":"#64748b",fontSize:11}}),b.jsx(ff,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",backgroundColor:t?"#1e293b":"#fff",color:t?"#fff":"#000",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx(Z5,{wrapperStyle:{fontSize:"12px",marginTop:"10px"}}),b.jsx(hf,{dataKey:"currentSales",name:"Actual",fill:"#94a3b8",radius:[0,4,4,0],barSize:12}),b.jsx(hf,{dataKey:"predictedSales",name:"Proyeccin",fill:"#8b5cf6",radius:[0,4,4,0],barSize:12})]})})}),b.jsx("div",{className:"mt-4 space-y-2",children:a.predictions.slice(0,3).map((q,U)=>b.jsxs("div",{className:"flex items-center justify-between text-xs border-t border-slate-100 dark:border-slate-800 pt-2",children:[b.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300 truncate w-32",children:q.productName}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[R(q.trend),b.jsx("span",{className:"text-slate-500",children:q.trend})]}),b.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full text-slate-600 dark:text-slate-400",children:[q.confidence,"% Conf."]})]})]},U))})]}),b.jsxs("div",{children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 flex items-center gap-2 px-1",children:[b.jsx(Ub,{size:20,className:"text-emerald-500"}),"Compras Sugeridas"]}),b.jsxs("div",{className:"space-y-3",children:[a.restockSuggestions.map((q,U)=>b.jsx("div",{className:`p-4 rounded-xl border flex flex-col gap-2 ${L(q.urgency)}`,children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsxs("h4",{className:"font-bold text-sm flex items-center gap-2",children:[q.productName,q.urgency==="HIGH"&&b.jsx(C0,{size:14})]}),b.jsx("p",{className:"text-xs opacity-90 mt-1",children:q.reason})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("span",{className:"block text-2xl font-bold",children:["+",q.suggestedQuantity]}),b.jsx("span",{className:"text-[10px] uppercase opacity-75 font-semibold",children:"Unidades"})]})]})},U)),a.restockSuggestions.length===0&&b.jsx("p",{className:"text-center text-slate-400 text-sm py-4",children:"No hay sugerencias de compra urgentes por el momento."})]})]})]}),!a&&!c&&b.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-slate-400 opacity-60",children:[b.jsx(wy,{size:48,className:"mb-4"}),b.jsx("p",{className:"text-sm",children:"Tus datos estn seguros."})]})]})]})},Rpe=({user:e,isDark:t,onToggleTheme:n})=>{var k;const[r,i]=j.useState("BACKUP"),[a,s]=j.useState([]),[c,h]=j.useState(!1),[f,p]=j.useState(!0);j.useEffect(()=>{s(qm())},[]);const v=()=>{h(!0),setTimeout(()=>{const I=Lb(!1);s([I,...a]),h(!1)},1500)},E=I=>{window.confirm("ATENCIN: Esto sobrescribir todos los datos actuales con la copia seleccionada. Continuar?")&&(h(!0),setTimeout(()=>{const R=TM(I);h(!1),R?(alert("Sistema restaurado correctamente. Se recargar la pgina."),window.location.reload()):alert("Error al restaurar.")},2e3))},A=I=>{window.confirm("Eliminar esta copia de seguridad?")&&s(gj(I))};return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsxs("header",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center transition-colors",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Pg,{className:"text-emerald-600 dark:text-emerald-400"}),"Seguridad"]}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Respaldo y Acceso"})]}),b.jsx("button",{onClick:n,className:"p-2 rounded-full bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700",children:t?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})})]}),b.jsx("div",{className:"p-4 pb-0",children:b.jsxs("div",{className:"flex bg-slate-200 dark:bg-slate-800 p-1 rounded-xl",children:[b.jsx("button",{onClick:()=>i("BACKUP"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r==="BACKUP"?"bg-white dark:bg-slate-700 shadow text-slate-900 dark:text-white":"text-slate-500"}`,children:"Copia de Seguridad"}),b.jsx("button",{onClick:()=>i("SECURITY"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${r==="SECURITY"?"bg-white dark:bg-slate-700 shadow text-slate-900 dark:text-white":"text-slate-500"}`,children:"Autenticacin"})]})}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[r==="BACKUP"&&b.jsxs("div",{className:"space-y-4 animate-fade-in",children:[b.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-5 text-white shadow-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(dB,{size:24}),b.jsx("h3",{className:"font-bold text-lg",children:"Estado de la Nube"})]}),b.jsx("span",{className:"bg-blue-500/30 px-2 py-1 rounded text-xs font-medium",children:"Conectado"})]}),b.jsxs("p",{className:"text-blue-100 text-sm mb-4",children:["Las copias automticas estn ",f?"activadas":"desactivadas",". Se realizan diariamente a las 00:00."]}),b.jsxs("div",{className:"flex items-center justify-between bg-black/10 p-3 rounded-xl",children:[b.jsx("span",{className:"text-sm font-medium",children:"Auto-Exportar a JSON"}),b.jsx("button",{onClick:()=>p(!f),className:`w-10 h-6 rounded-full p-1 transition-colors ${f?"bg-emerald-400":"bg-slate-400"}`,children:b.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transition-transform ${f?"translate-x-4":""}`})})]})]}),b.jsxs("button",{onClick:v,disabled:c,className:"w-full py-4 bg-white dark:bg-slate-900 border border-blue-200 dark:border-blue-900/50 rounded-xl shadow-sm flex items-center justify-center gap-2 text-blue-600 dark:text-blue-400 font-bold active:scale-95 transition-all hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[c?b.jsx(Qh,{className:"animate-spin"}):b.jsx(Ym,{}),"Crear Copia de Seguridad Ahora"]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 px-1",children:"Historial de Copias"}),b.jsx("div",{className:"space-y-3",children:a.length===0?b.jsx("p",{className:"text-center text-slate-400 py-4 text-sm",children:"No hay copias disponibles."}):a.map(I=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-full ${I.autoGenerated?"bg-purple-100 text-purple-600 dark:bg-purple-900/30":"bg-blue-100 text-blue-600 dark:bg-blue-900/30"}`,children:b.jsx(yB,{size:20})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm",children:new Date(I.date).toLocaleDateString()}),b.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(I.date).toLocaleTimeString(),"  ",I.size,"  ",I.autoGenerated?"Auto":"Manual"]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>E(I.id),className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",title:"Restaurar",children:b.jsx(Qh,{size:18})}),b.jsx("button",{onClick:()=>A(I.id),className:"p-2 text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Eliminar",children:b.jsx(Js,{size:18})})]})]},I.id))})]})]}),r==="SECURITY"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 p-5 shadow-sm",children:[b.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[b.jsx(Pg,{size:18,className:"text-emerald-500"})," Credenciales"]}),b.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contrasea"}),b.jsx("p",{className:"text-xs text-slate-500",children:"ltimo cambio hace 30 das"})]}),b.jsx("button",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-lg",children:"Cambiar"})]}),b.jsxs("div",{className:"flex items-center justify-between py-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Autenticacin de 2 Factores"}),b.jsx("p",{className:"text-xs text-slate-500",children:"Protege tu cuenta con un cdigo extra"})]}),b.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${e.is2FAEnabled?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:[e.is2FAEnabled?b.jsx(aB,{size:12}):b.jsx(C0,{size:12}),e.is2FAEnabled?"Activado":"Desactivado"]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-3 px-1",children:"Dispositivos Activos"}),b.jsxs("div",{className:"space-y-3",children:[(k=e.sessions)==null?void 0:k.map(I=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full text-slate-600 dark:text-slate-400",children:I.deviceName.toLowerCase().includes("pc")?b.jsx(jb,{size:20}):b.jsx(UM,{size:20})}),b.jsxs("div",{children:[b.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm",children:[I.deviceName," ",I.isCurrent&&b.jsx("span",{className:"text-emerald-500 text-xs ml-1",children:"(Actual)"})]}),b.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(jb,{size:10})," ",I.ip]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(A5,{size:10})," ",I.isCurrent?"Ahora":"Hace 1h"]})]})]})]}),!I.isCurrent&&b.jsx("button",{className:"text-xs text-red-500 font-medium hover:underline",children:"Cerrar"})]},I.id)),!e.sessions&&b.jsx("p",{className:"text-slate-400 text-sm italic",children:"No hay informacin de sesiones."})]})]})]})]})]})},Ppe=({users:e,onAddUser:t,onUpdateUser:n,onDeleteUser:r,currentUser:i,isDark:a,onToggleTheme:s})=>{const[c,h]=j.useState(!1),[f,p]=j.useState(null),[v,E]=j.useState(""),[A,k]=j.useState(Da.SELLER),[I,R]=j.useState(""),[L,q]=j.useState(""),U=Q=>{Q?(p(Q),E(Q.name),k(Q.role),R(Q.pin),q(Q.password||"")):(p(null),E(""),k(Da.SELLER),R(""),q("")),h(!0)},H=Q=>{Q.preventDefault();const G={id:f?f.id:crypto.randomUUID(),name:v,role:A,pin:I,password:L,is2FAEnabled:f?f.is2FAEnabled:!1,avatar:f?f.avatar:`AVATAR_${Math.floor(Math.random()*5)+1}`};f?n(G):t(G),h(!1)},W=Q=>{switch(Q){case Da.ADMIN:return b.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded text-[10px] uppercase font-bold",children:"Admin"});case Da.MANAGER:return b.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded text-[10px] uppercase font-bold",children:"Encargado"});default:return b.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400 rounded text-[10px] uppercase font-bold",children:"Vendedor"})}};return b.jsxs("div",{className:"h-full flex flex-col pb-20 bg-slate-50 dark:bg-slate-950 transition-colors duration-300",children:[b.jsx("div",{className:"sticky top-0 bg-slate-50 dark:bg-slate-950 z-10 p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center",children:b.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Pg,{className:"text-blue-600"})," Gestin de Equipo"]})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:e.map(Q=>b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 shadow-sm flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${Q.role===Da.ADMIN?"bg-purple-500":"bg-slate-400"}`,children:Q.name.substring(0,1).toUpperCase()}),b.jsxs("div",{children:[b.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[Q.name," ",W(Q.role)]}),b.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[b.jsx(kM,{size:10})," PIN: ****"]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>U(Q),className:"p-2 text-blue-500 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:b.jsx(Jh,{size:18})}),Q.id!==i.id&&b.jsx("button",{onClick:()=>r(Q.id),className:"p-2 text-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg",children:b.jsx(Js,{size:18})})]})]},Q.id))}),b.jsx("button",{onClick:()=>U(),className:"fixed bottom-24 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-2xl shadow-lg transition-all active:scale-95 z-20",children:b.jsx(mf,{size:28})}),c&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-scale-up",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:f?"Editar Usuario":"Nuevo Usuario"}),b.jsx("button",{onClick:()=>h(!1),className:"text-slate-400",children:b.jsx(io,{size:24})})]}),b.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Nombre"}),b.jsx("input",{type:"text",value:v,onChange:Q=>E(Q.target.value),className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg dark:bg-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Rol"}),b.jsx("select",{value:A,onChange:Q=>k(Q.target.value),className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg dark:bg-slate-800 dark:text-white",children:Object.values(Da).map(Q=>b.jsx("option",{value:Q,children:Q},Q))})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Contrasea"}),b.jsx("input",{type:"text",value:L,onChange:Q=>q(Q.target.value),className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg dark:bg-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"PIN (4)"}),b.jsx("input",{type:"number",maxLength:4,value:I,onChange:Q=>R(Q.target.value),className:"w-full p-2 border border-slate-300 dark:border-slate-700 rounded-lg dark:bg-slate-800 dark:text-white",required:!0})]})]}),b.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold mt-4 flex items-center justify-center gap-2",children:[b.jsx(kc,{size:20})," Guardar"]})]})]})})]})},Dpe=["AVATAR_1","AVATAR_2","AVATAR_3","AVATAR_4","AVATAR_5"],Lpe=({user:e,onUpdateUser:t,isDark:n})=>{const[r,i]=j.useState(e.name),[a,s]=j.useState(e.password||""),[c,h]=j.useState(e.pin),[f,p]=j.useState(e.avatar||"AVATAR_1"),[v,E]=j.useState(e.is2FAEnabled),[A,k]=j.useState(""),[I,R]=j.useState(!0),[L,q]=j.useState(n),[U,H]=j.useState("es"),[W,Q]=j.useState(""),[G,ee]=j.useState(!1),[Y,me]=j.useState(""),[X,J]=j.useState(""),[ie,se]=j.useState(!1),ae=j.useRef(null);m5.useEffect(()=>{const V=Ec(e.id);k(V.whatsappPhone||""),R(V.notificationsEnabled??!0),q(V.darkMode??n),H(V.language??"es"),se(!!V.whatsappVerifiedAt)},[e.id,n]);const he=V=>{V.preventDefault(),t({...e,name:r,password:a,pin:c,avatar:f,is2FAEnabled:v});const le=Ec(e.id);n2({...le,whatsappPhone:A?g5(A):void 0,notificationsEnabled:I,darkMode:L,language:U}),ee(!0),setTimeout(()=>ee(!1),3e3)},Ae=V=>{k(V),V&&!kpe(V)?Q("Nmero de telfono invlido (mnimo 10 dgitos)"):Q("")},Te=()=>{if(!A||W){J("Ingresa un telfono vlido antes de enviar el cdigo");return}const V=Ipe(e.id,A),le=g5(A);J("Cdigo enviado. Revisa tu WhatsApp y pega el cdigo aqu."),window.open(`https://wa.me/${le}?text=Tu%20c%C3%B3digo%20de%20verificaci%C3%B3n%20para%20Inventariando%20es:%20${V}`,"_blank")},Me=()=>{Mpe(e.id,Y)?(se(!0),J("Nmero verificado correctamente")):J("Cdigo invlido o expirado. Genera uno nuevo.")},Qe=V=>{var ce;const le=(ce=V.target.files)==null?void 0:ce[0];if(le){if(le.size>1024*1024){alert("La imagen es muy grande. Mximo 1MB.");return}const pe=new FileReader;pe.onloadend=()=>{p(pe.result)},pe.readAsDataURL(le)}},ye=(V,le="w-12 h-12")=>{if(V.startsWith("data:image"))return b.jsx("img",{src:V,alt:"Avatar",className:`${le} rounded-full object-cover shadow-sm border-2 border-white dark:border-slate-700`});const ce={AVATAR_1:"bg-blue-500",AVATAR_2:"bg-purple-500",AVATAR_3:"bg-emerald-500",AVATAR_4:"bg-orange-500",AVATAR_5:"bg-pink-500"};return b.jsx("div",{className:`${le} rounded-full ${ce[V]||"bg-slate-500"} flex items-center justify-center text-white font-bold shadow-sm`,children:b.jsx(e1,{size:parseInt(le.replace(/\D/g,""))/2.5})})};return b.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-950 transition-colors duration-300 animate-fade-in",children:[b.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-10",children:b.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Mi Perfil"})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 pb-32 max-w-5xl mx-auto w-full",children:b.jsxs("form",{onSubmit:he,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"flex flex-col items-center gap-6 py-6 bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"relative group",children:[ye(f,"w-28 h-28"),b.jsx("button",{type:"button",onClick:()=>{var V;return(V=ae.current)==null?void 0:V.click()},className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full shadow-lg hover:bg-blue-700 transition-colors",children:b.jsx(qj,{size:18})}),b.jsx("input",{type:"file",ref:ae,className:"hidden",accept:"image/*",onChange:Qe})]}),b.jsxs("div",{className:"flex flex-col items-center gap-2 w-full px-4",children:[b.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase tracking-wide",children:"O elegir predeterminado"}),b.jsx("div",{className:"flex justify-center gap-3 w-full flex-wrap",children:Dpe.map(V=>b.jsx("button",{type:"button",onClick:()=>p(V),className:`rounded-full border-2 p-0.5 ${f===V?"border-blue-500 scale-110":"border-transparent opacity-70"} transition-all`,children:ye(V,"w-10 h-10")},V))})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Nombre Completo"}),b.jsxs("div",{className:"relative",children:[b.jsx(e1,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:r,onChange:V=>i(V.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-base"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Contrasea"}),b.jsxs("div",{className:"relative",children:[b.jsx(Bb,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:a,onChange:V=>s(V.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-base"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"PIN (Acceso Rpido)"}),b.jsxs("div",{className:"relative",children:[b.jsx(Bb,{className:"absolute left-3 top-3.5 text-slate-400",size:18}),b.jsx("input",{type:"number",value:c,maxLength:4,onChange:V=>h(V.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none text-base"})]})]}),b.jsx("div",{className:"pt-2 border-t border-slate-100 dark:border-slate-800",children:b.jsxs("div",{className:"flex items-center justify-between py-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-2 rounded-lg ${v?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:b.jsx(Fb,{size:24})}),b.jsxs("div",{children:[b.jsx("span",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200",children:"Doble Factor (2FA)"}),b.jsx("span",{className:"text-xs text-slate-500",children:"Mayor seguridad al ingresar"})]})]}),b.jsx("button",{type:"button",onClick:()=>E(!v),className:`w-14 h-8 rounded-full p-1 transition-colors duration-300 focus:outline-none ${v?"bg-emerald-500":"bg-slate-300 dark:bg-slate-700"}`,children:b.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${v?"translate-x-6":""}`})})]})})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 space-y-4",children:[b.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4",children:"Preferencias"}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-2",children:[b.jsx(b1,{size:16,className:"text-green-600"}),"Telfono WhatsApp"]}),b.jsx("input",{type:"tel",value:A,onChange:V=>Ae(V.target.value),placeholder:"+54 9 11 2345 6789",className:`w-full px-4 py-2 rounded-lg border ${W?"border-red-300 bg-red-50 dark:bg-red-900/10":"border-slate-200 bg-slate-50 dark:border-slate-700 dark:bg-slate-950"} text-slate-900 dark:text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-green-500`}),W&&b.jsx("p",{className:"text-sm text-red-500 mt-1",children:W}),b.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[b.jsx("button",{type:"button",onClick:Te,className:"px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm font-semibold hover:bg-emerald-700 active:scale-95 transition",children:"Enviar cdigo"}),ie&&b.jsx("span",{className:"text-xs font-bold text-emerald-500",children:"Nmero verificado"})]}),b.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[b.jsx("input",{type:"text",value:Y,onChange:V=>me(V.target.value),placeholder:"Ingresa el cdigo recibido",className:"flex-1 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-950 text-sm"}),b.jsx("button",{type:"button",onClick:Me,className:"px-3 py-2 rounded-lg border border-blue-500 text-blue-600 text-sm font-semibold hover:bg-blue-50 dark:hover:bg-blue-900/20",children:"Verificar"})]}),X&&b.jsx("p",{className:"text-xs mt-1 text-slate-500 dark:text-slate-400",children:X}),b.jsx("p",{className:"text-xs mt-1 text-slate-500",children:"Para compartir ventas y productos por WhatsApp"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center gap-2 font-bold text-slate-700 dark:text-slate-300 mb-2",children:[b.jsx(yg,{size:16,className:"text-amber-600"}),"Notificaciones"]}),b.jsxs("button",{type:"button",onClick:()=>R(!I),className:`w-full px-4 py-2 rounded-lg border flex items-center justify-between text-sm font-medium ${I?"bg-amber-50 border-amber-300 dark:bg-amber-900/20 dark:border-amber-700 text-amber-800 dark:text-amber-200":"bg-slate-50 border-slate-300 dark:bg-slate-800 dark:border-slate-700 text-slate-700 dark:text-slate-300"}`,children:[I?"Habilitadas":"Deshabilitadas",b.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${I?"bg-amber-500":"bg-slate-400 dark:bg-slate-600"}`,children:I&&b.jsx("span",{className:"text-white text-xs",children:""})})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center gap-2 font-bold text-slate-700 dark:text-slate-300 mb-2",children:[b.jsx(Qs,{size:16,className:"text-indigo-600"}),"Tema Oscuro"]}),b.jsxs("button",{type:"button",onClick:()=>q(!L),className:`w-full px-4 py-2 rounded-lg border flex items-center justify-between text-sm font-medium ${L?"bg-indigo-50 border-indigo-300 dark:bg-indigo-900/20 dark:border-indigo-700 text-indigo-800 dark:text-indigo-200":"bg-slate-50 border-slate-300 dark:bg-slate-800 dark:border-slate-700 text-slate-700 dark:text-slate-300"}`,children:[L?"Activado":"Desactivado",b.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${L?"bg-indigo-500":"bg-slate-400 dark:bg-slate-600"}`,children:L&&b.jsx("span",{className:"text-white text-xs",children:""})})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 flex items-center gap-2",children:[b.jsx(jb,{size:16,className:"text-blue-600"}),"Idioma"]}),b.jsxs("select",{value:U,onChange:V=>H(V.target.value),className:"w-full px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"es",children:"Espaol"}),b.jsx("option",{value:"en",children:"English"}),b.jsx("option",{value:"pt",children:"Portugus"})]})]})]}),G&&b.jsx("div",{className:`p-3 rounded-lg text-sm font-medium flex items-center gap-2 ${n?"bg-emerald-900/30 text-emerald-200 border border-emerald-700":"bg-emerald-50 text-emerald-800 border border-emerald-300"}`,children:" Perfil actualizado correctamente"}),b.jsxs("button",{type:"submit",className:"w-full md:w-64 mx-auto bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl shadow-blue-600/20 active:scale-95 transition-all",children:[b.jsx(kc,{size:24}),"Guardar Cambios"]})]})})]})},jpe=({products:e,currentUser:t,onImport:n,onClearData:r,onClose:i})=>{const a=j.useRef(null),[s,c]=j.useState(null),[h,f]=j.useState(null),[p,v]=j.useState([]),[E,A]=j.useState(!1);j.useEffect(()=>{v(_M())},[]);const k=t.role===Da.ADMIN,I=()=>{const H=`inventariando_completo_${new Date().toISOString().split("T")[0]}.csv`,W=["ID","Nombre","Categoria","Precio","Costo","Stock","MinStock","Descripcion"],Q=e.map(X=>[X.id,`"${X.name.replace(/"/g,'""')}"`,X.category,X.price,X.cost,X.stock,X.minStock,`"${X.description.replace(/"/g,'""')}"`]),G="data:text/csv;charset=utf-8,"+[W.join(","),...Q.map(X=>X.join(","))].join(`
`),ee=encodeURI(G),Y=document.createElement("a");Y.setAttribute("href",ee),Y.setAttribute("download",H),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y);const me={id:crypto.randomUUID(),type:"EXPORT",fileName:H,date:Date.now(),recordCount:e.length,format:"CSV"};by(me),v([me,...p]);try{Gs("data_exported",{format:"CSV",count:e.length})}catch{}},R=()=>{const H=`inventariando_backup_${new Date().toISOString().split("T")[0]}.json`,W=JSON.stringify(e,null,2),Q=new Blob([W],{type:"application/json"}),G=URL.createObjectURL(Q),ee=document.createElement("a");ee.href=G,ee.download=H,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee);const Y={id:crypto.randomUUID(),type:"EXPORT",fileName:H,date:Date.now(),recordCount:e.length,format:"JSON"};by(Y),v([Y,...p]),localStorage.setItem("lastBackupTime",new Date().toISOString());try{Gs("backup_created",{format:"JSON",count:e.length})}catch{}},L=H=>{var G;const W=(G=H.target.files)==null?void 0:G[0];if(!W)return;const Q=new FileReader;Q.onload=ee=>{var Y;try{const me=(Y=ee.target)==null?void 0:Y.result;let X=[];const J=W.name.endsWith(".json")?"JSON":"CSV";if(J==="JSON"){const ae=JSON.parse(me);Array.isArray(ae)?X=ae:ae.inventario&&Array.isArray(ae.inventario)?X=ae.inventario:ae.products&&Array.isArray(ae.products)?X=ae.products:ae.data&&Array.isArray(ae.data)&&(X=ae.data)}else if(J==="CSV"){const ae=me.split(`
`).filter(Ae=>Ae.trim()),he=ae[0].toLowerCase().includes("precio")?1:0;for(let Ae=he;Ae<ae.length;Ae++){const Te=ae[Ae].split(",").map(Qe=>Qe.trim().replace(/^"|"$/g,""));if(Te.length<4)continue;const Me=Object.values(Zo).find(Qe=>Qe===Te[2])||Zo.OTROS;X.push({id:Te[0],name:Te[1]||"Producto Importado",category:Me,price:parseFloat(Te[3]),cost:parseFloat(Te[4]),stock:parseInt(Te[5]),minStock:parseInt(Te[6]),description:Te[7],lastUpdated:Date.now()})}}const ie=new Set,se=[];if(X.forEach(ae=>{if(!ae||!ae.name)return;let he=ae.id;(!he||ie.has(he))&&(he=crypto.randomUUID()),ie.add(he);let Ae=ae.category;Object.values(Zo).includes(Ae)||(Ae=Zo.OTROS),se.push({id:he,name:ae.name,description:ae.description||"",category:Ae,price:typeof ae.price=="number"?ae.price:0,cost:typeof ae.cost=="number"?ae.cost:0,stock:typeof ae.stock=="number"?ae.stock:0,minStock:typeof ae.minStock=="number"?ae.minStock:5,lastUpdated:Date.now(),suppliers:ae.suppliers||[],barcode:ae.barcode})}),se.length>0){const ae=Lb(!0);try{Gs("backup_created",{auto:!0})}catch{}n(se),c({total:se.length,valid:se.length}),f(null);try{Gs("data_imported",{format:J,count:se.length})}catch{}const he={id:crypto.randomUUID(),type:"IMPORT",fileName:W.name,date:Date.now(),recordCount:se.length,format:J,backupId:ae.id};by(he),v([he,...p])}else f("No se encontraron productos vlidos en el archivo.")}catch(me){console.error(me),f("Error al leer el archivo. Verifica el formato.")}},Q.readAsText(W)},q=()=>{if(!k)return;if(window.confirm("ADVERTENCIA! Ests seguro de que quieres BORRAR TODOS LOS PRODUCTOS?")&&window.confirm("Esta accin no se puede deshacer. Se eliminarn todos los productos de la base de datos local. Continuar?")){Lb(!0);try{Gs("backup_created",{auto:!0})}catch{}r();try{Gs("data_cleared")}catch{}i()}},U=H=>{if(!k)return;window.confirm("Deseas revertir la base de datos al estado anterior a esta importacin? Los cambios realizados despus se perdern.")&&(A(!0),setTimeout(()=>{TM(H)?(alert("Base de datos restaurada correctamente. La pgina se recargar."),window.location.reload()):(alert("Error al restaurar el punto de control."),A(!1))},1e3))};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-scale-up max-h-[90vh] flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center shrink-0",children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[b.jsx(Xh,{className:"text-blue-600"})," Gestin de Datos"]}),b.jsx("button",{onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:b.jsx(io,{size:20,className:"text-slate-500"})})]}),b.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Exportar (Copia de Seguridad)"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("button",{onClick:I,className:"flex flex-col items-center justify-center p-4 border border-slate-200 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[b.jsx(Ym,{size:24,className:"text-emerald-500 mb-2 group-hover:scale-110 transition-transform"}),b.jsx("span",{className:"text-sm font-medium",children:"Excel / CSV"})]}),b.jsxs("button",{onClick:R,className:"flex flex-col items-center justify-center p-4 border border-slate-200 dark:border-slate-700 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[b.jsx(kc,{size:24,className:"text-blue-500 mb-2 group-hover:scale-110 transition-transform"}),b.jsx("span",{className:"text-sm font-medium",children:"Respaldo JSON"})]})]})]}),b.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 space-y-3",children:[b.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Importar Datos"}),s?b.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl text-center",children:[b.jsx("div",{className:"inline-block p-3 bg-emerald-100 dark:bg-emerald-800 rounded-full text-emerald-600 dark:text-emerald-200 mb-2",children:b.jsx(Vm,{size:24})}),b.jsx("p",{className:"font-bold text-emerald-700 dark:text-emerald-300",children:"Importacin Exitosa"}),b.jsxs("p",{className:"text-sm text-emerald-600 dark:text-emerald-400",children:["Se han procesado ",s.total," productos correctamente."]}),b.jsx("button",{onClick:()=>{c(null),i()},className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg text-sm font-medium hover:bg-emerald-700",children:"Ver Productos"})]}):b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Soporta archivos .csv y .json. Se crear un punto de restauracin automtico."}),b.jsxs("button",{onClick:()=>{var H;return(H=a.current)==null?void 0:H.click()},disabled:E,className:"w-full flex items-center justify-center gap-2 bg-slate-100 dark:bg-slate-800 border-2 border-dashed border-slate-300 dark:border-slate-700 p-6 rounded-xl text-slate-500 hover:text-blue-500 hover:border-blue-400 transition-colors disabled:opacity-50",children:[b.jsx(RF,{size:20}),b.jsx("span",{children:"Seleccionar Archivo"})]}),b.jsx("input",{type:"file",ref:a,onChange:L,className:"hidden",accept:".csv,.json"}),h&&b.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[b.jsx(C0,{size:16})," ",h]})]})]}),b.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4",children:[b.jsxs("h3",{className:"font-semibold text-slate-700 dark:text-slate-200 mb-3 flex items-center gap-2",children:[b.jsx(A5,{size:16})," Historial de Cambios"]}),b.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-1",children:p.length===0?b.jsx("p",{className:"text-xs text-slate-400 italic",children:"No hay historial reciente."}):p.map(H=>b.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-100 dark:border-slate-700 group",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`p-1.5 rounded-full ${H.type==="IMPORT"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-blue-100 text-blue-600 dark:bg-blue-900/30"}`,children:H.type==="IMPORT"?b.jsx(b5,{size:14}):b.jsx(kj,{size:14})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium text-slate-700 dark:text-slate-200 truncate w-32 sm:w-40",children:H.fileName}),b.jsxs("p",{className:"text-[10px] text-slate-500",children:[new Date(H.date).toLocaleString(),"  ",H.recordCount," items"]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-white dark:bg-slate-900 px-1.5 py-0.5 rounded border border-slate-200 dark:border-slate-700",children:H.format}),k&&H.type==="IMPORT"&&H.backupId&&b.jsx("button",{onClick:()=>U(H.backupId),disabled:E,className:"p-1.5 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",title:"Deshacer Importacin (Restaurar DB)",children:b.jsx(oF,{size:14})})]})]},H.id))})]}),k?b.jsx("div",{className:"border-t-2 border-red-100 dark:border-red-900/30 pt-4 mt-2",children:b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/10 p-4 rounded-xl border border-red-100 dark:border-red-900/20",children:[b.jsxs("h3",{className:"font-bold text-red-600 dark:text-red-400 flex items-center gap-2 text-sm mb-2",children:[b.jsx(C0,{size:16})," Zona de Peligro"]}),b.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Si tuviste errores al importar o quieres reiniciar el sistema, puedes eliminar toda la base de datos de productos."}),b.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 bg-white dark:bg-slate-900 border border-red-200 dark:border-red-800 text-red-500 dark:text-red-400 py-2 rounded-lg text-sm font-bold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[b.jsx(Js,{size:16})," Eliminar Todos los Productos"]})]})}):b.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 text-center",children:b.jsxs("p",{className:"text-xs text-slate-400 flex items-center justify-center gap-1",children:[b.jsx(pF,{size:12})," Opciones avanzadas restringidas a Administradores"]})})]})]})})},Bpe=()=>"1.4.1",Fpe=()=>new Date().getFullYear(),Upe=()=>"Leonardo Esteves",zpe=()=>"",qpe=async()=>{try{const t=(navigator.language||"es-AR").split("-")[1]||"AR";return Hpe(t)}catch{return""}},Hpe=e=>{const t=e.toUpperCase().split("").map(n=>127397+n.charCodeAt(0));return String.fromCodePoint(...t)},Vpe=async()=>{const e=Bpe(),t=Fpe(),n=Upe(),r=zpe(),i=await qpe();return`Inventariando v${e}   ${t}
${n} ${r} ${i}`},Gpe=({isOpen:e,onClose:t,onNavigate:n,currentView:r,currentUser:i,onLogout:a,onOpenDataManagement:s,onOpenUserSettings:c,onOpenAnalyticsDashboard:h,onOpenSystemConfig:f,isDark:p,isDesktop:v})=>{const[E,A]=j.useState("Inventariando");j.useEffect(()=>{(async()=>{const q=await Vpe();A(q)})()},[]);const k=[{view:Cn.DASHBOARD,label:"Inicio",icon:OM},{view:Cn.INVENTORY,label:"Inventario",icon:LM},{view:Cn.SALES,label:"Ventas (POS)",icon:Dg},{view:Cn.CUSTOMERS,label:"Clientes",icon:Jm},{view:Cn.PROMOTIONS,label:"Ofertas & Promos",icon:E0},{view:Cn.SUPPLIERS,label:"Proveedores",icon:S5},{view:Cn.FINANCE,label:"Finanzas",icon:S0,role:[Da.ADMIN,Da.MANAGER]},{view:Cn.ANALYSIS,label:"Inteligencia Artificial",icon:Xm,role:[Da.ADMIN,Da.MANAGER]},{view:Cn.TEAM,label:"Equipo",icon:Pg,role:[Da.ADMIN]},{view:Cn.SECURITY,label:"Seguridad & Backup",icon:Xh}],I=L=>{n(L),t()},R=()=>{var L;return(L=i.avatar)!=null&&L.startsWith("data:image")?b.jsx("img",{src:i.avatar,alt:"Profile",className:"w-full h-full object-cover"}):b.jsx(cB,{size:40,className:"text-slate-400"})};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`fixed inset-0 bg-black/50 z-[60] transition-opacity duration-300 backdrop-blur-sm ${e&&!v?"opacity-100":"opacity-0 pointer-events-none"} ${v?"hidden":""}`,onClick:t}),b.jsxs("div",{className:`fixed lg:static top-0 left-0 h-full w-[80%] max-w-xs lg:w-72 bg-white dark:bg-slate-900 z-[70] transform transition-transform duration-300 shadow-2xl lg:shadow-none flex flex-col ${e?"translate-x-0":"-translate-x-full"}`,"data-tour":"sidebar",children:[b.jsxs("div",{className:"p-6 bg-slate-100 dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 flex flex-col gap-4",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("div",{onClick:()=>I(Cn.PROFILE),className:"w-16 h-16 rounded-full bg-white dark:bg-slate-800 shadow-md overflow-hidden flex items-center justify-center cursor-pointer border-2 border-white dark:border-slate-700",children:R()}),!v&&b.jsx("button",{onClick:t,className:`p-2 bg-white dark:bg-slate-800 rounded-full shadow-sm text-slate-500 ${p?"hover:bg-slate-800":"hover:bg-slate-100"}`,title:"Cerrar panel","aria-label":"Cerrar men",children:b.jsx(nB,{size:20})})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:i.name}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i.role})]}),b.jsxs("button",{onClick:()=>I(Cn.PROFILE),className:"text-xs font-semibold text-blue-600 dark:text-blue-400 flex items-center gap-1 hover:underline",children:["Editar Perfil ",b.jsx(Gm,{size:12})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto py-2",children:[b.jsx("nav",{className:"px-3 space-y-1",children:k.map(L=>{if(L.role&&!L.role.includes(i.role))return null;const q=r===L.view;return b.jsxs("button",{onClick:()=>I(L.view),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all active:scale-95 ${q?"bg-blue-600 text-white shadow-md shadow-blue-600/20":"text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[b.jsx(L.icon,{size:20,className:q?"text-white":"text-slate-400"}),b.jsx("span",{className:"font-medium text-sm",children:L.label})]},L.view)})}),b.jsxs("div",{className:"px-6 py-4 mt-2",children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Sistema"}),b.jsxs("button",{onClick:()=>{s(),t()},className:"w-full flex items-center gap-3 px-0 py-3 text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[b.jsx(Xh,{size:18}),b.jsx("span",{className:"text-sm font-medium",children:"Gestin de Datos"})]}),h&&b.jsxs("button",{onClick:()=>{h(),t()},className:"w-full flex items-center gap-3 px-0 py-3 text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[b.jsx(Vj,{size:18}),b.jsx("span",{className:"text-sm font-medium",children:"Mtricas Internas"})]}),f&&b.jsxs("button",{onClick:()=>{f(),t()},className:"w-full flex items-center gap-3 px-0 py-3 text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[b.jsx(FM,{size:18}),b.jsx("span",{className:"text-sm font-medium",children:"Configuracin"})]})]})]}),b.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950",children:[b.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 py-3 rounded-xl font-bold hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",children:[b.jsx(UB,{size:18})," Cerrar Sesin"]}),b.jsx("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500 mt-3 leading-relaxed px-2",children:E})]})]})]})},Ype=({onSave:e,onCancel:t})=>{const[n,r]=j.useState(""),[i,a]=j.useState(""),[s,c]=j.useState(Og.OTROS),[h,f]=j.useState(new Date().toISOString().split("T")[0]),p=v=>{v.preventDefault();const E={id:crypto.randomUUID(),description:n,amount:parseFloat(i)||0,category:s,date:new Date(h).getTime()+new Date().getTimezoneOffset()*6e4};e(E)};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full sm:max-w-md h-auto rounded-t-2xl sm:rounded-2xl shadow-2xl flex flex-col animate-slide-up transition-colors duration-300",children:[b.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-100 dark:border-slate-800",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Registrar Gasto"}),b.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:b.jsx(io,{size:24})})]}),b.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Monto (ARS)"}),b.jsxs("div",{className:"relative",children:[b.jsx(S0,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"number",value:i,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-xl focus:ring-2 focus:ring-red-500 focus:outline-none text-lg font-bold",placeholder:"0.00",autoFocus:!0,required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Concepto"}),b.jsxs("div",{className:"relative",children:[b.jsx(x1,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none",placeholder:"Ej: Pago de Luz Edesur",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Categora"}),b.jsxs("div",{className:"relative",children:[b.jsx(E0,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("select",{value:s,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none",children:Object.values(Og).map(v=>b.jsx("option",{value:v,children:v},v))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Fecha"}),b.jsxs("div",{className:"relative",children:[b.jsx(Hm,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),b.jsx("input",{type:"date",value:h,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none"})]})]}),b.jsx("div",{className:"pt-2",children:b.jsxs("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-semibold text-lg active:scale-95 transition-all flex items-center justify-center gap-2 shadow-lg shadow-red-600/20",children:[b.jsx(kc,{size:20}),"Registrar Gasto"]})})]})]})})},HL="inventariando_feedback_entries";function Wpe(){try{const e=localStorage.getItem(HL);return e?JSON.parse(e):[]}catch{return[]}}function Kpe(e){try{const t=Wpe();localStorage.setItem(HL,JSON.stringify([e,...t]))}catch{}}const $pe=({currentView:e})=>{const[t,n]=j.useState(!1),[r,i]=j.useState(0),[a,s]=j.useState(""),[c,h]=j.useState(!1),f=()=>{if(!r&&!a)return;const p={id:crypto.randomUUID(),rating:r,comment:a.trim(),view:e,createdAt:Date.now()};Kpe(p),Gs("feedback_submitted",{rating:r,hasComment:!!a.trim(),view:e}),h(!0),i(0),s(""),setTimeout(()=>h(!1),2500),n(!1)};return b.jsxs(b.Fragment,{children:[b.jsx("button",{"aria-label":"Enviar feedback",onClick:()=>n(!0),className:"fixed bottom-4 right-4 z-50 rounded-full bg-blue-600 text-white p-3 shadow-lg hover:bg-blue-700 focus:outline-none",children:b.jsx(WB,{size:22})}),t&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:b.jsxs("div",{className:"w-full max-w-md rounded-lg bg-white dark:bg-zinc-900 p-4 shadow-xl",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-semibold",children:"Sugerencias o problemas?"}),b.jsx("button",{onClick:()=>n(!1),className:"p-1 rounded hover:bg-zinc-100 dark:hover:bg-zinc-800",children:b.jsx(io,{size:18})})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{className:"block text-sm opacity-80 mb-1",children:"Califica esta seccin"}),b.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(p=>b.jsx("button",{onClick:()=>i(p),className:`p-2 rounded ${r>=p?"text-yellow-500":"text-zinc-400"}`,"aria-label":`Calificacin ${p}`,children:b.jsx(zb,{fill:r>=p?"currentColor":"transparent"})},p))})]}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{className:"block text-sm opacity-80 mb-1",children:"Comentario"}),b.jsx("textarea",{value:a,onChange:p=>s(p.target.value),className:"w-full min-h-[90px] resize-none rounded border border-zinc-300 dark:border-zinc-700 bg-transparent p-2 text-sm",placeholder:"Contanos qu mejorar o qu te gust"})]}),b.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[c&&b.jsx("span",{className:"text-green-600 text-sm",children:"Gracias por tu feedback!"}),b.jsxs("button",{onClick:f,className:"inline-flex items-center gap-2 rounded bg-green-600 px-3 py-2 text-white text-sm hover:bg-green-700",children:[b.jsx(fF,{size:16})," Enviar"]})]})]})})]})},Xpe="tu_client_id.apps.googleusercontent.com",Jpe=`${window.location.origin}/google-oauth-callback`,Zpe="https://www.googleapis.com/auth/generative-language",Qpe=()=>new Promise((e,t)=>{const n=Math.random().toString(36).substring(7);sessionStorage.setItem("oauth_state",n);const r=new URL("https://accounts.google.com/o/oauth2/v2/auth");r.searchParams.append("client_id",Xpe),r.searchParams.append("redirect_uri",Jpe),r.searchParams.append("response_type","token"),r.searchParams.append("scope",Zpe),r.searchParams.append("state",n),r.searchParams.append("access_type","online");const i=window.open(r.toString(),"google-oauth","width=500,height=600,left=100,top=100");if(!i){t(new Error("No se pudo abrir la ventana de autenticacin. Verifica que los popups no estn bloqueados."));return}const a=h=>{h.origin.startsWith(window.location.origin)&&h.data.type==="GOOGLE_OAUTH_TOKEN"&&(window.removeEventListener("message",a),i.closed||i.close(),h.data.token?e(h.data.token):t(new Error(h.data.error||"Error en la autenticacin")))};window.addEventListener("message",a);const s=setTimeout(()=>{window.removeEventListener("message",a),i.closed||i.close(),t(new Error("Tiempo agotado en la autenticacin de Google"))},600*1e3),c=setInterval(()=>{i.closed&&(clearInterval(c),clearTimeout(s),window.removeEventListener("message",a),t(new Error("Ventana cerrada por el usuario")))},1e3)}),ege=({user:e,isDark:t,onClose:n})=>{const[r,i]=j.useState(vo.GEMINI),[a,s]=j.useState(""),[c,h]=j.useState(""),[f,p]=j.useState(""),[v,E]=j.useState(void 0),[A,k]=j.useState("login"),[I,R]=j.useState(!1),[L,q]=j.useState(!1),[U,H]=j.useState(""),[W,Q]=j.useState(!1);j.useEffect(()=>{const me=Ec(e.id);i(me.iaProvider||vo.GEMINI),s(me.iaApiKey?ru(me.iaApiKey):""),h(me.geminiApiKey?ru(me.geminiApiKey):""),p(me.googleAccessToken?ru(me.googleAccessToken):""),E(me.geminiLoginValidatedAt),k(me.geminiApiKey?"apikey":"login")},[e.id]);const G=()=>{const me=Ec(e.id);n2({...me,iaProvider:r,iaApiKey:a&&(r===vo.OPENAI||r===vo.ANTHROPIC)?Ib(a):void 0,geminiApiKey:c&&A==="apikey"?Ib(c):void 0,googleAccessToken:f&&A==="login"?Ib(f):void 0,geminiLoginValidatedAt:A==="login"&&f?v||Date.now():void 0}),q(!0),setTimeout(()=>q(!1),3e3)},ee=async()=>{Q(!0),H("Abriendo ventana de autenticacin...");try{const me=await Qpe();p(me),E(Date.now()),H(" Autenticacin exitosa. Token recibido."),Q(!1)}catch(me){H(`Error: ${me instanceof Error?me.message:"Error desconocido"}`),Q(!1)}},Y=()=>{if(!c){H("Ingresa tu API Key de Gemini.");return}if(c.length<20){H("API Key muy corta. Verifica el valor.");return}H("API Key parece vlida.")};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center animate-fade-in",children:b.jsxs("div",{className:`w-full md:w-96 rounded-t-3xl md:rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto ${t?"bg-slate-900":"bg-white"} transition-colors`,children:[b.jsxs("div",{className:`sticky top-0 flex items-center justify-between p-4 border-b ${t?"border-slate-800 bg-slate-900":"border-slate-100 bg-white"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t?"bg-purple-900/30":"bg-purple-100"}`,children:b.jsx(Xm,{size:20,className:t?"text-purple-400":"text-purple-600"})}),b.jsxs("div",{children:[b.jsx("h2",{className:`font-bold ${t?"text-slate-100":"text-slate-900"}`,children:"Inteligencia Artificial"}),b.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:"Configuracin de IA"})]})]}),b.jsx("button",{onClick:n,className:`p-2 rounded-full ${t?"hover:bg-slate-800":"hover:bg-slate-100"}`,children:b.jsx(io,{size:20,className:t?"text-slate-400":"text-slate-600"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsxs("label",{className:`flex items-center gap-2 font-semibold mb-2 ${t?"text-slate-200":"text-slate-800"}`,children:[b.jsx(HF,{size:18,className:"text-purple-600"}),"Proveedor de IA"]}),b.jsx("div",{className:"space-y-2",children:[{value:vo.GEMINI,label:"Google Gemini (Login)",color:"blue"},{value:vo.OPENAI,label:"ChatGPT (API Key)",color:"emerald"},{value:vo.ANTHROPIC,label:"Anthropic Claude (API Key)",color:"amber"}].map(me=>b.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border ${r===me.value?t?`bg-${me.color}-900/30 border-${me.color}-700`:`bg-${me.color}-50 border-${me.color}-300`:t?"border-slate-700 hover:bg-slate-800":"border-slate-200 hover:bg-slate-50"}`,children:[b.jsx("input",{type:"radio",value:me.value,checked:r===me.value,onChange:X=>i(X.target.value),className:"w-4 h-4"}),b.jsx("span",{className:t?"text-slate-200":"text-slate-800",children:me.label})]},me.value))})]}),r===vo.GEMINI&&b.jsxs("div",{className:`p-3 rounded-xl border ${t?"border-slate-700 bg-slate-800":"border-slate-200 bg-slate-50"}`,children:[b.jsx("p",{className:`text-sm font-bold mb-2 ${t?"text-slate-100":"text-slate-800"}`,children:"Modo de Autenticacin Gemini"}),b.jsxs("div",{className:"flex gap-3 mb-3",children:[b.jsx("button",{type:"button",onClick:()=>k("login"),className:`flex-1 px-3 py-2 rounded-lg border text-sm font-semibold ${A==="login"?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-200":t?"border-slate-700 text-slate-200":"border-slate-200 text-slate-700"}`,children:"Login con Google"}),b.jsx("button",{type:"button",onClick:()=>k("apikey"),className:`flex-1 px-3 py-2 rounded-lg border text-sm font-semibold ${A==="apikey"?"border-purple-500 bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-200":t?"border-slate-700 text-slate-200":"border-slate-200 text-slate-700"}`,children:"API Key"})]}),A==="login"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-200":"text-slate-800"}`,children:"Token de acceso Google (obtenido automticamente)"}),b.jsx("div",{className:"flex gap-2",children:b.jsx("input",{type:"text",value:f,onChange:me=>p(me.target.value),placeholder:"Token ser llenado automticamente...",className:`flex-1 px-4 py-2 rounded-lg border ${t?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"}`})}),b.jsxs("button",{type:"button",onClick:ee,disabled:W,className:`w-full px-4 py-2 rounded-lg text-white text-sm font-semibold flex items-center justify-center gap-2 ${W?"bg-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:scale-95"} transition-all`,children:[b.jsx(PM,{size:16}),W?"Autenticando...":"Abrir Login con Google"]}),v&&b.jsxs("p",{className:"text-xs text-emerald-500 flex items-center gap-1",children:[b.jsx(sB,{size:14})," Login validado"]}),b.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:"Se abrir una ventana para autenticar con tu cuenta de Google. El token se completar automticamente."})]}),A==="apikey"&&b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:`text-sm font-semibold ${t?"text-slate-200":"text-slate-800"}`,children:"API Key de Gemini"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:I?"text":"password",value:c,onChange:me=>h(me.target.value),placeholder:"AI...",className:`w-full px-4 py-2 pr-10 rounded-lg border ${t?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"} placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500`}),b.jsx("button",{type:"button",onClick:()=>R(!I),className:`absolute right-3 top-2.5 ${t?"text-slate-400 hover:text-slate-200":"text-slate-500 hover:text-slate-700"}`,children:I?"":""})]}),b.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 rounded-lg bg-emerald-600 text-white text-sm font-semibold hover:bg-emerald-700 active:scale-95",children:"Validar API Key"})]})]}),r!==vo.GEMINI&&b.jsxs("div",{children:[b.jsxs("label",{className:`flex items-center gap-2 font-semibold mb-2 ${t?"text-slate-200":"text-slate-800"}`,children:[b.jsx(Bb,{size:18,className:"text-red-600"}),"API Key"]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:I?"text":"password",value:a,onChange:me=>s(me.target.value),placeholder:"sk-...",className:`w-full px-4 py-2 pr-10 rounded-lg border ${t?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"} placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-red-500`}),b.jsx("button",{onClick:()=>R(!I),className:`absolute right-3 top-2.5 ${t?"text-slate-400 hover:text-slate-200":"text-slate-500 hover:text-slate-700"}`,children:I?"":""})]}),b.jsx("p",{className:`text-xs mt-1 ${t?"text-slate-400":"text-slate-500"}`,children:"Guardada de forma encriptada. Nunca se enva al servidor."})]}),L&&b.jsx("div",{className:`p-3 rounded-lg text-sm font-medium flex items-center gap-2 ${t?"bg-emerald-900/30 text-emerald-200 border border-emerald-700":"bg-emerald-50 text-emerald-800 border border-emerald-300"}`,children:" Configuracin guardada"}),U&&b.jsx("div",{className:`p-3 rounded-lg text-sm ${t?"text-slate-200":"text-slate-700"}`,children:U}),b.jsxs("button",{onClick:G,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all active:scale-95",children:[b.jsx(kc,{size:18}),"Guardar Configuracin IA"]})]})]})})},tge=({isDark:e,onToggleTheme:t,onClose:n})=>{var f;const[r,i]=j.useState("7d"),a=j.useMemo(()=>{const p=localStorage.getItem("analytics_events");return p?JSON.parse(p):[]},[]),s=j.useMemo(()=>{const p=Date.now();let v=10080*60*1e3;r==="24h"?v=1440*60*1e3:r==="30d"&&(v=720*60*60*1e3);const E=a.filter(L=>L.timestamp>=p-v),A={};E.forEach(L=>{A[L.type]=(A[L.type]||0)+1});const k={};E.forEach(L=>{const q=new Date(L.timestamp).toLocaleDateString("es-AR");k[q]=(k[q]||0)+1});const I=Object.entries(A).map(([L,q])=>({name:L,value:q})),R=Object.entries(k).sort(([L],[q])=>new Date(L).getTime()-new Date(q).getTime()).map(([L,q])=>({day:L,eventos:q}));return{total:E.length,byType:A,pieData:I,lineData:R}},[a,r]),c=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#64748b","#06b6d4"],h={app_opened:{label:"App Abierta",icon:"",color:"blue"},feature_accessed:{label:"Feature Accedido",icon:"",color:"purple"},product_added:{label:"Producto Agregado",icon:"",color:"green"},sale_completed:{label:"Venta Completada",icon:"",color:"emerald"},feedback_submitted:{label:"Feedback Enviado",icon:"",color:"amber"},data_exported:{label:"Datos Exportados",icon:"",color:"cyan"},data_imported:{label:"Datos Importados",icon:"",color:"indigo"},data_cleared:{label:"Datos Eliminados",icon:"",color:"red"},backup_created:{label:"Backup Creado",icon:"",color:"slate"},inventory_updated:{label:"Inventario Actualizado",icon:"",color:"orange"},export_category:{label:"Categora Exportada",icon:"",color:"teal"},ai_suggestion_used:{label:"IA Usada",icon:"",color:"violet"}};return b.jsx("div",{className:`fixed inset-0 z-[60] flex items-center justify-center pl-64 ${e?"bg-black/50":"bg-black/30"}`,children:b.jsxs("div",{className:`w-full max-w-5xl max-h-[90vh] overflow-auto rounded-2xl ${e?"bg-slate-900":"bg-white"} shadow-2xl`,children:[b.jsxs("div",{className:`sticky top-0 flex items-center justify-between p-6 border-b ${e?"border-slate-800 bg-slate-900":"border-slate-100 bg-white"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Rg,{className:e?"text-blue-400":"text-blue-600",size:28}),b.jsx("h1",{className:`text-2xl font-bold ${e?"text-slate-100":"text-slate-900"}`,children:"Mtricas Internas"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:t,className:`p-2 rounded-lg ${e?"hover:bg-slate-800":"hover:bg-slate-100"}`,children:e?b.jsx(Sl,{size:20}):b.jsx(Qs,{size:20})}),b.jsx("button",{onClick:n,className:`p-2 rounded-lg ${e?"hover:bg-slate-800":"hover:bg-slate-100"}`,children:b.jsx(io,{size:20})})]})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsx("div",{className:"flex gap-2",children:["24h","7d","30d"].map(p=>b.jsx("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-lg font-medium transition-all ${r===p?"bg-blue-600 text-white":e?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:p==="24h"?"24h":p==="7d"?"ltimos 7 das":"ltimos 30 das"},p))}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(x1,{className:"text-blue-600 dark:text-blue-400",size:20}),b.jsx("p",{className:`text-sm font-medium ${e?"text-slate-400":"text-slate-500"}`,children:"Total Eventos"})]}),b.jsx("p",{className:`text-3xl font-bold ${e?"text-slate-100":"text-slate-900"}`,children:s.total})]}),b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(Zf,{className:"text-emerald-600 dark:text-emerald-400",size:20}),b.jsx("p",{className:`text-sm font-medium ${e?"text-slate-400":"text-slate-500"}`,children:"Evento Top"})]}),b.jsx("p",{className:`text-2xl font-bold ${e?"text-slate-100":"text-slate-900"}`,children:s.byType&&((f=Object.entries(s.byType).sort(([,p],[,v])=>v-p)[0])==null?void 0:f[0])||"N/A"})]}),b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx(Rg,{className:"text-purple-600 dark:text-purple-400",size:20}),b.jsx("p",{className:`text-sm font-medium ${e?"text-slate-400":"text-slate-500"}`,children:"Tipos de Evento"})]}),b.jsx("p",{className:`text-3xl font-bold ${e?"text-slate-100":"text-slate-900"}`,children:Object.keys(s.byType).length})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.pieData.length>0&&b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsx("h3",{className:`font-bold mb-4 ${e?"text-slate-100":"text-slate-900"}`,children:"Distribucin de Eventos"}),b.jsx(hu,{width:"100%",height:300,children:b.jsxs(IS,{children:[b.jsx(Hv,{data:s.pieData,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:v})=>`${p} ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.pieData.map((p,v)=>b.jsx(hd,{fill:c[v%c.length]},`cell-${v}`))}),b.jsx(ff,{})]})})]}),s.lineData.length>0&&b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsx("h3",{className:`font-bold mb-4 ${e?"text-slate-100":"text-slate-900"}`,children:"Eventos por Da"}),b.jsx(hu,{width:"100%",height:300,children:b.jsxs(sae,{data:s.lineData,children:[b.jsx(ad,{strokeDasharray:"3 3",stroke:e?"#334155":"#e2e8f0"}),b.jsx(od,{dataKey:"day",tick:{fill:e?"#94a3b8":"#64748b"}}),b.jsx(W0,{tick:{fill:e?"#94a3b8":"#64748b"}}),b.jsx(ff,{}),b.jsx(AP,{type:"monotone",dataKey:"eventos",stroke:"#3b82f6",strokeWidth:2})]})})]})]}),b.jsxs("div",{className:`p-4 rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[b.jsx("h3",{className:`font-bold mb-4 ${e?"text-slate-100":"text-slate-900"}`,children:"Detalles por Tipo"}),b.jsx("div",{className:"space-y-2",children:Object.entries(s.byType).sort(([,p],[,v])=>v-p).map(([p,v])=>{const E=h[p]||{label:p,icon:""};return b.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${e?"bg-slate-700":"bg-white border border-slate-200"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-xl",children:E.icon}),b.jsx("span",{className:e?"text-slate-200":"text-slate-800",children:E.label})]}),b.jsx("span",{className:`font-bold text-lg ${e?"text-blue-400":"text-blue-600"}`,children:v})]},p)})})]})]})]})})},nge=({isDark:e,onClose:t})=>{const[n,r]=j.useState(!1),[i,a]=j.useState("es"),[s,c]=j.useState("ARS"),[h,f]=j.useState(0);j.useEffect(()=>{const v=JSON.parse(localStorage.getItem("system_config")||"{}");v.defaultThemeDark!==void 0&&r(!!v.defaultThemeDark),v.defaultLanguage&&a(v.defaultLanguage),v.currency&&c(v.currency),v.backupInterval!==void 0&&f(Number(v.backupInterval))},[]);const p=()=>{const v={defaultThemeDark:n,defaultLanguage:i,currency:s,backupInterval:h};localStorage.setItem("system_config",JSON.stringify(v)),t()};return b.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-end md:items-center justify-center animate-fade-in",children:b.jsxs("div",{className:`w-full md:w-[520px] rounded-t-3xl md:rounded-2xl shadow-2xl max-h-[90vh] overflow-y-auto ${e?"bg-slate-900":"bg-white"} transition-colors`,children:[b.jsxs("div",{className:`sticky top-0 flex items-center justify-between p-4 border-b ${e?"border-slate-800 bg-slate-900":"border-slate-100 bg-white"}`,children:[b.jsxs("div",{children:[b.jsx("h2",{className:`font-bold ${e?"text-slate-100":"text-slate-900"}`,children:"Configuracin del Sistema"}),b.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:"Preferencias generales y operativas"})]}),b.jsx("button",{onClick:t,className:`p-2 rounded-full ${e?"hover:bg-slate-800 text-slate-300":"hover:bg-slate-100 text-slate-600"}`,children:""})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:`flex items-center gap-2 font-semibold mb-2 ${e?"text-slate-200":"text-slate-800"}`,children:"Tema por defecto"}),b.jsxs("button",{type:"button",onClick:()=>r(!n),className:`w-full px-4 py-2 rounded-lg border flex items-center justify-between text-sm font-medium ${n?"bg-indigo-50 border-indigo-300 dark:bg-indigo-900/20 dark:border-indigo-700 text-indigo-800 dark:text-indigo-200":"bg-slate-50 border-slate-300 dark:bg-slate-800 dark:border-slate-700 text-slate-700 dark:text-slate-300"}`,children:[n?"Oscuro":"Claro",b.jsx("span",{className:`w-5 h-5 rounded-full ${n?"bg-indigo-500":"bg-slate-400 dark:bg-slate-600"}`})]}),b.jsx("p",{className:`text-xs mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:"Se aplicar al primer uso y usuarios nuevos."})]}),b.jsxs("div",{children:[b.jsx("label",{className:`flex items-center gap-2 font-semibold mb-2 ${e?"text-slate-200":"text-slate-800"}`,children:"Idioma por defecto"}),b.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:`w-full px-4 py-2 rounded-lg border ${e?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"}`,children:[b.jsx("option",{value:"es",children:"Espaol"}),b.jsx("option",{value:"en",children:"English"}),b.jsx("option",{value:"pt",children:"Portugus"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:`flex items-center gap-2 font-semibold mb-2 ${e?"text-slate-200":"text-slate-800"}`,children:"Formato de moneda"}),b.jsxs("select",{value:s,onChange:v=>c(v.target.value),className:`w-full px-4 py-2 rounded-lg border ${e?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"}`,children:[b.jsx("option",{value:"ARS",children:"ARS (Peso Argentino)"}),b.jsx("option",{value:"USD",children:"USD (Dlar)"}),b.jsx("option",{value:"BRL",children:"BRL (Real)"})]}),b.jsx("p",{className:`text-xs mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:"Determinar el smbolo y separacin de miles/decimales."})]}),b.jsxs("div",{children:[b.jsx("label",{className:`flex items-center gap-2 font-semibold mb-2 ${e?"text-slate-200":"text-slate-800"}`,children:"Backup automtico (minutos)"}),b.jsx("input",{type:"number",min:0,placeholder:"0 (desactivado)",value:h,onChange:v=>f(Number(v.target.value)),className:`w-full px-4 py-2 rounded-lg border ${e?"border-slate-700 bg-slate-800 text-slate-100":"border-slate-200 bg-slate-50 text-slate-900"}`}),b.jsx("p",{className:`text-xs mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:"Define cada cunto realizar un backup local automtico."})]}),b.jsx("button",{onClick:p,className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition-all active:scale-95",children:"Guardar Configuracin"})]})]})})},rge=()=>{const[e,t]=j.useState(null),[n,r]=j.useState(Cn.DASHBOARD),[i,a]=j.useState(!1),[s,c]=j.useState(!1),[h,f]=j.useState(()=>typeof window>"u"?!1:window.matchMedia("(min-width: 1024px)").matches),[p,v]=j.useState([]),[E,A]=j.useState([]),[k,I]=j.useState([]),[R,L]=j.useState([]),[q,U]=j.useState([]),[H,W]=j.useState([]),[Q,G]=j.useState([]),[ee,Y]=j.useState([]),me=j.useRef(null),[X,J]=j.useState(!1),[ie,se]=j.useState(null),[ae,he]=j.useState(""),[Ae,Te]=j.useState(!1),[Me,Qe]=j.useState(null),[ye,V]=j.useState(!1),[le,ce]=j.useState(null),[pe,xe]=j.useState(!1),[ke,Fe]=j.useState(!1),[Ie,He]=j.useState(!1),[nt,Ve]=j.useState(!1),[gt,St]=j.useState(!1),[be,At]=j.useState(!1);j.useEffect(()=>{var hr,pr,Hn,Nr;const at=(pr=(hr=import.meta)==null?void 0:hr.env)==null?void 0:pr.VITE_ANALYTICS_ENDPOINT,Ct=(Nr=(Hn=import.meta)==null?void 0:Hn.env)==null?void 0:Nr.VITE_ANALYTICS_API_KEY;fj({enabled:!!at&&!!Ct,endpoint:at,apiKey:Ct}),Gs("app_opened"),v(bM()),A(NM()),I(x5()),L(AM()),U(EM()),W(SM()),G(CM()),Y(y5()),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&c(!0);const Nt=window.matchMedia("(min-width: 1024px)"),Vt=nn=>{f(nn.matches)};return f(Nt.matches),Nt.addEventListener("change",Vt),()=>Nt.removeEventListener("change",Vt)},[]),j.useEffect(()=>{h&&a(!0)},[h]),j.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),j.useEffect(()=>{e&&Gs("feature_accessed",{view:n})},[n,e]),j.useEffect(()=>{me.current&&me.current.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},[n]),j.useEffect(()=>{be||jt()},[n,be]);const Dt=at=>{v(at),wM(at)},Tt=at=>{const Ct=p.find(Vt=>Vt.id===at.id);let Nt=[];if(Ct){if(Nt=p.map(Vt=>Vt.id===at.id?at:Vt),Ct.stock!==at.stock){const Vt=at.stock-Ct.stock;Zt(at.id,at.name,wc.ADJUSTMENT,Vt,"Ajuste manual en edicin")}try{const Vt=at.stock-Ct.stock;Gs("inventory_updated",{productId:at.id,name:at.name,stockDiff:Vt,priceChanged:Ct.price!==at.price,costChanged:Ct.cost!==at.cost})}catch{}}else Nt=[...p,at],Zt(at.id,at.name,wc.IN,at.stock,"Inventario Inicial");Dt(Nt),J(!1),se(null),he("")},rt=at=>{if(window.confirm("Eliminar producto?")){const Ct=p.filter(Nt=>Nt.id!==at);Dt(Ct)}},Zt=(at,Ct,Nt,Vt,hr)=>{const pr={id:crypto.randomUUID(),productId:at,productName:Ct,type:Nt,quantity:Vt,date:Date.now(),reason:hr,userId:e==null?void 0:e.id,userName:e==null?void 0:e.name},Hn=[...ee,pr];Y(Hn),Mb(Hn)},st=(at,Ct)=>{var hr;const Nt=[...k,at];I(Nt),Ob(Nt);try{Gs("sale_completed",{total:at.total,items:((hr=at.items)==null?void 0:hr.reduce((pr,Hn)=>pr+Hn.quantity,0))||0,paymentMethod:at.paymentMethod,hasCustomer:!!at.customerId,fiscalType:at.fiscalType})}catch{}let Vt=[...p];at.items.forEach(pr=>{const Hn=Vt.findIndex(Nr=>Nr.id===pr.productId);if(Hn>-1){const Nr=Vt[Hn];Vt[Hn]={...Nr,stock:Nr.stock-pr.quantity},Zt(Nr.id,Nr.name,wc.OUT,-pr.quantity,`Venta #${at.id.slice(0,4)}`)}}),Dt(Vt),Ct&&dn(Ct),r(Cn.SALES)},rn=at=>{const Ct=R.find(Vt=>Vt.id===at.id);let Nt=[];Ct?Nt=R.map(Vt=>Vt.id===at.id?at:Vt):Nt=[...R,at],L(Nt),kb(Nt),Te(!1),Qe(null)},an=at=>{if(window.confirm("Eliminar proveedor?")){const Ct=R.filter(Nt=>Nt.id!==at);L(Ct),kb(Ct)}},dn=at=>{const Ct=q.find(Vt=>Vt.id===at.id);let Nt=[];Ct?Nt=q.map(Vt=>Vt.id===at.id?at:Vt):Nt=[...q,at],U(Nt),Pb(Nt),V(!1),ce(null)},Dn=at=>{if(window.confirm("Eliminar cliente?")){const Ct=q.filter(Nt=>Nt.id!==at);U(Ct),Pb(Ct)}},sn=at=>{const Ct=[...H,at];W(Ct),Rb(Ct),xe(!1)},Fn=at=>{if(window.confirm("Eliminar gasto?")){const Ct=H.filter(Nt=>Nt.id!==at);W(Ct),Rb(Ct)}},Sn=at=>{const Ct=[...Q,at];G(Ct),Db(Ct)},Rt=at=>{if(window.confirm("Eliminar promocin?")){const Ct=Q.filter(Nt=>Nt.id!==at);G(Ct),Db(Ct)}},Tn=at=>{Dt(at)},Kt=()=>{Dt([]),I([]),Ob([]),Y([]),Mb([])},Jr=at=>{const Ct=[...E,at];A(Ct),vg(Ct)},tn=at=>{const Ct=E.map(Nt=>Nt.id===at.id?at:Nt);A(Ct),vg(Ct),(e==null?void 0:e.id)===at.id&&t(at)},ot=at=>{if(window.confirm("Eliminar usuario?")){const Ct=E.filter(Nt=>Nt.id!==at);A(Ct),vg(Ct)}},jt=()=>{J(!1),se(null),Te(!1),Qe(null),V(!1),ce(null),xe(!1),Fe(!1),He(!1),Ve(!1),St(!1),At(!1)},Ft=()=>{jt(),Fe(!0)},kt=()=>{jt(),St(!0)},ir=()=>{jt(),Ve(!0)},hn=()=>{h||a(!1)};if(!e)return b.jsx(VF,{users:E,onLogin:t,isDark:s,onToggleDarkMode:()=>c(!s)});const wn=()=>{switch(n){case Cn.DASHBOARD:return b.jsx(XT,{products:p,isDark:s,onToggleTheme:()=>c(!s),onOpenDataManagement:Ft,onNavigate:r,onShowTour:()=>At(!0),onHideTour:()=>At(!1)});case Cn.INVENTORY:return b.jsx(coe,{products:p,onEdit:at=>{se(at),J(!0)},onDelete:rt,onAdd:at=>{se(null),he(at||""),J(!0)},isDark:s,onToggleTheme:()=>c(!s)});case Cn.SALES:return b.jsx(ype,{sales:k,onNewSale:()=>r(Cn.POS),isDark:s,onToggleTheme:()=>c(!s)});case Cn.POS:return b.jsx(N0e,{products:p,customers:q,promotions:Q,onCompleteSale:st,onCancel:()=>r(Cn.SALES),isDark:s});case Cn.CUSTOMERS:return b.jsx(Spe,{customers:q,sales:k,onAdd:()=>{ce(null),V(!0)},onEdit:at=>{ce(at),V(!0)},onDelete:Dn,isDark:s,onToggleTheme:()=>c(!s)});case Cn.SUPPLIERS:return b.jsx(wpe,{suppliers:R,onAdd:()=>{Qe(null),Te(!0)},onEdit:at=>{Qe(at),Te(!0)},onDelete:an,isDark:s,onToggleTheme:()=>c(!s)});case Cn.FINANCE:return b.jsx(bpe,{products:p,sales:k,expenses:H,onAddExpense:()=>xe(!0),onDeleteExpense:Fn,isDark:s,onToggleTheme:()=>c(!s),onUpdatePrices:Dt});case Cn.ANALYSIS:return b.jsx(Ope,{products:p,isDark:s,onToggleTheme:()=>c(!s),currentUser:e,onOpenSettings:()=>He(!0)});case Cn.HISTORY:return b.jsx(xpe,{movements:ee,isDark:s,onToggleTheme:()=>c(!s)});case Cn.PROMOTIONS:return b.jsx(Cpe,{promotions:Q,products:p,onAddPromotion:Sn,onDeletePromotion:Rt,isDark:s,onToggleTheme:()=>c(!s)});case Cn.SECURITY:return b.jsx(Rpe,{user:e,isDark:s,onToggleTheme:()=>c(!s)});case Cn.TEAM:return b.jsx(Ppe,{users:E,onAddUser:Jr,onUpdateUser:tn,onDeleteUser:ot,currentUser:e,isDark:s,onToggleTheme:()=>c(!s)});case Cn.PROFILE:return b.jsx(Lpe,{user:e,onUpdateUser:tn,isDark:s});default:return b.jsx(XT,{products:p,isDark:s,onToggleTheme:()=>c(!s),onOpenDataManagement:Ft,onNavigate:r})}};return b.jsxs("div",{className:"flex min-h-screen w-full bg-slate-50 dark:bg-slate-950 transition-colors duration-300 overflow-x-hidden",children:[b.jsx(Gpe,{isOpen:i,onClose:hn,onNavigate:r,currentView:n,currentUser:e,onLogout:()=>t(null),onOpenDataManagement:Ft,onOpenSystemConfig:kt,onOpenAnalyticsDashboard:ir,isDark:s,isDesktop:h}),b.jsxs("div",{className:"flex-1 flex flex-col h-full w-full relative",children:[n!==Cn.POS&&b.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[b.jsx("button",{onClick:()=>a(!0),className:"p-2 -ml-2 text-slate-600 dark:text-slate-300",children:b.jsx(VB,{size:24})}),b.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Inventariando"}),b.jsx("div",{className:"w-8"})," "]}),b.jsx("main",{ref:me,className:`flex-1 overflow-y-auto relative ${!i&&h?"pt-12":""}`,children:b.jsx("div",{className:"w-full flex justify-center items-start",children:b.jsx("div",{className:"w-full max-w-screen-2xl px-6 lg:px-12 py-6",children:wn()})})}),n!==Cn.POS&&b.jsxs("div",{className:"lg:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 flex justify-around items-center h-16 pb-safe z-30",children:[b.jsxs("button",{onClick:()=>r(Cn.DASHBOARD),className:`flex-1 flex flex-col items-center justify-center h-full space-y-1 ${n===Cn.DASHBOARD?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx("div",{className:`p-1.5 rounded-xl ${n===Cn.DASHBOARD?"bg-blue-100 dark:bg-blue-900/40":""}`,children:b.jsx(OM,{size:22,strokeWidth:n===Cn.DASHBOARD?2.5:2})}),b.jsx("span",{className:"text-[10px] font-medium",children:"Inicio"})]}),b.jsxs("button",{onClick:()=>r(Cn.INVENTORY),className:`flex-1 flex flex-col items-center justify-center h-full space-y-1 ${n===Cn.INVENTORY?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx("div",{className:`p-1.5 rounded-xl ${n===Cn.INVENTORY?"bg-blue-100 dark:bg-blue-900/40":""}`,children:b.jsx(LM,{size:22,strokeWidth:n===Cn.INVENTORY?2.5:2})}),b.jsx("span",{className:"text-[10px] font-medium",children:"Stock"})]}),b.jsxs("button",{onClick:()=>r(Cn.SALES),className:`flex-1 flex flex-col items-center justify-center h-full space-y-1 ${n===Cn.SALES?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx("div",{className:`p-1.5 rounded-xl ${n===Cn.SALES?"bg-blue-100 dark:bg-blue-900/40":""}`,children:b.jsx(Dg,{size:22,strokeWidth:n===Cn.SALES?2.5:2})}),b.jsx("span",{className:"text-[10px] font-medium",children:"Ventas"})]}),b.jsxs("button",{onClick:()=>r(Cn.CUSTOMERS),className:`flex-1 flex flex-col items-center justify-center h-full space-y-1 ${n===Cn.CUSTOMERS?"text-blue-600 dark:text-blue-400":"text-slate-400 dark:text-slate-500"}`,children:[b.jsx("div",{className:`p-1.5 rounded-xl ${n===Cn.CUSTOMERS?"bg-blue-100 dark:bg-blue-900/40":""}`,children:b.jsx(Jm,{size:22,strokeWidth:n===Cn.CUSTOMERS?2.5:2})}),b.jsx("span",{className:"text-[10px] font-medium",children:"Clientes"})]})]})]}),X&&b.jsx(C0e,{initialProduct:ie,onSave:Tt,onCancel:()=>J(!1),suppliers:R,initialBarcode:ae}),Ae&&b.jsx(Ape,{initialSupplier:Me,onSave:rn,onCancel:()=>Te(!1)}),ye&&b.jsx(Epe,{initialCustomer:le,onSave:dn,onCancel:()=>V(!1)}),pe&&b.jsx(Ype,{onSave:sn,onCancel:()=>xe(!1)}),ke&&b.jsx(jpe,{products:p,currentUser:e,onImport:Tn,onClearData:Kt,onClose:()=>Fe(!1)}),be&&b.jsx(Npe,{open:be,onClose:()=>At(!1),onNavigate:r}),Ie&&e&&b.jsx(ege,{user:e,isDark:s,onClose:()=>He(!1)}),gt&&b.jsx(nge,{isDark:s,onClose:()=>St(!1)}),nt&&b.jsx(tge,{isDark:s,onToggleTheme:()=>c(!s),onClose:()=>Ve(!1)}),b.jsx($pe,{currentView:n})]})},VL=document.getElementById("root");if(!VL)throw new Error("Could not find root element to mount to");const ige=uj.createRoot(VL);ige.render(b.jsxs(m5.StrictMode,{children:[console.log("App mounting..."),b.jsx(rge,{})]}));export{qr as _,jp as c,Jl as g};
